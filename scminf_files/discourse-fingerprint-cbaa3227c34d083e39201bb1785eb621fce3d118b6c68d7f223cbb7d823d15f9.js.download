define("discourse/plugins/discourse-fingerprint/discourse/components/fingerprint-flagged",["exports","@ember/component"],(function(e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n.default.extend({});e.default=t})),define("discourse/plugins/discourse-fingerprint/discourse/components/fingerprint-latest-matches",["exports","@ember/component"],(function(e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n.default.extend({hideCommon:!0});e.default=t})),define("discourse/plugins/discourse-fingerprint/discourse/components/fingerprint-user-report",["exports","@ember/component","discourse-common/utils/decorators"],(function(e,n,t){"use strict";var r,s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a,l,u,o,f,c=n.default.extend((r=(0,t.default)("users"),i=s={usersArray:function(e){return Object.values(e)}},a="usersArray",l=[r],u=Object.getOwnPropertyDescriptor(s,"usersArray"),o=s,f={},Object.keys(u).forEach((function(e){f[e]=u[e]})),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=l.slice().reverse().reduce((function(e,n){return n(i,a,e)||e}),f),o&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(o):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(i,a,f),f=null),s));e.default=c})),define("discourse/plugins/discourse-fingerprint/discourse/controllers/fingerprint-report",["exports","@ember/controller","@ember/object","discourse-common/lib/helpers","discourse-common/utils/decorators","discourse/lib/ajax","discourse/lib/show-modal"],(function(e,n,t,r,s,i,a){"use strict";var l,u;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,s=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){s=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(s)throw i}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(0,r.registerHelper)("and",(function(e){var n=f(e,2),t=n[0],r=n[1];return t&&r})),(0,r.registerHelper)("not",(function(e){return!f(e,1)[0]}));var d,p,m,g,h,v,b=n.default.extend((l=(0,s.default)("user","username"),d=u={queryParams:["username"],username:null,user:null,matches:[],fingerprints:[],showReport:function(e,n){return e&&n},init:function(){this._super.apply(this,arguments),this.update()},update:function(e){var n=this;return this.setProperties({fingerprints:[]}),e?(0,i.ajax)("/admin/plugins/fingerprint/user_report",{type:"GET",data:{username:e}}).then((function(e){var r=new Set(e.ignored_ids),s={};Object.values(e.users).forEach((function(e){e.ignored=r.has(e.id),s[e.id]=t.default.create(e)}));var i=e.fingerprints.map((function(e){return e.user_ids=e.user_ids||[],e.users=e.user_ids.map((function(e){return s[e]})),t.default.create(e)}));n.setProperties({user:e.user,users:s,fingerprints:i})})):(0,i.ajax)("/admin/plugins/fingerprint").then((function(e){var r={};Object.values(e.users).forEach((function(e){r[e.id]=t.default.create(e)}));var s=e.fingerprints.map((function(e){return e.user_ids=e.user_ids||[],e.users=e.user_ids.map((function(e){return r[e]})),t.default.create(e)}));n.setProperties({fingerprints:s,flagged:e.flagged.map((function(e){return t.default.create(e)}))})}))},actions:{updateUsername:function(e){this.set("username",e.firstObject),this.update(e.firstObject)},viewReportForUser:function(e){return this.set("username",e.username),this.update(e.username)},showFingerprintData:function(e){var n={};Object.keys(e).forEach((function(t){n[t]=null!==e[t]&&"object"===o(e[t])?JSON.stringify(e[t]):e[t]})),(0,a.default)("fingerprint-details").setProperties({data:n})},flag:function(e,n,t){return(0,i.ajax)("/admin/plugins/fingerprint/flag",{type:"PUT",data:{type:e,value:n.value,remove:t}}).then((function(){"hide"===e?n.set("hidden",!t):"silence"===e&&n.set("silenced",!t)}))},ignore:function(e,n){return(0,i.ajax)("/admin/plugins/fingerprint/ignore",{type:"POST",data:{username:this.username,other_username:e.username,remove:n}}).then((function(){e.set("ignored",!n)}))}}},p="showReport",m=[l],g=Object.getOwnPropertyDescriptor(u,"showReport"),h=u,v={},Object.keys(g).forEach((function(e){v[e]=g[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,n){return n(d,p,e)||e}),v),h&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(h):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,p,v),v=null),u));e.default=b})),define("discourse/plugins/discourse-fingerprint/discourse/fingerprint-route-map",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={resource:"admin.adminPlugins",path:"/plugins",map:function(){this.route("fingerprint")}}})),define("discourse/plugins/discourse-fingerprint/discourse/routes/admin-plugins-fingerprint",["exports","@ember/routing/route"],(function(e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n.default.extend({controllerName:"fingerprintReport",renderTemplate:function(){this.render("fingerprintReport")},setupController:function(e){e.update(e.username)}});e.default=t})),Ember.TEMPLATES["javascripts/components/fingerprint-flagged"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["fingerprint"],"statements":[[7,"div",true],[10,"class","section"],[8],[0,"\\n  "],[7,"div",true],[10,"class","section-title"],[8],[0,"\\n    "],[7,"h2",true],[8],[1,[28,"i18n",["fingerprint.flagged"],null],false],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","section-body"],[8],[0,"\\n    "],[1,[28,"html-safe",[[28,"i18n",["fingerprint.flagged_instructions"],null]],null],false],[0,"\\n\\n"],[4,"if",[[24,["flagged","length"]]],null,{"statements":[[0,"      "],[7,"table",true],[8],[0,"\\n        "],[7,"thead",true],[8],[0,"\\n          "],[7,"tr",true],[8],[0,"\\n            "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.hash"],null],false],[9],[0,"\\n            "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.matches"],null],false],[9],[0,"\\n            "],[7,"th",true],[8],[9],[0,"\\n            "],[7,"th",true],[8],[9],[0,"\\n            "],[7,"th",true],[8],[9],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n        "],[7,"tbody",true],[8],[0,"\\n"],[4,"each",[[24,["flagged"]]],null,{"statements":[[0,"            "],[7,"tr",true],[8],[0,"\\n              "],[7,"td",true],[8],[0,"\\n                "],[7,"small",true],[8],[0,"\\n                  "],[1,[23,1,["name"]],false],[0,"\\n"],[4,"if",[[23,1,["is_common"]]],null,{"statements":[[0,"                    "],[7,"span",true],[11,"data-tooltip",[28,"i18n",["fingerprint.common_device"],null]],[8],[1,[28,"d-icon",["layer-group"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"                "],[9],[0,"\\n                "],[7,"br",true],[8],[9],[0,"\\n                "],[1,[23,1,["value"]],false],[0,"\\n              "],[9],[0,"\\n              "],[7,"td",true],[8],[1,[23,1,["count"]],false],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["hidden"]]],null,{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["far-eye"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.unhide"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]]]],[8],[1,[28,"d-icon",["far-eye-slash"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.hide"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"              "],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["silenced"]]],null,{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["microphone"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.unsilence"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[12,"class","silence"],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]]]],[8],[1,[28,"d-icon",["microphone-slash"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.silence"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"              "],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["data"]]],null,{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],[24,["showFingerprintData"]],[23,1,["data"]]]],[8],[1,[28,"d-icon",["info"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.details"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"              "],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[1]},null],[0,"        "],[9],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"i18n",["fingerprint.flagged_not_found"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/fingerprint-flagged"}}),Ember.TEMPLATES["javascripts/components/fingerprint-latest-matches"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["fingerprint","u"],"statements":[[7,"div",true],[10,"class","section"],[8],[0,"\\n  "],[7,"div",true],[10,"class","section-title"],[8],[0,"\\n    "],[7,"h2",true],[8],[1,[28,"i18n",["fingerprint.latest_matches"],null],false],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","section-body"],[8],[0,"\\n    "],[1,[28,"html-safe",[[28,"i18n",["fingerprint.latest_matches_instructions"],[["algorithm"],["<a href=\'https://github.com/Valve/fingerprintjs2\'>Fingeprintjs2</a>"]]]],null],false],[0,"\\n\\n"],[4,"if",[[24,["fingerprints","length"]]],null,{"statements":[[0,"      "],[7,"table",true],[8],[0,"\\n        "],[7,"thead",true],[8],[0,"\\n          "],[7,"tr",true],[8],[0,"\\n            "],[7,"th",true],[8],[9],[0,"\\n            "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.hash"],null],false],[9],[0,"\\n            "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.matches"],null],false],[9],[0,"\\n            "],[7,"th",true],[10,"colspan","3"],[8],[0,"\\n              "],[1,[28,"input",null,[["type","id","checked"],["checkbox","hide-common",[24,["hideCommon"]]]]],false],[0,"\\n              "],[7,"label",true],[10,"for","hide-common"],[8],[1,[28,"i18n",["fingerprint.hide_common"],null],false],[9],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n        "],[7,"tbody",true],[8],[0,"\\n"],[4,"each",[[24,["fingerprints"]]],null,{"statements":[[4,"if",[[28,"not",[[28,"and",[[24,["hideCommon"]],[23,1,["is_common"]]],null]],null]],null,{"statements":[[0,"              "],[7,"tr",true],[8],[0,"\\n                "],[7,"td",true],[8],[1,[28,"d-icon",[[23,1,["device_type"]]],null],false],[9],[0,"\\n                "],[7,"td",true],[8],[0,"\\n                  "],[7,"small",true],[8],[0,"\\n                    "],[1,[23,1,["name"]],false],[0,"\\n"],[4,"if",[[23,1,["is_common"]]],null,{"statements":[[0,"                      "],[7,"span",true],[11,"data-tooltip",[28,"i18n",["fingerprint.common_device"],null]],[8],[1,[28,"d-icon",["layer-group"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"                  "],[9],[0,"\\n                  "],[7,"br",true],[8],[9],[0,"\\n                  "],[1,[23,1,["value"]],false],[0,"\\n                "],[9],[0,"\\n                "],[7,"td",true],[8],[0,"\\n                  "],[7,"small",true],[8],[1,[23,1,["user_ids","length"]],false],[9],[0,"\\n"],[4,"each",[[23,1,["users"]]],null,{"statements":[[4,"user-link",null,[["user"],[[23,2,[]]]],{"statements":[[0,"                      "],[1,[28,"avatar",[[23,2,[]]],[["imageSize"],["small"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]},null],[0,"                "],[9],[0,"\\n                "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["hidden"]]],null,{"statements":[[0,"                    "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["far-eye"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.unhide"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                    "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]]]],[8],[1,[28,"d-icon",["far-eye-slash"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.hide"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"                "],[9],[0,"\\n                "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["silenced"]]],null,{"statements":[[0,"                    "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["microphone"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.unsilence"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                    "],[7,"a",false],[12,"href",""],[12,"class","silence"],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]]]],[8],[1,[28,"d-icon",["microphone-slash"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.silence"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"                "],[9],[0,"\\n                "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["data"]]],null,{"statements":[[0,"                    "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],[24,["showFingerprintData"]],[23,1,["data"]]]],[8],[1,[28,"d-icon",["info"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.details"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"                "],[9],[0,"\\n              "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null],[0,"        "],[9],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"i18n",["fingerprint.matches_not_found"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/fingerprint-latest-matches"}}),Ember.TEMPLATES["javascripts/components/fingerprint-user-report"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["fingerprint","u","user"],"statements":[[7,"div",true],[10,"class","section"],[8],[0,"\\n  "],[7,"div",true],[10,"class","section-title"],[8],[0,"\\n    "],[7,"h2",true],[8],[0,"\\n      "],[1,[28,"i18n",["fingerprint.matches_for"],null],false],[0,"\\n"],[4,"user-link",null,[["user"],[[24,["user"]]]],{"statements":[[0,"        "],[1,[28,"avatar",[[24,["user"]]],[["imageSize"],["medium"]]],false],[0,"\\n        "],[1,[24,["user","username"]],false],[0,"\\n"]],"parameters":[]},null],[0,"    "],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","section-body"],[8],[0,"\\n"],[4,"if",[[24,["usersArray","length"]]],null,{"statements":[[0,"      "],[7,"p",true],[8],[1,[28,"i18n",["fingerprint.matches_found"],[["count"],[[24,["usersArray","length"]]]]],false],[9],[0,"\\n\\n      "],[7,"table",true],[8],[0,"\\n        "],[7,"thead",true],[8],[0,"\\n          "],[7,"tr",true],[8],[0,"\\n            "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.matching_user"],null],false],[9],[0,"\\n            "],[7,"th",true],[8],[9],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n        "],[7,"tbody",true],[8],[0,"\\n"],[4,"each",[[24,["usersArray"]]],null,{"statements":[[0,"            "],[7,"tr",true],[8],[0,"\\n              "],[7,"td",true],[8],[0,"\\n"],[4,"user-link",null,[["user"],[[23,3,[]]]],{"statements":[[0,"                  "],[1,[28,"avatar",[[23,3,[]]],[["imageSize"],["small"]]],false],[0,"\\n                  "],[1,[23,3,["username"]],false],[0,"\\n"]],"parameters":[]},null],[0,"              "],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,3,["ignored"]]],null,{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],[24,["ignore"]],[23,3,[]],"yes"]],[8],[1,[28,"d-icon",["user"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.unignore"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],[24,["ignore"]],[23,3,[]]]],[8],[1,[28,"d-icon",["user-slash"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.ignore"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"              "],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[3]},null],[0,"        "],[9],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"i18n",["fingerprint.matches_not_found"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[9],[0,"\\n"],[9],[0,"\\n\\n"],[7,"div",true],[10,"class","section"],[8],[0,"\\n  "],[7,"div",true],[10,"class","section-title"],[8],[0,"\\n    "],[7,"h2",true],[8],[1,[28,"i18n",["fingerprint.details"],null],false],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","section-body"],[8],[0,"\\n"],[4,"if",[[24,["fingerprints","length"]]],null,{"statements":[[0,"      "],[7,"table",true],[8],[0,"\\n        "],[7,"thead",true],[8],[0,"\\n          "],[7,"tr",true],[8],[0,"\\n            "],[7,"th",true],[8],[9],[0,"\\n            "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.hash"],null],false],[9],[0,"\\n            "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.first_seen"],null],false],[9],[0,"\\n            "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.last_seen"],null],false],[9],[0,"\\n            "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.matches"],null],false],[9],[0,"\\n            "],[7,"th",true],[8],[9],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n        "],[7,"tbody",true],[8],[0,"\\n"],[4,"each",[[24,["fingerprints"]]],null,{"statements":[[0,"            "],[7,"tr",true],[8],[0,"\\n              "],[7,"td",true],[8],[1,[28,"d-icon",[[23,1,["device_type"]]],null],false],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n                "],[7,"small",true],[8],[0,"\\n                  "],[1,[23,1,["name"]],false],[0,"\\n"],[4,"if",[[23,1,["is_common"]]],null,{"statements":[[0,"                    "],[7,"span",true],[11,"data-tooltip",[28,"i18n",["fingerprint.common_device"],null]],[8],[1,[28,"d-icon",["layer-group"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"                "],[9],[0,"\\n                "],[7,"br",true],[8],[9],[0,"\\n                "],[1,[23,1,["value"]],false],[0,"\\n              "],[9],[0,"\\n              "],[7,"td",true],[8],[1,[28,"format-date",[[23,1,["created_at"]]],null],false],[9],[0,"\\n              "],[7,"td",true],[8],[1,[28,"format-date",[[23,1,["updated_at"]]],null],false],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n                "],[7,"p",true],[8],[0,"\\n"],[4,"each",[[23,1,["users"]]],null,{"statements":[[4,"unless",[[23,2,["ignored"]]],null,{"statements":[[4,"user-link",null,[["user"],[[23,2,[]]]],{"statements":[[0,"                        "],[1,[28,"avatar",[[23,2,[]]],[["imageSize"],["small"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[2]},null],[0,"                "],[9],[0,"\\n              "],[9],[0,"\\n              "],[7,"td",true],[10,"class","details-col"],[8],[0,"\\n"],[4,"if",[[23,1,["hidden"]]],null,{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[12,"title",[28,"i18n",["js.fingerprint.unhide"],null]],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["far-eye"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[12,"title",[28,"i18n",["js.fingerprint.hide"],null]],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]]]],[8],[1,[28,"d-icon",["eye-slash"],null],false],[9],[0,"\\n"]],"parameters":[]}],[4,"if",[[23,1,["silenced"]]],null,{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[12,"title",[28,"i18n",["js.fingerprint.unsilence"],null]],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["microphone"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[12,"class","silence"],[12,"title",[28,"i18n",["js.fingerprint.silence"],null]],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]]]],[8],[1,[28,"d-icon",["microphone-slash"],null],false],[9],[0,"\\n"]],"parameters":[]}],[4,"if",[[23,1,["data"]]],null,{"statements":[[0,"                  "],[7,"a",false],[12,"href",""],[12,"title",[28,"i18n",["js.fingerprint.details"],null]],[3,"action",[[23,0,[]],[24,["showFingerprintData"]],[23,1,["data"]]]],[8],[1,[28,"d-icon",["info"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"              "],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[1]},null],[0,"        "],[9],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"i18n",["fingerprint.none"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/fingerprint-user-report"}}),Ember.TEMPLATES["javascripts/fingerprint-report"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","dashboard-next dashboard-fingerprint"],[8],[0,"\\n  "],[7,"div",true],[10,"class","section"],[8],[0,"\\n    "],[7,"div",true],[10,"class","section"],[8],[0,"\\n      "],[7,"div",true],[10,"class","section-title"],[8],[0,"\\n        "],[7,"h2",true],[8],[1,[28,"i18n",["fingerprint.title"],null],false],[9],[0,"\\n      "],[9],[0,"\\n\\n      "],[7,"div",true],[10,"class","section-body"],[8],[0,"\\n        "],[1,[28,"email-group-user-chooser",null,[["value","onChange","options"],[[24,["username"]],[28,"action",[[23,0,[]],"updateUsername"],null],[28,"hash",null,[["maximum","filterPlaceholder"],[1,"user.username.title"]]]]]],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n\\n"],[4,"if",[[24,["showReport"]]],null,{"statements":[[0,"    "],[1,[28,"fingerprint-user-report",null,[["user","users","fingerprints","ignore","flag","showFingerprintData"],[[24,["user"]],[24,["users"]],[24,["fingerprints"]],[28,"action",[[23,0,[]],"ignore"],null],[28,"action",[[23,0,[]],"flag"],null],[28,"action",[[23,0,[]],"showFingerprintData"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[28,"fingerprint-latest-matches",null,[["fingerprints","viewReportForUser","flag","showFingerprintData"],[[24,["fingerprints"]],[28,"action",[[23,0,[]],"viewReportForUser"],null],[28,"action",[[23,0,[]],"flag"],null],[28,"action",[[23,0,[]],"showFingerprintData"],null]]]],false],[0,"\\n\\n    "],[1,[28,"fingerprint-flagged",null,[["flagged","flag","showFingerprintData"],[[24,["flagged"]],[28,"action",[[23,0,[]],"flag"],null],[28,"action",[[23,0,[]],"showFingerprintData"],null]]]],false],[0,"\\n"]],"parameters":[]}],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/fingerprint-report"}}),Ember.TEMPLATES["javascripts/modal/fingerprint-details"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["value","key"],"statements":[[4,"d-modal-body",null,[["title"],["fingerprint.details"]],{"statements":[[0,"  "],[7,"table",true],[10,"class","fingerprint"],[8],[0,"\\n    "],[7,"tbody",true],[8],[0,"\\n"],[4,"each",[[28,"-each-in",[[24,["data"]]],null]],null,{"statements":[[0,"        "],[7,"tr",true],[8],[0,"\\n          "],[7,"td",true],[10,"class","key"],[8],[1,[23,2,[]],false],[9],[0,"\\n          "],[7,"td",true],[10,"class","value"],[8],[1,[23,1,[]],false],[9],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[1,2]},null],[0,"    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"div",true],[10,"class","modal-footer"],[8],[0,"\\n  "],[1,[28,"d-modal-cancel",null,[["close"],[[28,"action",[[23,0,[]],"closeModal"],null]]]],false],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/modal/fingerprint-details"}}),define("discourse/plugins/discourse-fingerprint/initializers/fingerprint",["exports","discourse/lib/ajax","discourse/lib/load-script"],(function(e,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"fingerprint",initialize:function(e){var r=e.lookup("site-settings:main"),s=e.lookup("current-user:main");r.fingerprint_enabled&&s&&Ember.run.later((function(){(0,t.default)("/plugins/discourse-fingerprint/javascripts/fp.js").then((function(){FingerprintJS.load().then((function(e){return e.get()})).then((function(e){var t={};Object.keys(e.components).forEach((function(n){return t[n]=e.components[n].value})),(0,n.ajax)("/fingerprint",{type:"POST",data:{visitor_id:e.visitorId,version:e.version,data:JSON.stringify(t)}})}))}))}),3e3)}};e.default=r}));