var rainbowcolors=['yellow','green','red','aqua','blue'],rainbowcolorcount=pwns=preloaded=vtracks=readmore=commquote=tweets_array=rankinc=[],startMore,_action,_addcss,_adhtml,friends_online_timer,dataid=datacount=0,autocache={};var czcms={config:{sitename:'Thetechgame',siteurl:window.location.protocol+'//www.thetechgame.com',alertlogo:'https://www.thetechgame.com/images/alert-logo.png',ajax:true,ajaxbase:'/index.php',mod:'',cal_format:'yy-mm-dd',minpass:'5',maxpass:'20',noframes:0,notifyTitle:0}},rand=function(n){return Math.floor(Math.random()*n);},Cookies={set:function(name,value,expiration,path,domain,secure){var expire=0;if(expiration&&isNaN(expiration)===false){var expires=new Date();expires.setTime(expires.getTime()+(expiration*24*60*60*1000));expire=expires.toGMTString();}
document.cookie=name+"="+encodeURIComponent(value)+
((expire)?"; expires="+expire:"")+
((path)?"; path="+path:"")+
((domain)?"; domain="+domain:"")+
((location.protocol==='https:')?"; secure":"")+"; SameSite=Lax";},get:function(name){match=document.cookie.match(new RegExp(name+'=([^;]+)'));return match?decodeURIComponent(match[1]):null;},remove:function(name,path,domain){if(this.get(name)){document.cookie=name+"="+((path)?"; path="+path:"")+((domain)?"; domain="+domain:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT";}}},Crackers={support:function(){try{return 'localStorage'in window&&window['localStorage']!==null;}catch(e){return false;}},get:function(n){if(this.support()){return localStorage.getItem(n);}else{return Cookies.get(n);}},set:function(n,v,e){var expires=e||jstime()+(86400*365);if(this.support()){localStorage.setItem(n,v);}else{Cookies.set(n,v,e,'/');}},remove:function(n){if(this.support()){localStorage.removeItem(n);}else{Cookies.remove(n);}}},feedback={show:function(options){var defaults={content:'',type:'info-green',delay:3};var opts=$.extend(defaults,options);$('<div id="header_notice_message" data-message-timeout="'+opts.delay+'"><div class="'+opts.type+' bold">'+opts.content+'</div>').appendTo('body').delay(parseInt($('#header_notice_message').data('message-timeout')*1000)).slideUp('fast',function(){$(this).remove();});}},alerts={show:function(options){var el=$('.alert-window'),c,ul;var defaults={title:'',text:'',type:'default',timer:10e3,position:'bottom-right',click:'',icon:'',open:'',close:''};options=$.extend({},defaults,options);if(!options.text){return;}
switch(options.type){case 'warning':c='alert-warning';break;case 'success':c='alert-success';break;case 'info':c='alert-info';break;case 'danger':c='alert-danger';break;default:c='alert-primary';}
var ic=options.click?' can-click':'';var a=$('<li class="'+c+ic+'">'+(options.icon!=''?'<img src="'+options.icon+'" class="left mr img-round" /> ':'')+'<div>'+(options.title!=''?'<h4>'+options.title+'</h4>':'')+'<span>'+options.text+'</span></div></li>');if(!el.has('ul').length){el.html('<ul class="alerts"> </ul>');}
ul=$('.alerts');a.prependTo(ul).hide().fadeIn('slow',function(e){if(options.open){options.open(a);}
a.on('click',function(){if(options.click){goto(options.click);}
a.fadeOut('slow',function(){a.remove();});});if(options.timer!==''){delay(function(){a.fadeOut('slow',function(){a.remove();if(!ul.has('li').length){ul.remove();}
if(options.close){options.close(a);}});},options.timer);}});}},console_styles={debug:'color: #999999',info:'color: #444444',info_bold:'color: #444444; font-weight: bold',system:'color: #336699',system_bold:'color: #336699; font-weight: bold',version:'color:#147BDB; font-size: 16px; font-family: Verdana, Lucida Console, Verdana;',flag:function(country){return 'background: url("'+czcms.config.siteurl+'/images/flags/'+country+'.png"); background-size: cover; border: 1px solid #d6d6d6';},emoji:function(emoji){return 'background-image: url("'+czcms.config.siteurl+'/images/forums/smiles/'+emoji+'.png"); background-size: cover';}},sort_table_helper=function(e,ui){ui.children().each(function(){$(this).width($(this).width());});return ui;},sort_tbody_helper=function(e,ui){ui.children().children().each(function(){$(this).width($(this).width());});return ui;};(function(){var console,method,methods,noop,_i,_len;noop=function(){};methods=['assert','clear','count','debug','dir','dirxml','error','exception','group','groupCollapsed','groupEnd','info','log','markTimeline','profile','profileEnd','table','time','timeEnd','timeStamp','trace','warn'];console=window.console=window.console||{};for(_i=0,_len=methods.length;_i<_len;_i++){method=methods[_i];if(!(method in console))console[method]=noop;}
console.log("\n\n%cTheTechGame v5.7 - All systems initialized ...\n\n",console_styles.version);var _cs=[];if('serviceWorker'in navigator){_cs.push('serviceworker');}
if('Notification'in window){_cs.push('notification');}
if('localStorage'in window&&window['localStorage']!==null){_cs.push('localstorage');}
document.documentElement.className=_cs.join(' ');}).call(this);function get(){var elements=new Array();for(var i=0;i<arguments.length;i++){var element=arguments[i];if(typeof element=='string')element=document.getElementById(element);if(arguments.length==1)return element;elements.push(element);}
return elements;};function urlEncode(s){return encodeURIComponent(s).replace(/\%20/g,'+').replace(/!/g,'%21').replace(/'/g,'%27').replace(/\(/g,'%28').replace(/\)/g,'%29').replace(/\*/g,'%2A').replace(/\~/g,'%7E');};function urlDecode(s){return decodeURIComponent(s.replace(/\+/g,'%20').replace(/\%21/g,'!').replace(/\%27/g,"'").replace(/\%28/g,'(').replace(/\%29/g,')').replace(/\%2A/g,'*').replace(/\%7E/g,'~'));};function trim(str){return str.replace(/^\s*|\s*$/g,"");};function jstime(){return Math.floor(new Date().getTime()/1000);};function jtime_format(ts,us,lb){us=us||0;ts=!/-/.test(ts)?new Date(ts*1000):new Date(ts);var now=new Date(),delta=now.getTime()-ts.getTime(),ps,pm,ph,pd,min,hou,sec,days;delta=Math.round(delta/1000);if(delta<=59&&us){ps=(delta>1)?"s":"";return((delta<1)?1:delta)+" second"+ps+" ago";}
if(delta>=60&&delta<=3599){min=Math.floor(delta/60);sec=delta-(min*60);pm=(min>1)?"s":"";ps=(sec>1)?"s":"";return min+" minute"+pm+""+((us)?", "+sec+" second"+ps:"")+" ago";}
if(delta>=3600&&delta<=86399){hou=Math.floor(delta/3600);min=Math.floor((delta-(hou*3600))/60);ph=(hou>1)?"s":"";pm=(min>1)?"s":"";return hou+" hour"+ph+""+((min>0)?", "+min+" minute"+pm:"")+" ago";}
if(delta>=86400){days=Math.floor(delta/86400);hou=Math.floor((delta-(days*86400))/3600);pd=(days>1)?"s":"";ph=(hou>1)?"s":"";return days+" day"+pd+""+((hou>0)?", "+hou+" hour"+ph:"")+" ago";}};function jtime_remain(orig,secs){var diff=orig-jstime(),yearDiff=Math.floor(diff/60/60/24/365);diff-=yearDiff*60*60*24*365;if(yearDiff<1){diff=orig-jstime();}
if(diff<0&&!secs){return 'less than 1 minute';}
var daysDiff=Math.floor(diff/60/60/24);diff-=daysDiff*60*60*24;var hrsDiff=Math.floor(diff/60/60);diff-=hrsDiff*60*60;var minsDiff=Math.floor(diff/60);diff-=minsDiff*60;var secsDiff=diff;var ret_time=[];if(yearDiff>0){ret_time.push(yearDiff+' '+((yearDiff==1)?'year':'years'));}
if(daysDiff>0){ret_time.push(daysDiff+' '+((daysDiff==1)?'day':'days'));}
if(hrsDiff>0){ret_time.push(hrsDiff+' '+((hrsDiff==1)?'hour':'hours'));}
if(minsDiff>0){ret_time.push(minsDiff+' '+((minsDiff==1)?'minute':'minutes'));}
if(secsDiff>0&&secs){ret_time.push(secsDiff+' '+((secsDiff==1)?'second':'seconds'));}
return is_array(ret_time)?ret_time.join(', '):'&lt; 1 minute';};function quick_timer(duration,display,complete){var start=Date.now(),diff,minutes,seconds,timers=[];function timer(){diff=duration-(((Date.now()-start)/1000)|0);minutes=(diff/60)|0;seconds=(diff%60)|0;minutes=minutes<10?"0"+minutes:minutes;seconds=seconds<10?"0"+seconds:seconds;$(display).html(minutes+':'+seconds);if(diff<=0){start=Date.now()+1000;}
if(diff<=60){if(!$(display).hasClass('red')){$(display).addClass('red');}}
if(diff===0){clearInterval(timers[display]);if(typeof(complete)==='function'){complete(display);}}};timer();timers[display]=setInterval(timer,1000);};function quick_timer_short(duration,display,complete){var start=Date.now(),diff,seconds,timers=[];function timer(){diff=duration-(((Date.now()-start)/1000)|0);seconds=(diff%60)|0;$(display).html(seconds);if(diff<=0){start=Date.now()+1000;}
if(diff===0){clearInterval(timers[display]);if(typeof(complete)==='function'){complete(display);}}};timer();timers[display]=setInterval(timer,1000);};function str_replace(search,replace,subject){var f=search,r=replace,s=subject;var ra=r instanceof Array,sa=s instanceof Array,f=[].concat(f),r=[].concat(r),i=(s=[].concat(s)).length;while(j=0,i--){if(s[i]){while(s[i]=(s[i]+'').split(f[j]).join(ra?r[j]||"":r[0]),++j in f){};}};return sa?s:s[0];};function strtolower(str){return(str+'').toLowerCase();};function in_array(needle,haystack,strict){var found=false,key,strict=!!strict;for(key in haystack){if((strict&&haystack[key]===needle)||(!strict&&haystack[key]==needle)){found=true;break;}}
return found;};function is_array(obj){return obj.constructor==Array;};function ucwords(str){return str.toLowerCase().replace(/\w+/g,function(s){return s.charAt(0).toUpperCase()+s.substr(1);});};function jproperize(str){return str+'\''+(str.substring(str.length-1,str.length)!='s'?'s':'');};function jstrip_tags(string){return string.replace(/<[^>]*>/g,'');};function jstrip_bbcode(string){return string.replace(/\[[^\]]*\]/g,'');};function jstrip_spaces(string){return string.replace(/\s+/g,' ');};function jstrip_urls(string){return string.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'');};function jstrip_bbquote(string){string=string.replace(/(\r\n|\n|\r)/gmi,'');while(string.match(/\[quote.*\[\/quote\]/i)!=null){string=string.replace(/^(.*)\[quote.*?\[\/quote\](.*)$/gmi,'\$1\$2');}
string=string.replace(/\[\/?[^\[\]]+\]/gmi,'');string=string.replace(/[^a-z0-9]/gmi,'');return string;};function jnormalize_string_old(string){return string.replace(/[^\w\s[:punct:]]/i,'');};function jnormalize_string(string){return string.replace(/[\u2018\u2019\u201C\u201D]/g,(c)=>'\'\'""'.substr('\u2018\u2019\u201C\u201D'.indexOf(c),1)).replace(/[^\x00-\x7F]/g,'');};function jaddslashes(string){return(string+'').replace(/[\\"']/g,'\\$&').replace(/\u0000/g,'\\0');};function jaddZero(z){return(z<10)?'0'+z:z;};function jnumber_format(number){return(number+'').replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,'$1,');};function is_mobile(){return navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|webOS)/);};function jroundtok(num){if(num>=1000000){return((Math.floor(num/100000)).toFixed(1)/10)+'M';}
if(num>=10000){return(Math.floor(num/1000))+'k';}
if(num>=1000){return((Math.floor(num/100)).toFixed(1)/10)+'k';}
return num;};function jshrink_url(url,shrink){var max,start,end;if(!shrink||shrink=='long'){max=46,start=33,end=10;}else if(shrink=='medium'){max=35,start=22,end=10;}else if(shrink=='short'){max=25,start=12,end=10;}
url=url.replace(/https:\/\/www\.thetechgame\.com\//i,'').replace(/(^[\w]+?:\/\/(www\.)?)/i,'');return(url.length>max)?url.substr(0,start)+'...'+url.substr(-end):url;};function jmake_clickable(text,shrink){ret=' '+text;ret=ret.replace(/\/Account\/op=logout/g,'/Account').replace(/\/Account\/op=delete_cookies/g,'/Account').replace(/http:\/\/(www\.)?thetechgame/g,'https://www.thetechgame').replace(/(^|[\n ])([\w]+?:\/\/[\w]+[^ \"\n\r\t<]*)/g,function(match,$1,$2){return $1+"<a href=\""+$2+"\" rel=\"noopener noreferrer nofollow\" title=\""+$2+"\" target=\"_blank\">"+jshrink_url($2,shrink)+"</a>";}).replace(/(^|[\n ])((www|ftp)\.[^ \"\t\n\r<]*)/g,function(match,$1,$2){return $1+"<a href=\"http://"+$2+"\" rel=\"noopener noreferrer nofollow\" title=\""+$2+"\" target=\"_blank\">"+jshrink_url($2,shrink)+"</a>";}).replace(/(^|[\n ])([a-z0-9&\-_\.]+?)@([\w\-]+\.([\w\-\.]+\.)*[\w]+)/i,"$1 $2 &#64; $3");ret=ret.substr(1);return ret;};function goto(u){if(!/http:\/\//i.test(u)){window.location.href=u;}};function preloadimages(){for(var i=0;i<arguments.length;i++){preloaded[i]=document.createElement('img');preloaded[i].setAttribute('src',arguments[i]);}};function setSelectOptions(the_form,the_select,do_check){var selectObject=document.forms[the_form].elements[the_select];var selectCount=selectObject.length;for(var i=0;i<selectCount;i++){selectObject.options[i].selected=do_check;}
return true;};function setselected(formname,status){for(i=0;i<formname.length;i++){formname.elements[i].checked=status;}};function delay(a,b){window.setTimeout(a,b);};function ee_confirm(message){if(confirm(message)){return true;}else{if(window.event){window.event.returnValue=false;}else{return false;}
return false;}};function header_error(e,t){var to=t||3;feedback.show({type:'info-red',delay:to,content:e});};function ajax_request(options){var defaults={target:'',source:czcms.config.ajaxbase,params:'',async:true,method:'post',loading:true,onStart:'',onComplete:''};options=$.extend({},defaults,options);if(!options.source){return false;}
var el=($('#'+options.target).length>0)?$('#'+options.target):false;var size=el?el.height():false;if(options.loading&&el){if(size&&size>0){el.addClass((size>'35')?'loading_large':'loading_small');}else{$('<div />').attr('id','loader').addClass('loading_large').appendTo(el);}}
if(options.onStart){options.onStart();}
$.ajax({type:options.method,url:options.source,data:options.params,async:options.async,success:function(data){if(el.length>0){if(options.loading){if(size&&size>0){el.removeClass((size>'35')?'loading_large':'loading_small');}else{$('#loader').remove();}}
el.html(data);}
if(options.onComplete){options.onComplete(data);}}});return false;};function ajaxSave(f,elm,reset,reset_time,abase){var fd=document.forms[f];var qs='';var saving=elm;reset_time=(!reset_time)?'500':reset_time;if($('#saving_'+saving).length){$('#saving_'+saving).css('visibility','visible');}
if(fd.submit){var fsv=fd.submit;if(fsv.name=='submit'){var fsv_stored_value=fsv.value;fsv.value='Please wait...';fsv.disabled=true;}}
for(i=0;i<fd.length;i++){if(!in_array(fd.elements[i].type,['button','reset','submit'])){if(fd.elements[i].type=='textarea'){qs+=fd.elements[i].name+'='+encodeURIComponent(fd.elements[i].value)+'&';}else if(fd.elements[i].type=='radio'||fd.elements[i].type=='checkbox'){if(fd.elements[i].checked==true){qs+=fd.elements[i].name+'='+encodeURIComponent(fd.elements[i].value)+'&';}}else if(fd.elements[i].value!=''){qs+=fd.elements[i].name+'='+encodeURIComponent(fd.elements[i].value)+'&';if(fd.elements[i].name=='rep_sum'){Crackers.set('last-rep-amount-sent',fd.elements[i].value);}}
if(f=='shout_settings_form'){if(fd.elements[i].name=='highlight'){Crackers.set('shout-highlight',fd.elements[i].value);}
if(fd.elements[i].name=='shoutalert'){Crackers.set('shout-shoutalert',fd.elements[i].value);}
if(fd.elements[i].name=='timestamps'){Crackers.set('shout-timestamps',fd.elements[i].value);}
if(fd.elements[i].name=='allowcolor'){Crackers.set('shout-allowcolor',fd.elements[i].value);}
if(fd.elements[i].name=='textcolor'){Crackers.set('shout-textcolor',fd.elements[i].value);}
if(fd.elements[i].name=='shoutsounds'){Crackers.set('shout-shoutsounds',fd.elements[i].value);}
if(fd.elements[i].name=='trashpos'){Crackers.set('shout-trashpos',fd.elements[i].value);}}
switch(fd.elements[i].value){case 'comment_save':var save_id=get('comment_edit_id');elm='comment_row_'+save_id.value;break;}}}
if(qs){qs=qs.substr(0,qs.length-1);ajax_request({source:abase||czcms.config.ajaxbase,target:elm,params:qs,onComplete:function(){delay(function(){if(reset){ajax_clear_form(f);}
if($('#saving_'+saving).length){$('#saving_'+saving).css('visibility','hidden');}
if($('#actions_division').length){$('#actions_division').html('');}
if($('#actions_division_'+f).length){$('#actions_division_'+f).html('');}
if(f=='bookmark_form'||f=='report_form'||f=='warning_form'||f=='unotes_form'||f=='reputation_form'||f=='shout_settings_form'){DialogDelete();}
if(fd.submit&&fsv.name=='submit'){fsv.value=fsv_stored_value;fsv.disabled=false;}},reset_time);}});}else{alert('No data was passed through the form.');}
return false;};function ajax_clear_form(f){fd=document.forms[f];for(i=0;i<fd.length;i++){if(!in_array(fd.elements[i].type,['button','reset','submit'])&&fd.elements[i].type!='hidden'){if(fd.elements[i].type=='textarea'){fd.elements[i].value='';}else if(fd.elements[i].type=='radio'||fd.elements[i].type=='checkbox'){fd.elements[i].checked==false;}else{fd.elements[i].value='';}}}
return true;};function jumpto(selObj,target){target=(target)?target:'parent';gourl=selObj.options[selObj.selectedIndex].value;if(gourl){location.href=gourl;}};function check_page_jumper(f,n,p){if(f.page.value==''||f.page.value>n){f.page.value='';f.page.focus();return false;}else{page=f.page.value-1;f.start.value=page*p;return true;}};if(is_framed!=1&&is_popup!=1){Mousetrap.bind('left left left right right right up up up down down down',function(){preloadimages(static_server+'images/ss/mudkip.gif');$('<div />').hide().attr('id','mudkip').addClass('mudkipz').fadeIn('slow',function(){$(this).delay(5000).fadeOut('slow');}).appendTo('body');});Mousetrap.bind('shift shift shift tab tab tab ctrl ctrl ctrl',function(){preloadimages(static_server+'images/ss/pikachu.png');$('<div />').hide().attr('id','pikachu').addClass('pikachu').fadeIn('slow',function(){$(this).delay(5000).fadeOut('slow');}).appendTo('body');});Mousetrap.bind('ctrl shift tab ctrl shift tab up down up',function(){preloadimages(static_server+'images/ss/waldo.png');$('<div />').hide().attr('id','waldo').addClass('waldo').fadeIn('slow',function(){$(this).delay(5000).fadeOut('slow');}).appendTo('body');});Mousetrap.bind('r i p c h u b z',function(){preloadimages(static_server+'images/ss/arsenal-chubz.png');$('<div />').hide().attr('id','chubz').addClass('chubz').fadeIn('slow',function(){$(this).delay(5000).fadeOut('slow');}).appendTo('body');});Mousetrap.bind('t h e r o b i n',function(){preloadimages(static_server+'images/ss/therobin.png');$('<div />').hide().attr('id','therobin').addClass('therobin').fadeIn('slow',function(){$(this).delay(5000).fadeOut('slow');}).appendTo('body');});Mousetrap.bind('k i l l t t g',function(){$.getScript("https://hi.kickassapp.com/kickass.js");});Mousetrap.bind('f i r e w o r k s t t g',function(){$.getScript(static_server+'scripts/extras/fireworks.js');});Mousetrap.bind('m a t r i x t t g',function(){$.getScript(static_server+'scripts/extras/site-matrix.js');});}
function Dialog(options){var defaults={title:'Message',content:'',width:550,height:'auto',overlay:true,fade:true,shadow:false,source:'',method:'post',mod:false,resizer:false,reposition:true,dragit:false,reload:false,onComplete:'',onClose:'',cache:false,buttons:{}}
options=$.extend({},defaults,options);var reposition=false;if($('#dialog-modal').length==0){$('body').append('<div id="dialog-modal" title="Information"><div class="wrapper"><div id="dialog-modal-content" style="text-align:left;"></div></div></div>');}else{reposition=true;}
$('#dialog-modal').attr('data-width',options.width);if(options.source){var ajurl=(options.mod)?options.source.replace(czcms.config.siteurl+'/',''):czcms.config.ajaxbase+'?'+options.source;$.ajax({type:options.method.toUpperCase(),url:ajurl,success:function(data){$('#dialog-modal-content').html(data);$('#dialog-modal').dialog({title:options.title,height:options.height,modal:options.overlay,width:$(window).width()<options.width?'100%':options.width,show:{effect:"fade",duration:"medium"},hide:{effect:"fade",duration:"medium"},resizable:options.resizer,draggable:options.dragit,buttons:options.buttons,open:function(event,ui){$(event.target).parent().addClass('show');if(options.overlay){$('.ui-widget-overlay').hide().fadeIn(300);}
if(!is_mobile()){$(event.target).parent().css('position','fixed');$(event.target).parent().css('top',(is_popup?'30px':'100px'));}
if(options.onComplete){options.onComplete(data);}
if(options.reposition){$(window).on('resize',function(){$("#dialog-modal").dialog("option","position",["center",(is_popup?30:100)]);});}
$(window).on('resize',function(){if($(window).width()<options.width){$("#dialog-modal").dialog({'width':'auto'});}else{$("#dialog-modal").dialog({'width':$('#dialog-modal').attr('data-width')});}});},beforeClose:function(){$('.ui-dialog.show').removeClass('show');if(options.overlay){$('.ui-widget-overlay').remove();$('<div />',{'class':'ui-widget-overlay'}).css({height:$(document).height(),width:$(document).width()}).appendTo('body').fadeOut(300,function(){$(this).remove();});}},close:function(ev,ui){if(options.onClose){options.onClose(data);}
$(this).remove();}});if(reposition){$('#dialog-modal').dialog("option","position",["center",(is_popup?30:100)]);}}});}else{$('#dialog-modal-content').html(options.content);$('#dialog-modal').dialog({title:options.title,height:options.height,modal:options.overlay,width:$(window).width()<options.width?'100%':options.width,show:{effect:"fade",duration:"medium"},hide:{effect:"fade",duration:"medium"},resizable:options.resizer,draggable:options.dragit,buttons:options.buttons,open:function(event,ui){$(event.target).parent().addClass('show');if(options.overlay){$('.ui-widget-overlay').hide().fadeIn(300);}
if(!is_mobile()){$(event.target).parent().css('position','fixed');$(event.target).parent().css('top',(is_popup?'30px':'100px'));}
if(options.onComplete){options.onComplete(options.content);}
if(options.reposition){$(window).on('resize',function(){$("#dialog-modal").dialog("option","position",["center",(is_popup?30:100)]);});}
$(window).on('resize',function(){if($(window).width()<options.width){$("#dialog-modal").dialog({'width':'auto'});}else{$("#dialog-modal").dialog({'width':$('#dialog-modal').attr('data-width')});}});},beforeClose:function(){$('.ui-dialog.show').removeClass('show');if(options.overlay){$('.ui-widget-overlay').remove();$('<div />',{'class':'ui-widget-overlay'}).css({height:$(document).height(),width:$(document).width()}).appendTo('body').fadeOut(300,function(){$(this).remove();});}},close:function(ev,ui){if(options.onClose){options.onClose(options.content);}
$(this).remove();}});if(reposition){$('#dialog-modal').dialog("option","position",["center",(is_popup?30:100)]);}}};function DialogDelete(){$('#dialog-modal').dialog('close').remove();};function rainbownamecolor(a,b,c,d,e,f){if($('#'+a).length>0&&b){$('#'+a).css('color',b);}
if((c&&e)&&(c==e-1)){rainbownameinit(f,d);}};function rainbownameinit(a,w){if(!rainbowcolorcount[a]||rainbowcolorcount[a]>=rainbowcolors.length){rainbowcolorcount[a]=0;}
var d=w.length;for(z=0;z<d;z++){l=z*150;x=rainbowcolors[rainbowcolorcount[a]];setTimeout('rainbownamecolor("'+a+'_'+z+'", "'+x+'", "'+z+'", "'+w+'", "'+d+'", "'+a+'");',150+l);}
rainbowcolorcount[a]++;};function rainbownameload(a,w){$('#'+a).css('width',$('#'+a).attr('offsetWidth')+'px');$('#'+a).html('');var c=rand(rainbowcolors.length);rainbownamecolor(a,rainbowcolors[c]);for(z=0;z<w.length;z++){d=w.substring(z,z+1);$('#'+a).append('<span id="'+a+'_'+z+'">'+d+'</span>');}
rainbownameinit(a,w);};function rainbowname(a,w){var b=new Array('blue','green','yellow','orange','purple','pink','indigo','violet','red','brown','olive','silver','tan','turquoise','teal','maroon','lime');for(i=0;i<b.length;i++){var c=rand(b.length);if($('#'+a).length>0){$('#'+a).css('color',b[c]);}}};function check_top_posters(){$('.top-poster').each(function(c){var a=$(this),t=a.text(),l=t.length,lev=parseInt(360/l,10),n='',int=[];if(typeof(a.data('started'))==='undefined'){a.data('started',1);for(var i=0;i<l;i++){n+='<span style="font-weight:bold;color:hsla('+i*lev+', 100%, 50%, 1);">'+t.charAt(i)+'</span>';}
a.html(n);var ch=a.find('span');int[c]=setInterval(function(){ch.each(function(){var h=+$(this).attr('style').split(',')[0].split('(')[1]-4%360;$(this).attr({style:"color:hsla("+h+", 100%, 50%, 1)"});});},20);}});};function play_sound(sound,loop){var audio=new Audio();if(audio.canPlayType){if(audio.canPlayType('audio/mpeg')!=''){audio.type='audio/mpeg';audio.src='sounds/mp3/'+sound+'.mp3';}else{audio.type='audio/ogg';audio.src='sounds/ogg/'+sound+'.ogg';}
if(loop){audio.loop=true;}
var cp=audio.play();if(cp!==undefined){cp.then(function(){}).catch(function(error){console.log(error);});}}else{var loaded=false;if(!$('#snd-'+sound).length){$('body').append('<div id="snd-'+sound+'" style="position:absolute;left:-5000px;"></div>');}
var _player=$('#snd-'+sound);if(_player.find('embed').length==0&&_player.find('object').length==0){_player.flash({swf:'sounds/mini-player.swf?mp3=sounds/mp3/'+sound+'.mp3&autostart=1&javascript=on'+(loop?'&autoreplay='+loop:''),height:1,width:1});loaded=true;}
if(!loaded){$('#snd-'+sound).find('object').get(0).dewplay();}}};function video_show_logo(id){$('#'+id+' img:last-child').show();};function video_remove_logo(id){$('#'+id+' img:last-child').delay(7000).fadeOut('slow');};function video_track(id){if(!vtracks[id]){$.get('/scripts/json/videos.php',{action:'video_track',vid:id});vtracks[id]=true;}};function check_block_poll(form){var chek=form.elements['voteID'];for(var i=0,l=chek.length;i<l;i++)if(chek[i].checked)break;if(i==l){header_error('You must select at least one option to vote.');return false;}
block_poll_vote('blocksurvey',$('#block_poll_id').val());return false;};function check_module_poll(form,eid){var chek=form.elements['voteID'];for(var i=0,l=chek.length;i<l;i++)if(chek[i].checked)break;if(i==l){header_error('You must select at least one option to vote.');return false;}
mod_poll_vote(eid,$('#poll_id_'+eid).val());return false;};function check_poll_vote(f){if(!$("[name='"+f+"']:checked").length){header_error('You must select at least one option to vote.');return false;}
return true;};function set_block_vote_value(pollvalue){$('#block_vote_value').val(pollvalue);return false;};function set_mod_vote_value(eid,pollvalue){$('#vote_value_'+eid).val(pollvalue);return false;};function block_poll_vote(eid,pollid){$.post(czcms.config.ajaxbase,{name:'Surveys',op:'ajaxvote',poll:pollid,vote:$('#block_vote_value').val()},function(data){if(data==1){$.ajax({url:'/scripts/json/surveys.php',data:{action:'load_survey',poll:pollid},cache:false,dataType:'json',success:function(data){$('#'+eid).html(data.items[0].survey);}});}else{header_error(data);return false;}});return false;};function mod_poll_vote(eid,pollid){$.post(czcms.config.ajaxbase,{name:'Surveys',op:'ajaxvote',poll:pollid,vote:$('#block_vote_value').val(),type:'mod'},function(data){$('#survey_'+eid).html(data);});return false;};function sort_by_num(elements,attribute,destination,direction){direction=direction||'asc';elements.sort(function(a,b){var compA=parseInt($(a).attr(attribute));var compB=parseInt($(b).attr(attribute));return(direction=='asc')?(compA<compB)?-1:(compA>compB)?1:0:(compA<compB)?1:(compA>compB)?-1:0;});$.each(elements,function(idx,item){destination.append(item);});};function sort_by_text(elements,attribute,destination,direction){direction=direction||'asc';elements.sort(function(a,b){var compA=$(a).attr(attribute).toLowerCase();var compB=$(b).attr(attribute).toLowerCase();return(direction=='asc')?(compA<compB)?-1:(compA>compB)?1:0:(compA<compB)?1:(compA>compB)?-1:0;});$.each(elements,function(idx,item){destination.append(item);});};function user_top_notices(){if($('#top_notifications').length==0){return false;}
var tn=$('#top_notifications'),unc=tn.attr('data-count'),c=u=m=s=p=0,a=$('#ttg-abs-off').length;if($('#account-page').length){c=$('#user_wall_window').data('last-post');u=$('#account-page').data('usrid');}
if($('#messages-inbox').length){m=$('#messages-inbox').data('last-message');s=$('#messages-inbox').data('start');}
if($('#messages-read').length){p=$('#messages-read').data('last-message');u=$('#messages-read').data('usrid');s=$('#messages-read').data('start');}
if($('title').data('default-title')===undefined){$('title').data({'notice-count':unc,'default-title':$('title').text()});}
$.ajax({url:'/scripts/json/user.php',data:{action:'user_top_notices',c:c,u:u,a:a,m:m,p:p,s:s},cache:false,dataType:'json',success:function(data){$.each(data.items,function(i,item){if(item){if(item.n=='sb_gifts'&&($('#members_shout_box').length||$('#staff_shout_box').length)){var count=parseInt(item.t);var cg=$('.sb-gift-premium'),dg=cg.attr('data-gifts');if(dg===undefined||dg!=count){cg.attr('data-gifts',count);if(count>0&&!cg.hasClass('blink')){cg.addClass('blink');}else if(count==0&&cg.hasClass('blink')){cg.removeClass('blink');}}}
if(item.n=='top_newpms'&&$('#messages-inbox').length){if(parseInt(item.t)>0){var count=parseInt(item.t);if($('#new-pms').length){$('#new-pms-count').html((count!=1)?count+' new messages':count+' new message');$('#new-pms-inner').addClass('clickable').addClass($('#dark-theme').length?'highlight-dark':'highlight');}else{$('#messages-inbox').addClass('new-pm');$('<div id="new-pms" class="messages-left new-messages-bar"><div id="new-pms-inner" class="bold forumline3 gradient padded10 mb clickable" title="Click to view new posts"><span id="new-pms-count">'+((count!=1)?parseInt(count)+' new messages':parseInt(count)+' new message')+'</span></div></div><div class="messages-right m-hidden"></div>').hide().insertBefore('.messages-left').fadeIn('slow',function(){$('#new-pms-inner').addClass($('#dark-theme').length?'highlight-dark':'highlight');}).on('click',function(){goto('/Messages.html');});}
if($('#messages-inbox').data('sound')==1){play_sound('new-message');}}}
if(item.n=='page_readpms'&&$('#messages-read').length){if(typeof(item.t)==='object'){$.each(item.t,function(key,value){if(key=='new'){if($('#new-pms').length){$('#new-pms-count').html((value['count']!=1)?value['count']+' new messages from '+value['user']:value['count']+' new message from '+value['user']);$('#new-pms-inner').addClass('clickable').addClass($('#dark-theme').length?'highlight-dark':'highlight');}else{$('#messages-read').addClass('new-pm');$('<div id="new-pms" class="messages-left new-messages-bar"><div id="new-pms-inner" class="bold forumline3 gradient padded10 mb clickable" title="Click to view new messages"><span id="new-pms-count">'+((value['count']!=1)?value['count']+' new messages from '+value['user']:value['count']+' new message from '+value['user'])+'</span></div></div><div class="messages-right m-hidden"></div>').hide().insertBefore('.messages-left').fadeIn('slow',function(){$('#new-pms-inner').addClass($('#dark-theme').length?'highlight-dark':'highlight');}).on('click',function(){goto('/Messages/u='+u+'.html');});if($('#messages-read').data('sound')==1){play_sound('new-message');}}}else{if($('.comment-block[data-id="'+key+'"]').attr('data-read')==0){$('.comment-block[data-id="'+key+'"]').find('i.fa-circle').replaceWith('<i class="fa fa-check ttg-blue ml ip-live" title="Read: '+value['date']+'"></i>');$('.comment-block[data-id="'+key+'"]').attr('data-read',value['time']);$('.comment-block[data-id="'+key+'"]').find('.u-edit-link').remove();}else{$('.comment-block[data-id="'+key+'"]').find('i.fa-check').attr('original-title','Read: '+value['date']);}}});}}
if(item.n=='page_newpms'&&$('#messages-inbox').length){if(typeof(item.t)==='object'){$.each(item.t,function(key,value){if($('.read-pm[data-id="'+key+'"]').attr('data-read')==0){$('.read-pm[data-id="'+key+'"]').find('i.fa-circle').replaceWith('<i class="fa fa-check ttg-blue ml ip-live" title="Read: '+value['date']+'"></i>');$('.read-pm[data-id="'+key+'"]').attr('data-read',value['time']).removeClass('new-posts-popular').addClass('no-new-posts');}else{$('.read-pm[data-id="'+key+'"]').find('i.fa-check').attr('original-title','Read: '+value['date']);}});}}
if(item.n=='usr_newcomms'&&$('#user_wall_window').length){if(parseInt(item.t)>0){if($('#new-wall-posts').length){$('#new-wall-posts-count').html((parseInt(item.t)!=1)?parseInt(item.t)+' new wall posts':parseInt(item.t)+' new wall post');$('#new-wall-posts-inner').addClass('clickable').addClass($('#dark-theme').length?'highlight-dark':'highlight');}else{$('<div id="new-wall-posts"><div id="new-wall-posts-inner" class="bold forumline3 gradient padded10 mt clickable" title="Click to view new posts"><span id="new-wall-posts-count">'+((parseInt(item.t)!=1)?parseInt(item.t)+' new wall posts':parseInt(item.t)+' new wall post')+'</span></div></div>').hide().insertBefore('#user_wall_window').fadeIn('slow',function(){$('#new-wall-posts-inner').addClass($('#dark-theme').length?'highlight-dark':'highlight');}).on('click',function(){load_wall(u,0,true);$(this).fadeToggle('slow',function(){$('#new-wall-posts').remove();});});}}}else if(item.n=='top_notifications'){if(item.t!=unc){if(item.t>unc){$("#"+item.n).hide().attr('data-count',item.t).text(item.t).fadeIn('slow');}else{$("#"+item.n).attr('data-count',item.t).text(item.t);}}
if(czcms.config.notifyTitle){if(item.t>0){$('title').text('('+item.t+') '+$('title').data('default-title')).data('notice-count',item.t);}else{$('title').text($('title').data('default-title')).data('notice-count',0);}}}else{if(item.t!=$("#"+item.n).text()){$("#"+item.n).text(item.t);if(item.t>0){$("#"+item.n).parent().show();if(item.n=='top_newpms'){$('#notices-pm-link').hide();}}else{if(item.n!='top_newreqs'){$("#"+item.n).parent().hide();if(item.n=='top_newpms'){$('#notices-pm-link').show();}}}}}
$('.ip-live').tipsy({gravity:$.fn.tipsy.autoBounds(150,'s'),offset:10,opacity:1});}});delay('user_top_notices();',5000);}});};function friends_online_side(x){var unoc=$('#friends_list_title').html();x=(x)?x:0;var addcount=0;if(x==0){$('#friends_list_online').addClass('loading_large');}
$.ajax({url:'/scripts/json/user.php?action=user_friends_online&run='+x,cache:false,dataType:'json',success:function(data){$.each(data.items,function(i,item){if(item){if(item.e){if($('#no_friends_online').length==0){$('<div />').attr('id','no_friends_online').addClass('mb mt').html('You have no friends currently online.').appendTo($('#friends_online_side'));}}else if(item.del){$('#fro_'+item.del).remove();}else{if($('#fro_'+item.u).length==0){$('<div />').attr({'id':'fro_'+item.u,'data-uname':item.d.toLowerCase()}).addClass('brow2 d-flex clear-fix padded').html('<div class="col-90"><a href="'+item.l+'" title="View Profile">'+item.n+'</a></div><div class="col-fill right"><a href="/Messages/mode=post/u='+item.u+'.html"><span class="fa fa-exchange" title="Send Message"></span></a></div>').appendTo($('#friends-online-list'));addcount++;}}}
if($('#friends-online-list .brow2').length==0){if($('#no_friends_online').length==0){$('<div />').attr('id','no_friends_online').addClass('mb mt').html('You have no friends currently online.').appendTo($('#friends-online'));}}else{if($('#no_friends_online').length>0){$('#no_friends_online').remove();}}});if(x==1&&addcount>0){sort_by_text($('#friends-online-list').children('div.brow2').get(),'class',$('#friends-online-list'));}
if(data.num){if(data.num!=unoc){$('#friends_list_title').html(data.num);}}
if(x==0){$('#friends_list_online').removeClass('loading_large');}
friends_online_timer=setTimeout(function(){friends_online_side(1);},20000);}});};function revert_bgimage(){$('body').css({'background-color':$('#dark-theme').length?'#000':'#fffefe','background-image':$('#dark-theme').length?'url(/themes/v5/images/dark-main-bg.png)':'url(/themes/v5/images/body-bg.png)','background-repeat':'repeat','background-attachment':'scroll'});};if(czcms.config.noframes){if(top.location!=location){var domaincheck=czcms.config.siteurl.replace(/https?:\/\/www./ig,'');if(document.referrer&&document.referrer.indexOf(domaincheck)==-1){top.location.replace(document.location.href);}}}