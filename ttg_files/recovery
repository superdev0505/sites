(function(){
/** @license Copyright (c) 2020, Blockthrough All rights reserved.
 See license text at: https://blockthrough.com/license
*/(()=>{var __webpack_modules__={553:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),a=new E(i||[]);return o._invoke=function(e,t,n){var i=u;return function(r,o){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===r)throw o;return Z()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=z(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var d=l(e,t,n);if("normal"===d.type){if(i=n.done?g:h,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(i=g,n.method="throw",n.arg=d.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",h="suspendedYield",f="executing",g="completed",p={};function m(){}function w(){}function b(){}var v={};d(v,o,(function(){return this}));var M=Object.getPrototypeOf,N=M&&M(M(x([])));N&&N!==n&&i.call(N,o)&&(v=N);var D=b.prototype=m.prototype=Object.create(v);function y(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function X(e,t){function n(r,o,a,s){var d=l(e[r],e,o);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(d.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function z(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,z(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=l(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function V(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(V,this),this.reset(!0)}function x(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:Z}}function Z(){return{value:t,done:!0}}return w.prototype=b,d(D,"constructor",b),d(b,"constructor",w),w.displayName=d(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,s,"GeneratorFunction")),e.prototype=Object.create(D),e},e.awrap=function(e){return{__await:e}},y(X.prototype),d(X.prototype,a,(function(){return this})),e.AsyncIterator=X,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new X(c(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(D),d(D,s,"Generator"),d(D,o,(function(){return this})),d(D,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=x,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var d=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(d&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(d){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;_(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:x(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},757:(e,t,n)=>{e.exports=n(553)},905:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{yC:()=>DeviceTypeAll,Xh:()=>browser,Jv:()=>platform,Uh:()=>device,tq:()=>isMobile,l7:()=>getDeviceType});var PlatformUnknown="unknown",PlatformAndroid="android",PlatformIOS="ios",PlatformWindows="windows",PlatformLinux="linux",PlatformOSX="osx",PlatformWindowsPhone="windowsphone",BrowserUnknown="unknown",BrowserChrome="chrome",BrowserFirefox="firefox",BrowserIE="ie",BrowserEdge="edge",BrowserOpera="opera",BrowserSafari="safari",BrowserUCBrowser="uc",DeviceUnknown="unknown",DeviceHighEndPhone="highendphone",DeviceTablet="tablet",DevicePersonalComputer="pc",DeviceConnectedTV="tv",DeviceGameConsole="console",DeviceTypeAll="all",DeviceTypeDesktop="desktop",DeviceTypeMobile="mobile",browser=function browser(){var ua=navigator.userAgent;return/edge/i.test(ua)?BrowserEdge:/opera/i.test(ua)||/opr|opios/i.test(ua)?BrowserOpera:/chrome|chromium/i.test(ua)?BrowserChrome:/firefox|iceweasel|fxios/i.test(ua)?BrowserFirefox:/msie|trident/i.test(ua)?BrowserIE:/^((?!chrome|android).)*safari/i.test(ua)?BrowserSafari:/ucbrowser/i.test(ua)?BrowserUCBrowser:window.chrome?BrowserChrome:"undefined"!=typeof InstallTrigger?BrowserFirefox:eval("/*@cc_on!@*/false")||document.documentMode?BrowserIE:window.StyleMedia?BrowserEdge:BrowserUnknown},platform=function(){var e=navigator.userAgent;return/windows|win32/i.test(e)?PlatformWindows:/ipod|iphone|ipad/i.test(e)?PlatformIOS:/android/i.test(e)?PlatformAndroid:/macintosh|mac os x/i.test(e)?PlatformOSX:/linux/i.test(e)?PlatformLinux:/windows phone/i.test(e)?PlatformWindowsPhone:PlatformUnknown},device=function(){var e=navigator.userAgent;return/tablet|ipad/i.test(e)?DeviceTablet:/mobile/i.test(e)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(e)||/ucbrowser/i.test(e)&&window.ucweb?DeviceHighEndPhone:DevicePersonalComputer};function isMobile(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}function getDeviceType(){return isMobile()?DeviceTypeMobile:DeviceTypeDesktop}},552:(e,t,n)=>{"use strict";n.d(t,{z:()=>g,Z:()=>f});var i=n(2);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,s,d=n(942),c=n(614),l=n(302),u=Boolean(window.console&&window.console.info),h=!1;!function(){try{h=window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.bt_debug}catch(e){h=!1}}();var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,i=void 0===n?"":n,o=t.level,a=void 0===o?g.DEFAULT:o;r(this,e),(0,d.Z)(this,"tag","Blockthrough"),(0,d.Z)(this,"prefix",""),this.setPrefix(i),this.setLevel(a)}var t,n,a;return t=e,n=[{key:"setPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.prefix=e}},{key:"setLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.DEFAULT;X(e)?this.level=e:this.level=g.DEFAULT}},{key:"log",value:function(e,t,n,r){if(h&&u){if(arguments.length<3||!X(e)||"object"!==(0,i.Z)(t)||"string"!=typeof n)throw new TypeError;if(!(e<this.level)){var o=M(),a=N(t),s="";s+="%c["+this.tag+" - "+m[e]+"]%c",s+="%c[%s]%c ",a&&(s+="%c["+a+"]%c "),this.prefix&&(s+=this.prefix),s+=n;var d=[];d.push(s),d.push("color: #000000; background-color: "+w[e]),d.push("background-color: inherit"),d.push("color: #757575;"),d.push(D(o)),d.push("background-color: inherit"),a&&(d.push("color: "+y(t)),d.push("color: inherit")),d=d.concat(Array.prototype.slice.call(arguments,3)),console.info.apply(console,d)}}}},{key:"debugf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.DEBUG,e,t].concat(n)),z(i,p.DEBUG)}},{key:"infof",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.INFO,e,t].concat(n)),z(i,p.INFO)}},{key:"noticef",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.NOTICE,e,t].concat(n)),z(i,p.NOTICE)}},{key:"warningf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.WARNING,e,t].concat(n)),z(i,p.WARNING)}},{key:"errorf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.ERROR,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:2,event:"general_error_event",error:{name:t}}),z(i,p.ERROR)}},{key:"criticalf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.CRITICAL,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:2,event:"general_critical_event",error:{name:t}}),z(i,p.CRITICAL)}},{key:"alertf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.ALERT,e,t].concat(n)),z(i,p.ALERT)}},{key:"emergencyf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.EMERGENCY,e,t].concat(n)),z(i,p.EMERGENCY)}}],n&&o(t.prototype,n),a&&o(t,a),e}(),g={DEFAULT:0,DEBUG:1,INFO:2,NOTICE:3,WARNING:4,ERROR:5,CRITICAL:6,ALERT:7,EMERGENCY:8},p={DEBUG:0,INFO:1,NOTICE:2,WARNING:3,ERROR:4,CRITICAL:5,ALERT:6,EMERGENCY:7},m=(a={},(0,d.Z)(a,g.DEFAULT,"DFT"),(0,d.Z)(a,g.DEBUG,"DBG"),(0,d.Z)(a,g.INFO,"INF"),(0,d.Z)(a,g.NOTICE,"NTC"),(0,d.Z)(a,g.WARNING,"WRN"),(0,d.Z)(a,g.ERROR,"ERR"),(0,d.Z)(a,g.CRITICAL,"CRT"),(0,d.Z)(a,g.ALERT,"ALR"),(0,d.Z)(a,g.EMERGENCY,"EMR"),a),w=(s={},(0,d.Z)(s,g.DEFAULT,"#F5F5F5"),(0,d.Z)(s,g.DEBUG,"#BBDEFB"),(0,d.Z)(s,g.INFO,"#B3E5FC"),(0,d.Z)(s,g.NOTICE,"#DCEDC8"),(0,d.Z)(s,g.WARNING,"#FFE0B2"),(0,d.Z)(s,g.ERROR,"#FFCCBC"),(0,d.Z)(s,g.CRITICAL,"#E57373"),(0,d.Z)(s,g.ALERT,"#F06292"),(0,d.Z)(s,g.EMERGENCY,"#BA68C8"),s),b=["#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#37474F"],v=(new Date).getTime();function M(){return(new Date).getTime()-v}function N(e){return e&&e.id||null}function D(e){return e<1e3?Math.round(e).toString()+"ms":(e/1e3).toFixed(2)+"s"}function y(e){var t=N(e);return t?b[function(e){for(var t=2166136261,n=0;n<e.length;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(t)%b.length]:"#000000"}function X(e){return"number"==typeof e&&void 0!==m[e]}function z(e,t){if(e&&e.event&&e.sendToServer&&t&&(!e.sendPercentage||c.Z.commonUtils.getTrueByProbability(e.sendPercentage))){var n=Object.assign({},e,{severity:t});l.Y.fireEvent("sendLog",n)}}},302:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var i=new function(){this.events={},this.hasEventListener=function(e){return this.events.hasOwnProperty(e)},this.addEventListener=function(e,t){this.hasEventListener(e)?this.events[e].push(t):this.events[e]=[t]},this.removeEventListener=function(e,t){if(this.hasEventListener(e)){var n=this.events[e].indexOf(t);-1!=n&&this.events[e].splice(n,1)}},this.fireEvent=function(e,t,n,i){if(this.hasEventListener(e))for(var o=new r(e,t),a=this.events[e],s=a.length,d=0;d<s;d++){try{var c=a[d].call(n,o)}catch(e){console.error("CustomEvents - error in `fireEvent`:",e)}if(null!=c)return c;if(o.shouldStop)return}}},r=function(e,t){this.name=e,this.data=t,this.shouldStop=!1}},17:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var i={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},headerBiddingType:{prebid:1},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3},elementVisibility:{VISIBLE:"VISIBLE",HIDDEN:"HIDDEN",NOT_FOUND:"NOT_FOUND"},htmlElements:["HTMLScriptElement","HTMLElement","HTMLVideoElement","HTMLAudioElement","HTMLHtmlElement","HTMLHeadElement","HTMLLinkElement","HTMLStyleElement","HTMLBodyElement","HTMLFormElement","HTMLSelectElement","HTMLOptionElement","HTMLInputElement","HTMLTextAreaElement","HTMLButtonElement","HTMLLabelElement","HTMLFieldSetElement","HTMLLegendElement","HTMLUListElement","HTMLOListElement","HTMLDListElement","HTMLDirectoryElement","HTMLMenuElement","HTMLLIElement","HTMLDivElement","HTMLParagraphElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLFontElement","HTMLHRElement","HTMLAnchorElement","HTMLImageElement","HTMLObjectElement","HTMLParamElement","HTMLMapElement","HTMLModElement","HTMLAreaElement","HTMLTableElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement"]}},836:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=new function(){this.data={},this.setItem=function(e,t){this.data[e]=t},this.getItem=function(e){return this.data[e]},this.removeItem=function(e){delete this.data[e]},this.clearSharedObject=function(){this.data={}}},r=n(17),o=n(143);const a={SharedObject:i,consts:r.v,upoSettings:o.Im,whitelistingIFrame:undefined,cpbjs:undefined,uGoogletag:undefined}},143:(e,t,n)=>{"use strict";n.d(t,{VP:()=>r,k$:()=>o,Im:()=>a});var i="static.btloader.com",r="https://".concat(i,"/safeFrame.html?upapi=true"),o=!0,a={acceptableURLParam:"upapi=true",timeout:3e3,refreshTimeout:3e3,staticDomain:i,whitelistingIFrameSettings:{url:r,isOurOriginWhitelistingIFrame:o,publisherDomainWhitelistingIFrameCandidatesSrcs:["/robots.txt","/ads.txt"]},minTimeBetweenRefreshes:3e4,amazonBidderConfiguration:{enabled:!1,keepHbPb:!1},recoveryScriptVersion:"2.9.110-4-g8cb20e7"}},228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>prebidLoader});var _services__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(614),_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(836),prebidLoader=new function(){var subscriptionLayer=new _services__WEBPACK_IMPORTED_MODULE_0__.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){subscriptionLayer.subscribeForEvent(e,t)};var initPbjs=function initPbjs(){var prebidjsCode="LyogcHJlYmlkLmpzIHY1LjExLjAKVXBkYXRlZCA6IDIwMjEtMTEtMjMqLwohZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LnVwYmpzQ2h1bms7d2luZG93LnVwYmpzQ2h1bms9ZnVuY3Rpb24obixvLGEpe2Zvcih2YXIgYyx1LHMsZD0wLGY9W107ZDxuLmxlbmd0aDtkKyspdT1uW2RdLHJbdV0mJmYucHVzaChyW3VdWzBdKSxyW3VdPTA7Zm9yKGMgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxjKSYmKGVbY109b1tjXSk7Zm9yKHQmJnQobixvLGEpO2YubGVuZ3RoOylmLnNoaWZ0KCkoKTtpZihhKWZvcihkPTA7ZDxhLmxlbmd0aDtkKyspcz1pKGkucz1hW2RdKTtyZXR1cm4gc307dmFyIG49e30scj17MzQ3OjB9O2Z1bmN0aW9uIGkodCl7aWYoblt0XSlyZXR1cm4gblt0XS5leHBvcnRzO3ZhciByPW5bdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3RdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGkpLHIubD0hMCxyLmV4cG9ydHN9aS5tPWUsaS5jPW4saS5kPWZ1bmN0aW9uKGUsdCxuKXtpLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCwiYSIsdCksdH0saS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxpLnA9IiIsaS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9LGkoaS5zPTg3Nil9KHswOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJpbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksdC5nZXRQcmViaWRJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBffSxuLmQodCwiYmluZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV9KSksdC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPUQsdC5nZW5lcmF0ZVVVSUQ9Tix0LmdldEJpZElkUGFyYW1ldGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4iIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7aWYobilyZXR1cm4gZSt0KyI9IitlbmNvZGVVUklDb21wb25lbnQobikrIiYiO3JldHVybiBlfSx0LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PSIiO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Kz1uKyI9IitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkrIiYiKTtyZXR1cm4gdD10LnJlcGxhY2UoLyYkLywiIil9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD4wP3NlKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGRlKGUsdCkpKX0pKS5qb2luKCImIik6IiJ9LHQuZ2V0QWRVbml0U2l6ZXM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PVtdO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSl7dmFyIG49ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztBcnJheS5pc0FycmF5KG5bMF0pP3Q9bjp0LnB1c2gobil9ZWxzZSBBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiYoQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKT90PWUuc2l6ZXM6dC5wdXNoKGUuc2l6ZXMpKTtyZXR1cm4gdH0sdC5wYXJzZVNpemVzSW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj1lLnNwbGl0KCIsIikscj0vXihcZCkreChcZCkrJC9pO2lmKG4pZm9yKHZhciBpIGluIG4pdGUobixpKSYmbltpXS5tYXRjaChyKSYmdC5wdXNoKG5baV0pfWVsc2UgaWYoIm9iamVjdCI9PT1tKGUpKXt2YXIgbz1lLmxlbmd0aDtpZihvPjApaWYoMj09PW8mJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdKXQucHVzaChrKGUpKTtlbHNlIGZvcih2YXIgYT0wO2E8bzthKyspdC5wdXNoKGsoZVthXSkpfXJldHVybiB0fSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5PWssdC5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZT1mdW5jdGlvbihlKXtpZihQKGUpKXJldHVybnt3OmVbMF0saDplWzFdfX0sdC5nZXRXaW5kb3dUb3A9cSx0LmdldFdpbmRvd1NlbGY9TSx0LmdldFdpbmRvd0xvY2F0aW9uPUcsdC5sb2dNZXNzYWdlPVcsdC5sb2dJbmZvPUwsdC5sb2dXYXJuPUYsdC5sb2dFcnJvcj16LHQuaGFzQ29uc29sZUxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiBUfSx0LmRlYnVnVHVybmVkT249SCx0LmNyZWF0ZUludmlzaWJsZUlmcmFtZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBlLmlkPUQoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj0iMHB4IixlLmhzcGFjZT0iMCIsZS52c3BhY2U9IjAiLGUubWFyZ2luV2lkdGg9IjAiLGUubWFyZ2luSGVpZ2h0PSIwIixlLnN0eWxlLmJvcmRlcj0iMCIsZS5zY3JvbGxpbmc9Im5vIixlLmZyYW1lQm9yZGVyPSIwIixlLnNyYz0iYWJvdXQ6YmxhbmsiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsZX0sdC5nZXRQYXJhbWV0ZXJCeU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKEcoKS5zZWFyY2gpW2VdfHwiIn0sdC5pc0E9Syx0LmlzRm49Six0LmlzU3RyPVksdC5pc0FycmF5PVEsdC5pc051bWJlcj0kLHQuaXNQbGFpbk9iamVjdD1YLHQuaXNCb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBLKGUsIkJvb2xlYW4iKX0sdC5pc0VtcHR5PVosdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiBZKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9ZWUsdC5jb250YWlucz1mdW5jdGlvbihlLHQpe2lmKFooZSkpcmV0dXJuITE7aWYoSihlLmluZGV4T2YpKXJldHVybi0xIT09ZS5pbmRleE9mKHQpO3ZhciBuPWUubGVuZ3RoO2Zvcig7bi0tOylpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sdC5fbWFwPWZ1bmN0aW9uKGUsdCl7aWYoWihlKSlyZXR1cm5bXTtpZihKKGUubWFwKSlyZXR1cm4gZS5tYXAodCk7dmFyIG49W107cmV0dXJuIGVlKGUsKGZ1bmN0aW9uKHIsaSl7bi5wdXNoKHQocixpLGUpKX0pKSxufSx0Lmhhc093bj10ZSx0Lmluc2VydEVsZW1lbnQ9bmUsdC50cmlnZ2VyUGl4ZWw9cmUsdC5jYWxsQnVybD1mdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZSxuPWUuYnVybDt0PT09Uy5TMlMuU1JDJiZuJiZqLnRyaWdnZXJQaXhlbChuKX0sdC5pbnNlcnRIdG1sSW50b0lmcmFtZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7dC5pZD1EKCksdC53aWR0aD0wLHQuaGVpZ2h0PTAsdC5oc3BhY2U9IjAiLHQudnNwYWNlPSIwIix0Lm1hcmdpbldpZHRoPSIwIix0Lm1hcmdpbkhlaWdodD0iMCIsdC5zdHlsZS5kaXNwbGF5PSJub25lIix0LnN0eWxlLmhlaWdodD0iMHB4Iix0LnN0eWxlLndpZHRoPSIwcHgiLHQuc2Nyb2xsaW5nPSJubyIsdC5mcmFtZUJvcmRlcj0iMCIsdC5hbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSIsai5pbnNlcnRFbGVtZW50KHQsZG9jdW1lbnQsImJvZHkiKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShlKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKX0sdC5pbnNlcnRVc2VyU3luY0lmcmFtZT1pZSx0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiIiO2U9ZC5jKGUpO3ZhciB0PWVuY29kZVVSSShlKSxuPSc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O3Zpc2liaWxpdHk6aGlkZGVuOyI+JztyZXR1cm4gbis9JzxpbWcgc3JjPSInK3QrJyI+PC9kaXY+J30sdC5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbD1vZSx0LmdldFZhbHVlU3RyaW5nPWFlLHQudW5pcXVlcz1jZSx0LmZsYXR0ZW49dWUsdC5nZXRCaWRSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3ZhciBuO3JldHVybiB0LnNvbWUoKGZ1bmN0aW9uKHQpe3ZhciByPWMoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVyblsiYmlkSWQiLCJhZElkIiwiYmlkX2lkIl0uc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIHRbbl09PT1lfSkpfSkpO3JldHVybiByJiYobj1yKSxyfSkpLG59LHQuZ2V0S2V5cz1zZSx0LmdldFZhbHVlPWRlLHQuZ2V0S2V5QnlWYWx1ZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikmJmVbbl09PT10KXJldHVybiBufSx0LmdldEJpZGRlckNvZGVzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnVwYmpzLmFkVW5pdHM7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLnJlZHVjZSh1ZSxbXSl9KSkucmVkdWNlKHVlKS5maWx0ZXIoY2UpfSx0LmlzR3B0UHViYWRzRGVmaW5lZD1mZSx0LmlzQXBuR2V0VGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJkood2luZG93LmFwbnRhZy5nZXRUYWcpKXJldHVybiEwfSxuLmQodCwiZ2V0SGlnaGVzdENwbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlfSkpLG4uZCh0LCJnZXRPbGRlc3RIaWdoZXN0Q3BtQmlkIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksbi5kKHQsImdldExhdGVzdEhpZ2hlc3RDcG1CaWQiLChmdW5jdGlvbigpe3JldHVybiBnZX0pKSx0LnNodWZmbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7Zm9yKDt0PjA7KXt2YXIgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCk7dC0tO3ZhciByPWVbdF07ZVt0XT1lW25dLGVbbl09cn1yZXR1cm4gZX0sdC5hZFVuaXRzRmlsdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoKShlLHQmJnQuYWRVbml0Q29kZSl9LHQuZGVlcENsb25lPXZlLHQuaW5JZnJhbWU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGouZ2V0V2luZG93U2VsZigpIT09ai5nZXRXaW5kb3dUb3AoKX1jYXRjaChlKXtyZXR1cm4hMH19LHQuaXNTYWZhcmlCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuL14oKD8hY2hyb21lfGFuZHJvaWR8Y3Jpb3N8Znhpb3MpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sdC5yZXBsYWNlQXVjdGlvblByaWNlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wkXHtBVUNUSU9OX1BSSUNFXH0vZyx0KX0sdC5yZXBsYWNlQ2xpY2tUaHJvdWdoPWZ1bmN0aW9uKGUsdCl7aWYoIWV8fCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wke0NMSUNLVEhST1VHSH0vZyx0KX0sdC50aW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdC5nZXRQZXJmb3JtYW5jZU5vdz1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3cmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKXx8MH0sdC5oYXNEZXZpY2VBY2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PXIuYi5nZXRDb25maWcoImRldmljZUFjY2VzcyIpfSx0LmNoZWNrQ29va2llU3VwcG9ydD15ZSx0LmRlbGF5RXhlY3V0aW9uPWZ1bmN0aW9uKGUsdCl7aWYodDwxKXRocm93IG5ldyBFcnJvcigibnVtUmVxdWlyZWRDYWxscyBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBHb3QgIi5jb25jYXQodCkpO3ZhciBuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7KytuPT09dCYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0Lmdyb3VwQnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuKGVbblt0XV09ZVtuW3RdXXx8W10pLnB1c2gobiksZX0pLHt9KX0sdC5nZXREZWZpbmVkUGFyYW1zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGgodCx5KHt9LG4sZVtuXSkpfSkse30pfSx0LmlzVmFsaWRNZWRpYVR5cGVzPWZ1bmN0aW9uKGUpe3ZhciB0PVsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXTtpZighT2JqZWN0LmtleXMoZSkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBzKCkodCxlKX0pKSlyZXR1cm4hMTtpZihlLnZpZGVvJiZlLnZpZGVvLmNvbnRleHQpcmV0dXJuIHMoKShbImluc3RyZWFtIiwib3V0c3RyZWFtIiwiYWRwb2QiXSxlLnZpZGVvLmNvbnRleHQpO3JldHVybiEwfSx0LmdldEJpZGRlclJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXQmJighbnx8ZS5hZFVuaXRDb2RlPT09bil9KSkubGVuZ3RoPjB9KSl8fHtzdGFydDpudWxsLGF1Y3Rpb25JZDpudWxsfX0sdC5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlPT09dH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHN9KSkucmVkdWNlKHVlLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PW59KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXN8fHt9fSkpfSx0LmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luP3dpbmRvdy5sb2NhdGlvbi5vcmlnaW46d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKyh3aW5kb3cubG9jYXRpb24ucG9ydD8iOiIrd2luZG93LmxvY2F0aW9uLnBvcnQ6IiIpfSx0LmdldEROVD1mdW5jdGlvbigpe3JldHVybiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja30sdC5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBoZShlLHQpfX0sdC5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGU9bWUsdC5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7dmFyIHQ7ZmUoKSYmKHQ9YygpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxtZShlKSkpO2lmKHQpcmV0dXJue2dwdFNsb3Q6dC5nZXRBZFVuaXRQYXRoKCksZGl2SWQ6dC5nZXRTbG90RWxlbWVudElkKCl9O3JldHVybnt9fSx0LnVuc3VwcG9ydGVkQmlkZGVyTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pLmpvaW4oIiwgIik7cmV0dXJuIlxuICAgICIuY29uY2F0KGUuY29kZSwiIGlzIGEgIikuY29uY2F0KG4sIiBhZCB1bml0XG4gICAgY29udGFpbmluZyBiaWRkZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCAiKS5jb25jYXQobiwiOiAiKS5jb25jYXQodCwiLlxuICAgIFRoaXMgYmlkZGVyIHdvbid0IGZldGNoIGRlbWFuZC5cbiAgIil9LHQuaXNJbnRlZ2VyPVNlLHQuY29udmVydENhbWVsVG9VbmRlcnNjb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg/Ol58XC4/KShbQS1aXSkvZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4iXyIrdC50b0xvd2VyQ2FzZSgpfSkpLnJlcGxhY2UoL15fLywiIil9LHQuY2xlYW5PYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09ZVtuXSYmKHRbbl09ZVtuXSksdH0pLHt9KX0sdC5waWNrPWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPT1tKGUpKXJldHVybnt9O3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24obixyLGkpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByKXJldHVybiBuO3ZhciBvPXIsYT1yLm1hdGNoKC9eKC4rPylcc2FzXHMoLis/KSQvaSk7YSYmKHI9YVsxXSxvPWFbMl0pO3ZhciBjPWVbcl07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRbaSsxXSYmKGM9dFtpKzFdKGMsbikpLHZvaWQgMCE9PWMmJihuW29dPWMpLG59KSx7fSl9LHQudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3Jkcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImtleXdvcmRzIixuPVtdO3JldHVybiBlZShlLChmdW5jdGlvbihlLHIpe2lmKFEoZSkpe3ZhciBpPVtdO2VlKGUsKGZ1bmN0aW9uKGUpeygoZT1hZSh0KyIuIityLGUpKXx8IiI9PT1lKSYmaS5wdXNoKGUpfSkpLGU9aX1lbHNle2lmKCFZKGU9YWUodCsiLiIrcixlKSkpcmV0dXJuO2U9W2VdfW4ucHVzaCh7a2V5OnIsdmFsdWU6ZX0pfSkpLG59LHQuY29udmVydFR5cGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByLGk7dFtuXSYmKEooZVtuXSk/dFtuXT1lW25dKHRbbl0pOnRbbl09KHI9ZVtuXSxpPXRbbl0sInN0cmluZyI9PT1yP2kmJmkudG9TdHJpbmcoKToibnVtYmVyIj09PXI/TnVtYmVyKGkpOmkpLGlzTmFOKHRbbl0pJiZkZWxldGUgdC5rZXkpfSkpLHR9LHQuaXNBcnJheU9mTnVtcz1mdW5jdGlvbihlLHQpe3JldHVybiBRKGUpJiYoIXR8fGUubGVuZ3RoPT09dCkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBTZShlKX0pKX0sdC5maWxsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPHQ7cisrKXt2YXIgaT1YKGUpP3ZlKGUpOmU7bi5wdXNoKGkpfXJldHVybiBufSx0LmNodW5rPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPE1hdGguY2VpbChlLmxlbmd0aC90KTtyKyspe3ZhciBpPXIqdCxvPWkrdDtuLnB1c2goZS5zbGljZShpLG8pKX1yZXR1cm4gbn0sdC5nZXRNaW5WYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxnKGUpKX0sdC5nZXRNYXhWYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxnKGUpKX0sdC5jb21wYXJlT249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbZV08bltlXT8xOnRbZV0+bltlXT8tMTowfX0sdC5wYXJzZVFTPUVlLHQuZm9ybWF0UVM9QWUsdC5wYXJzZVVybD1mdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTt0JiYibm9EZWNvZGVXaG9sZVVSTCJpbiB0JiZ0Lm5vRGVjb2RlV2hvbGVVUkw/bi5ocmVmPWU6bi5ocmVmPWRlY29kZVVSSUNvbXBvbmVudChlKTt2YXIgcj10JiYiZGVjb2RlU2VhcmNoQXNTdHJpbmciaW4gdCYmdC5kZWNvZGVTZWFyY2hBc1N0cmluZztyZXR1cm57aHJlZjpuLmhyZWYscHJvdG9jb2w6KG4ucHJvdG9jb2x8fCIiKS5yZXBsYWNlKC86JC8sIiIpLGhvc3RuYW1lOm4uaG9zdG5hbWUscG9ydDorbi5wb3J0LHBhdGhuYW1lOm4ucGF0aG5hbWUucmVwbGFjZSgvXig/IVwvKS8sIi8iKSxzZWFyY2g6cj9uLnNlYXJjaDpqLnBhcnNlUVMobi5zZWFyY2h8fCIiKSxoYXNoOihuLmhhc2h8fCIiKS5yZXBsYWNlKC9eIy8sIiIpLGhvc3Q6bi5ob3N0fHx3aW5kb3cubG9jYXRpb24uaG9zdH19LHQuYnVpbGRVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuKGUucHJvdG9jb2x8fCJodHRwIikrIjovLyIrKGUuaG9zdHx8ZS5ob3N0bmFtZSsoZS5wb3J0PyI6Ii5jb25jYXQoZS5wb3J0KToiIikpKyhlLnBhdGhuYW1lfHwiIikrKGUuc2VhcmNoPyI/Ii5jb25jYXQoai5mb3JtYXRRUyhlLnNlYXJjaHx8IiIpKToiIikrKGUuaGFzaD8iIyIuY29uY2F0KGUuaGFzaCk6IiIpfSx0LmRlZXBFcXVhbD1UZSx0Lm1lcmdlRGVlcD1mdW5jdGlvbiBlKHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksaT0xO2k8bjtpKyspcltpLTFdPWFyZ3VtZW50c1tpXTtpZighci5sZW5ndGgpcmV0dXJuIHQ7dmFyIG89ci5zaGlmdCgpO2lmKFgodCkmJlgobykpZm9yKHZhciBhIGluIG8pWChvW2FdKT8odFthXXx8aCh0LHkoe30sYSx7fSkpLGUodFthXSxvW2FdKSk6UShvW2FdKSYmdFthXT9RKHRbYV0pJiYodFthXT10W2FdLmNvbmNhdChvW2FdKSk6aCh0LHkoe30sYSxvW2FdKSk7cmV0dXJuIGUuYXBwbHkodm9pZCAwLFt0XS5jb25jYXQocikpfSx0LmN5cmI1M0hhc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscj1mdW5jdGlvbihlLHQpe2lmKEooTWF0aC5pbXVsKSlyZXR1cm4gTWF0aC5pbXVsKGUsdCk7dmFyIG49KDQxOTQzMDMmZSkqKHR8PTApO3JldHVybiA0MjkwNzcyOTkyJmUmJihuKz0oNDI5MDc3Mjk5MiZlKSp0fDApLDB8bn0saT0zNzM1OTI4NTU5Xm4sbz0xMTAzNTQ3OTkxXm4sYT0wO2E8ZS5sZW5ndGg7YSsrKXQ9ZS5jaGFyQ29kZUF0KGEpLGk9cihpXnQsMjY1NDQzNTc2MSksbz1yKG9edCwxNTk3MzM0Njc3KTtyZXR1cm4gaT1yKGleaT4+PjE2LDIyNDY4MjI1MDcpXnIob15vPj4+MTMsMzI2NjQ4OTkwOSksKDQyOTQ5NjcyOTYqKDIwOTcxNTEmKG89cihvXm8+Pj4xNiwyMjQ2ODIyNTA3KV5yKGleaT4+PjEzLDMyNjY0ODk5MDkpKSkrKGk+Pj4wKSkudG9TdHJpbmcoKX07dmFyIHI9bigzKSxpPW4oMTY2KSxvPW4ubihpKSxhPW4oMTEpLGM9bi5uKGEpLHU9bigxMikscz1uLm4odSksZD1uKDU1KSxmPW4oMTY3KTtuLmQodCwiZGVlcEFjY2VzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGYuYX0pKTt2YXIgbD1uKDE2OCk7ZnVuY3Rpb24gcChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGIoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxiKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGIoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT92KGUsdCk6dm9pZCAwfX1mdW5jdGlvbiB2KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24geShlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfW4uZCh0LCJkZWVwU2V0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIFM9big1KSxFPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsQT1Cb29sZWFuKHdpbmRvdy5jb25zb2xlKSxUPUJvb2xlYW4oQSYmd2luZG93LmNvbnNvbGUubG9nKSxPPUJvb2xlYW4oQSYmd2luZG93LmNvbnNvbGUuaW5mbyksST1Cb29sZWFuKEEmJndpbmRvdy5jb25zb2xlLndhcm4pLHc9Qm9vbGVhbihBJiZ3aW5kb3cuY29uc29sZS5lcnJvciksQz1uKDkpLGo9e2NoZWNrQ29va2llU3VwcG9ydDp5ZSxjcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbDpvZSxnZXRXaW5kb3dTZWxmOk0sZ2V0V2luZG93VG9wOnEsZ2V0V2luZG93TG9jYXRpb246RyxpbnNlcnRVc2VyU3luY0lmcmFtZTppZSxpbnNlcnRFbGVtZW50Om5lLGlzRm46Six0cmlnZ2VyUGl4ZWw6cmUsbG9nRXJyb3I6eixsb2dXYXJuOkYsbG9nTWVzc2FnZTpXLGxvZ0luZm86TCxwYXJzZVFTOkVlLGZvcm1hdFFTOkFlLGRlZXBFcXVhbDpUZX0sXz17fTt2YXIgUixCPXt9LFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0uYmluZChudWxsLDEsQikoKT09PUI/RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLG4uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKX19LHg9KFI9MCxmdW5jdGlvbigpe3JldHVybisrUn0pO2Z1bmN0aW9uIEQoKXtyZXR1cm4geCgpK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cigyKX1mdW5jdGlvbiBOKGUpe3JldHVybiBlPyhlXih3aW5kb3cmJndpbmRvdy5jcnlwdG8mJndpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzP2NyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdJTE2OjE2Kk1hdGgucmFuZG9tKCkpPj5lLzQpLnRvU3RyaW5nKDE2KTooWzFlN10rLTFlMystNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csTil9ZnVuY3Rpb24gayhlKXtpZihQKGUpKXJldHVybiBlWzBdKyJ4IitlWzFdfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIFEoZSkmJjI9PT1lLmxlbmd0aCYmIWlzTmFOKGVbMF0pJiYhaXNOYU4oZVsxXSl9ZnVuY3Rpb24gcSgpe3JldHVybiB3aW5kb3cudG9wfWZ1bmN0aW9uIE0oKXtyZXR1cm4gd2luZG93LnNlbGZ9ZnVuY3Rpb24gRygpe3JldHVybiB3aW5kb3cubG9jYXRpb259ZnVuY3Rpb24gVygpe0goKSYmVCYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxWKGFyZ3VtZW50cywiTUVTU0FHRToiKSl9ZnVuY3Rpb24gTCgpe0goKSYmTyYmY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIklORk86IikpfWZ1bmN0aW9uIEYoKXtIKCkmJkkmJmNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLFYoYXJndW1lbnRzLCJXQVJOSU5HOiIpKSxDLmVtaXQoUy5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiV0FSTklORyIsYXJndW1lbnRzOmFyZ3VtZW50c30pfWZ1bmN0aW9uIHooKXtIKCkmJncmJmNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSxWKGFyZ3VtZW50cywiRVJST1I6IikpLEMuZW1pdChTLkVWRU5UUy5BVUNUSU9OX0RFQlVHLHt0eXBlOiJFUlJPUiIsYXJndW1lbnRzOmFyZ3VtZW50c30pfWZ1bmN0aW9uIFYoZSx0KXtlPVtdLnNsaWNlLmNhbGwoZSk7dmFyIG49ci5iLmdldEN1cnJlbnRCaWRkZXIoKTtyZXR1cm4gdCYmZS51bnNoaWZ0KHQpLG4mJmUudW5zaGlmdChpKCIjYWFhIikpLGUudW5zaGlmdChpKCIjM2I4OGMzIikpLGUudW5zaGlmdCgiJWNQcmViaWQiKyhuPyIlYyIuY29uY2F0KG4pOiIiKSksZTtmdW5jdGlvbiBpKGUpe3JldHVybiJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kOiAiLmNvbmNhdChlLCI7IHBhZGRpbmc6IDFweCA0cHg7IGJvcmRlci1yYWRpdXM6IDNweDsiKX19ZnVuY3Rpb24gSCgpe3JldHVybiEhci5iLmdldENvbmZpZygiZGVidWciKX1mdW5jdGlvbiBLKGUsdCl7cmV0dXJuIEUuY2FsbChlKT09PSJbb2JqZWN0ICIrdCsiXSJ9ZnVuY3Rpb24gSihlKXtyZXR1cm4gSyhlLCJGdW5jdGlvbiIpfWZ1bmN0aW9uIFkoZSl7cmV0dXJuIEsoZSwiU3RyaW5nIil9ZnVuY3Rpb24gUShlKXtyZXR1cm4gSyhlLCJBcnJheSIpfWZ1bmN0aW9uICQoZSl7cmV0dXJuIEsoZSwiTnVtYmVyIil9ZnVuY3Rpb24gWChlKXtyZXR1cm4gSyhlLCJPYmplY3QiKX1mdW5jdGlvbiBaKGUpe2lmKCFlKXJldHVybiEwO2lmKFEoZSl8fFkoZSkpcmV0dXJuIShlLmxlbmd0aD4wKTtmb3IodmFyIHQgaW4gZSlpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZWUoZSx0KXtpZighWihlKSl7aWYoSihlLmZvckVhY2gpKXJldHVybiBlLmZvckVhY2godCx0aGlzKTt2YXIgbj0wLHI9ZS5sZW5ndGg7aWYocj4wKWZvcig7bjxyO24rKyl0KGVbbl0sbixlKTtlbHNlIGZvcihuIGluIGUpaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmNhbGwodGhpcyxlW25dLG4pfX1mdW5jdGlvbiB0ZShlLHQpe3JldHVybiBlLmhhc093blByb3BlcnR5P2UuaGFzT3duUHJvcGVydHkodCk6dm9pZCAwIT09ZVt0XSYmZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbdF0hPT1lW3RdfWZ1bmN0aW9uIG5lKGUsdCxuLHIpe3ZhciBpO2UmJmUuc3JjJiYoZS5zcmM9ZC5jKGUuc3JjKSksdD10fHxkb2N1bWVudCxpPW4/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTp0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIik7dHJ5e2lmKChpPWkubGVuZ3RoP2k6dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpKS5sZW5ndGgpe2k9aVswXTt2YXIgbz1yP251bGw6aS5maXJzdENoaWxkO3JldHVybiBpLmluc2VydEJlZm9yZShlLG8pfX1jYXRjaChlKXt9fWZ1bmN0aW9uIHJlKGUsdCl7dmFyIG49TigpLHI9e2V2ZW50OiJ1c2VyLXN5bmMiLG1ldGE6e2ZpcmVkOiEwLHVpZDpufX07ZC5lKG51bGwsInRyaWdnZXJpbmctcGl4ZWwtZmlyZWQiLFtdLHIpLGQuYSgpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBpPXIuZnJhbWU7aWYoci5pc0JUU2FmZUZyYW1lRG9tYWluKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIGUobil7aWYobi5zb3VyY2U9PT1pLmNvbnRlbnRXaW5kb3cpe3ZhciByO3RyeXtyPUpTT04ucGFyc2Uobi5kYXRhKX1jYXRjaChlKXt9ciYmImRvbmVUcmlnZ2VyaW5nUGl4ZWwiPT1yLnR5cGUmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSksdCYmai5pc0ZuKHQpJiZ0KCkpfX0pKTt2YXIgbz0ibGV0IGltZyA9IG5ldyBJbWFnZSgpOyBmdW5jdGlvbiBkb25lKCkgeyB0b3AucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImRvbmVUcmlnZ2VyaW5nUGl4ZWxcIiB9LCBcIipcIikgfTsgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb25lKTsgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZG9uZSk7IGltZy5zcmMgPSBhdG9iKCciK2J0b2EoZSkrIicpOyI7aS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHt0eXBlOiJldmFsIixjb2RlOm99LCIqIik7dmFyIGE9e2V2ZW50OiJ1c2VyLXN5bmMiLG1ldGE6e3N1Y2Nlc3M6ITAsdWlkOm59fTtkLmUobnVsbCwidHJpZ2dlcmluZy1waXhlbC1zdWNjZXNzIixbXSxhKX1lbHNle3ZhciBjPW5ldyBpLmNvbnRlbnRXaW5kb3cuSW1hZ2U7dCYmai5pc0ZuKHQpJiYoYy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0KSxjLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIix0KSksYy5zcmM9ZX19KSl9ZnVuY3Rpb24gaWUoZSx0KXt2YXIgbj1qLmNyZWF0ZVRyYWNrUGl4ZWxJZnJhbWVIdG1sKGUsITEsImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW4iKSxyPU4oKSxpPXtldmVudDoidXNlci1zeW5jIixtZXRhOntmaXJlZDohMCx1aWQ6cn19O2QuZShudWxsLCJpbnNlcnQtdXNlci1zeW5jLWlmcmFtZS1maXJlZCIsW10saSksZC5hKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGk9ZS5mcmFtZTtpZihlLmlzQlRTYWZlRnJhbWVEb21haW4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24gZShuKXtpZihuLnNvdXJjZT09PWkuY29udGVudFdpbmRvdyl7dmFyIHI7dHJ5e3I9SlNPTi5wYXJzZShuLmRhdGEpfWNhdGNoKGUpe31yJiYiZG9uZVRyaWdnZXJpbmdQaXhlbCI9PXIudHlwZSYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKSx0JiZqLmlzRm4odCkmJnQoKSl9fSkpO3ZhciBvPSJsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IGRpdi5pbm5lckhUTUwgPSBhdG9iKCciK2J0b2EobikrIicpOyBsZXQgaWZyYW1lID0gZGl2LmZpcnN0Q2hpbGQ7IGZ1bmN0aW9uIGRvbmUoKSB7IHRvcC5wb3N0TWVzc2FnZSh7IHR5cGU6IFwiZG9uZVRyaWdnZXJpbmdQaXhlbFwiIH0sIFwiKlwiKSB9OyBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvbmUpOyBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBkb25lKTsgdHJ5IHsgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXS5pbnNlcnRCZWZvcmUoaWZyYW1lLCBudWxsKTsgfSBjYXRjaCAoZXJyKSB7IH0iO2kuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToiZXZhbCIsY29kZTpvfSwiKiIpO3ZhciBhPXtldmVudDoidXNlci1zeW5jIixtZXRhOntzdWNjZXNzOiEwLHVpZDpyfX07ZC5lKG51bGwsImluc2VydC11c2VyLXN5bmMtaWZyYW1lLXN1Y2Nlc3MiLFtdLGEpfWVsc2V7dmFyIGM9aS5jb250ZW50V2luZG93LmRvY3VtZW50LHU9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTt1LmlubmVySFRNTD1uO3ZhciBzPXUuZmlyc3RDaGlsZDt0JiZqLmlzRm4odCkmJihzLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHQpLHMuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLHQpKSxqLmluc2VydEVsZW1lbnQocyxjLCJodG1sIiwhMCl9fSkpfWZ1bmN0aW9uIG9lKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0sbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06IiI7cmV0dXJuIGU/KHQmJihlPWVuY29kZVVSSShlKSksbiYmKG49J3NhbmRib3g9IicuY29uY2F0KG4sJyInKSksIjxpZnJhbWUgIi5jb25jYXQobiwnIGlkPSInKS5jb25jYXQoRCgpLCciXG4gICAgICBmcmFtZWJvcmRlcj0iMCJcbiAgICAgIGFsbG93dHJhbnNwYXJlbmN5PSJ0cnVlIlxuICAgICAgbWFyZ2luaGVpZ2h0PSIwIiBtYXJnaW53aWR0aD0iMCJcbiAgICAgIHdpZHRoPSIwIiBoc3BhY2U9IjAiIHZzcGFjZT0iMCIgaGVpZ2h0PSIwIlxuICAgICAgc3R5bGU9ImhlaWdodDowcHg7d2lkdGg6MHB4O2Rpc3BsYXk6bm9uZTsiXG4gICAgICBzY3JvbGxpbmc9Im5vIlxuICAgICAgc3JjPSInKS5jb25jYXQoZSwnIj5cbiAgICA8L2lmcmFtZT4nKSk6IiJ9ZnVuY3Rpb24gYWUoZSx0LG4pe3JldHVybiBudWxsPT10P246WSh0KT90OiQodCk/dC50b1N0cmluZygpOnZvaWQgai5sb2dXYXJuKCJVbnN1cG9ydGVkIHR5cGUgZm9yIHBhcmFtOiAiK2UrIiByZXF1aXJlZCB0eXBlOiBTdHJpbmciKX1mdW5jdGlvbiBjZShlLHQsbil7cmV0dXJuIG4uaW5kZXhPZihlKT09PXR9ZnVuY3Rpb24gdWUoZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9ZnVuY3Rpb24gc2UoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpfWZ1bmN0aW9uIGRlKGUsdCl7cmV0dXJuIGVbdF19ZnVuY3Rpb24gZmUoKXtpZih3aW5kb3cuZ29vZ2xldGFnJiZKKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKSYmSih3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKSlyZXR1cm4hMH12YXIgbGU9YmUoInRpbWVUb1Jlc3BvbmQiLChmdW5jdGlvbihlLHQpe3JldHVybiBlPnR9KSkscGU9YmUoInJlc3BvbnNlVGltZXN0YW1wIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT50fSkpLGdlPWJlKCJyZXNwb25zZVRpbWVzdGFtcCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU8dH0pKTtmdW5jdGlvbiBiZShlLHQpe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBuLmNwbT09PXIuY3BtP3QobltlXSxyW2VdKT9yOm46bi5jcG08ci5jcG0/cjpufX1mdW5jdGlvbiB2ZShlKXtyZXR1cm4gbygpKGUpfWZ1bmN0aW9uIHllKCl7aWYod2luZG93Lm5hdmlnYXRvci5jb29raWVFbmFibGVkfHxkb2N1bWVudC5jb29raWUubGVuZ3RoKXJldHVybiEwfXZhciBoZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmdldEFkVW5pdFBhdGgoKT09PXR8fGUuZ2V0U2xvdEVsZW1lbnRJZCgpPT09dH07ZnVuY3Rpb24gbWUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBoZSh0LGUpfX1mdW5jdGlvbiBTZShlKXtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcj9OdW1iZXIuaXNJbnRlZ2VyKGUpOiJudW1iZXIiPT10eXBlb2YgZSYmaXNGaW5pdGUoZSkmJk1hdGguZmxvb3IoZSk9PT1lfWZ1bmN0aW9uIEVlKGUpe3JldHVybiBlP2UucmVwbGFjZSgvXlw/LywiIikuc3BsaXQoIiYiKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49cCh0LnNwbGl0KCI9IiksMikscj1uWzBdLGk9blsxXTtyZXR1cm4vXFtcXSQvLnRlc3Qocik/KGVbcj1yLnJlcGxhY2UoIltdIiwiIildPWVbcl18fFtdLGVbcl0ucHVzaChpKSk6ZVtyXT1pfHwiIixlfSkse30pOnt9fWZ1bmN0aW9uIEFlKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KGVbdF0pP2VbdF0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQodCwiW109IikuY29uY2F0KGUpfSkpLmpvaW4oIiYiKToiIi5jb25jYXQodCwiPSIpLmNvbmNhdChlW3RdKX0pKS5qb2luKCImIil9ZnVuY3Rpb24gVGUoZSx0KXtpZihlPT09dClyZXR1cm4hMDtpZigib2JqZWN0Ij09PW0oZSkmJm51bGwhPT1lJiYib2JqZWN0Ij09PW0odCkmJm51bGwhPT10KXtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGghPT1PYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuIGluIGUpe2lmKCF0Lmhhc093blByb3BlcnR5KG4pKXJldHVybiExO2lmKCFUZShlW25dLHRbbl0pKXJldHVybiExfXJldHVybiEwfXJldHVybiExfX0sMTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwic3RvcmFnZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSksdC5yZWdpc3RlckJpZGRlcj1mdW5jdGlvbihlKXt2YXIgdD1BcnJheS5pc0FycmF5KGUuc3VwcG9ydGVkTWVkaWFUeXBlcyk/e3N1cHBvcnRlZE1lZGlhVHlwZXM6ZS5zdXBwb3J0ZWRNZWRpYVR5cGVzfTp2b2lkIDA7ZnVuY3Rpb24gbihlKXt2YXIgbj1DKGUpO2kuZGVmYXVsdC5yZWdpc3RlckJpZEFkYXB0ZXIobixlLmNvZGUsdCl9bihlKSxBcnJheS5pc0FycmF5KGUuYWxpYXNlcykmJmUuYWxpYXNlcy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcixvLGE9dDtPYmplY3QoeS5pc1BsYWluT2JqZWN0KSh0KSYmKGE9dC5jb2RlLHI9dC5ndmxpZCxvPXQuc2tpcFBic0FsaWFzaW5nKSxpLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVthXT1lLmNvZGUsbihPKHt9LGUse2NvZGU6YSxndmxpZDpyLHNraXBQYnNBbGlhc2luZzpvfSkpfSkpfSx0Lm5ld0JpZGRlcj1DLG4uZCh0LCJyZWdpc3RlclN5bmNJbm5lciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksdC5wcmVsb2FkQmlkZGVyTWFwcGluZ0ZpbGU9Xyx0LmdldElhYlN1YkNhdGVnb3J5PWZ1bmN0aW9uKGUsdCl7dmFyIG49aS5kZWZhdWx0LmdldEJpZEFkYXB0ZXIoZSk7aWYobi5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKXt2YXIgcj1uLmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8oKSxvPXIubG9jYWxTdG9yYWdlS2V5P3IubG9jYWxTdG9yYWdlS2V5Om4uZ2V0QmlkZGVyQ29kZSgpLGE9SS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShvKTtpZihhKXt0cnl7YT1KU09OLnBhcnNlKGEpfWNhdGNoKHQpe09iamVjdCh5LmxvZ0Vycm9yKSgiRmFpbGVkIHRvIHBhcnNlICIuY29uY2F0KGUsIiBtYXBwaW5nIGRhdGEgc3RvcmVkIGluIGxvY2FsIHN0b3JhZ2UiKSl9cmV0dXJuIGEubWFwcGluZ1t0XT9hLm1hcHBpbmdbdF06bnVsbH19fSx0LmlzVmFsaWQ9Ujt2YXIgcj1uKDc3KSxpPW4oOCksbz1uKDMpLGE9big0MiksYz1uKDU2KSx1PW4oMzYpLHM9bigyMiksZD1uKDUpLGY9bi5uKGQpLGw9big5KSxwPW4ubihsKSxnPW4oMTIpLGI9bi5uKGcpLHY9big0KSx5PW4oMCksaD1uKDIpLG09bigxMCksUz1uKDcpO2Z1bmN0aW9uIEUoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIEEoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIEEoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIEEoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBUKGUpe3JldHVybihUPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gTygpe3JldHVybihPPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEk9T2JqZWN0KFMuYSkoImJpZGRlckZhY3RvcnkiKSx3PVsicmVxdWVzdElkIiwiY3BtIiwidHRsIiwiY3JlYXRpdmVJZCIsIm5ldFJldmVudWUiLCJjdXJyZW5jeSJdO2Z1bmN0aW9uIEMoZSl7cmV0dXJuIE8obmV3IHIuYShlLmNvZGUpLHtnZXRTcGVjOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5mcmVlemUoZSl9LHJlZ2lzdGVyU3luY3M6dCxjYWxsQmlkczpmdW5jdGlvbihyLGksYyx1LHMsZCl7aWYoQXJyYXkuaXNBcnJheShyLmJpZHMpKXt2YXIgbD17fSxnPVtdLGI9ci5iaWRzLmZpbHRlcihuKTtpZigwIT09Yi5sZW5ndGgpe3ZhciB2PXt9O2IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dltlLmJpZElkXT1lLGUuYWRVbml0Q29kZXx8KGUuYWRVbml0Q29kZT1lLnBsYWNlbWVudENvZGUpfSkpO3ZhciBoPWUuYnVpbGRSZXF1ZXN0cyhiLHIpO2lmKGgmJjAhPT1oLmxlbmd0aCl7QXJyYXkuaXNBcnJheShoKXx8KGg9W2hdKTt2YXIgbT1PYmplY3QoeS5kZWxheUV4ZWN1dGlvbikoZChTKSxoLmxlbmd0aCk7aC5mb3JFYWNoKChmdW5jdGlvbih0KXtzd2l0Y2godC5tZXRob2Qpe2Nhc2UiR0VUIjp1KCIiLmNvbmNhdCh0LnVybCkuY29uY2F0KGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIj8iLmNvbmNhdCgib2JqZWN0Ij09PVQoZSk/T2JqZWN0KHkucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMpKGUpOmUpO3JldHVybiIifSh0LmRhdGEpKSx7c3VjY2VzczpkKG4pLGVycm9yOm99LHZvaWQgMCxPKHttZXRob2Q6IkdFVCIsd2l0aENyZWRlbnRpYWxzOiEwfSx0Lm9wdGlvbnMpKTticmVhaztjYXNlIlBPU1QiOnUodC51cmwse3N1Y2Nlc3M6ZChuKSxlcnJvcjpvfSwic3RyaW5nIj09dHlwZW9mIHQuZGF0YT90LmRhdGE6SlNPTi5zdHJpbmdpZnkodC5kYXRhKSxPKHttZXRob2Q6IlBPU1QiLGNvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9LHQub3B0aW9ucykpO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KHkubG9nV2FybikoIlNraXBwaW5nIGludmFsaWQgcmVxdWVzdCBmcm9tICIuY29uY2F0KGUuY29kZSwiLiBSZXF1ZXN0IHR5cGUgIikuY29uY2F0KHQudHlwZSwiIG11c3QgYmUgR0VUIG9yIFBPU1QiKSksbSgpfWZ1bmN0aW9uIG4obixvKXtzKGUuY29kZSk7dHJ5e249SlNPTi5wYXJzZShuKX1jYXRjaChlKXt9dmFyIGM7bj17Ym9keTpuLGhlYWRlcnM6e2dldDpvLmdldFJlc3BvbnNlSGVhZGVyLmJpbmQobyl9fSxnLnB1c2gobik7dHJ5e2M9ZS5pbnRlcnByZXRSZXNwb25zZShuLHQpfWNhdGNoKHQpe3JldHVybiBPYmplY3QoeS5sb2dFcnJvcikoIkJpZGRlciAiLmNvbmNhdChlLmNvZGUsIiBmYWlsZWQgdG8gaW50ZXJwcmV0IHRoZSBzZXJ2ZXIncyByZXNwb25zZS4gQ29udGludWluZyB3aXRob3V0IGJpZHMiKSxudWxsLHQpLHZvaWQgbSgpfWZ1bmN0aW9uIHUodCl7dmFyIG49dlt0LnJlcXVlc3RJZF07aWYobil7dC5vcmlnaW5hbENwbT10LmNwbSx0Lm9yaWdpbmFsQ3VycmVuY3k9dC5jdXJyZW5jeSx0Lm1ldGE9dC5tZXRhfHxPKHt9LHRbbi5iaWRkZXJdKTt2YXIgbz1PKE9iamVjdChhLmEpKGYuYS5TVEFUVVMuR09PRCxuKSx0KTshZnVuY3Rpb24oZSx0KXtsW2VdPSEwLFIoZSx0LFtyXSkmJmkoZSx0KX0obi5hZFVuaXRDb2RlLG8pfWVsc2UgT2JqZWN0KHkubG9nV2FybikoIkJpZGRlciAiLmNvbmNhdChlLmNvZGUsIiBtYWRlIGJpZCBmb3IgdW5rbm93biByZXF1ZXN0IElEOiAiKS5jb25jYXQodC5yZXF1ZXN0SWQsIi4gSWdub3JpbmcuIikpfWMmJihPYmplY3QoeS5pc0FycmF5KShjKT9jLmZvckVhY2godSk6dShjKSksbShjKX1mdW5jdGlvbiBvKHQpe3MoZS5jb2RlKSxPYmplY3QoeS5sb2dFcnJvcikoIlNlcnZlciBjYWxsIGZvciAiLmNvbmNhdChlLmNvZGUsIiBmYWlsZWQ6ICIpLmNvbmNhdCh0LCIuIENvbnRpbnVpbmcgd2l0aG91dCBiaWRzLiIpKSxtKCl9fSkpfWVsc2UgUygpfWVsc2UgUygpfWZ1bmN0aW9uIFMoKXtjKCksby5iLnJ1bldpdGhCaWRkZXIoZS5jb2RlLChmdW5jdGlvbigpe3AuYS5lbWl0KGYuYS5FVkVOVFMuQklEREVSX0RPTkUsciksdChnLHIuZ2RwckNvbnNlbnQsci51c3BDb25zZW50KX0pKX19fSk7ZnVuY3Rpb24gdCh0LG4scil7aihlLHQsbixyKX1mdW5jdGlvbiBuKHQpe3JldHVybiEhZS5pc0JpZFJlcXVlc3RWYWxpZCh0KXx8KE9iamVjdCh5LmxvZ1dhcm4pKCJJbnZhbGlkIGJpZCBzZW50IHRvIGJpZGRlciAiLmNvbmNhdChlLmNvZGUsIjogIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSksITEpfX12YXIgaj1PYmplY3QobS5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbixyKXt2YXIgYT1vLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYy5hbGlhc1N5bmNFbmFibGVkIik7aWYoZS5nZXRVc2VyU3luY3MmJihhfHwhaS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZS5jb2RlXSkpe3ZhciB1PW8uYi5nZXRDb25maWcoInVzZXJTeW5jLmZpbHRlclNldHRpbmdzIikscz1lLmdldFVzZXJTeW5jcyh7aWZyYW1lRW5hYmxlZDohKCF1fHwhdS5pZnJhbWUmJiF1LmFsbCkscGl4ZWxFbmFibGVkOiEoIXV8fCF1LmltYWdlJiYhdS5hbGwpfSx0LG4scik7cyYmKEFycmF5LmlzQXJyYXkocyl8fChzPVtzXSkscy5mb3JFYWNoKChmdW5jdGlvbih0KXtjLmEucmVnaXN0ZXJTeW5jKHQudHlwZSxlLmNvZGUsdC51cmwpfSkpKX19KSwicmVnaXN0ZXJTeW5jcyIpO2Z1bmN0aW9uIF8oZSx0KXtpZighby5iLmdldENvbmZpZygiYWRwb2QuYnJhbmRDYXRlZ29yeUV4Y2x1c2lvbiIpKXJldHVybiBlLmNhbGwodGhpcyx0KTt0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdCh5LmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpPT09aC5hfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKX0pKS5yZWR1Y2UoeS5mbGF0dGVuLFtdKS5maWx0ZXIoeS51bmlxdWVzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcihlKTtpZih0LmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8pe3ZhciBuPXQuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbygpLHI9bi5yZWZyZXNoSW5EYXlzP24ucmVmcmVzaEluRGF5czoxLG89bi5sb2NhbFN0b3JhZ2VLZXk/bi5sb2NhbFN0b3JhZ2VLZXk6dC5nZXRTcGVjKCkuY29kZSxhPUkuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uobyk7dHJ5eyghKGE9YT9KU09OLnBhcnNlKGEpOnZvaWQgMCl8fE9iamVjdCh5LnRpbWVzdGFtcCkoKT5hLmxhc3RVcGRhdGVkKzI0KnIqNjAqNjAqMWUzKSYmT2JqZWN0KHYuYSkobi51cmwse3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dHJ5e3Q9SlNPTi5wYXJzZSh0KTt2YXIgbj17bGFzdFVwZGF0ZWQ6T2JqZWN0KHkudGltZXN0YW1wKSgpLG1hcHBpbmc6dC5tYXBwaW5nfTtJLnNldERhdGFJbkxvY2FsU3RvcmFnZShvLEpTT04uc3RyaW5naWZ5KG4pKX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19LGVycm9yOmZ1bmN0aW9uKCl7T2JqZWN0KHkubG9nRXJyb3IpKCJGYWlsZWQgdG8gbG9hZCAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIGZpbGUiKSl9fSl9Y2F0Y2godCl7T2JqZWN0KHkubG9nRXJyb3IpKCJGYWlsZWQgdG8gcGFyc2UgIi5jb25jYXQoZSwiIGJpZGRlciB0cmFuc2xhdGlvbiBtYXBwaW5nIGZpbGUiKSl9fX0pKSxlLmNhbGwodGhpcyx0KX1mdW5jdGlvbiBSKGUsdCxuKXtmdW5jdGlvbiByKGUpe3JldHVybiJJbnZhbGlkIGJpZCBmcm9tICIuY29uY2F0KHQuYmlkZGVyQ29kZSwiLiBJZ25vcmluZyBiaWQ6ICIpLmNvbmNhdChlKX1yZXR1cm4gZT90PyhpPU9iamVjdC5rZXlzKHQpLHcuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBiKCkoaSxlKSYmIWIoKShbdm9pZCAwLG51bGxdLHRbZV0pfSkpPyJuYXRpdmUiIT09dC5tZWRpYVR5cGV8fE9iamVjdCh1LmcpKHQsbik/InZpZGVvIiE9PXQubWVkaWFUeXBlfHxPYmplY3Qocy5kKSh0LG4pPyEoImJhbm5lciI9PT10Lm1lZGlhVHlwZSYmIWZ1bmN0aW9uKGUsdCxuKXtpZigodC53aWR0aHx8MD09PXBhcnNlSW50KHQud2lkdGgsMTApKSYmKHQuaGVpZ2h0fHwwPT09cGFyc2VJbnQodC5oZWlnaHQsMTApKSlyZXR1cm4gdC53aWR0aD1wYXJzZUludCh0LndpZHRoLDEwKSx0LmhlaWdodD1wYXJzZUludCh0LmhlaWdodCwxMCksITA7dmFyIHI9T2JqZWN0KHkuZ2V0QmlkZGVyUmVxdWVzdCkobix0LmJpZGRlckNvZGUsZSksaT1yJiZyLmJpZHMmJnIuYmlkc1swXSYmci5iaWRzWzBdLnNpemVzLG89T2JqZWN0KHkucGFyc2VTaXplc0lucHV0KShpKTtpZigxPT09by5sZW5ndGgpe3ZhciBhPUUob1swXS5zcGxpdCgieCIpLDIpLGM9YVswXSx1PWFbMV07cmV0dXJuIHQud2lkdGg9cGFyc2VJbnQoYywxMCksdC5oZWlnaHQ9cGFyc2VJbnQodSwxMCksITB9cmV0dXJuITF9KGUsdCxuKSl8fChPYmplY3QoeS5sb2dFcnJvcikocigiQmFubmVyIGJpZHMgcmVxdWlyZSBhIHdpZHRoIGFuZCBoZWlnaHQiKSksITEpOihPYmplY3QoeS5sb2dFcnJvcikocigiVmlkZW8gYmlkIGRvZXMgbm90IGhhdmUgcmVxdWlyZWQgdmFzdFVybCBvciByZW5kZXJlciBwcm9wZXJ0eSIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJOYXRpdmUgYmlkIG1pc3Npbmcgc29tZSByZXF1aXJlZCBwcm9wZXJ0aWVzLiIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJCaWRkZXIgIi5jb25jYXQodC5iaWRkZXJDb2RlLCIgaXMgbWlzc2luZyByZXF1aXJlZCBwYXJhbXMuIENoZWNrIGh0dHA6Ly9wcmViaWQub3JnL2Rldi1kb2NzL2JpZGRlci1hZGFwdGVyLTEuaHRtbCBmb3IgbGlzdCBvZiBwYXJhbXMuIikpKSwhMSkpOihPYmplY3QoeS5sb2dXYXJuKSgiU29tZSBhZGFwdGVyIHRyaWVkIHRvIGFkZCBhbiB1bmRlZmluZWQgYmlkIGZvciAiLmNvbmNhdChlLCIuIikpLCExKTooT2JqZWN0KHkubG9nV2FybikoIk5vIGFkVW5pdENvZGUgd2FzIHN1cHBsaWVkIHRvIGFkZEJpZFJlc3BvbnNlLiIpLCExKTt2YXIgaX1PYmplY3QobS5hKSgiY2hlY2tBZFVuaXRTZXR1cCIpLmJlZm9yZShfKX0sMTA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxNSxyPWUuZ2V0SG9va3Moe2hvb2s6dH0pOzA9PT1yLmxlbmd0aCYmZS5iZWZvcmUodCxuKX0sdC5jPWZ1bmN0aW9uKGUsdCl7YSgiYXN5bmMiLChmdW5jdGlvbihlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHZvaWQgMCxmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBvKGUpfShuPWUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KG4pfHxmdW5jdGlvbihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP28oZSx0KTp2b2lkIDB9fShuKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKSk7dmFyIG59KSl9KSxlKShbXSl9LHQuZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07YyhlKS5iZWZvcmUoKGZ1bmN0aW9uKGUsdCl7dC5wdXNoKG4pLGUodCl9KSl9O3ZhciByPW4oMTY5KSxpPW4ubihyKTtmdW5jdGlvbiBvKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIGE9aSgpKHtyZWFkeTppLmEuU1lOQ3xpLmEuQVNZTkN8aS5hLlFVRVVFfSksYz1hLmdldH0sMTAxOmZ1bmN0aW9uKGUsdCxuKXtuKDEwMik7dmFyIHI9big1Mik7ZS5leHBvcnRzPXIoIkFycmF5IiwiZmluZCIpfSwxMDI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oNTkpLmZpbmQsbz1uKDUxKSxhPSJmaW5kIixjPSEwO2EgaW5bXSYmQXJyYXkoMSkuZmluZCgoZnVuY3Rpb24oKXtjPSExfSkpLHIoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDpjfSx7ZmluZDpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLG8oYSl9LDEwMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMyksaT1uKDEwNCksbz1uKDQ0KSxhPW4oNDUpLGM9big1OCksdT1uKDMxKSxzPW4oNzkpLGQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt0LmY9cj9kOmZ1bmN0aW9uKGUsdCl7aWYoZT1hKGUpLHQ9Yyh0LCEwKSxzKXRyeXtyZXR1cm4gZChlLHQpfWNhdGNoKGUpe31pZih1KGUsdCkpcmV0dXJuIG8oIWkuZi5jYWxsKGUsdCksZVt0XSl9fSwxMDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isbz1pJiYhci5jYWxsKHsxOjJ9LDEpO3QuZj1vP2Z1bmN0aW9uKGUpe3ZhciB0PWkodGhpcyxlKTtyZXR1cm4hIXQmJnQuZW51bWVyYWJsZX06cn0sMTA1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KSxpPS8jfFwucHJvdG90eXBlXC4vLG89ZnVuY3Rpb24oZSx0KXt2YXIgbj1jW2EoZSldO3JldHVybiBuPT1zfHxuIT11JiYoImZ1bmN0aW9uIj09dHlwZW9mIHQ/cih0KTohIXQpfSxhPW8ubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZShpLCIuIikudG9Mb3dlckNhc2UoKX0sYz1vLmRhdGE9e30sdT1vLk5BVElWRT0iTiIscz1vLlBPTFlGSUxMPSJQIjtlLmV4cG9ydHM9b30sMTA2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKSxpPW4oMTA3KSxvPW4oMjQpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIGkoZSkmJigiZnVuY3Rpb24iIT10eXBlb2Yobj1lLmNvbnN0cnVjdG9yKXx8biE9PUFycmF5JiYhaShuLnByb3RvdHlwZSk/cihuKSYmbnVsbD09PShuPW5bb10pJiYobj12b2lkIDApOm49dm9pZCAwKSxuZXcodm9pZCAwPT09bj9BcnJheTpuKSgwPT09dD8wOnQpfX0sMTA3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQ2KTtlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09cihlKX19LDEwODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDMyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0cnl7aShyLGUsdCl9Y2F0Y2gobil7cltlXT10fXJldHVybiB0fX0sMTA5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89bigyNSksYT1uKDExMCksYz1vLnByb2Nlc3MsdT1jJiZjLnZlcnNpb25zLHM9dSYmdS52ODtzP2k9KHI9cy5zcGxpdCgiLiIpKVswXTw0PzE6clswXStyWzFdOmEmJighKHI9YS5tYXRjaCgvRWRnZVwvKFxkKykvKSl8fHJbMV0+PTc0KSYmKHI9YS5tYXRjaCgvQ2hyb21lXC8oXGQrKS8pKSYmKGk9clsxXSksZS5leHBvcnRzPWkmJitpfSwxMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMDEpO2UuZXhwb3J0cz1yfSwxMTA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpO2UuZXhwb3J0cz1yKCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiKXx8IiJ9LDExMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big4Mik7ZS5leHBvcnRzPXImJiFTeW1ib2wuc2hhbSYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3J9LDExMjpmdW5jdGlvbihlLHQsbil7bigxMTMpO3ZhciByPW4oNTIpO2UuZXhwb3J0cz1yKCJBcnJheSIsImluY2x1ZGVzIil9LDExMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big4MykuaW5jbHVkZXMsbz1uKDUxKTtyKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMH0se2luY2x1ZGVzOmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbygiaW5jbHVkZXMiKX0sMTE0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYwKSxpPU1hdGgubWF4LG89TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49cihlKTtyZXR1cm4gbjwwP2kobit0LDApOm8obix0KX19LDExNTpmdW5jdGlvbihlLHQsbil7bigxMTYpLG4oMTMzKSxuKDk0KSxuKDEzNSk7dmFyIHI9big0OSk7ZS5leHBvcnRzPXIuU2V0fSwxMTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDExNyksaT1uKDEyMik7ZS5leHBvcnRzPXIoIlNldCIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMF06dm9pZCAwKX19KSxpKX0sMTE3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDI1KSxvPW4oODUpLGE9bigyOSksYz1uKDMyKSx1PW4oMTkpLHM9big4OCksZD1uKDMwKSxmPW4oNjYpLGw9bigzNCkuZixwPW4oNTkpLmZvckVhY2gsZz1uKDMzKSxiPW4oNTQpLHY9Yi5zZXQseT1iLmdldHRlckZvcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBiLGg9LTEhPT1lLmluZGV4T2YoIk1hcCIpLG09LTEhPT1lLmluZGV4T2YoIldlYWsiKSxTPWg/InNldCI6ImFkZCIsRT1pW2VdLEE9RSYmRS5wcm90b3R5cGUsVD17fTtpZihnJiYiZnVuY3Rpb24iPT10eXBlb2YgRSYmKG18fEEuZm9yRWFjaCYmIWEoKGZ1bmN0aW9uKCl7KG5ldyBFKS5lbnRyaWVzKCkubmV4dCgpfSkpKSl7Yj10KChmdW5jdGlvbih0LG4pe3Yocyh0LGIsZSkse3R5cGU6ZSxjb2xsZWN0aW9uOm5ldyBFfSksbnVsbCE9biYmdShuLHRbU10se3RoYXQ6dCxBU19FTlRSSUVTOmh9KX0pKTt2YXIgTz15KGUpO3AoWyJhZGQiLCJjbGVhciIsImRlbGV0ZSIsImZvckVhY2giLCJnZXQiLCJoYXMiLCJzZXQiLCJrZXlzIiwidmFsdWVzIiwiZW50cmllcyJdLChmdW5jdGlvbihlKXt2YXIgdD0iYWRkIj09ZXx8InNldCI9PWU7IShlIGluIEEpfHxtJiYiY2xlYXIiPT1lfHxjKGIucHJvdG90eXBlLGUsKGZ1bmN0aW9uKG4scil7dmFyIGk9Tyh0aGlzKS5jb2xsZWN0aW9uO2lmKCF0JiZtJiYhZChuKSlyZXR1cm4iZ2V0Ij09ZSYmdm9pZCAwO3ZhciBvPWlbZV0oMD09PW4/MDpuLHIpO3JldHVybiB0P3RoaXM6b30pKX0pKSxtfHxsKGIucHJvdG90eXBlLCJzaXplIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBPKHRoaXMpLmNvbGxlY3Rpb24uc2l6ZX19KX1lbHNlIGI9bi5nZXRDb25zdHJ1Y3Rvcih0LGUsaCxTKSxvLlJFUVVJUkVEPSEwO3JldHVybiBmKGIsZSwhMSwhMCksVFtlXT1iLHIoe2dsb2JhbDohMCxmb3JjZWQ6ITB9LFQpLG18fG4uc2V0U3Ryb25nKGIsZSxoKSxifX0sMTE4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KTtlLmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5pc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSl9LDExOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNjUpLGk9big2NCk7ZS5leHBvcnRzPXI/e30udG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCAiK2kodGhpcykrIl0ifX0sMTI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTEyKTtlLmV4cG9ydHM9cn0sMTIwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI1KSxpPW4oMTIxKSxvPXIuV2Vha01hcDtlLmV4cG9ydHM9ImZ1bmN0aW9uIj09dHlwZW9mIG8mJi9uYXRpdmUgY29kZS8udGVzdChpKG8pKX0sMTIxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYxKSxpPUZ1bmN0aW9uLnRvU3RyaW5nOyJmdW5jdGlvbiIhPXR5cGVvZiByLmluc3BlY3RTb3VyY2UmJihyLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbChlKX0pLGUuZXhwb3J0cz1yLmluc3BlY3RTb3VyY2V9LDEyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMzQpLmYsaT1uKDg5KSxvPW4oMTI3KSxhPW4oMjYpLGM9big4OCksdT1uKDE5KSxzPW4oNjgpLGQ9bigxMzIpLGY9bigzMyksbD1uKDg1KS5mYXN0S2V5LHA9big1NCksZz1wLnNldCxiPXAuZ2V0dGVyRm9yO2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG4scyl7dmFyIGQ9ZSgoZnVuY3Rpb24oZSxyKXtjKGUsZCx0KSxnKGUse3R5cGU6dCxpbmRleDppKG51bGwpLGZpcnN0OnZvaWQgMCxsYXN0OnZvaWQgMCxzaXplOjB9KSxmfHwoZS5zaXplPTApLG51bGwhPXImJnUocixlW3NdLHt0aGF0OmUsQVNfRU5UUklFUzpufSl9KSkscD1iKHQpLHY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1wKGUpLGE9eShlLHQpO3JldHVybiBhP2EudmFsdWU9bjooby5sYXN0PWE9e2luZGV4Omk9bCh0LCEwKSxrZXk6dCx2YWx1ZTpuLHByZXZpb3VzOnI9by5sYXN0LG5leHQ6dm9pZCAwLHJlbW92ZWQ6ITF9LG8uZmlyc3R8fChvLmZpcnN0PWEpLHImJihyLm5leHQ9YSksZj9vLnNpemUrKzplLnNpemUrKywiRiIhPT1pJiYoby5pbmRleFtpXT1hKSksZX0seT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9cChlKSxpPWwodCk7aWYoIkYiIT09aSlyZXR1cm4gci5pbmRleFtpXTtmb3Iobj1yLmZpcnN0O247bj1uLm5leHQpaWYobi5rZXk9PXQpcmV0dXJuIG59O3JldHVybiBvKGQucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1wKHRoaXMpLHQ9ZS5pbmRleCxuPWUuZmlyc3Q7bjspbi5yZW1vdmVkPSEwLG4ucHJldmlvdXMmJihuLnByZXZpb3VzPW4ucHJldmlvdXMubmV4dD12b2lkIDApLGRlbGV0ZSB0W24uaW5kZXhdLG49bi5uZXh0O2UuZmlyc3Q9ZS5sYXN0PXZvaWQgMCxmP2Uuc2l6ZT0wOnRoaXMuc2l6ZT0wfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXAodCkscj15KHQsZSk7aWYocil7dmFyIGk9ci5uZXh0LG89ci5wcmV2aW91cztkZWxldGUgbi5pbmRleFtyLmluZGV4XSxyLnJlbW92ZWQ9ITAsbyYmKG8ubmV4dD1pKSxpJiYoaS5wcmV2aW91cz1vKSxuLmZpcnN0PT1yJiYobi5maXJzdD1pKSxuLmxhc3Q9PXImJihuLmxhc3Q9byksZj9uLnNpemUtLTp0LnNpemUtLX1yZXR1cm4hIXJ9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49cCh0aGlzKSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTt0PXQ/dC5uZXh0Om4uZmlyc3Q7KWZvcihyKHQudmFsdWUsdC5rZXksdGhpcyk7dCYmdC5yZW1vdmVkOyl0PXQucHJldmlvdXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIXkodGhpcyxlKX19KSxvKGQucHJvdG90eXBlLG4/e2dldDpmdW5jdGlvbihlKXt2YXIgdD15KHRoaXMsZSk7cmV0dXJuIHQmJnQudmFsdWV9LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiB2KHRoaXMsMD09PWU/MDplLHQpfX06e2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gdih0aGlzLGU9MD09PWU/MDplLGUpfX0pLGYmJnIoZC5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcCh0aGlzKS5zaXplfX0pLGR9LHNldFN0cm9uZzpmdW5jdGlvbihlLHQsbil7dmFyIHI9dCsiIEl0ZXJhdG9yIixpPWIodCksbz1iKHIpO3MoZSx0LChmdW5jdGlvbihlLHQpe2codGhpcyx7dHlwZTpyLHRhcmdldDplLHN0YXRlOmkoZSksa2luZDp0LGxhc3Q6dm9pZCAwfSl9KSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9byh0aGlzKSx0PWUua2luZCxuPWUubGFzdDtuJiZuLnJlbW92ZWQ7KW49bi5wcmV2aW91cztyZXR1cm4gZS50YXJnZXQmJihlLmxhc3Q9bj1uP24ubmV4dDplLnN0YXRlLmZpcnN0KT8ia2V5cyI9PXQ/e3ZhbHVlOm4ua2V5LGRvbmU6ITF9OiJ2YWx1ZXMiPT10P3t2YWx1ZTpuLnZhbHVlLGRvbmU6ITF9Ont2YWx1ZTpbbi5rZXksbi52YWx1ZV0sZG9uZTohMX06KGUudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KX0pLG4/ImVudHJpZXMiOiJ2YWx1ZXMiLCFuLCEwKSxkKHQpfX19LDEyMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMyksaT1uKDM0KSxvPW4oMTYpLGE9bigxMjQpO2UuZXhwb3J0cz1yP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIG4scj1hKHQpLGM9ci5sZW5ndGgsdT0wO2M+dTspaS5mKGUsbj1yW3UrK10sdFtuXSk7cmV0dXJuIGV9fSwxMjQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTI1KSxpPW4oOTApO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxpKX19LDEyNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMSksaT1uKDQ1KSxvPW4oODMpLmluZGV4T2YsYT1uKDUzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixjPWkoZSksdT0wLHM9W107Zm9yKG4gaW4gYykhcihhLG4pJiZyKGMsbikmJnMucHVzaChuKTtmb3IoO3QubGVuZ3RoPnU7KXIoYyxuPXRbdSsrXSkmJih+byhzLG4pfHxzLnB1c2gobikpO3JldHVybiBzfX0sMTI2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI3KTtlLmV4cG9ydHM9cigiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiKX0sMTI3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDkxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaSBpbiB0KW4mJm4udW5zYWZlJiZlW2ldP2VbaV09dFtpXTpyKGUsaSx0W2ldLG4pO3JldHVybiBlfX0sMTI4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big5MikuSXRlcmF0b3JQcm90b3R5cGUsaT1uKDg5KSxvPW4oNDQpLGE9big2NiksYz1uKDQwKSx1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIHM9dCsiIEl0ZXJhdG9yIjtyZXR1cm4gZS5wcm90b3R5cGU9aShyLHtuZXh0Om8oMSxuKX0pLGEoZSxzLCExLCEwKSxjW3NdPXUsZX19LDEyOTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSk7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBlKSE9PWUucHJvdG90eXBlfSkpfSwxMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT11LHQuYz1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS51cmwpfSx0LmI9ZnVuY3Rpb24oZSx0KXtlLnJlbmRlcih0KX07dmFyIHI9bigzNyksaT1uKDApLG89bigxMSksYT1uLm4obyksYz0ib3V0c3RyZWFtIjtmdW5jdGlvbiB1KGUpe3ZhciB0PXRoaXMsbj1lLnVybCxvPWUuY29uZmlnLGE9ZS5pZCx1PWUuY2FsbGJhY2ssZD1lLmxvYWRlZCxmPWUuYWRVbml0Q29kZTt0aGlzLnVybD1uLHRoaXMuY29uZmlnPW8sdGhpcy5oYW5kbGVycz17fSx0aGlzLmlkPWEsdGhpcy5sb2FkZWQ9ZCx0aGlzLmNtZD1bXSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGU/dC5sb2FkZWQ/ZS5jYWxsKCk6dC5jbWQucHVzaChlKTppLmxvZ0Vycm9yKCJDb21tYW5kcyBnaXZlbiB0byBSZW5kZXJlci5wdXNoIG11c3QgYmUgd3JhcHBlZCBpbiBhIGZ1bmN0aW9uIil9LHRoaXMuY2FsbGJhY2s9dXx8ZnVuY3Rpb24oKXt0LmxvYWRlZD0hMCx0LnByb2Nlc3MoKX0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLG89ZnVuY3Rpb24oKXtlLl9yZW5kZXI/ZS5fcmVuZGVyLmFwcGx5KGUsdCk6aS5sb2dXYXJuKCJObyByZW5kZXIgZnVuY3Rpb24gd2FzIHByb3ZpZGVkLCBwbGVhc2UgdXNlIC5zZXRSZW5kZXIgb24gdGhlIHJlbmRlcmVyIil9O3MoZik/KGkubG9nV2FybigiRXh0ZXJuYWwgSnMgbm90IGxvYWRlZCBieSBSZW5kZXJlciBzaW5jZSByZW5kZXJlciB1cmwgYW5kIGNhbGxiYWNrIGlzIGFscmVhZHkgZGVmaW5lZCBvbiBhZFVuaXQgIi5jb25jYXQoZikpLG8oKSk6KHRoaXMuY21kLnVuc2hpZnQobyksT2JqZWN0KHIuYSkobixjLHRoaXMuY2FsbGJhY2spKX0uYmluZCh0aGlzKX1mdW5jdGlvbiBzKGUpe3ZhciB0PXVwYmpzLmFkVW5pdHMsbj1hKCkodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29kZT09PWV9KSk7aWYoIW4pcmV0dXJuITE7dmFyIHI9aS5kZWVwQWNjZXNzKG4sInJlbmRlcmVyIiksbz0hIShyJiZyLnVybCYmci5yZW5kZXIpLGM9aS5kZWVwQWNjZXNzKG4sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSx1PSEhKGMmJmMudXJsJiZjLnJlbmRlcik7cmV0dXJuISEobyYmITAhPT1yLmJhY2t1cE9ubHl8fHUmJiEwIT09Yy5iYWNrdXBPbmx5KX11Lmluc3RhbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KHt1cmw6ZS51cmwsY29uZmlnOmUuY29uZmlnLGlkOmUuaWQsY2FsbGJhY2s6ZS5jYWxsYmFjayxsb2FkZWQ6ZS5sb2FkZWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KX0sdS5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnfSx1LnByb3RvdHlwZS5zZXRSZW5kZXI9ZnVuY3Rpb24oZSl7dGhpcy5fcmVuZGVyPWV9LHUucHJvdG90eXBlLnNldEV2ZW50SGFuZGxlcnM9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVycz1lfSx1LnByb3RvdHlwZS5oYW5kbGVWaWRlb0V2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQsbj1lLmV2ZW50TmFtZTsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5oYW5kbGVyc1tuXSYmdGhpcy5oYW5kbGVyc1tuXSgpLGkubG9nTWVzc2FnZSgiUHJlYmlkIFJlbmRlcmVyIGV2ZW50IGZvciBpZCAiLmNvbmNhdCh0LCIgdHlwZSAiKS5jb25jYXQobikpfSx1LnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmNtZC5sZW5ndGg+MDspdHJ5e3RoaXMuY21kLnNoaWZ0KCkuY2FsbCgpfWNhdGNoKGUpe2kubG9nRXJyb3IoIkVycm9yIHByb2Nlc3NpbmcgUmVuZGVyZXIgY29tbWFuZDogIixlKX19fSwxMzA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9bigxMzEpO2UuZXhwb3J0cz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24oKXt2YXIgZSx0PSExLG49e307dHJ5eyhlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0KS5jYWxsKG4sW10pLHQ9biBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKGUpe31yZXR1cm4gZnVuY3Rpb24obixvKXtyZXR1cm4gcihuKSxpKG8pLHQ/ZS5jYWxsKG4sbyk6bi5fX3Byb3RvX189byxufX0oKTp2b2lkIDApfSwxMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighcihlKSYmbnVsbCE9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBzZXQgIitTdHJpbmcoZSkrIiBhcyBhIHByb3RvdHlwZSIpO3JldHVybiBlfX0sMTMyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNyksaT1uKDM0KSxvPW4oMjQpLGE9bigzMyksYz1vKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXIoZSksbj1pLmY7YSYmdCYmIXRbY10mJm4odCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSwxMzM6ZnVuY3Rpb24oZSx0KXt9LDEzNDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2MCksaT1uKDQ3KSxvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciBvLGEsYz1TdHJpbmcoaSh0KSksdT1yKG4pLHM9Yy5sZW5ndGg7cmV0dXJuIHU8MHx8dT49cz9lPyIiOnZvaWQgMDoobz1jLmNoYXJDb2RlQXQodSkpPDU1Mjk2fHxvPjU2MzE5fHx1KzE9PT1zfHwoYT1jLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fGE+NTczNDM/ZT9jLmNoYXJBdCh1KTpvOmU/Yy5zbGljZSh1LHUrMik6YS01NjMyMCsoby01NTI5Njw8MTApKzY1NTM2fX07ZS5leHBvcnRzPXtjb2RlQXQ6byghMSksY2hhckF0Om8oITApfX0sMTM1OmZ1bmN0aW9uKGUsdCxuKXtuKDEzNik7dmFyIHI9bigxMzcpLGk9bigyNSksbz1uKDY0KSxhPW4oMzIpLGM9big0MCksdT1uKDI0KSgidG9TdHJpbmdUYWciKTtmb3IodmFyIHMgaW4gcil7dmFyIGQ9aVtzXSxmPWQmJmQucHJvdG90eXBlO2YmJm8oZikhPT11JiZhKGYsdSxzKSxjW3NdPWMuQXJyYXl9fSwxMzY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDQ1KSxpPW4oNTEpLG89big0MCksYT1uKDU0KSxjPW4oNjgpLHU9IkFycmF5IEl0ZXJhdG9yIixzPWEuc2V0LGQ9YS5nZXR0ZXJGb3IodSk7ZS5leHBvcnRzPWMoQXJyYXksIkFycmF5IiwoZnVuY3Rpb24oZSx0KXtzKHRoaXMse3R5cGU6dSx0YXJnZXQ6cihlKSxpbmRleDowLGtpbmQ6dH0pfSksKGZ1bmN0aW9uKCl7dmFyIGU9ZCh0aGlzKSx0PWUudGFyZ2V0LG49ZS5raW5kLHI9ZS5pbmRleCsrO3JldHVybiF0fHxyPj10Lmxlbmd0aD8oZS50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pOiJrZXlzIj09bj97dmFsdWU6cixkb25lOiExfToidmFsdWVzIj09bj97dmFsdWU6dFtyXSxkb25lOiExfTp7dmFsdWU6W3IsdFtyXV0sZG9uZTohMX19KSwidmFsdWVzIiksby5Bcmd1bWVudHM9by5BcnJheSxpKCJrZXlzIiksaSgidmFsdWVzIiksaSgiZW50cmllcyIpfSwxMzc6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e0NTU1J1bGVMaXN0OjAsQ1NTU3R5bGVEZWNsYXJhdGlvbjowLENTU1ZhbHVlTGlzdDowLENsaWVudFJlY3RMaXN0OjAsRE9NUmVjdExpc3Q6MCxET01TdHJpbmdMaXN0OjAsRE9NVG9rZW5MaXN0OjEsRGF0YVRyYW5zZmVySXRlbUxpc3Q6MCxGaWxlTGlzdDowLEhUTUxBbGxDb2xsZWN0aW9uOjAsSFRNTENvbGxlY3Rpb246MCxIVE1MRm9ybUVsZW1lbnQ6MCxIVE1MU2VsZWN0RWxlbWVudDowLE1lZGlhTGlzdDowLE1pbWVUeXBlQXJyYXk6MCxOYW1lZE5vZGVNYXA6MCxOb2RlTGlzdDoxLFBhaW50UmVxdWVzdExpc3Q6MCxQbHVnaW46MCxQbHVnaW5BcnJheTowLFNWR0xlbmd0aExpc3Q6MCxTVkdOdW1iZXJMaXN0OjAsU1ZHUGF0aFNlZ0xpc3Q6MCxTVkdQb2ludExpc3Q6MCxTVkdTdHJpbmdMaXN0OjAsU1ZHVHJhbnNmb3JtTGlzdDowLFNvdXJjZUJ1ZmZlckxpc3Q6MCxTdHlsZVNoZWV0TGlzdDowLFRleHRUcmFja0N1ZUxpc3Q6MCxUZXh0VHJhY2tMaXN0OjAsVG91Y2hMaXN0OjB9fSwxMzg6ZnVuY3Rpb24oZSx0LG4pe24oMTUpKHt0YXJnZXQ6IlNldCIsc3RhdDohMH0se2Zyb206bigxMzkpfSl9LDEzOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjEpLGk9bigyNiksbz1uKDE5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQsbixhLGMsdT1hcmd1bWVudHMubGVuZ3RoLHM9dT4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuIHIodGhpcyksKHQ9dm9pZCAwIT09cykmJnIocyksbnVsbD09ZT9uZXcgdGhpczoobj1bXSx0PyhhPTAsYz1pKHMsdT4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMiksbyhlLChmdW5jdGlvbihlKXtuLnB1c2goYyhlLGErKykpfSkpKTpvKGUsbi5wdXNoLHt0aGF0Om59KSxuZXcgdGhpcyhuKSl9fSwxNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cudXBianN9LHdpbmRvdy51cGJqcz13aW5kb3cudXBianN8fHt9LHdpbmRvdy51cGJqcy5jbWQ9d2luZG93LnVwYmpzLmNtZHx8W10sd2luZG93LnVwYmpzLnF1ZT13aW5kb3cudXBianMucXVlfHxbXSx3aW5kb3cuX3BianNHbG9iYWxzPXdpbmRvdy5fcGJqc0dsb2JhbHN8fFtdLHdpbmRvdy5fcGJqc0dsb2JhbHMucHVzaCgidXBianMiKX0sMTQwOmZ1bmN0aW9uKGUsdCxuKXtuKDE1KSh7dGFyZ2V0OiJTZXQiLHN0YXQ6ITB9LHtvZjpuKDE0MSl9KX0sMTQxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSk7ZS0tOyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IHRoaXModCl9fSwxNDI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigxNDMpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7YWRkQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfSwxNDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE2KSxpPW4oMjEpO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT1yKHRoaXMpLHQ9aShlLmFkZCksbj0wLG89YXJndW1lbnRzLmxlbmd0aDtuPG87bisrKXQuY2FsbChlLGFyZ3VtZW50c1tuXSk7cmV0dXJuIGV9fSwxNDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigxNDUpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZGVsZXRlQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfSwxNDU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE2KSxpPW4oMjEpO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PXIodGhpcyksbj1pKHQuZGVsZXRlKSxvPSEwLGE9MCxjPWFyZ3VtZW50cy5sZW5ndGg7YTxjO2ErKyllPW4uY2FsbCh0LGFyZ3VtZW50c1thXSksbz1vJiZlO3JldHVybiEhb319LDE0NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE2KSxhPW4oMjYpLGM9bigzNSksdT1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2V2ZXJ5OmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3JldHVybiF1KG4sKGZ1bmN0aW9uKGUsbil7aWYoIXIoZSxlLHQpKXJldHVybiBuKCl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNDc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigyNyksYT1uKDE2KSxjPW4oMjEpLHU9big0MSkscz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2RpZmZlcmVuY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPW5ldyh1KHQsbygiU2V0IikpKSh0KSxyPWMobi5kZWxldGUpO3JldHVybiBzKGUsKGZ1bmN0aW9uKGUpe3IuY2FsbChuLGUpfSkpLG59fSl9LDE0ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDI2KSxzPW4oNDEpLGQ9bigzNSksZj1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2ZpbHRlcjpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49ZCh0KSxyPXUoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKSxpPW5ldyhzKHQsbygiU2V0IikpKSxsPWMoaS5hZGQpO3JldHVybiBmKG4sKGZ1bmN0aW9uKGUpe3IoZSxlLHQpJiZsLmNhbGwoaSxlKX0pLHtJU19JVEVSQVRPUjohMH0pLGl9fSl9LDE0OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE2KSxhPW4oMjYpLGM9bigzNSksdT1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cmV0dXJuIHUobiwoZnVuY3Rpb24oZSxuKXtpZihyKGUsZSx0KSlyZXR1cm4gbihlKX0pLHtJU19JVEVSQVRPUjohMCxJTlRFUlJVUFRFRDohMH0pLnJlc3VsdH19KX0sMTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI1KSxpPW4oMTAzKS5mLG89bigxMDUpLGE9big0OSksYz1uKDI2KSx1PW4oMzIpLHM9bigzMSksZD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LG4scil7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LG4pfXJldHVybiBuZXcgZSh0LG4scil9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdC5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdH07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4sZixsLHAsZyxiLHYseSxoPWUudGFyZ2V0LG09ZS5nbG9iYWwsUz1lLnN0YXQsRT1lLnByb3RvLEE9bT9yOlM/cltoXToocltoXXx8e30pLnByb3RvdHlwZSxUPW0/YTphW2hdfHwoYVtoXT17fSksTz1ULnByb3RvdHlwZTtmb3IobCBpbiB0KW49IW8obT9sOmgrKFM/Ii4iOiIjIikrbCxlLmZvcmNlZCkmJkEmJnMoQSxsKSxnPVRbbF0sbiYmKGI9ZS5ub1RhcmdldEdldD8oeT1pKEEsbCkpJiZ5LnZhbHVlOkFbbF0pLHA9biYmYj9iOnRbbF0sbiYmdHlwZW9mIGc9PXR5cGVvZiBwfHwodj1lLmJpbmQmJm4/YyhwLHIpOmUud3JhcCYmbj9kKHApOkUmJiJmdW5jdGlvbiI9PXR5cGVvZiBwP2MoRnVuY3Rpb24uY2FsbCxwKTpwLChlLnNoYW18fHAmJnAuc2hhbXx8ZyYmZy5zaGFtKSYmdSh2LCJzaGFtIiwhMCksVFtsXT12LEUmJihzKGEsZj1oKyJQcm90b3R5cGUiKXx8dShhLGYse30pLGFbZl1bbF09cCxlLnJlYWwmJk8mJiFPW2xdJiZ1KE8sbCxwKSkpfX0sMTUwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMjcpLGE9bigxNiksYz1uKDIxKSx1PW4oNDEpLHM9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpbnRlcnNlY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPW5ldyh1KHQsbygiU2V0IikpKSxyPWModC5oYXMpLGk9YyhuLmFkZCk7cmV0dXJuIHMoZSwoZnVuY3Rpb24oZSl7ci5jYWxsKHQsZSkmJmkuY2FsbChuLGUpfSkpLG59fSl9LDE1MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE2KSxhPW4oMjEpLGM9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpc0Rpc2pvaW50RnJvbTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49YSh0Lmhhcyk7cmV0dXJuIWMoZSwoZnVuY3Rpb24oZSxyKXtpZighMD09PW4uY2FsbCh0LGUpKXJldHVybiByKCl9KSx7SU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigyNyksYT1uKDE2KSxjPW4oMjEpLHU9big5NSkscz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2lzU3Vic2V0T2Y6ZnVuY3Rpb24oZSl7dmFyIHQ9dSh0aGlzKSxuPWEoZSkscj1uLmhhcztyZXR1cm4iZnVuY3Rpb24iIT10eXBlb2YgciYmKG49bmV3KG8oIlNldCIpKShlKSxyPWMobi5oYXMpKSwhcyh0LChmdW5jdGlvbihlLHQpe2lmKCExPT09ci5jYWxsKG4sZSkpcmV0dXJuIHQoKX0pLHtJU19JVEVSQVRPUjohMCxJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE2KSxhPW4oMjEpLGM9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpc1N1cGVyc2V0T2Y6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWEodC5oYXMpO3JldHVybiFjKGUsKGZ1bmN0aW9uKGUscil7aWYoITE9PT1uLmNhbGwodCxlKSlyZXR1cm4gcigpfSkse0lOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTU0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigzNSksYz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2pvaW46ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWEodCkscj12b2lkIDA9PT1lPyIsIjpTdHJpbmcoZSksaT1bXTtyZXR1cm4gYyhuLGkucHVzaCx7dGhhdDppLElTX0lURVJBVE9SOiEwfSksaS5qb2luKHIpfX0pfSwxNTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigyNyksYT1uKDE2KSxjPW4oMjEpLHU9bigyNikscz1uKDQxKSxkPW4oMzUpLGY9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHttYXA6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPWQodCkscj11KGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyksaT1uZXcocyh0LG8oIlNldCIpKSksbD1jKGkuYWRkKTtyZXR1cm4gZihuLChmdW5jdGlvbihlKXtsLmNhbGwoaSxyKGUsZSx0KSl9KSx7SVNfSVRFUkFUT1I6ITB9KSxpfX0pfSwxNTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigxNiksYT1uKDIxKSxjPW4oMzUpLHU9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtyZWR1Y2U6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hcmd1bWVudHMubGVuZ3RoPDIsaT1yP3ZvaWQgMDphcmd1bWVudHNbMV07aWYoYShlKSx1KG4sKGZ1bmN0aW9uKG4pe3I/KHI9ITEsaT1uKTppPWUoaSxuLG4sdCl9KSx7SVNfSVRFUkFUT1I6ITB9KSxyKXRocm93IFR5cGVFcnJvcigiUmVkdWNlIG9mIGVtcHR5IHNldCB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTtyZXR1cm4gaX19KX0sMTU3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigyNiksYz1uKDM1KSx1PW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7c29tZTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyZXR1cm4gdShuLChmdW5jdGlvbihlLG4pe2lmKHIoZSxlLHQpKXJldHVybiBuKCl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigyNyksYT1uKDE2KSxjPW4oMjEpLHU9big0MSkscz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3N5bW1ldHJpY0RpZmZlcmVuY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPW5ldyh1KHQsbygiU2V0IikpKSh0KSxyPWMobi5kZWxldGUpLGk9YyhuLmFkZCk7cmV0dXJuIHMoZSwoZnVuY3Rpb24oZSl7ci5jYWxsKG4sZSl8fGkuY2FsbChuLGUpfSkpLG59fSl9LDE1OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDQxKSxzPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7dW5pb246ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPW5ldyh1KHQsbygiU2V0IikpKSh0KTtyZXR1cm4gcyhlLGMobi5hZGQpLHt0aGF0Om59KSxufX0pfSwxNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFyKGUpKXRocm93IFR5cGVFcnJvcihTdHJpbmcoZSkrIiBpcyBub3QgYW4gb2JqZWN0Iik7cmV0dXJuIGV9fSwxNjA6ZnVuY3Rpb24oZSx0LG4pe24oOTQpLG4oMTYxKTt2YXIgcj1uKDQ5KTtlLmV4cG9ydHM9ci5BcnJheS5mcm9tfSwxNjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTUpLGk9bigxNjIpO3Ioe3RhcmdldDoiQXJyYXkiLHN0YXQ6ITAsZm9yY2VkOiFuKDE2NSkoKGZ1bmN0aW9uKGUpe0FycmF5LmZyb20oZSl9KSl9LHtmcm9tOml9KX0sMTYyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNiksaT1uKDQ4KSxvPW4oMTYzKSxhPW4oODYpLGM9big1MCksdT1uKDE2NCkscz1uKDYzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQsbixkLGYsbCxwLGc9aShlKSxiPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXksdj1hcmd1bWVudHMubGVuZ3RoLHk9dj4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsaD12b2lkIDAhPT15LG09cyhnKSxTPTA7aWYoaCYmKHk9cih5LHY+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSxudWxsPT1tfHxiPT1BcnJheSYmYShtKSlmb3Iobj1uZXcgYih0PWMoZy5sZW5ndGgpKTt0PlM7UysrKXA9aD95KGdbU10sUyk6Z1tTXSx1KG4sUyxwKTtlbHNlIGZvcihsPShmPW0uY2FsbChnKSkubmV4dCxuPW5ldyBiOyEoZD1sLmNhbGwoZikpLmRvbmU7UysrKXA9aD9vKGYseSxbZC52YWx1ZSxTXSwhMCk6ZC52YWx1ZSx1KG4sUyxwKTtyZXR1cm4gbi5sZW5ndGg9UyxufX0sMTYzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oODcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixvKXt0cnl7cmV0dXJuIG8/dChyKG4pWzBdLG5bMV0pOnQobil9Y2F0Y2godCl7dGhyb3cgaShlKSx0fX19LDE2NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNTgpLGk9bigzNCksbz1uKDQ0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPXIodCk7YSBpbiBlP2kuZihlLGEsbygwLG4pKTplW2FdPW59fSwxNjU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjQpKCJpdGVyYXRvciIpLGk9ITE7dHJ5e3ZhciBvPTAsYT17bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOiEhbysrfX0scmV0dXJuOmZ1bmN0aW9uKCl7aT0hMH19O2Fbcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQXJyYXkuZnJvbShhLChmdW5jdGlvbigpe3Rocm93IDJ9KSl9Y2F0Y2goZSl7fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhaSlyZXR1cm4hMTt2YXIgbj0hMTt0cnl7dmFyIG89e307b1tyXT1mdW5jdGlvbigpe3JldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6bj0hMH19fX0sZShvKX1jYXRjaChlKXt9cmV0dXJuIG59fSwxNjY6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24gZSh0KXt2YXIgbj1BcnJheS5pc0FycmF5KHQpP1tdOnt9O2Zvcih2YXIgciBpbiB0KXt2YXIgaT10W3JdO25bcl09aSYmIm9iamVjdCI9PXR5cGVvZiBpP2UoaSk6aX1yZXR1cm4gbn19LDE2NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbixyLGkpe2Zvcih0PXQuc3BsaXQ/dC5zcGxpdCgiLiIpOnQscj0wO3I8dC5sZW5ndGg7cisrKWU9ZT9lW3Rbcl1dOmk7cmV0dXJuIGU9PT1pP246ZX19LDE2ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbil7dC5zcGxpdCYmKHQ9dC5zcGxpdCgiLiIpKTtmb3IodmFyIHIsaT0wLG89dC5sZW5ndGgsYT1lO2k8bzsrK2kpcj1hW3RbaV1dLGE9YVt0W2ldXT1pPT09by0xP246bnVsbCE9cj9yOiF+dFtpKzFdLmluZGV4T2YoIi4iKSYmK3RbaSsxXT4tMT9bXTp7fX19LDE2OTpmdW5jdGlvbihlLHQpewovKgoqIEBsaWNlbnNlIE1JVAoqIEZ1biBIb29rcyB2MC45LjEwCiogKGMpIEBzbmFwd2ljaAoqLwpjLlNZTkM9MSxjLkFTWU5DPTIsYy5RVUVVRT00O3ZhciBuPU9iamVjdC5mcmVlemUoe3VzZVByb3h5OiEwLHJlYWR5OjB9KSxyPW5ldyBXZWFrTWFwLGk9IjIsMSwwIj09PVsxXS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bZSx0LG5dfSksMikudG9TdHJpbmcoKT9BcnJheS5wcm90b3R5cGUucmVkdWNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1PYmplY3QodGhpcyksaT1yLmxlbmd0aD4+PjAsbz0wO2lmKHQpbj10O2Vsc2V7Zm9yKDtvPGkmJiEobyBpbiByKTspbysrO249cltvKytdfWZvcig7bzxpOylvIGluIHImJihuPWUobixyW29dLG8scikpLG8rKztyZXR1cm4gbn07ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLHQpfXZhciBhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe3JldHVybiBpLmNhbGwobyhhcmd1bWVudHMsMSksKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09dFtuXX0pKSxlfSksZSl9O2Z1bmN0aW9uIGMoZSl7dmFyIHQsdT17fSxzPVtdO2Z1bmN0aW9uIGQoZSx0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9nLmNhbGwobnVsbCwic3luYyIsZSx0KToic3RyaW5nIj09dHlwZW9mIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0P2cuYXBwbHkobnVsbCxhcmd1bWVudHMpOiJvYmplY3QiPT10eXBlb2YgZT9mLmFwcGx5KG51bGwsYXJndW1lbnRzKTp2b2lkIDB9ZnVuY3Rpb24gZihlLHQsbil7dmFyIHI9ITA7dm9pZCAwPT09dCYmKHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkscj0hMSk7dmFyIGk9e30sbz1bImNvbnN0cnVjdG9yIl07ZG97KHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiEoImZ1bmN0aW9uIiE9dHlwZW9mIGVbdF18fC0xIT09by5pbmRleE9mKHQpfHx0Lm1hdGNoKC9eXy8pKX0pKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9dC5zcGxpdCgiOiIpLG89clswXSxhPXJbMV18fCJzeW5jIjtpZighaVtvXSl7dmFyIGM9ZVtvXTtpW29dPWVbb109ZyhhLGMsbj9bbixvXTp2b2lkIDApfX0pKSxlPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX13aGlsZShyJiZlKTtyZXR1cm4gaX1mdW5jdGlvbiBsKGUpe3ZhciBuPUFycmF5LmlzQXJyYXkoZSk/ZTplLnNwbGl0KCIuIik7cmV0dXJuIGkuY2FsbChuLChmdW5jdGlvbihyLGksbyl7dmFyIGE9cltpXSxjPSExO3JldHVybiBhfHwobz09PW4ubGVuZ3RoLTE/KHR8fHMucHVzaCgoZnVuY3Rpb24oKXtjfHxjb25zb2xlLndhcm4oImZ1bi1ob29rczogcmVmZXJlbmNlZCAnIitlKyInIGJ1dCBpdCB3YXMgbmV2ZXIgY3JlYXRlZCIpfSkpLHJbaV09cCgoZnVuY3Rpb24oZSl7cltpXT1lLGM9ITB9KSkpOnJbaV09e30pfSksdSl9ZnVuY3Rpb24gcChlKXt2YXIgdD1bXSxuPVtdLGk9ZnVuY3Rpb24oKXt9LG89e2JlZm9yZTpmdW5jdGlvbihlLG4pe3JldHVybiB1LmNhbGwodGhpcyx0LCJiZWZvcmUiLGUsbil9LGFmdGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUuY2FsbCh0aGlzLG4sImFmdGVyIixlLHQpfSxnZXRIb29rczpmdW5jdGlvbihlKXt2YXIgcj10LmNvbmNhdChuKTsib2JqZWN0Ij09dHlwZW9mIGUmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZXZlcnkoKGZ1bmN0aW9uKG4pe3JldHVybiB0W25dPT09ZVtuXX0pKX0pKSk7dHJ5e2Eocix7cmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pKSx0aGlzfX0pfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoImVycm9yIGFkZGluZyBgcmVtb3ZlYCB0byBhcnJheSwgZGlkIHlvdSBtb2RpZnkgQXJyYXkucHJvdG90eXBlPyIpfXJldHVybiByfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRIb29rcygpLnJlbW92ZSgpfX0sYz17aW5zdGFsbDpmdW5jdGlvbihyLG8sYSl7dGhpcy50eXBlPXIsaT1hLGEodCxuKSxlJiZlKG8pfX07cmV0dXJuIHIuc2V0KG8uYWZ0ZXIsYyksbztmdW5jdGlvbiB1KGUscixvLGEpe3ZhciBjPXtob29rOm8sdHlwZTpyLHByaW9yaXR5OmF8fDEwLHJlbW92ZTpmdW5jdGlvbigpe3ZhciByPWUuaW5kZXhPZihjKTstMSE9PXImJihlLnNwbGljZShyLDEpLGkodCxuKSl9fTtyZXR1cm4gZS5wdXNoKGMpLGUuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5wcmlvcml0eS1lLnByaW9yaXR5fSkpLGkodCxuKSx0aGlzfX1mdW5jdGlvbiBnKG4saSx1KXt2YXIgZD1pLmFmdGVyJiZyLmdldChpLmFmdGVyKTtpZihkKXtpZihkLnR5cGUhPT1uKXRocm93ImZ1bi1ob29rczogcmVjcmVhdGVkIGhvb2thYmxlIHdpdGggZGlmZmVyZW50IHR5cGUiO3JldHVybiBpfXZhciBmLGcsYj11P2wodSk6cCgpLHY9e2dldDpmdW5jdGlvbihlLHQpe3JldHVybiBiW3RdfHxSZWZsZWN0LmdldC5hcHBseShSZWZsZWN0LGFyZ3VtZW50cyl9fTtyZXR1cm4gdHx8cy5wdXNoKHkpLGUudXNlUHJveHkmJiJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSYmUHJveHkucmV2b2NhYmxlP2c9bmV3IFByb3h5KGksdik6YShnPWZ1bmN0aW9uKCl7cmV0dXJuIHYuYXBwbHk/di5hcHBseShpLHRoaXMsbyhhcmd1bWVudHMpKTppLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYiksci5nZXQoZy5hZnRlcikuaW5zdGFsbChuLGcsKGZ1bmN0aW9uKGUsdCl7dmFyIHIsaT1bXTtlLmxlbmd0aHx8dC5sZW5ndGg/KGUuZm9yRWFjaChhKSxyPWkucHVzaCh2b2lkIDApLTEsdC5mb3JFYWNoKGEpLGY9ZnVuY3Rpb24oZSx0LGEpe3ZhciBjLHU9MCxzPSJhc3luYyI9PT1uJiYiZnVuY3Rpb24iPT10eXBlb2YgYVthLmxlbmd0aC0xXSYmYS5wb3AoKTtmdW5jdGlvbiBkKGUpeyJzeW5jIj09PW4/Yz1lOnMmJnMuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIGYoZSl7aWYoaVt1XSl7dmFyIHI9byhhcmd1bWVudHMpO3JldHVybiBmLmJhaWw9ZCxyLnVuc2hpZnQoZiksaVt1KytdLmFwcGx5KHQscil9InN5bmMiPT09bj9jPWU6cyYmcy5hcHBseShudWxsLGFyZ3VtZW50cyl9cmV0dXJuIGlbcl09ZnVuY3Rpb24oKXt2YXIgcj1vKGFyZ3VtZW50cywxKTsiYXN5bmMiPT09biYmcyYmKGRlbGV0ZSBmLmJhaWwsci5wdXNoKGYpKTt2YXIgaT1lLmFwcGx5KHQscik7InN5bmMiPT09biYmZihpKX0sZi5hcHBseShudWxsLGEpLGN9KTpmPXZvaWQgMDtmdW5jdGlvbiBhKGUpe2kucHVzaChlLmhvb2spfXkoKX0pKSxnO2Z1bmN0aW9uIHkoKXshdCYmKCJzeW5jIiE9PW58fGUucmVhZHkmYy5TWU5DKSYmKCJhc3luYyIhPT1ufHxlLnJlYWR5JmMuQVNZTkMpPyJzeW5jIiE9PW4mJmUucmVhZHkmYy5RVUVVRT92LmFwcGx5PWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3MucHVzaCgoZnVuY3Rpb24oKXtnLmFwcGx5KGVbMV0sZVsyXSl9KSl9OnYuYXBwbHk9ZnVuY3Rpb24oKXt0aHJvdyJmdW4taG9va3M6IGhvb2tlZCBmdW5jdGlvbiBub3QgcmVhZHkifTp2LmFwcGx5PWZ9fXJldHVybihlPWEoe30sbixlKSkucmVhZHk/ZC5yZWFkeT1mdW5jdGlvbigpe3Q9ITAsZnVuY3Rpb24oZSl7Zm9yKHZhciB0O3Q9ZS5zaGlmdCgpOyl0KCl9KHMpfTp0PSEwLGQuZ2V0PWwsZH1lLmV4cG9ydHM9Y30sMTc6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ITB9LDE5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oODYpLG89big1MCksYT1uKDI2KSxjPW4oNjMpLHU9big4Nykscz1mdW5jdGlvbihlLHQpe3RoaXMuc3RvcHBlZD1lLHRoaXMucmVzdWx0PXR9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGQsZixsLHAsZyxiLHYseT1uJiZuLnRoYXQsaD0hKCFufHwhbi5BU19FTlRSSUVTKSxtPSEoIW58fCFuLklTX0lURVJBVE9SKSxTPSEoIW58fCFuLklOVEVSUlVQVEVEKSxFPWEodCx5LDEraCtTKSxBPWZ1bmN0aW9uKGUpe3JldHVybiBkJiZ1KGQpLG5ldyBzKCEwLGUpfSxUPWZ1bmN0aW9uKGUpe3JldHVybiBoPyhyKGUpLFM/RShlWzBdLGVbMV0sQSk6RShlWzBdLGVbMV0pKTpTP0UoZSxBKTpFKGUpfTtpZihtKWQ9ZTtlbHNle2lmKCJmdW5jdGlvbiIhPXR5cGVvZihmPWMoZSkpKXRocm93IFR5cGVFcnJvcigiVGFyZ2V0IGlzIG5vdCBpdGVyYWJsZSIpO2lmKGkoZikpe2ZvcihsPTAscD1vKGUubGVuZ3RoKTtwPmw7bCsrKWlmKChnPVQoZVtsXSkpJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZztyZXR1cm4gbmV3IHMoITEpfWQ9Zi5jYWxsKGUpfWZvcihiPWQubmV4dDshKHY9Yi5jYWxsKGQpKS5kb25lOyl7dHJ5e2c9VCh2LnZhbHVlKX1jYXRjaChlKXt0aHJvdyB1KGQpLGV9aWYoIm9iamVjdCI9PXR5cGVvZiBnJiZnJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZ31yZXR1cm4gbmV3IHMoITEpfX0sMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj0ibmF0aXZlIixpPSJ2aWRlbyIsbz0iYmFubmVyIixhPSJhZHBvZCJ9LDIwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciByPW4oMyksaT1uKDApO3ZhciBvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHQ9ci5iLmdldENvbmZpZygicGFnZVVybCIpO2lmKHQpcmV0dXJuIHQ7dHJ5e3ZhciBuPWUucXVlcnlTZWxlY3RvcigibGlua1tyZWw9J2Nhbm9uaWNhbCddIik7aWYobnVsbCE9PW4pcmV0dXJuIG4uaHJlZn1jYXRjaChlKXt9cmV0dXJuIG51bGx9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4sbyxhLGM9W10sdT1mdW5jdGlvbihlKXt0cnl7aWYoIWUubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zKXJldHVybjtyZXR1cm4gZS5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnN9Y2F0Y2goZSl7fX0oZSkscz1yLmIuZ2V0Q29uZmlnKCJtYXhOZXN0ZWRJZnJhbWVzIiksZD0hMSxmPTAsbD0hMSxwPSExO2Rve3ZhciBnPW4sYj1wLHY9dm9pZCAwLHk9ITEsaD1udWxsO3A9ITEsbj1uP24ucGFyZW50OmU7dHJ5e3Y9bi5sb2NhdGlvbi5ocmVmfHxudWxsfWNhdGNoKGUpe3k9ITB9aWYoeSlpZihiKXt2YXIgbT1nLmNvbnRleHQ7dHJ5e289aD1tLnNvdXJjZVVybCxsPSEwLG49PT1lLnRvcCYmKGQ9ITApLG0uY2Fub25pY2FsVXJsJiYoYT1tLmNhbm9uaWNhbFVybCl9Y2F0Y2goZSl7fX1lbHNle09iamVjdChpLmxvZ1dhcm4pKCJUcnlpbmcgdG8gYWNjZXNzIGNyb3NzIGRvbWFpbiBpZnJhbWUuIENvbnRpbnVpbmcgd2l0aG91dCByZWZlcnJlciBhbmQgbG9jYXRpb24iKTt0cnl7dmFyIFM9Zy5kb2N1bWVudC5yZWZlcnJlcjtTJiYoaD1TLG49PT1lLnRvcCYmKGQ9ITApKX1jYXRjaChlKXt9IWgmJnUmJnVbZi0xXSYmKGg9dVtmLTFdKSxoJiYhbCYmKG89aCl9ZWxzZXtpZih2JiYobz1oPXYsbD0hMSxuPT09ZS50b3ApKXtkPSEwO3ZhciBFPXQobi5kb2N1bWVudCk7RSYmKGE9RSl9bi5jb250ZXh0JiZuLmNvbnRleHQuc291cmNlVXJsJiYocD0hMCl9Yy5wdXNoKGgpLGYrK313aGlsZShuIT09ZS50b3AmJmY8cyk7cmV0dXJuIGMucmV2ZXJzZSgpLHtyZWZlcmVyOm98fG51bGwscmVhY2hlZFRvcDpkLGlzQW1wOmwsbnVtSWZyYW1lczpmLTEsc3RhY2s6YyxjYW5vbmljYWxVcmw6YXx8bnVsbH19fSh3aW5kb3cpfSwyMTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gZX19LDIxMzpmdW5jdGlvbihlLHQsbil7bigyMTQpO3ZhciByPW4oNTIpO2UuZXhwb3J0cz1yKCJBcnJheSIsImZpbmRJbmRleCIpfSwyMTQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oNTkpLmZpbmRJbmRleCxvPW4oNTEpLGE9ImZpbmRJbmRleCIsYz0hMDthIGluW10mJkFycmF5KDEpLmZpbmRJbmRleCgoZnVuY3Rpb24oKXtjPSExfSkpLHIoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDpjfSx7ZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbyhhKX0sMjE5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKCl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGgsITEpfTt2YXIgcj1uKDkpLGk9bi5uKHIpLG89bigzNiksYT1uKDUpLGM9bi5uKGEpLHU9bigwKSxzPW4oMjMpLGQ9bigxMSksZj1uLm4oZCksbD1uKDEzKSxwPW4oMTIpLGc9bi5uKHApLGI9bigzKSx2PWMuYS5FVkVOVFMuQklEX1dPTix5PWMuYS5FVkVOVFMuU1RBTEVfUkVOREVSO2Z1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5tZXNzYWdlPyJtZXNzYWdlIjoiZGF0YSIsbj17fTt0cnl7bj1KU09OLnBhcnNlKGVbdF0pfWNhdGNoKGUpe3JldHVybn1pZihuJiZuLmFkSWQpe3ZhciByPWYoKShzLmEuZ2V0Qmlkc1JlY2VpdmVkKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT1uLmFkSWR9KSk7aWYociYmIlByZWJpZCBSZXF1ZXN0Ij09PW4ubWVzc2FnZSl7aWYoci5zdGF0dXM9PT1jLmEuQklEX1NUQVRVUy5SRU5ERVJFRCYmKE9iamVjdCh1LmxvZ1dhcm4pKCJBZCBpZCAiLmNvbmNhdChyLmFkSWQsIiBoYXMgYmVlbiByZW5kZXJlZCBiZWZvcmUiKSksaS5hLmVtaXQoeSxyKSxPYmplY3QodS5kZWVwQWNjZXNzKShiLmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpLCJzdXBwcmVzc1N0YWxlUmVuZGVyIikpKXJldHVybjshZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmFkSWQscj1lLmFkLGk9ZS5hZFVybCxvPWUud2lkdGgsYT1lLmhlaWdodCxjPWUucmVuZGVyZXIscz1lLmNwbTtPYmplY3QobC5jKShjKT9PYmplY3QobC5iKShjLGUpOm4mJihtKGUpLHQuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlOiJSZW5kZXIgU2VjdXJlIENyZWF0aXZlIixhZDpPYmplY3QodS5yZXBsYWNlQXVjdGlvblByaWNlKShyLHMpLGFkVXJsOk9iamVjdCh1LnJlcGxhY2VBdWN0aW9uUHJpY2UpKGkscyksYWRJZDpuLHdpZHRoOm8saGVpZ2h0OmF9KSx0Lm9yaWdpbikpfShyLGUpLHMuYS5hZGRXaW5uaW5nQmlkKHIpLGkuYS5lbWl0KHYscil9aWYociYmIlByZWJpZCBOYXRpdmUiPT09bi5tZXNzYWdlKXtpZigiYXNzZXRSZXF1ZXN0Ij09PW4uYWN0aW9uKXt2YXIgYT1PYmplY3Qoby5kKShuLHIpO3JldHVybiB2b2lkIGUuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGEpLGUub3JpZ2luKX1pZigiYWxsQXNzZXRSZXF1ZXN0Ij09PW4uYWN0aW9uKXt2YXIgZD1PYmplY3Qoby5jKShuLHIpO2Uuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGQpLGUub3JpZ2luKX1lbHNlInJlc2l6ZU5hdGl2ZUhlaWdodCI9PT1uLmFjdGlvbiYmKHIuaGVpZ2h0PW4uaGVpZ2h0LHIud2lkdGg9bi53aWR0aCxtKHIpKTtpZigiY2xpY2siPT09T2JqZWN0KG8uYikobixyKSlyZXR1cm47cy5hLmFkZFdpbm5pbmdCaWQociksaS5hLmVtaXQodixyKX19fWZ1bmN0aW9uIG0oZSl7dmFyIHQ9ZS5hZElkLG49ZS5hZFVuaXRDb2RlLHI9ZS53aWR0aCxpPWUuaGVpZ2h0O1siZGl2IiwiaWZyYW1lIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSx0KXt2YXIgbjtPYmplY3QodS5pc0dwdFB1YmFkc0RlZmluZWQpKCkmJihuPWZ1bmN0aW9uKGUpe3ZhciB0PWYoKSh3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCksKGZ1bmN0aW9uKHQpe3JldHVybiBmKCkodC5nZXRUYXJnZXRpbmdLZXlzKCksKGZ1bmN0aW9uKG4pe3JldHVybiBnKCkodC5nZXRUYXJnZXRpbmcobiksZSl9KSl9KSk7cmV0dXJuIHQmJnQuZ2V0U2xvdEVsZW1lbnRJZCgpfShlKSk7IW4mJk9iamVjdCh1LmlzQXBuR2V0VGFnRGVmaW5lZCkoKSYmKG49ZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LmFwbnRhZy5nZXRUYWcoZSk7cmV0dXJuIHQmJnQudGFyZ2V0SWR9KHQpKTtufHwobj10KTtyZXR1cm4gbn0odCxuKSxpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIpO3JldHVybiBpJiZpLnF1ZXJ5U2VsZWN0b3IoZSl9KGUrJzpub3QoW3N0eWxlKj0iZGlzcGxheTogbm9uZSJdKScpO2lmKG8pe3ZhciBhPW8uc3R5bGU7YS53aWR0aD1yKyJweCIsYS5oZWlnaHQ9aSsicHgifWVsc2UgT2JqZWN0KHUubG9nV2FybikoIlVuYWJsZSB0byBsb2NhdGUgbWF0Y2hpbmcgcGFnZSBlbGVtZW50IGZvciBhZFVuaXRDb2RlICIuY29uY2F0KG4sIi4gIENhbid0IHJlc2l6ZSBpdCB0byBhZCdzIGRpbWVuc2lvbnMuICBQbGVhc2UgcmV2aWV3IHNldHVwLiIpKX0pKX19LDIyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSx0LmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qoci5nZXRCaWRSZXF1ZXN0KShlLnJlcXVlc3RJZCx0KSxpPW4mJk9iamVjdChyLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8iKSxvPWkmJk9iamVjdChyLmRlZXBBY2Nlc3MpKGksImNvbnRleHQiKTtyZXR1cm4gcyhlLG4saSxvKX0sbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO24oOCk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDEyKSxhPShuLm4obyksbigxMCkpLGM9Im91dHN0cmVhbSIsdT0iaW5zdHJlYW0iO3ZhciBzPU9iamVjdChhLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0LG4sbyl7cmV0dXJuIXR8fG4mJm8hPT1jP2kuYi5nZXRDb25maWcoImNhY2hlLnVybCIpfHwhZS52YXN0WG1sfHxlLnZhc3RVcmw/ISghZS52YXN0VXJsJiYhZS52YXN0WG1sKTooT2JqZWN0KHIubG9nRXJyb3IpKCdcbiAgICAgICAgVGhpcyBiaWQgY29udGFpbnMgb25seSB2YXN0WG1sIGFuZCB3aWxsIG5vdCB3b3JrIHdoZW4gYSBwcmViaWQgY2FjaGUgdXJsIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgIFRyeSBlbmFibGluZyBwcmViaWQgY2FjaGUgd2l0aCB1cGJqcy5zZXRDb25maWcoeyBjYWNoZToge3VybDogIi4uLiJ9IH0pO1xuICAgICAgJyksITEpOm8hPT1jfHwhIShlLnJlbmRlcmVyfHx0LnJlbmRlcmVyfHxuLnJlbmRlcmVyKX0pLCJjaGVja1ZpZGVvQmlkU2V0dXAiKX0sMjIwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUpe3ZhciB0O3RyeXtlPWV8fHdpbmRvdy5zZXNzaW9uU3RvcmFnZSx0PUpTT04ucGFyc2UoZS5nZXRJdGVtKHUpKX1jYXRjaChlKXt9dCYmcCh0LCEwKX07dmFyIHIsaSxvPW4oMyksYT1uKDApLGM9bigyOCksdT0idXBianM6ZGVidWdnaW5nIjtmdW5jdGlvbiBzKGUpe09iamVjdChhLmxvZ01lc3NhZ2UpKCJERUJVRzogIitlKX1mdW5jdGlvbiBkKGUpe09iamVjdChhLmxvZ1dhcm4pKCJERUJVRzogIitlKX1mdW5jdGlvbiBmKGUpe3I9eS5iaW5kKGUpLGMuYy5iZWZvcmUociw1KSxpPWguYmluZChlKSxjLmUuYmVmb3JlKGksNSl9ZnVuY3Rpb24gbCgpe2MuYy5nZXRIb29rcyh7aG9vazpyfSkucmVtb3ZlKCksYy5lLmdldEhvb2tzKHtob29rOml9KS5yZW1vdmUoKX1mdW5jdGlvbiBwKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07by5iLnNldENvbmZpZyh7ZGVidWc6ITB9KSxsKCksZihlKSxzKCJiaWRkZXIgb3ZlcnJpZGVzIGVuYWJsZWQiLmNvbmNhdCh0PyIgZnJvbSBzZXNzaW9uIjoiIikpfWZ1bmN0aW9uIGcoZSx0LG4pe3JldHVybiEoIWUuYmlkZGVyfHxlLmJpZGRlcj09PXQpfHwhKCFlLmFkVW5pdENvZGV8fGUuYWRVbml0Q29kZT09PW4pfWZ1bmN0aW9uIGIoZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmLTE9PT1lLmluZGV4T2YodCl9ZnVuY3Rpb24gdihlLHQsbil7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1bImFkVW5pdENvZGUiLCJiaWRkZXIiXS5pbmRleE9mKGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxyKXtyZXR1cm4gcygiYmlkZGVyIG92ZXJyaWRlcyBjaGFuZ2VkICciLmNvbmNhdCh0LmFkVW5pdENvZGUsIi8iKS5jb25jYXQodC5iaWRkZXJDb2RlLCInICIpLmNvbmNhdChuLCIuIikuY29uY2F0KHIsIiBmcm9tICciKS5jb25jYXQodFtyXSwiLmpzJyB0byAnIikuY29uY2F0KGVbcl0sIiciKSksdFtyXT1lW3JdLHR9KSx0KX1mdW5jdGlvbiB5KGUsdCxuKXt2YXIgcj10aGlzO2Ioci5iaWRkZXJzLG4uYmlkZGVyQ29kZSk/ZCgiYmlkZGVyICciLmNvbmNhdChuLmJpZGRlckNvZGUsIicgZXhjbHVkZWQgZnJvbSBhdWN0aW9uIGJ5IGJpZGRlciBvdmVycmlkZXMiKSk6KEFycmF5LmlzQXJyYXkoci5iaWRzKSYmci5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2coZSxuLmJpZGRlckNvZGUsdCl8fHYoZSxuLCJiaWRkZXIiKX0pKSxlKHQsbikpfWZ1bmN0aW9uIGgoZSx0KXt2YXIgbj10aGlzLHI9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFiKG4uYmlkZGVycyxlLmJpZGRlckNvZGUpfHwoZCgiYmlkUmVxdWVzdCAnIi5jb25jYXQoZS5iaWRkZXJDb2RlLCInIGV4Y2x1ZGVkIGZyb20gYXVjdGlvbiBieSBiaWRkZXIgb3ZlcnJpZGVzIikpLCExKX0pKTtBcnJheS5pc0FycmF5KG4uYmlkUmVxdWVzdHMpJiZyLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYmlkUmVxdWVzdHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe2codCxlLmJpZGRlckNvZGUsbi5hZFVuaXRDb2RlKXx8dih0LG4sImJpZFJlcXVlc3QiKX0pKX0pKX0pKSxlKHIpfWZ1bmN0aW9uIG0oZSl7aWYoZS5lbmFibGVkKXt0cnl7d2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odSxKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2goZSl7fXAoZSl9ZWxzZXtsKCkscygiYmlkZGVyIG92ZXJyaWRlcyBkaXNhYmxlZCIpO3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSh1KX1jYXRjaChlKXt9fX1vLmIuZ2V0Q29uZmlnKCJkZWJ1Z2dpbmciLChmdW5jdGlvbihlKXtyZXR1cm4gbShlLmRlYnVnZ2luZyl9KSl9LDIzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciByPW4oMCksaT1uKDI4KSxvPW4oMTEpLGE9bi5uKG8pLGM9big1KTt2YXIgdT1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9e307cmV0dXJuIHQuYWRkV2lubmluZ0JpZD1mdW5jdGlvbih0KXt2YXIgbj1hKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXVjdGlvbklkKCk9PT10LmF1Y3Rpb25JZH0pKTtuPyh0LnN0YXR1cz1jLkJJRF9TVEFUVVMuUkVOREVSRUQsbi5hZGRXaW5uaW5nQmlkKHQpKTpPYmplY3Qoci5sb2dXYXJuKSgiQXVjdGlvbiBub3QgZm91bmQgd2hlbiBhZGRpbmcgd2lubmluZyBiaWQiKX0sdC5nZXRBbGxXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0V2lubmluZ0JpZHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXRCaWRzUmVxdWVzdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRSZXF1ZXN0cygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldE5vQmlkcz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0Tm9CaWRzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0Qmlkc1JlY2VpdmVkPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtpZihlLmdldEF1Y3Rpb25TdGF0dXMoKT09PWkuYSlyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfSx0LmdldEFsbEJpZHNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKHQpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5hZFVuaXRDb2RlPT09dH0pKX0sdC5nZXRBZFVuaXRzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBZFVuaXRzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0QWRVbml0Q29kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEFkVW5pdENvZGVzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKHIudW5pcXVlcyl9LHQuY3JlYXRlQXVjdGlvbj1mdW5jdGlvbih0KXt2YXIgbj10LmFkVW5pdHMscj10LmFkVW5pdENvZGVzLG89dC5jYWxsYmFjayxhPXQuY2JUaW1lb3V0LGM9dC5sYWJlbHMsdT10LmF1Y3Rpb25JZCxzPU9iamVjdChpLmspKHthZFVuaXRzOm4sYWRVbml0Q29kZXM6cixjYWxsYmFjazpvLGNiVGltZW91dDphLGxhYmVsczpjLGF1Y3Rpb25JZDp1fSk7cmV0dXJuIGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0ocyksc30sdC5maW5kQmlkQnlBZElkPWZ1bmN0aW9uKHQpe3JldHVybiBhKCkoZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZElkPT09dH0pKX0sdC5nZXRTdGFuZGFyZEJpZGRlckFkU2VydmVyVGFyZ2V0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmopKClbYy5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXX0sdC5zZXRTdGF0dXNGb3JCaWRzPWZ1bmN0aW9uKG4scil7dmFyIGk9dC5maW5kQmlkQnlBZElkKG4pO2lmKGkmJihpLnN0YXR1cz1yKSxpJiZyPT09Yy5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VUKXt2YXIgbz1hKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXVjdGlvbklkKCk9PT1pLmF1Y3Rpb25JZH0pKTtvJiZvLnNldEJpZFRhcmdldGluZyhpKX19LHQuZ2V0TGFzdEF1Y3Rpb25JZD1mdW5jdGlvbigpe3JldHVybiBlLmxlbmd0aCYmZVtlLmxlbmd0aC0xXS5nZXRBdWN0aW9uSWQoKX0sdC5jbGVhckFsbEF1Y3Rpb25zPWZ1bmN0aW9uKCl7ZS5sZW5ndGg9MH0sdH0oKX0sMjQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjUpLGk9big4MSksbz1uKDMxKSxhPW4oNjIpLGM9big4MiksdT1uKDExMSkscz1pKCJ3a3MiKSxkPXIuU3ltYm9sLGY9dT9kOmQmJmQud2l0aG91dFNldHRlcnx8YTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8ocyxlKSYmKGN8fCJzdHJpbmciPT10eXBlb2Ygc1tlXSl8fChjJiZvKGQsZSk/c1tlXT1kW2VdOnNbZV09ZigiU3ltYm9sLiIrZSkpLHNbZV19fSwyNTpmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLk1hdGg9PU1hdGgmJmV9O2UuZXhwb3J0cz1uKCJvYmplY3QiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyl8fG4oIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fG4oIm9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8bigib2JqZWN0Ij09dHlwZW9mIHQmJnQpfHxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfSkuY2FsbCh0LG4oMzkpKX0sMjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7aWYocihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChuKXtjYXNlIDA6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsbCh0KX07Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZS5jYWxsKHQsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gZS5jYWxsKHQsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsaSl7cmV0dXJuIGUuY2FsbCh0LG4scixpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LDI3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQ5KSxpPW4oMjUpLG89ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTp2b2lkIDB9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/byhyW2VdKXx8byhpW2VdKTpyW2VdJiZyW2VdW3RdfHxpW2VdJiZpW2VdW3RdfX0sMjg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLHQuaz1mdW5jdGlvbihlKXt2YXIgdCxuLG8sYSxzPWUuYWRVbml0cyxkPWUuYWRVbml0Q29kZXMsZj1lLmNhbGxiYWNrLHA9ZS5jYlRpbWVvdXQsdj1lLmxhYmVscyxVPWUuYXVjdGlvbklkLGs9cyxQPXYscT1kLE09W10sVz1bXSxMPVtdLEY9VXx8Uy5nZW5lcmF0ZVVVSUQoKSx6PWYsVj1wLEg9W10sSz1uZXcgU2V0O2Z1bmN0aW9uIEooKXtyZXR1cm57YXVjdGlvbklkOkYsdGltZXN0YW1wOnQsYXVjdGlvbkVuZDpuLGF1Y3Rpb25TdGF0dXM6byxhZFVuaXRzOmssYWRVbml0Q29kZXM6cSxsYWJlbHM6UCxiaWRkZXJSZXF1ZXN0czpNLG5vQmlkczpMLGJpZHNSZWNlaXZlZDpXLHdpbm5pbmdCaWRzOkgsdGltZW91dDpWfX1mdW5jdGlvbiBZKGUsdCl7aWYodCYmY2xlYXJUaW1lb3V0KGEpLHZvaWQgMD09PW4pe3ZhciBpPVtdO2UmJihTLmxvZ01lc3NhZ2UoIkF1Y3Rpb24gIi5jb25jYXQoRiwiIHRpbWVkT3V0IikpLGM9SywoaT1NLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkc3x8W10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWMuaGFzKGUuYmlkZGVyKX0pKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntiaWRJZDplLmJpZElkLGJpZGRlcjplLmJpZGRlcixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSxhdWN0aW9uSWQ6ZS5hdWN0aW9uSWR9fSkpKS5sZW5ndGgmJkEuZW1pdChULkVWRU5UUy5CSURfVElNRU9VVCxpKSksbz1JLG49RGF0ZS5ub3coKSxBLmVtaXQoVC5FVkVOVFMuQVVDVElPTl9FTkQsSigpKSxCKGssKGZ1bmN0aW9uKCl7dHJ5e2lmKG51bGwhPXope3ZhciB0PXEsbj1XLmZpbHRlcihTLmJpbmQuY2FsbChyLmFkVW5pdHNGaWx0ZXIsdGhpcyx0KSkucmVkdWNlKEcse30pO3ouYXBwbHkodXBianMsW24sZSxGXSksej1udWxsfX1jYXRjaChlKXtTLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIixudWxsLGUpfWZpbmFsbHl7aS5sZW5ndGgmJkUuY2FsbFRpbWVkT3V0QmlkZGVycyhzLGksVik7dmFyIG89dS5iLmdldENvbmZpZygidXNlclN5bmMiKXx8e307by5lbmFibGVPdmVycmlkZXx8bShvLnN5bmNEZWxheSl9fSkpfXZhciBjfWZ1bmN0aW9uIFEoKXt1LmIucmVzZXRCaWRkZXIoKSxTLmxvZ0luZm8oIkJpZHMgUmVjZWl2ZWQgZm9yIEF1Y3Rpb24gd2l0aCBpZDogIi5jb25jYXQoRiksVyksbz1JLFkoITEsITApfWZ1bmN0aW9uICQoZSl7Sy5hZGQoZSl9ZnVuY3Rpb24gWChlKXt2YXIgdD10aGlzO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ7dD1lLE09TS5jb25jYXQodCl9KSk7dmFyIG49e30scz17YmlkUmVxdWVzdHM6ZSxydW46ZnVuY3Rpb24oKXt2YXIgcyxwO3M9WS5iaW5kKG51bGwsITApLHA9c2V0VGltZW91dChzLFYpLGE9cCxvPU8sQS5lbWl0KFQuRVZFTlRTLkFVQ1RJT05fSU5JVCxKKCkpO3ZhciB2PWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxvPSExLGE9bmV3IFNldCxzPXt9O2Z1bmN0aW9uIGQoKXtuLS0sbyYmMD09PW4mJmUoKX1mdW5jdGlvbiBmKGUsbyl7dmFyIGE9dGhpcyxmPXQuZ2V0QmlkUmVxdWVzdHMoKTtpZihvLmFkZFJlcXVlc3RPbmx5JiZhLmlzRHluYW1pYyYmIWYuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyUmVxdWVzdElkPT09YS5iaWRkZXJSZXF1ZXN0SWR9KSkpZi5wdXNoKGEpO2Vsc2V7c1tvLnJlcXVlc3RJZF09ITAsbisrO3ZhciBwPXQuZ2V0QXVjdGlvbklkKCksZz1mdW5jdGlvbihlKXt2YXIgdD1lLmFkVW5pdENvZGUsbj1lLmJpZCxvPWUuYmlkZGVyUmVxdWVzdCxhPWUuYXVjdGlvbklkLHM9by5zdGFydCxkPWgoe30sbix7YXVjdGlvbklkOmEscmVzcG9uc2VUaW1lc3RhbXA6T2JqZWN0KHIudGltZXN0YW1wKSgpLHJlcXVlc3RUaW1lc3RhbXA6cyxjcG06cGFyc2VGbG9hdChuLmNwbSl8fDAsYmlkZGVyOm4uYmlkZGVyQ29kZSxhZFVuaXRDb2RlOnR9KTtkLnRpbWVUb1Jlc3BvbmQ9ZC5yZXNwb25zZVRpbWVzdGFtcC1kLnJlcXVlc3RUaW1lc3RhbXAsQS5lbWl0KFQuRVZFTlRTLkJJRF9BREpVU1RNRU5ULGQpO3ZhciBmPW8uYmlkcyYmbCgpKG8uYmlkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09dCYmZS5iaWRJZD09ZC5yZXF1ZXN0SWR9KSkscD1mJiZmLnJlbmRlcmVyLGc9ZC5tZWRpYVR5cGUsYj1mJiZmLm1lZGlhVHlwZXMmJmYubWVkaWFUeXBlc1tnXSx2PWImJmIucmVuZGVyZXIsbT1udWxsO3YmJnYudXJsJiZ2LnJlbmRlciYmKCEwIT09di5iYWNrdXBPbmx5fHwhbi5yZW5kZXJlcik/bT12OnAmJnAudXJsJiZwLnJlbmRlciYmKCEwIT09cC5iYWNrdXBPbmx5fHwhbi5yZW5kZXJlcikmJihtPXApO20mJihkLnJlbmRlcmVyPWMuYS5pbnN0YWxsKHt1cmw6bS51cmx9KSxkLnJlbmRlcmVyLnNldFJlbmRlcihtLnJlbmRlcikpO3ZhciBTPU4obi5tZWRpYVR5cGUsZix1LmIuZ2V0Q29uZmlnKCJtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5IikpLEU9T2JqZWN0KGkuYSkoZC5jcG0sIm9iamVjdCI9PT15KFMpP1M6dS5iLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKSx1LmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5ncmFudWxhcml0eU11bHRpcGxpZXIiKSk7cmV0dXJuIGQucGJMZz1FLmxvdyxkLnBiTWc9RS5tZWQsZC5wYkhnPUUuaGlnaCxkLnBiQWc9RS5hdXRvLGQucGJEZz1FLmRlbnNlLGQucGJDZz1FLmN1c3RvbSxkfSh7YWRVbml0Q29kZTplLGJpZDpvLGJpZGRlclJlcXVlc3Q6YSxhdWN0aW9uSWQ6cH0pOyJ2aWRlbyI9PT1nLm1lZGlhVHlwZT9mdW5jdGlvbihlLHQsbixpKXt2YXIgbz0hMCxhPU9iamVjdChyLmdldEJpZFJlcXVlc3QpKHQub3JpZ2luYWxSZXF1ZXN0SWR8fHQucmVxdWVzdElkLFtuXSksYz1hJiZPYmplY3Qoci5kZWVwQWNjZXNzKShhLCJtZWRpYVR5cGVzLnZpZGVvIikscz1jJiZPYmplY3Qoci5kZWVwQWNjZXNzKShjLCJjb250ZXh0Iik7dS5iLmdldENvbmZpZygiY2FjaGUudXJsIikmJnMhPT1iLmImJighdC52aWRlb0NhY2hlS2V5fHx1LmIuZ2V0Q29uZmlnKCJjYWNoZS5pZ25vcmVCaWRkZXJDYWNoZUtleSIpPyhvPSExLEQoZSx0LGksYSkpOnQudmFzdFVybHx8KFMubG9nRXJyb3IoInZpZGVvQ2FjaGVLZXkgc3BlY2lmaWVkIGJ1dCBub3QgcmVxdWlyZWQgdmFzdFVybCBmb3IgdmlkZW8gYmlkIiksbz0hMSkpO28mJih4KGUsdCksaSgpKX0odCxnLGEsZCk6KHgodCxnKSxkKCkpfX1mdW5jdGlvbiBwKCl7dmFyIHI9dGhpcyxpPXQuZ2V0QmlkUmVxdWVzdHMoKTtpZigiczJzQmlkZGVyUGxhY2Vob2xkZXIiIT09ci5iaWRkZXJDb2RlKXt2YXIgYz11LmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpO2lmKGEuYWRkKHIpLGMmJiFTLmlzRW1wdHkoYykpe3ZhciBkPWMuc2Vjb25kYXJ5QmlkZGVycztkJiYhaS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGcoKShkLGUuYmlkZGVyQ29kZSl9KSkmJihpPWkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZygpKGQsZS5iaWRkZXJDb2RlKX0pKSl9bz1pLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gYS5oYXMoZSl9KSksci5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3NbZS5iaWRJZF18fCh0LmFkZE5vQmlkKGUpLEEuZW1pdChULkVWRU5UUy5OT19CSUQsZSkpfSkpLG8mJjA9PT1uJiZlKCl9ZWxzZXt2YXIgZj1pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyUmVxdWVzdElkfSkpLmluZGV4T2Yoci5iaWRkZXJSZXF1ZXN0SWQpO2Y+LTEmJmkuc3BsaWNlKGYsMSl9fXJldHVybnthZGRCaWRSZXNwb25zZTpmLGFkYXB0ZXJEb25lOnB9fShRLHQpO0UuY2FsbEJpZHMoayxlLChmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO18uYXBwbHkoe2Rpc3BhdGNoOnYuYWRkQmlkUmVzcG9uc2UsYmlkZGVyUmVxdWVzdDp0aGlzfSx0KX0pLHYuYWRhcHRlckRvbmUse3JlcXVlc3Q6ZnVuY3Rpb24oZSx0KXtmKHcsdCksZihuLGUpLENbZV18fChDW2VdPXtTUkE6ITAsb3JpZ2luOnR9KSxuW2VdPjEmJihDW2VdLlNSQT0hMSl9LGRvbmU6ZnVuY3Rpb24oZSl7d1tlXS0tLGpbMF0mJmQoalswXSkmJmouc2hpZnQoKX19LFYsJCl9fTtmdW5jdGlvbiBkKGUpe3ZhciB0PSEwLG49dS5iLmdldENvbmZpZygibWF4UmVxdWVzdHNQZXJPcmlnaW4iKXx8NDtyZXR1cm4gZS5iaWRSZXF1ZXN0cy5zb21lKChmdW5jdGlvbihlKXt2YXIgcj0xLGk9dm9pZCAwIT09ZS5zcmMmJmUuc3JjPT09VC5TMlMuU1JDPyJzMnMiOmUuYmlkZGVyQ29kZTtyZXR1cm4gQ1tpXSYmKCExPT09Q1tpXS5TUkEmJihyPU1hdGgubWluKGUuYmlkcy5sZW5ndGgsbikpLHdbQ1tpXS5vcmlnaW5dK3I+biYmKHQ9ITEpKSwhdH0pKSx0JiZlLnJ1bigpLHR9ZnVuY3Rpb24gZihlLHQpe3ZvaWQgMD09PWVbdF0/ZVt0XT0xOmVbdF0rK31kKHMpfHwoUy5sb2dXYXJuKCJxdWV1ZWluZyBhdWN0aW9uIGR1ZSB0byBsaW1pdGVkIGVuZHBvaW50IGNhcGFjaXR5Iiksai5wdXNoKHMpKX1yZXR1cm57YWRkQmlkUmVjZWl2ZWQ6ZnVuY3Rpb24oZSl7Vz1XLmNvbmNhdChlKX0sYWRkTm9CaWQ6ZnVuY3Rpb24oZSl7TD1MLmNvbmNhdChlKX0sZXhlY3V0ZUNhbGxiYWNrOlksY2FsbEJpZHM6ZnVuY3Rpb24oKXtvPSJzdGFydGVkIix0PURhdGUubm93KCk7dmFyIGU9RS5tYWtlQmlkUmVxdWVzdHMoayx0LEYsVixQKTtTLmxvZ0luZm8oIkJpZHMgUmVxdWVzdGVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KEYpLGUpLGUubGVuZ3RoPDE/KFMubG9nV2FybigiTm8gdmFsaWQgYmlkIHJlcXVlc3RzIHJldHVybmVkIGZvciBhdWN0aW9uIiksUSgpKTpSLmNhbGwoe2Rpc3BhdGNoOlgsY29udGV4dDp0aGlzfSxlKX0sYWRkV2lubmluZ0JpZDpmdW5jdGlvbihlKXtIPUguY29uY2F0KGUpLEUuY2FsbEJpZFdvbkJpZGRlcihlLmJpZGRlcixlLHMpfSxzZXRCaWRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7RS5jYWxsU2V0VGFyZ2V0aW5nQmlkZGVyKGUuYmlkZGVyLGUpfSxnZXRXaW5uaW5nQmlkczpmdW5jdGlvbigpe3JldHVybiBIfSxnZXRUaW1lb3V0OmZ1bmN0aW9uKCl7cmV0dXJuIFZ9LGdldEF1Y3Rpb25JZDpmdW5jdGlvbigpe3JldHVybiBGfSxnZXRBdWN0aW9uU3RhdHVzOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGdldEFkVW5pdHM6ZnVuY3Rpb24oKXtyZXR1cm4ga30sZ2V0QWRVbml0Q29kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gcX0sZ2V0QmlkUmVxdWVzdHM6ZnVuY3Rpb24oKXtyZXR1cm4gTX0sZ2V0Qmlkc1JlY2VpdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIFd9LGdldE5vQmlkczpmdW5jdGlvbigpe3JldHVybiBMfX19LG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxuLmQodCwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksdC5nPVUsdC5kPXgsbi5kKHQsImYiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZCh0LCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxuLmQodCwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFB9KSksdC5qPXE7dmFyIHI9bigwKSxpPW4oNDMpLG89bigzNiksYT1uKDk4KSxjPW4oMTMpLHU9bigzKSxzPW4oNTYpLGQ9bigxMCksZj1uKDExKSxsPW4ubihmKSxwPW4oMTIpLGc9bi5uKHApLGI9bigyMiksdj1uKDIpO2Z1bmN0aW9uIHkoZSl7cmV0dXJuKHk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBoKCl7cmV0dXJuKGg9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbT1zLmEuc3luY1VzZXJzLFM9bigwKSxFPW4oOCkuZGVmYXVsdCxBPW4oOSksVD1uKDUpLE89ImluUHJvZ3Jlc3MiLEk9ImNvbXBsZXRlZCI7QS5vbihULkVWRU5UUy5CSURfQURKVVNUTUVOVCwoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5iaWRkZXJDb2RlLHI9ZS5jcG07aWYodXBianMuYmlkZGVyU2V0dGluZ3MmJihuJiZ1cGJqcy5iaWRkZXJTZXR0aW5nc1tuXSYmImZ1bmN0aW9uIj09dHlwZW9mIHVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ/dD11cGJqcy5iaWRkZXJTZXR0aW5nc1tuXS5iaWRDcG1BZGp1c3RtZW50OnVwYmpzLmJpZGRlclNldHRpbmdzW1QuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3NbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0uYmlkQ3BtQWRqdXN0bWVudCYmKHQ9dXBianMuYmlkZGVyU2V0dGluZ3NbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0uYmlkQ3BtQWRqdXN0bWVudCksdCkpdHJ5e3I9dChlLmNwbSxoKHt9LGUpKX1jYXRjaChlKXtTLmxvZ0Vycm9yKCJFcnJvciBkdXJpbmcgYmlkIGFkanVzdG1lbnQiLCJiaWRtYW5hZ2VyLmpzIixlKX1yPj0wJiYoZS5jcG09cil9KGUpfSkpO3ZhciB3PXt9LEM9e30saj1bXTt2YXIgXz1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQpe3RoaXMuZGlzcGF0Y2guY2FsbCh0aGlzLmJpZGRlclJlcXVlc3QsZSx0KX0pLCJhZGRCaWRSZXNwb25zZSIpLFI9T2JqZWN0KGQuYikoInN5bmMiLChmdW5jdGlvbihlKXt0aGlzLmRpc3BhdGNoLmNhbGwodGhpcy5jb250ZXh0LGUpfSksImFkZEJpZGRlclJlcXVlc3RzIiksQj1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQpe3QmJnQoKX0pLCJiaWRzQmFja0NhbGxiYWNrIik7ZnVuY3Rpb24gVShlLHQpe3QudGltZVRvUmVzcG9uZD5lLmdldFRpbWVvdXQoKSt1LmIuZ2V0Q29uZmlnKCJ0aW1lb3V0QnVmZmVyIikmJmUuZXhlY3V0ZUNhbGxiYWNrKCEwKX1mdW5jdGlvbiB4KGUsdCl7dmFyIG49ZS5nZXRCaWRSZXF1ZXN0cygpLHI9bCgpKG4sKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlckNvZGU9PT10LmJpZGRlckNvZGV9KSk7IWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZS5iaWRkZXJDb2RlJiYoZS5jcG0+MHx8ZS5kZWFsSWQpKXt2YXIgcj1sKCkodC5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZS5hZFVuaXRDb2RlfSkpO249ZnVuY3Rpb24oZSx0LG4pe2lmKCF0KXJldHVybnt9O3ZhciByPXt9LGk9dXBianMuYmlkZGVyU2V0dGluZ3M7aWYoaSl7TShyLHEodC5tZWRpYVR5cGUsZSxuKSx0KSxlJiZpW2VdJiZpW2VdW1QuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR10mJihNKHIsaVtlXSx0KSx0LnNlbmRTdGFuZGFyZFRhcmdldGluZz1pW2VdLnNlbmRTdGFuZGFyZFRhcmdldGluZyl9dC5uYXRpdmUmJihyPWgoe30scixPYmplY3Qoby5lKSh0LG4pKSk7cmV0dXJuIHJ9KGUuYmlkZGVyQ29kZSxlLHIpfWUuYWRzZXJ2ZXJUYXJnZXRpbmc9aChlLmFkc2VydmVyVGFyZ2V0aW5nfHx7fSxuKX0odCxyKSxBLmVtaXQoVC5FVkVOVFMuQklEX1JFU1BPTlNFLHQpLGUuYWRkQmlkUmVjZWl2ZWQodCksVShlLHQpfXZhciBEPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe09iamVjdChhLmIpKFt0XSwoZnVuY3Rpb24ocixpKXtyPyhTLmxvZ1dhcm4oIkZhaWxlZCB0byBzYXZlIHRvIHRoZSB2aWRlbyBjYWNoZTogIi5jb25jYXQociwiLiBWaWRlbyBiaWQgbXVzdCBiZSBkaXNjYXJkZWQuIikpLFUoZSx0KSk6IiI9PT1pWzBdLnV1aWQ/KFMubG9nV2FybigiU3VwcGxpZWQgdmlkZW8gY2FjaGUga2V5IHdhcyBhbHJlYWR5IGluIHVzZSBieSBQcmViaWQgQ2FjaGU7IGNhY2hpbmcgYXR0ZW1wdCB3YXMgcmVqZWN0ZWQuIFZpZGVvIGJpZCBtdXN0IGJlIGRpc2NhcmRlZC4iKSxVKGUsdCkpOih0LnZpZGVvQ2FjaGVLZXk9aVswXS51dWlkLHQudmFzdFVybHx8KHQudmFzdFVybD1PYmplY3QoYS5hKSh0LnZpZGVvQ2FjaGVLZXkpKSx4KGUsdCksbigpKX0pLHIpfSksImNhbGxQcmViaWRDYWNoZSIpO2Z1bmN0aW9uIE4oZSx0LG4pe2lmKGUmJm4pe2lmKGU9PT12LmQpe3ZhciBpPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMuIi5jb25jYXQodi5kLCIuY29udGV4dCIpLCJpbnN0cmVhbSIpO2lmKG5bIiIuY29uY2F0KHYuZCwiLSIpLmNvbmNhdChpKV0pcmV0dXJuIG5bIiIuY29uY2F0KHYuZCwiLSIpLmNvbmNhdChpKV19cmV0dXJuIG5bZV19fXZhciBrPWZ1bmN0aW9uKGUsdCl7dmFyIG49TihlLHQsdS5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJm4/InN0cmluZyI9PXR5cGVvZiBuP246ImN1c3RvbSI6dS5iLmdldENvbmZpZygicHJpY2VHcmFudWxhcml0eSIpfSxQPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZT09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5BVVRPP3QucGJBZzplPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkRFTlNFP3QucGJEZzplPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkxPVz90LnBiTGc6ZT09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5NRURJVU0/dC5wYk1nOmU9PT1ULkdSQU5VTEFSSVRZX09QVElPTlMuSElHSD90LnBiSGc6ZT09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5DVVNUT00/dC5wYkNnOnZvaWQgMH19O2Z1bmN0aW9uIHEoZSx0LG4pe2Z1bmN0aW9uIGkoZSx0KXtyZXR1cm57a2V5OmUsdmFsOiJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUpe3JldHVybiB0KGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZ2V0VmFsdWUpKGUsdCl9fX12YXIgbz1ULlRBUkdFVElOR19LRVlTLGE9ayhlLG4pLGM9dXBianMuYmlkZGVyU2V0dGluZ3M7aWYoY1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXXx8KGNbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF09e30pLGNbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXXx8KGNbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXT1baShvLkJJRERFUiwiYmlkZGVyQ29kZSIpLGkoby5BRF9JRCwiYWRJZCIpLGkoby5QUklDRV9CVUNLRVQsUChhKSksaShvLlNJWkUsInNpemUiKSxpKG8uREVBTCwiZGVhbElkIiksaShvLlNPVVJDRSwic291cmNlIiksaShvLkZPUk1BVCwibWVkaWFUeXBlIiksaShvLkFET01BSU4sKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1ldGEmJmUubWV0YS5hZHZlcnRpc2VyRG9tYWlucyYmZS5tZXRhLmFkdmVydGlzZXJEb21haW5zLmxlbmd0aD4wP2UubWV0YS5hZHZlcnRpc2VyRG9tYWluc1swXToiIn0pKV0pLCJ2aWRlbyI9PT1lKXt2YXIgcz1jW1QuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdW1QuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR107aWYoW28uVVVJRCxvLkNBQ0hFX0lEXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2b2lkIDA9PT1sKCkocywoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5PT09ZX0pKSYmcy5wdXNoKGkoZSwidmlkZW9DYWNoZUtleSIpKX0pKSx1LmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSYmKCF0fHwhMSE9PVMuZGVlcEFjY2VzcyhjLCIiLmNvbmNhdCh0LCIuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nIikpKSl7dmFyIGQ9T2JqZWN0KHIucGFyc2VVcmwpKHUuYi5nZXRDb25maWcoImNhY2hlLnVybCIpKTt2b2lkIDA9PT1sKCkocywoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5PT09by5DQUNIRV9IT1NUfSkpJiZzLnB1c2goaShvLkNBQ0hFX0hPU1QsKGZ1bmN0aW9uKGUpe3JldHVybiBTLmRlZXBBY2Nlc3MoZSwiYWRzZXJ2ZXJUYXJnZXRpbmcuIi5jb25jYXQoby5DQUNIRV9IT1NUKSk/ZS5hZHNlcnZlclRhcmdldGluZ1tvLkNBQ0hFX0hPU1RdOmQuaG9zdG5hbWV9KSkpfX1yZXR1cm4gY1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXX1mdW5jdGlvbiBNKGUsdCxuKXt2YXIgcj10W1QuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR107cmV0dXJuIG4uc2l6ZT1uLmdldFNpemUoKSxTLl9lYWNoKHIsKGZ1bmN0aW9uKHIpe3ZhciBpPXIua2V5LG89ci52YWw7aWYoZVtpXSYmUy5sb2dXYXJuKCJUaGUga2V5OiAiK2krIiBpcyBnZXR0aW5nIG92ZXdyaXR0ZW4iKSxTLmlzRm4obykpdHJ5e289byhuKX1jYXRjaChlKXtTLmxvZ0Vycm9yKCJiaWRtYW5hZ2VyIiwiRVJST1IiLGUpfSh2b2lkIDA9PT10LnN1cHByZXNzRW1wdHlLZXlzfHwhMCE9PXQuc3VwcHJlc3NFbXB0eUtleXMpJiZpIT09VC5UQVJHRVRJTkdfS0VZUy5ERUFMfHwhUy5pc0VtcHR5U3RyKG8pJiZudWxsIT1vP2VbaV09bzpTLmxvZ0luZm8oInN1cHByZXNzaW5nIGVtcHR5IGtleSAnIitpKyInIGZyb20gYWRzZXJ2ZXIgdGFyZ2V0aW5nIil9KSksZX1mdW5jdGlvbiBHKGUsdCl7cmV0dXJuIGVbdC5hZFVuaXRDb2RlXXx8KGVbdC5hZFVuaXRDb2RlXT17YmlkczpbXX0pLGVbdC5hZFVuaXRDb2RlXS5iaWRzLnB1c2godCksZX19LDI5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKTt2YXIgcj1uKDQzKSxpPW4oMTEpLG89bi5uKGkpLGE9bigxMiksYz1uLm4oYSksdT1uKDg0KSxzPW4ubih1KSxkPW4oMCksZj1bImZwZCJdO2Z1bmN0aW9uIGwoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsaT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixpPXt9LG89T2JqZWN0LmtleXMoZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyluPW9bcl0sdC5pbmRleE9mKG4pPj0wfHwoaVtuXT1lW25dKTtyZXR1cm4gaX0oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspbj1vW3JdLHQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbikmJihpW25dPWVbbl0pfXJldHVybiBpfWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGcoZSl7cmV0dXJuKGc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdj1uKDk2KSx5PW4oMCksaD1uKDUpLG09IlRSVUUiPT09eS5nZXRQYXJhbWV0ZXJCeU5hbWUoaC5ERUJVR19NT0RFKS50b1VwcGVyQ2FzZSgpLFM9d2luZG93LmxvY2F0aW9uLm9yaWdpbixFPSJyYW5kb20iLEE9e307QVtFXT0hMCxBLmZpeGVkPSEwO3ZhciBUPUUsTz17TE9XOiJsb3ciLE1FRElVTToibWVkaXVtIixISUdIOiJoaWdoIixBVVRPOiJhdXRvIixERU5TRToiZGVuc2UiLENVU1RPTToiY3VzdG9tIn07dmFyIEk9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saT1bXSxhPW51bGw7ZnVuY3Rpb24gdSgpe2U9e307dmFyIGk9e19kZWJ1ZzptLGdldCBkZWJ1Zygpe3JldHVybiB0aGlzLl9kZWJ1Z30sc2V0IGRlYnVnKGUpe3RoaXMuX2RlYnVnPWV9LF9iaWRkZXJUaW1lb3V0OjNlMyxnZXQgYmlkZGVyVGltZW91dCgpe3JldHVybiB0aGlzLl9iaWRkZXJUaW1lb3V0fSxzZXQgYmlkZGVyVGltZW91dChlKXt0aGlzLl9iaWRkZXJUaW1lb3V0PWV9LF9wdWJsaXNoZXJEb21haW46UyxnZXQgcHVibGlzaGVyRG9tYWluKCl7cmV0dXJuIHRoaXMuX3B1Ymxpc2hlckRvbWFpbn0sc2V0IHB1Ymxpc2hlckRvbWFpbihlKXt0aGlzLl9wdWJsaXNoZXJEb21haW49ZX0sX3ByaWNlR3JhbnVsYXJpdHk6Ty5NRURJVU0sc2V0IHByaWNlR3JhbnVsYXJpdHkoZSl7YyhlKSYmKCJzdHJpbmciPT10eXBlb2YgZT90aGlzLl9wcmljZUdyYW51bGFyaXR5PWEoZSk/ZTpPLk1FRElVTTp5LmlzUGxhaW5PYmplY3QoZSkmJih0aGlzLl9jdXN0b21QcmljZUJ1Y2tldD1lLHRoaXMuX3ByaWNlR3JhbnVsYXJpdHk9Ty5DVVNUT00seS5sb2dNZXNzYWdlKCJVc2luZyBjdXN0b20gcHJpY2UgZ3JhbnVsYXJpdHkiKSkpfSxnZXQgcHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9wcmljZUdyYW51bGFyaXR5fSxfY3VzdG9tUHJpY2VCdWNrZXQ6e30sZ2V0IGN1c3RvbVByaWNlQnVja2V0KCl7cmV0dXJuIHRoaXMuX2N1c3RvbVByaWNlQnVja2V0fSxfbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eTp7fSxnZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5fSxzZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eShlKXt2YXIgdD10aGlzO3RoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHk9T2JqZWN0LmtleXMoZSkucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiBjKGVbcl0pPyJzdHJpbmciPT10eXBlb2YgZT9uW3JdPWEoZVtyXSk/ZVtyXTp0Ll9wcmljZUdyYW51bGFyaXR5OnkuaXNQbGFpbk9iamVjdChlKSYmKG5bcl09ZVtyXSx5LmxvZ01lc3NhZ2UoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSBmb3IgIi5jb25jYXQocikpKTp5LmxvZ1dhcm4oIkludmFsaWQgcHJpY2UgZ3JhbnVsYXJpdHkgZm9yIG1lZGlhIHR5cGU6ICIuY29uY2F0KHIpKSxufSkse30pfSxfc2VuZEFsbEJpZHM6dHJ1ZSxnZXQgZW5hYmxlU2VuZEFsbEJpZHMoKXtyZXR1cm4gdGhpcy5fc2VuZEFsbEJpZHN9LHNldCBlbmFibGVTZW5kQWxsQmlkcyhlKXt0aGlzLl9zZW5kQWxsQmlkcz1lfSxfdXNlQmlkQ2FjaGU6ZmFsc2UsZ2V0IHVzZUJpZENhY2hlKCl7cmV0dXJuIHRoaXMuX3VzZUJpZENhY2hlfSxzZXQgdXNlQmlkQ2FjaGUoZSl7dGhpcy5fdXNlQmlkQ2FjaGU9ZX0sX2RldmljZUFjY2Vzczp0cnVlLGdldCBkZXZpY2VBY2Nlc3MoKXtyZXR1cm4gdGhpcy5fZGV2aWNlQWNjZXNzfSxzZXQgZGV2aWNlQWNjZXNzKGUpe3RoaXMuX2RldmljZUFjY2Vzcz1lfSxfYmlkZGVyU2VxdWVuY2U6VCxnZXQgYmlkZGVyU2VxdWVuY2UoKXtyZXR1cm4gdGhpcy5fYmlkZGVyU2VxdWVuY2V9LHNldCBiaWRkZXJTZXF1ZW5jZShlKXtBW2VdP3RoaXMuX2JpZGRlclNlcXVlbmNlPWU6eS5sb2dXYXJuKCJJbnZhbGlkIG9yZGVyOiAiLmNvbmNhdChlLCIuIEJpZGRlciBTZXF1ZW5jZSB3YXMgbm90IHNldC4iKSl9LF90aW1lb3V0QnVmZmVyOjQwMCxnZXQgdGltZW91dEJ1ZmZlcigpe3JldHVybiB0aGlzLl90aW1lb3V0QnVmZmVyfSxzZXQgdGltZW91dEJ1ZmZlcihlKXt0aGlzLl90aW1lb3V0QnVmZmVyPWV9LF9kaXNhYmxlQWpheFRpbWVvdXQ6ZmFsc2UsZ2V0IGRpc2FibGVBamF4VGltZW91dCgpe3JldHVybiB0aGlzLl9kaXNhYmxlQWpheFRpbWVvdXR9LHNldCBkaXNhYmxlQWpheFRpbWVvdXQoZSl7dGhpcy5fZGlzYWJsZUFqYXhUaW1lb3V0PWV9LF9tYXhOZXN0ZWRJZnJhbWVzOjEwLGdldCBtYXhOZXN0ZWRJZnJhbWVzKCl7cmV0dXJuIHRoaXMuX21heE5lc3RlZElmcmFtZXN9LHNldCBtYXhOZXN0ZWRJZnJhbWVzKGUpe3RoaXMuX21heE5lc3RlZElmcmFtZXM9ZX0sX2F1Y3Rpb25PcHRpb25zOnt9LGdldCBhdWN0aW9uT3B0aW9ucygpe3JldHVybiB0aGlzLl9hdWN0aW9uT3B0aW9uc30sc2V0IGF1Y3Rpb25PcHRpb25zKGUpeyhmdW5jdGlvbihlKXtpZigheS5pc1BsYWluT2JqZWN0KGUpKXJldHVybiB5LmxvZ1dhcm4oIkF1Y3Rpb24gT3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpLCExO2Zvcih2YXIgdD0wLG49T2JqZWN0LmtleXMoZSk7dDxuLmxlbmd0aDt0Kyspe3ZhciByPW5bdF07aWYoInNlY29uZGFyeUJpZGRlcnMiIT09ciYmInN1cHByZXNzU3RhbGVSZW5kZXIiIT09cilyZXR1cm4geS5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgZ2l2ZW4gYW4gaW5jb3JyZWN0IHBhcmFtOiAiLmNvbmNhdChyKSksITE7aWYoInNlY29uZGFyeUJpZGRlcnMiPT09cil7aWYoIXkuaXNBcnJheShlW3JdKSlyZXR1cm4geS5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb2YgdHlwZSBBcnJheSIpKSwhMTtpZighZVtyXS5ldmVyeSh5LmlzU3RyKSlyZXR1cm4geS5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb25seSBzdHJpbmciKSksITF9ZWxzZSBpZigic3VwcHJlc3NTdGFsZVJlbmRlciI9PT1yJiYheS5pc0Jvb2xlYW4oZVtyXSkpcmV0dXJuIHkubG9nV2FybigiQXVjdGlvbiBPcHRpb25zICIuY29uY2F0KHIsIiBtdXN0IGJlIG9mIHR5cGUgYm9vbGVhbiIpKSwhMX1yZXR1cm4hMH0pKGUpJiYodGhpcy5fYXVjdGlvbk9wdGlvbnM9ZSl9fTtmdW5jdGlvbiBhKGUpe3JldHVybiBvKCkoT2JqZWN0LmtleXMoTyksKGZ1bmN0aW9uKHQpe3JldHVybiBlPT09T1t0XX0pKX1mdW5jdGlvbiBjKGUpe2lmKCFlKXJldHVybiB5LmxvZ0Vycm9yKCJQcmViaWQgRXJyb3I6IG5vIHZhbHVlIHBhc3NlZCB0byBgc2V0UHJpY2VHcmFudWxhcml0eSgpYCIpLCExO2lmKCJzdHJpbmciPT10eXBlb2YgZSlhKGUpfHx5LmxvZ1dhcm4oIlByZWJpZCBXYXJuaW5nOiBzZXRQcmljZUdyYW51bGFyaXR5IHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIHNldHRpbmcsIHVzaW5nIGBtZWRpdW1gIGFzIGRlZmF1bHQuIik7ZWxzZSBpZih5LmlzUGxhaW5PYmplY3QoZSkmJiFPYmplY3Qoci5iKShlKSlyZXR1cm4geS5sb2dFcnJvcigiSW52YWxpZCBjdXN0b20gcHJpY2UgdmFsdWUgcGFzc2VkIHRvIGBzZXRQcmljZUdyYW51bGFyaXR5KClgIiksITE7cmV0dXJuITB9dCYmQyhPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRbbl0hPT1pW25dJiYoZVtuXT1pW25dfHx7fSksZX0pLHt9KSksdD1pLG49e319ZnVuY3Rpb24gaCgpe2lmKGEmJm4mJnkuaXNQbGFpbk9iamVjdChuW2FdKSl7dmFyIGU9blthXSxyPW5ldyBzLmEoT2JqZWN0LmtleXModCkuY29uY2F0KE9iamVjdC5rZXlzKGUpKSk7cmV0dXJuIHYocikucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiB2b2lkIDA9PT1lW3JdP25bcl09dFtyXTp2b2lkIDA9PT10W3JdP25bcl09ZVtyXTp5LmlzUGxhaW5PYmplY3QoZVtyXSk/bltyXT1PYmplY3QoZC5tZXJnZURlZXApKHt9LHRbcl0sZVtyXSk6bltyXT1lW3JdLG59KSx7fSl9cmV0dXJuIGIoe30sdCl9ZnVuY3Rpb24gRShlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ImNvbnRleHQiPT09bj8ic2l0ZSI6bjt0W3JdPSJzaXRlIj09PXJ8fCJ1c2VyIj09PXI/T2JqZWN0LmtleXMoZVtuXSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiJkYXRhIj09PXI/eS5tZXJnZURlZXAodCx7ZXh0OntkYXRhOmVbbl1bcl19fSk6eS5tZXJnZURlZXAodCxwKHt9LHIsZVtuXVtyXSkpLHR9KSx7fSk6ZVtuXX0pKSx0fWZ1bmN0aW9uIEkoZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImNvbnRleHQiPT09ZX0pKS5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3Qua2V5cyhlW25dKS5mb3JFYWNoKChmdW5jdGlvbihyKXsiZGF0YSI9PT1yP3kubWVyZ2VEZWVwKHQse2V4dDp7ZGF0YTplW25dW3JdfX0pOiJvYmplY3QiIT09ZyhlW25dW3JdKXx8QXJyYXkuaXNBcnJheShlW25dW3JdKT95Lm1lcmdlRGVlcCh0LHtleHQ6e2RhdGE6cCh7fSxyLnRvTG93ZXJDYXNlKCksZVtuXVtyXSl9fSk6T2JqZWN0LmtleXMoZVtuXVtyXSkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7eS5tZXJnZURlZXAodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLHAoe30saS50b0xvd2VyQ2FzZSgpLGVbbl1bcl1baV0pKX19KX0pKX0pKX0pKSx0fWZ1bmN0aW9uIHcoZSx0KXt2YXIgbj10O2lmKCJzdHJpbmciIT10eXBlb2YgZSYmKG49ZSxlPSIqIiksImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciByPXt0b3BpYzplLGNhbGxiYWNrOm59O3JldHVybiBpLnB1c2gociksZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YociksMSl9fXkubG9nRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIEMoZSl7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBjKCkodCxlLnRvcGljKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmNhbGxiYWNrKHAoe30sdC50b3BpYyxlW3QudG9waWNdKSl9KSksaS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiIqIj09PWUudG9waWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FsbGJhY2soZSl9KSl9ZnVuY3Rpb24gaihlLHQpe2E9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e18oKX19ZnVuY3Rpb24gXygpe2E9bnVsbH1yZXR1cm4gdSgpLHtnZXRDdXJyZW50QmlkZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHJlc2V0QmlkZGVyOl8sZ2V0Q29uZmlnOmZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aDw9MSYmImZ1bmN0aW9uIiE9dHlwZW9mKGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSkpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXTtyZXR1cm4gZT95LmRlZXBBY2Nlc3MoaCgpLGUpOmgoKX1yZXR1cm4gdy5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sc2V0Q29uZmlnOmZ1bmN0aW9uKG4pe2lmKHkuaXNQbGFpbk9iamVjdChuKSl7dmFyIHI9T2JqZWN0LmtleXMobiksaT17fTtyLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBvPSJmcGQiPT09cj8ib3J0YjIiOnIsYT0iZnBkIj09PXI/RShuW3JdKTpuW3JdO3kuaXNQbGFpbk9iamVjdChlW29dKSYmeS5pc1BsYWluT2JqZWN0KGEpJiYoYT1iKHt9LGVbb10sYSkpLGlbb109dFtvXT1hfSkpLEMoaSl9ZWxzZSB5LmxvZ0Vycm9yKCJzZXRDb25maWcgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpfSxzZXREZWZhdWx0czpmdW5jdGlvbihuKXt5LmlzUGxhaW5PYmplY3QoZSk/KGIoZSxuKSxiKHQsbikpOnkubG9nRXJyb3IoImRlZmF1bHRzIG11c3QgYmUgYW4gb2JqZWN0Iil9LHJlc2V0Q29uZmlnOnUscnVuV2l0aEJpZGRlcjpqLGNhbGxiYWNrV2l0aEJpZGRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe2Zvcih2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkociksbz0wO288cjtvKyspaVtvXT1hcmd1bWVudHNbb107cmV0dXJuIGooZSwobj15LmJpbmQpLmNhbGwuYXBwbHkobixbdCx0aGlzXS5jb25jYXQoaSkpKX15LmxvZ1dhcm4oImNvbmZpZy5jYWxsYmFja1dpdGhCaWRkZXIgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24iKX19fSxzZXRCaWRkZXJDb25maWc6ZnVuY3Rpb24oZSl7dHJ5eyFmdW5jdGlvbihlKXtpZigheS5pc1BsYWluT2JqZWN0KGUpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCI7aWYoIUFycmF5LmlzQXJyYXkoZS5iaWRkZXJzKXx8IWUuYmlkZGVycy5sZW5ndGgpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgY29udGFpbiBhIGJpZGRlcnMgbGlzdCB3aXRoIGF0IGxlYXN0IDEgYmlkZGVyIjtpZigheS5pc1BsYWluT2JqZWN0KGUuY29uZmlnKSl0aHJvdyJzZXRCaWRkZXJDb25maWcgYmlkZGVyIG9wdGlvbnMgbXVzdCBjb250YWluIGEgY29uZmlnIG9iamVjdCJ9KGUpLGUuYmlkZGVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdfHwoblt0XT17fSksT2JqZWN0LmtleXMoZS5jb25maWcpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPSJmcGQiPT09cj8ib3J0YjIiOnIsbz0iZnBkIj09PXI/RShlLmNvbmZpZ1tyXSk6ZS5jb25maWdbcl07eS5pc1BsYWluT2JqZWN0KG8pP25bdF1baV09Yih7fSxuW3RdW2ldfHx7fSxvKTpuW3RdW2ldPW99KSl9KSl9Y2F0Y2goZSl7eS5sb2dFcnJvcihlKX19LGdldEJpZGRlckNvbmZpZzpmdW5jdGlvbigpe3JldHVybiBufSxjb252ZXJ0QWRVbml0RnBkOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZnBkPyhlLm9ydGIySW1wP3kubWVyZ2VEZWVwKGUub3J0YjJJbXAsSShlLmZwZCkpOmUub3J0YjJJbXA9SShlLmZwZCksdC5wdXNoKGZ1bmN0aW9uKGUpe2UuZnBkO3JldHVybiBsKGUsZil9KGUpKSk6dC5wdXNoKGUpfSkpLHR9LGdldExlZ2FjeUZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj0ic2l0ZSI9PT1uPyJjb250ZXh0IjpuO3Rbcl09ImNvbnRleHQiPT09cnx8InVzZXIiPT09cj9PYmplY3Qua2V5cyhlW25dKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJkYXRhIiE9PWV9KSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiJleHQiPT09cj95Lm1lcmdlRGVlcCh0LGVbbl1bcl0pOnkubWVyZ2VEZWVwKHQscCh7fSxyLGVbbl1bcl0pKSx0fSkse30pOmVbbl19KSksdH19LGdldExlZ2FjeUltcEZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiB5LmRlZXBBY2Nlc3MoZSwiZXh0LmRhdGEiKSYmT2JqZWN0LmtleXMoZS5leHQuZGF0YSkuZm9yRWFjaCgoZnVuY3Rpb24obil7InBiYWRzbG90Ij09PW4/eS5tZXJnZURlZXAodCx7Y29udGV4dDp7cGJBZFNsb3Q6ZS5leHQuZGF0YVtuXX19KToiYWRzZXJ2ZXIiPT09bj95Lm1lcmdlRGVlcCh0LHtjb250ZXh0OnthZFNlcnZlcjplLmV4dC5kYXRhW25dfX0pOnkubWVyZ2VEZWVwKHQse2NvbnRleHQ6e2RhdGE6cCh7fSxuLGUuZXh0LmRhdGFbbl0pfX0pfSkpLHR9fX19KCl9LDMwOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LDMxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQ4KSxpPXt9Lmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1PYmplY3QuaGFzT3dufHxmdW5jdGlvbihlLHQpe3JldHVybiBpLmNhbGwocihlKSx0KX19LDMyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMzQpLG89big0NCk7ZS5leHBvcnRzPXI/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpLmYoZSx0LG8oMSxuKSl9OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1uLGV9fSwzMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSk7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSl9LDM0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oNzkpLG89bigxNiksYT1uKDU4KSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt0LmY9cj9jOmZ1bmN0aW9uKGUsdCxuKXtpZihvKGUpLHQ9YSh0LCEwKSxvKG4pLGkpdHJ5e3JldHVybiBjKGUsdCxuKX1jYXRjaChlKXt9aWYoImdldCJpbiBufHwic2V0ImluIG4pdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpO3JldHVybiJ2YWx1ZSJpbiBuJiYoZVt0XT1uLnZhbHVlKSxlfX0sMzQ3OmZ1bmN0aW9uKGUsdCxuKXtuKDM0OCk7dmFyIHI9big1Mik7ZS5leHBvcnRzPXIoIlN0cmluZyIsImluY2x1ZGVzIil9LDM0ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigzNDkpLG89big0Nyk7cih7dGFyZ2V0OiJTdHJpbmciLHByb3RvOiEwLGZvcmNlZDohbigzNTEpKCJpbmNsdWRlcyIpfSx7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF+U3RyaW5nKG8odGhpcykpLmluZGV4T2YoaShlKSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LDM0OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzNTApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihyKGUpKXRocm93IFR5cGVFcnJvcigiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zIik7cmV0dXJuIGV9fSwzNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNyksaT1uKDk1KTtlLmV4cG9ydHM9cj9pOmZ1bmN0aW9uKGUpe3JldHVybiBTZXQucHJvdG90eXBlLnZhbHVlcy5jYWxsKGUpfX0sMzUwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKSxpPW4oNDYpLG89bigyNCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiByKGUpJiYodm9pZCAwIT09KHQ9ZVtvXSk/ISF0OiJSZWdFeHAiPT1pKGUpKX19LDM1MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PS8uLzt0cnl7Ii8uLyJbZV0odCl9Y2F0Y2gobil7dHJ5e3JldHVybiB0W3JdPSExLCIvLi8iW2VdKHQpfWNhdGNoKGUpe319cmV0dXJuITF9fSwzNjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksdC5oPWZ1bmN0aW9uKGUpe2lmKGUmJmUudHlwZSYmZnVuY3Rpb24oZSl7aWYoIWV8fCFvKCkoT2JqZWN0LmtleXMocCksZSkpcmV0dXJuIE9iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQoZSwiIG5hdGl2ZVBhcmFtIGlzIG5vdCBzdXBwb3J0ZWQiKSksITE7cmV0dXJuITB9KGUudHlwZSkpcmV0dXJuIHBbZS50eXBlXTtyZXR1cm4gZX0sdC5nPWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0KHIuZ2V0QmlkUmVxdWVzdCkoZS5yZXF1ZXN0SWQsdCk7aWYoIW4pcmV0dXJuITE7aWYoIU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm5hdGl2ZS5jbGlja1VybCIpKXJldHVybiExO3ZhciBpPW4ubmF0aXZlUGFyYW1zO2lmKCFpKXJldHVybiEwO3ZhciBhPU9iamVjdC5rZXlzKGkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV0ucmVxdWlyZWR9KSksYz1PYmplY3Qua2V5cyhlLm5hdGl2ZSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5uYXRpdmVbdF19KSk7cmV0dXJuIGEuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBvKCkoYyxlKX0pKX0sdC5iPWZ1bmN0aW9uKGUsdCl7dmFyIG47ImNsaWNrIj09PWUuYWN0aW9uP249dC5uYXRpdmUmJnQubmF0aXZlLmNsaWNrVHJhY2tlcnM6KG49dC5uYXRpdmUmJnQubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycyx0Lm5hdGl2ZSYmdC5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzJiZPYmplY3Qoci5pbnNlcnRIdG1sSW50b0lmcmFtZSkodC5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzKSk7cmV0dXJuKG58fFtdKS5mb3JFYWNoKHIudHJpZ2dlclBpeGVsKSxlLmFjdGlvbn0sdC5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLnJlbmRlcmVyVXJsIik/ZS5uYXRpdmUucmVuZGVyZXJVcmw9Zyh0Lm5hdGl2ZVBhcmFtcy5yZW5kZXJlclVybCk6T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLmFkVGVtcGxhdGUiKSYmKGUubmF0aXZlLmFkVGVtcGxhdGU9Zyh0Lm5hdGl2ZVBhcmFtcy5hZFRlbXBsYXRlKSk7dmFyIGk9ITEhPT1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuc2VuZFRhcmdldGluZ0tleXMiKSxvPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O09iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm5hdGl2ZVBhcmFtcy5leHQiKSYmT2JqZWN0LmtleXMoZS5uYXRpdmVQYXJhbXMuZXh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPSJoYl9uYXRpdmVfIi5jb25jYXQoZSl9KSk7cmV0dXJuIHUodSh7fSxkLk5BVElWRV9LRVlTKSx0KX0odCksYT11KHUoe30sZS5uYXRpdmUpLGUubmF0aXZlLmV4dCk7cmV0dXJuIGRlbGV0ZSBhLmV4dCxPYmplY3Qua2V5cyhhKS5mb3JFYWNoKChmdW5jdGlvbihhKXt2YXIgYz1vW2FdLHU9ZyhlLm5hdGl2ZVthXSl8fGcoT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibmF0aXZlLmV4dC4iLmNvbmNhdChhKSkpO2lmKCJhZFRlbXBsYXRlIiE9PWEmJmMmJnUpe3ZhciBzPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy4iLmNvbmNhdChhLCIuc2VuZElkIikpO2lmKCJib29sZWFuIiE9dHlwZW9mIHMmJihzPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5leHQuIi5jb25jYXQoYSwiLnNlbmRJZCIpKSkscyl1PSIiLmNvbmNhdChjLCI6IikuY29uY2F0KGUuYWRJZCk7dmFyIGQ9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLiIuY29uY2F0KGEsIi5zZW5kVGFyZ2V0aW5nS2V5cyIpKTsiYm9vbGVhbiIhPXR5cGVvZiBkJiYoZD1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuZXh0LiIuY29uY2F0KGEsIi5zZW5kVGFyZ2V0aW5nS2V5cyIpKSksKCJib29sZWFuIj09dHlwZW9mIGQ/ZDppKSYmKG5bY109dSl9fSkpLG59LHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPXttZXNzYWdlOiJhc3NldFJlc3BvbnNlIixhZElkOmUuYWRJZCxhc3NldHM6W119O3QubmF0aXZlLmhhc093blByb3BlcnR5KCJhZFRlbXBsYXRlIikmJihuLmFkVGVtcGxhdGU9Zyh0Lm5hdGl2ZS5hZFRlbXBsYXRlKSk7dC5uYXRpdmUuaGFzT3duUHJvcGVydHkoInJlbmRlcmVyVXJsIikmJihuLnJlbmRlcmVyVXJsPWcodC5uYXRpdmUucmVuZGVyZXJVcmwpKTtyZXR1cm4gZS5hc3NldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9T2JqZWN0KHIuZ2V0S2V5QnlWYWx1ZSkoZC5OQVRJVkVfS0VZUyxlKSxvPWcodC5uYXRpdmVbaV0pO24uYXNzZXRzLnB1c2goe2tleTppLHZhbHVlOm99KX0pKSxufSx0LmM9ZnVuY3Rpb24oZSx0KXt2YXIgbj17bWVzc2FnZToiYXNzZXRSZXNwb25zZSIsYWRJZDplLmFkSWQsYXNzZXRzOltdfTtyZXR1cm4gT2JqZWN0LmtleXModC5uYXRpdmUpLmZvckVhY2goKGZ1bmN0aW9uKGUscil7aWYoImFkVGVtcGxhdGUiPT09ZSYmdC5uYXRpdmVbZV0pbi5hZFRlbXBsYXRlPWcodC5uYXRpdmVbZV0pO2Vsc2UgaWYoInJlbmRlcmVyVXJsIj09PWUmJnQubmF0aXZlW2VdKW4ucmVuZGVyZXJVcmw9Zyh0Lm5hdGl2ZVtlXSk7ZWxzZSBpZigiZXh0Ij09PWUpT2JqZWN0LmtleXModC5uYXRpdmVbZV0pLmZvckVhY2goKGZ1bmN0aW9uKHIpe2lmKHQubmF0aXZlW2VdW3JdKXt2YXIgaT1nKHQubmF0aXZlW2VdW3JdKTtuLmFzc2V0cy5wdXNoKHtrZXk6cix2YWx1ZTppfSl9fSkpO2Vsc2UgaWYodC5uYXRpdmVbZV0mJmQuTkFUSVZFX0tFWVMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBpPWcodC5uYXRpdmVbZV0pO24uYXNzZXRzLnB1c2goe2tleTplLHZhbHVlOml9KX19KSksbn07dmFyIHI9bigwKSxpPW4oMTIpLG89bi5uKGkpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuKGE9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB1KGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2MoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtzKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpjKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHMoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfXZhciBkPW4oNSksZj1bXSxsPU9iamVjdC5rZXlzKGQuTkFUSVZFX0tFWVMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGQuTkFUSVZFX0tFWVNbZV19KSkscD17aW1hZ2U6e2ltYWdlOntyZXF1aXJlZDohMH0sdGl0bGU6e3JlcXVpcmVkOiEwfSxzcG9uc29yZWRCeTp7cmVxdWlyZWQ6ITB9LGNsaWNrVXJsOntyZXF1aXJlZDohMH0sYm9keTp7cmVxdWlyZWQ6ITF9LGljb246e3JlcXVpcmVkOiExfX19O2Z1bmN0aW9uIGcoZSl7cmV0dXJuIm9iamVjdCI9PT1hKGUpJiZlLnVybD9lLnVybDplfX0sMzc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0fHwhZSlyZXR1cm4gdm9pZCBvLmxvZ0Vycm9yKCJjYW5ub3QgbG9hZCBleHRlcm5hbCBzY3JpcHQgd2l0aG91dCB1cmwgYW5kIG1vZHVsZUNvZGUiKTtpZihlPWEuYyhlKSwhaSgpKHUsdCkpcmV0dXJuIHZvaWQgby5sb2dFcnJvcigiIi5jb25jYXQodCwiIG5vdCB3aGl0ZWxpc3RlZCBmb3IgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpO2lmKGNbZV0pcmV0dXJuIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYoY1tlXS5sb2FkZWQ/bigpOmNbZV0uY2FsbGJhY2tzLnB1c2gobikpLGNbZV0udGFnO2NbZV09e2xvYWRlZDohMSx0YWc6bnVsbCxjYWxsYmFja3M6W119LG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZjW2VdLmNhbGxiYWNrcy5wdXNoKG4pO3JldHVybiBvLmxvZ1dhcm4oIm1vZHVsZSAiLmNvbmNhdCh0LCIgaXMgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpLGZ1bmN0aW9uKHQsbil7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7ci50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLHIuYXN5bmM9ITAsY1tlXS50YWc9cixyLnJlYWR5U3RhdGU/ci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXsibG9hZGVkIiE9PXIucmVhZHlTdGF0ZSYmImNvbXBsZXRlIiE9PXIucmVhZHlTdGF0ZXx8KHIub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbigpKX06ci5vbmxvYWQ9ZnVuY3Rpb24oKXtuKCl9O3JldHVybiByLnNyYz10LG8uaW5zZXJ0RWxlbWVudChyKSxyfShlLChmdW5jdGlvbigpe2NbZV0ubG9hZGVkPSEwO3RyeXtmb3IodmFyIHQ9MDt0PGNbZV0uY2FsbGJhY2tzLmxlbmd0aDt0KyspY1tlXS5jYWxsYmFja3NbdF0oKX1jYXRjaChlKXtvLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLCJhZGxvYWRlci5qczpsb2FkRXh0ZXJuYWxTY3JpcHQiLGUpfX0pKX07dmFyIHI9bigxMiksaT1uLm4ociksbz1uKDApLGE9big1NSksYz17fSx1PVsiYWRsb294IiwiY3JpdGVvIiwib3V0c3RyZWFtIiwiYWRhZ2lvIiwiYnJvd3NpIl19LDM4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSx0LmM9TyxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDM2KSxhPW4oMjMpLGM9big5NyksdT1uKDIpLHM9bigxMCksZD1uKDEyKSxmPW4ubihkKSxsPW4oMTEpLHA9bi5uKGwpO2Z1bmN0aW9uIGcoKXtyZXR1cm4oZz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHkoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBoPW4oMCksbT1uKDUpLFM9W10sRT1PYmplY3Qua2V5cyhtLlRBUkdFVElOR19LRVlTKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBtLlRBUkdFVElOR19LRVlTW2VdfSkpLEE9e2lzQmlkTm90RXhwaXJlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXNwb25zZVRpbWVzdGFtcCsxZTMqZS50dGwtMWUzPk9iamVjdChyLnRpbWVzdGFtcCkoKX0saXNVbnVzZWRCaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihlLnN0YXR1cyYmIWYoKShbbS5CSURfU1RBVFVTLlJFTkRFUkVEXSxlLnN0YXR1cyl8fCFlLnN0YXR1cyl9fSxUPU9iamVjdChzLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107aWYoIW8pe3ZhciBhPVtdLGM9aS5iLmdldENvbmZpZygic2VuZEJpZHNDb250cm9sLmRlYWxQcmlvcml0aXphdGlvbiIpLHU9T2JqZWN0KHIuZ3JvdXBCeSkoZSwiYWRVbml0Q29kZSIpO3JldHVybiBPYmplY3Qua2V5cyh1KS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1bXSxvPU9iamVjdChyLmdyb3VwQnkpKHVbZV0sImJpZGRlckNvZGUiKTtPYmplY3Qua2V5cyhvKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gaS5wdXNoKG9bZV0ucmVkdWNlKHQpKX0pKSxuPjA/KGk9Yz9pLnNvcnQoTyghMCkpOmkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jcG0tZS5jcG19KSksYS5wdXNoLmFwcGx5KGEsdihpLnNsaWNlKDAsbikpKSk6YS5wdXNoLmFwcGx5KGEsdihpKSl9KSksYX1yZXR1cm4gZX0pKTtmdW5jdGlvbiBPKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZy5oYl9kZWFsJiZ2b2lkIDA9PT1uLmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWw/LTE6dm9pZCAwPT09dC5hZHNlcnZlclRhcmdldGluZy5oYl9kZWFsJiZ2b2lkIDAhPT1uLmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWw/MTplP24uY3BtLXQuY3BtOm4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfcGItdC5hZHNlcnZlclRhcmdldGluZy5oYl9wYn19dmFyIEk9ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj17fTtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGUuYWRzZXJ2ZXJUYXJnZXRpbmcmJnQmJihoLmlzQXJyYXkodCkmJmYoKSh0LGUuYWRVbml0Q29kZSl8fCJzdHJpbmciPT10eXBlb2YgdCYmZS5hZFVuaXRDb2RlPT09dCl9ZnVuY3Rpb24gcyhlLHQpe2lmKCEwPT09aS5iLmdldENvbmZpZygidGFyZ2V0aW5nQ29udHJvbHMuYWx3YXlzSW5jbHVkZURlYWxzIikpe3ZhciBuPUUuY29uY2F0KG8uYSk7cmV0dXJuIFQodCxyLmdldEhpZ2hlc3RDcG0pLm1hcCgoZnVuY3Rpb24odCl7aWYodC5kZWFsSWQmJmEodCxlKSlyZXR1cm4gYih7fSx0LmFkVW5pdENvZGUsRCh0LG4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZ1tlXX0pKSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9cmV0dXJuW119ZnVuY3Rpb24gZChlLHQpe3ZhciBuPWcoe30sbS5UQVJHRVRJTkdfS0VZUyxtLk5BVElWRV9LRVlTKSxpPU9iamVjdC5rZXlzKG4pLG89e307T2JqZWN0KHIubG9nSW5mbykoImFsbG93VGFyZ2V0aW5nS2V5cyAtIGFsbG93ZWQga2V5cyBbICIuY29uY2F0KHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0pKS5qb2luKCIsICIpLCIgXSIpKSxlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoZSlbMF0sYT1lW3JdLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoZSlbMF0sYT0wPT09aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwPT09ci5pbmRleE9mKG5bZV0pfSkpLmxlbmd0aHx8cCgpKHQsKGZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07cmV0dXJuIDA9PT1yLmluZGV4T2YodCl9KSk7cmV0dXJuIG9bcl09IWEsYX0pKTtlW3JdPWF9KSk7dmFyIGE9T2JqZWN0LmtleXMobykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gb1tlXX0pKTtyZXR1cm4gT2JqZWN0KHIubG9nSW5mbykoImFsbG93VGFyZ2V0aW5nS2V5cyAtIHJlbW92ZWQga2V5cyBbICIuY29uY2F0KGEuam9pbigiLCAiKSwiIF0iKSksZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlW09iamVjdC5rZXlzKGUpWzBdXS5sZW5ndGg+MH0pKX1mdW5jdGlvbiBsKGUsdCl7dmFyIG49T2JqZWN0KHIuZGVlcENsb25lKShlKTtyZXR1cm4gT2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbihlKXtyZXR1cm57YWRVbml0Q29kZTplLGFkc2VydmVyVGFyZ2V0aW5nOm5bZV19fSkpLnNvcnQoTygpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSxvLGEpe3ZhciBjLHU9KGM9aS5hZHNlcnZlclRhcmdldGluZyxPYmplY3Qua2V5cyhjKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIiIuY29uY2F0KHQsIiUzZCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoY1t0XSksIiUyNiIpfSksIiIpKTtvKzE9PT1hLmxlbmd0aCYmKHU9dS5zbGljZSgwLC0zKSk7dmFyIHM9aS5hZFVuaXRDb2RlLGQ9dS5sZW5ndGg7cmV0dXJuIGQ8PXQ/KHQtPWQsT2JqZWN0KHIubG9nSW5mbykoIkFkVW5pdCAnIi5jb25jYXQocywiJyBhdWN0aW9uIGtleXMgY29tcHJpc2VkIG9mICIpLmNvbmNhdChkLCIgY2hhcmFjdGVycy4gIERlZHVjdGVkIGZyb20gcnVubmluZyB0aHJlc2hvbGQ7IG5ldyBsaW1pdCBpcyAiKS5jb25jYXQodCksbltzXSksZVtzXT1uW3NdKTpPYmplY3Qoci5sb2dXYXJuKSgiVGhlIGZvbGxvd2luZyBrZXlzIGZvciBhZFVuaXRDb2RlICciLmNvbmNhdChzLCInIGV4Y2VlZGVkIHRoZSBjdXJyZW50IGxpbWl0IG9mIHRoZSAnYXVjdGlvbktleU1heENoYXJzJyBzZXR0aW5nLlxuVGhlIGtleS1zZXQgc2l6ZSB3YXMgIikuY29uY2F0KGQsIiwgdGhlIGN1cnJlbnQgYWxsb3R0ZWQgYW1vdW50IHdhcyAiKS5jb25jYXQodCwiLlxuIiksbltzXSksbysxPT09YS5sZW5ndGgmJjA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJk9iamVjdChyLmxvZ0Vycm9yKSgiTm8gYXVjdGlvbiB0YXJnZXRpbmcga2V5cyB3ZXJlIHBlcm1pdHRlZCBkdWUgdG8gdGhlIHNldHRpbmcgaW4gc2V0Q29uZmlnKHRhcmdldGluZ0NvbnRyb2xzLmF1Y3Rpb25LZXlNYXhDaGFycykuICBQbGVhc2UgcmV2aWV3IHNldHVwIGFuZCBjb25zaWRlciBhZGp1c3RpbmcuIiksZX0pLHt9KX1mdW5jdGlvbiB5KGUpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxPYmplY3Qua2V5cyhlKVswXSxlW09iamVjdC5rZXlzKGUpWzBdXS5qb2luKCIsICIpKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcodCxlKX0pLHt9KSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKHQpWzBdO3JldHVybiBlW25dPWcoe30sZVtuXSx0W25dKSxlfSkse30pfWZ1bmN0aW9uIEkodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P1t0XTpoLmlzQXJyYXkodCk/dDplLmdldEFkVW5pdENvZGVzKCl8fFtdfWZ1bmN0aW9uIHcoKXt2YXIgdD1lLmdldEJpZHNSZWNlaXZlZCgpO3JldHVybiBpLmIuZ2V0Q29uZmlnKCJ1c2VCaWRDYWNoZSIpfHwodD10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZS5hZFVuaXRDb2RlXT09PWUuYXVjdGlvbklkfSkpKSx0PXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwidmlkZW8uY29udGV4dCIpIT09dS5hfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciIhPT1lLm1lZGlhVHlwZXx8T2JqZWN0KGMuYykoW2Uud2lkdGgsZS5oZWlnaHRdKX0pKS5maWx0ZXIoQS5pc1VudXNlZEJpZCkuZmlsdGVyKEEuaXNCaWROb3RFeHBpcmVkKSxUKHQsci5nZXRPbGRlc3RIaWdoZXN0Q3BtQmlkKX1mdW5jdGlvbiBDKGUsbil7dmFyIHI9dC5nZXRXaW5uaW5nQmlkcyhlLG4pLGk9aigpO3JldHVybiByPXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxlLmFkVW5pdENvZGUsT2JqZWN0LmtleXMoZS5hZHNlcnZlclRhcmdldGluZykuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09ZS5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fGUuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nfHwtMT09PWkuaW5kZXhPZih0KX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7dmFyIHI9W2UuYWRzZXJ2ZXJUYXJnZXRpbmdbbl1dLGk9Yih7fSxuLnN1YnN0cmluZygwLDIwKSxyKTtpZihuPT09bS5UQVJHRVRJTkdfS0VZUy5ERUFMKXt2YXIgbz1iKHt9LCIiLmNvbmNhdChuLCJfIikuY29uY2F0KGUuYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLHIpO3JldHVybltdLmNvbmNhdCh2KHQpLFtpLG9dKX1yZXR1cm5bXS5jb25jYXQodih0KSxbaV0pfSksW10pKX0pKX1mdW5jdGlvbiBqKCl7cmV0dXJuIGUuZ2V0U3RhbmRhcmRCaWRkZXJBZFNlcnZlclRhcmdldGluZygpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5fSkpLmNvbmNhdChFKS5maWx0ZXIoci51bmlxdWVzKX1mdW5jdGlvbiBfKGUsdCxuLGkpe3JldHVybiBPYmplY3Qua2V5cyh0LmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoUigpKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlLmxlbmd0aCYmZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuLmFkVW5pdENvZGU9PT10LmFkVW5pdENvZGUmJm4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV19fShuKSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7aC5pc0FycmF5KG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV0pfHwobi5hZHNlcnZlclRhcmdldGluZ1tlXT1bbi5hZHNlcnZlclRhcmdldGluZ1tlXV0pLG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV09bi5hZHNlcnZlclRhcmdldGluZ1tlXS5jb25jYXQodC5hZHNlcnZlclRhcmdldGluZ1tlXSkuZmlsdGVyKHIudW5pcXVlcyksZGVsZXRlIHQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19fShuKSl9KSksZS5wdXNoKHQpLGV9ZnVuY3Rpb24gUigpe3ZhciBlPWooKS5jb25jYXQoby5hKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1lLmluZGV4T2YodCl9fWZ1bmN0aW9uIEIoZSl7cmV0dXJuIGIoe30sZS5hZFVuaXRDb2RlLE9iamVjdC5rZXlzKGUuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihSKCkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGIoe30sdC5zdWJzdHJpbmcoMCwyMCksW2UuYWRzZXJ2ZXJUYXJnZXRpbmdbdF1dKX0pKSl9ZnVuY3Rpb24gVShlLHQpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGYoKShlLHQuYWRVbml0Q29kZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZyh7fSxlKX0pKS5yZWR1Y2UoXyxbXSkubWFwKEIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9ZnVuY3Rpb24geChlLHQpe3ZhciBuPUUuY29uY2F0KG8uYSksYz1pLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuYmlkTGltaXQiKSx1PVQodCxyLmdldEhpZ2hlc3RDcG0sYykscz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1NlbmRBbGxCaWRzVGFyZ2V0aW5nS2V5cyIpLGQ9cz9zLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG0uVEFSR0VUSU5HX0tFWVNbZV19KSk6bjtyZXR1cm4gdS5tYXAoKGZ1bmN0aW9uKHQpe2lmKGEodCxlKSlyZXR1cm4gYih7fSx0LmFkVW5pdENvZGUsRCh0LG4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZ1tlXSYmLTEhPT1kLmluZGV4T2YoZSl9KSkpKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfWZ1bmN0aW9uIEQoZSx0KXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBiKHt9LCIiLmNvbmNhdCh0LCJfIikuY29uY2F0KGUuYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSl9KSl9ZnVuY3Rpb24gTih0KXtmdW5jdGlvbiBuKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLG0uSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElORyl9cmV0dXJuIGUuZ2V0QWRVbml0cygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKSh0LGUuY29kZSkmJm4oZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxlLmNvZGUsZnVuY3Rpb24oZSl7dmFyIHQ9bihlKTtyZXR1cm4gT2JqZWN0LmtleXModCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaC5pc1N0cih0W2VdKSYmKHRbZV09dFtlXS5zcGxpdCgiLCIpKSxoLmlzQXJyYXkodFtlXSl8fCh0W2VdPVt0W2VdXSksYih7fSxlLHRbZV0pfSkpfShlKSl9KSl9cmV0dXJuIHQuc2V0TGF0ZXN0QXVjdGlvbkZvckFkVW5pdD1mdW5jdGlvbihlLHQpe25bZV09dH0sdC5yZXNldFByZXNldFRhcmdldGluZz1mdW5jdGlvbih0LG4pe2lmKE9iamVjdChyLmlzR3B0UHViYWRzRGVmaW5lZCkoKSl7dmFyIGk9SSh0KSxvPWUuZ2V0QWRVbml0cygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKShpLGUuY29kZSl9KSk7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWguaXNGbihuKSYmbihlKTtTLmZvckVhY2goKGZ1bmN0aW9uKG4pe28uZm9yRWFjaCgoZnVuY3Rpb24ocil7KHIuY29kZT09PWUuZ2V0QWRVbml0UGF0aCgpfHxyLmNvZGU9PT1lLmdldFNsb3RFbGVtZW50SWQoKXx8aC5pc0ZuKHQpJiZ0KHIuY29kZSkpJiZlLnNldFRhcmdldGluZyhuLG51bGwpfSkpfSkpfSkpfX0sdC5yZXNldFByZXNldFRhcmdldGluZ0FTVD1mdW5jdGlvbihlKXtJKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO2lmKHQmJnQua2V5d29yZHMpe3ZhciBuPU9iamVjdC5rZXlzKHQua2V5d29yZHMpLHI9e307bi5mb3JFYWNoKChmdW5jdGlvbihlKXtmKCkoUyxlLnRvTG93ZXJDYXNlKCkpfHwocltlXT10LmtleXdvcmRzW2VdKX0pKSx3aW5kb3cuYXBudGFnLm1vZGlmeVRhZyhlLHtrZXl3b3JkczpyfSl9fSkpfSx0LmdldEFsbFRhcmdldGluZz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dygpLG49SShlKSxvPUMobix0KS5jb25jYXQoVShuLHQpKS5jb25jYXQoaS5iLmdldENvbmZpZygiZW5hYmxlU2VuZEFsbEJpZHMiKT94KG4sdCk6cyhuLHQpKS5jb25jYXQoTihuKSk7by5tYXAoKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7ZVt0XS5tYXAoKGZ1bmN0aW9uKGUpey0xPT09Uy5pbmRleE9mKE9iamVjdC5rZXlzKGUpWzBdKSYmKFM9T2JqZWN0LmtleXMoZSkuY29uY2F0KFMpKX0pKX0pKX0pKTt2YXIgYT1PYmplY3Qua2V5cyhnKHt9LG0uREVGQVVMVF9UQVJHRVRJTkdfS0VZUyxtLk5BVElWRV9LRVlTKSksYz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1RhcmdldGluZ0tleXMiKXx8YTtBcnJheS5pc0FycmF5KGMpJiZjLmxlbmd0aD4wJiYobz1kKG8sYykpLG89eShvKTt2YXIgdT1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMiKTtyZXR1cm4gdSYmKE9iamVjdChyLmxvZ0luZm8pKCJEZXRlY3RlZCAndGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzJyB3YXMgYWN0aXZlIGZvciB0aGlzIGF1Y3Rpb247IHNldCB3aXRoIGEgbGltaXQgb2YgIi5jb25jYXQodSwiIGNoYXJhY3RlcnMuICBSdW5uaW5nIGNoZWNrcyBvbiBhdWN0aW9uIGtleXMuLi4iKSksbz1sKG8sdSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7b1tlXXx8KG9bZV09e30pfSkpLG99LHQuc2V0VGFyZ2V0aW5nRm9yR1BUPWZ1bmN0aW9uKGUsdCl7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdC5rZXlzKGUpLmZpbHRlcih0P3Qobik6T2JqZWN0KHIuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90KShuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKGVbdF0pLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPWVbdF1bcl07InN0cmluZyI9PXR5cGVvZiBpJiYoaT1pLnNwbGl0KCIsIikpLChpPWkubGVuZ3RoPjE/W2ldOmkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGgubG9nTWVzc2FnZSgiQXR0ZW1wdGluZyB0byBzZXQga2V5IHZhbHVlIGZvciBzbG90OiAiLmNvbmNhdChuLmdldFNsb3RFbGVtZW50SWQoKSwiIGtleTogIikuY29uY2F0KHIsIiB2YWx1ZTogIikuY29uY2F0KGUpKSxlfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uc2V0VGFyZ2V0aW5nKHIsZSl9KSl9KSl9KSl9KSl9LHQuZ2V0V2lubmluZ0JpZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOncoKSxuPUkoZSk7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5hZFVuaXRDb2RlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNwbT4wfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pKS5maWx0ZXIoci51bmlxdWVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWU/dDpudWxsfSkpLnJlZHVjZShyLmdldEhpZ2hlc3RDcG0pfSkpfSx0LnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXt2YXIgbj10LmdldEFsbFRhcmdldGluZyhlKTt0cnl7dC5yZXNldFByZXNldFRhcmdldGluZ0FTVChlKX1jYXRjaChlKXtoLmxvZ0Vycm9yKCJ1bmFibGUgdG8gcmVzZXQgdGFyZ2V0aW5nIGZvciBBU1QiK2UpfU9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhuW2VdKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihoLmxvZ01lc3NhZ2UoIkF0dGVtcHRpbmcgdG8gc2V0IHRhcmdldGluZyBmb3IgdGFyZ2V0SWQ6ICIuY29uY2F0KGUsIiBrZXk6ICIpLmNvbmNhdCh0LCIgdmFsdWU6ICIpLmNvbmNhdChuW2VdW3RdKSksaC5pc1N0cihuW2VdW3RdKXx8aC5pc0FycmF5KG5bZV1bdF0pKXt2YXIgcj17fTt0LnNlYXJjaCgvcHRbMC05XS8pPDA/clt0LnRvVXBwZXJDYXNlKCldPW5bZV1bdF06clt0XT1uW2VdW3RdLHdpbmRvdy5hcG50YWcuc2V0S2V5d29yZHMoZSxyLHtvdmVycmlkZUtleVZhbHVlOiEwfSl9fSkpfSkpfSx0LmlzQXBudGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJmguaXNGbih3aW5kb3cuYXBudGFnLnNldEtleXdvcmRzKSlyZXR1cm4hMH0sdH0oYS5hKX0sMzk6ZnVuY3Rpb24oZSx0KXt2YXIgbjtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e249bnx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKXx8KDAsZXZhbCkoInRoaXMiKX1jYXRjaChlKXsib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX1lLmV4cG9ydHM9bn0sNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSx0LmI9czt2YXIgcj1uKDMpLGk9big1NSk7ZnVuY3Rpb24gbygpe3JldHVybihvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYShlKXtyZXR1cm4oYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBjPW4oMCksdT1zKCk7ZnVuY3Rpb24gcygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTozZTMsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LnJlcXVlc3QsdT10LmRvbmU7cmV0dXJuIGZ1bmN0aW9uKHQscyxkKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307dHJ5e3ZhciBsLHA9Zi5tZXRob2R8fChkPyJQT1NUIjoiR0VUIiksZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7dD1pLmModCksZy5ocmVmPXQ7dmFyIGI9Im9iamVjdCI9PT1hKHMpJiZudWxsIT09cz9zOntzdWNjZXNzOmZ1bmN0aW9uKCl7Yy5sb2dNZXNzYWdlKCJ4aHIgc3VjY2VzcyIpfSxlcnJvcjpmdW5jdGlvbihlKXtjLmxvZ0Vycm9yKCJ4aHIgZXJyb3IiLG51bGwsZSl9fTtpZigiZnVuY3Rpb24iPT10eXBlb2YgcyYmKGIuc3VjY2Vzcz1zKSwobD1uZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09bC5yZWFkeVN0YXRlKXsiZnVuY3Rpb24iPT10eXBlb2YgdSYmdShnLm9yaWdpbik7dmFyIGU9bC5zdGF0dXM7ZT49MjAwJiZlPDMwMHx8MzA0PT09ZT9iLnN1Y2Nlc3MobC5yZXNwb25zZVRleHQsbCk6Yi5lcnJvcihsLnN0YXR1c1RleHQsbCl9fSxyLmIuZ2V0Q29uZmlnKCJkaXNhYmxlQWpheFRpbWVvdXQiKXx8KGwub250aW1lb3V0PWZ1bmN0aW9uKCl7Yy5sb2dFcnJvcigiICB4aHIgdGltZW91dCBhZnRlciAiLGwudGltZW91dCwibXMiKX0pLCJHRVQiPT09cCYmZCl7dmFyIHY9Yy5wYXJzZVVybCh0LGYpO28odi5zZWFyY2gsZCksdD1jLmJ1aWxkVXJsKHYpfWwub3BlbihwLHQsITApLHIuYi5nZXRDb25maWcoImRpc2FibGVBamF4VGltZW91dCIpfHwobC50aW1lb3V0PWUpLGYud2l0aENyZWRlbnRpYWxzJiYobC53aXRoQ3JlZGVudGlhbHM9ITApLGMuX2VhY2goZi5jdXN0b21IZWFkZXJzLChmdW5jdGlvbihlLHQpe2wuc2V0UmVxdWVzdEhlYWRlcih0LGUpfSkpLGYucHJlZmxpZ2h0JiZsLnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLGwuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixmLmNvbnRlbnRUeXBlfHwidGV4dC9wbGFpbiIpLCJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuKGcub3JpZ2luKSwiUE9TVCI9PT1wJiZkP2wuc2VuZChkKTpsLnNlbmQoKX1jYXRjaChlKXtjLmxvZ0Vycm9yKCJ4aHIgY29uc3RydWN0aW9uIixlKSwib2JqZWN0Ij09PWEocykmJm51bGwhPT1zJiZzLmVycm9yKGUpfX19fSw0MDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNDE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9bigyMSksbz1uKDI0KSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGE9cihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09YXx8bnVsbD09KG49cihhKVtvXSk/dDppKG4pfX0sNDI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkoZSx0KX07dmFyIHI9bigwKTtmdW5jdGlvbiBpKGUsdCl7dmFyIG49dCYmdC5zcmN8fCJjbGllbnQiLGk9ZXx8MDt0aGlzLmJpZGRlckNvZGU9dCYmdC5iaWRkZXJ8fCIiLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuc3RhdHVzTWVzc2FnZT1mdW5jdGlvbigpe3N3aXRjaChpKXtjYXNlIDA6cmV0dXJuIlBlbmRpbmciO2Nhc2UgMTpyZXR1cm4iQmlkIGF2YWlsYWJsZSI7Y2FzZSAyOnJldHVybiJCaWQgcmV0dXJuZWQgZW1wdHkgb3IgZXJyb3IgcmVzcG9uc2UiO2Nhc2UgMzpyZXR1cm4iQmlkIHRpbWVkIG91dCJ9fSgpLHRoaXMuYWRJZD1yLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSx0aGlzLnJlcXVlc3RJZD10JiZ0LmJpZElkLHRoaXMubWVkaWFUeXBlPSJiYW5uZXIiLHRoaXMuc291cmNlPW4sdGhpcy5nZXRTdGF0dXNDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LHRoaXMuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoKyJ4Iit0aGlzLmhlaWdodH19fSw0MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigxMSksaT1uLm4ociksbz1uKDApLGE9e2J1Y2tldHM6W3ttYXg6NSxpbmNyZW1lbnQ6LjV9XX0sYz17YnVja2V0czpbe21heDoyMCxpbmNyZW1lbnQ6LjF9XX0sdT17YnVja2V0czpbe21heDoyMCxpbmNyZW1lbnQ6LjAxfV19LHM9e2J1Y2tldHM6W3ttYXg6MyxpbmNyZW1lbnQ6LjAxfSx7bWF4OjgsaW5jcmVtZW50Oi4wNX0se21heDoyMCxpbmNyZW1lbnQ6LjV9XX0sZD17YnVja2V0czpbe21heDo1LGluY3JlbWVudDouMDV9LHttYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWF4OjIwLGluY3JlbWVudDouNX1dfTtmdW5jdGlvbiBmKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEscj1wYXJzZUZsb2F0KGUpO3JldHVybiBpc05hTihyKSYmKHI9IiIpLHtsb3c6IiI9PT1yPyIiOmwoZSxhLG4pLG1lZDoiIj09PXI/IiI6bChlLGMsbiksaGlnaDoiIj09PXI/IiI6bChlLHUsbiksYXV0bzoiIj09PXI/IiI6bChlLGQsbiksZGVuc2U6IiI9PT1yPyIiOmwoZSxzLG4pLGN1c3RvbToiIj09PXI/IiI6bChlLHQsbil9fWZ1bmN0aW9uIGwoZSx0LG4pe3ZhciByPSIiO2lmKCFwKHQpKXJldHVybiByO3ZhciBvPXQuYnVja2V0cy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWF4PnQubWF4P2U6dH0pLHttYXg6MH0pLGE9MCxjPWkoKSh0LmJ1Y2tldHMsKGZ1bmN0aW9uKHQpe2lmKGU+by5tYXgqbil7dmFyIGk9dC5wcmVjaXNpb247dm9pZCAwPT09aSYmKGk9Mikscj0odC5tYXgqbikudG9GaXhlZChpKX1lbHNle2lmKGU8PXQubWF4Km4mJmU+PWEqbilyZXR1cm4gdC5taW49YSx0O2E9dC5tYXh9fSkpO3JldHVybiBjJiYocj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dm9pZCAwIT09dC5wcmVjaXNpb24/dC5wcmVjaXNpb246MixpPXQuaW5jcmVtZW50Km4sbz10Lm1pbipuLGE9TWF0aC5wb3coMTAscisyKSxjPShlKmEtbyphKS8oaSphKSx1PU1hdGguZmxvb3IoYykqaStvO3JldHVybih1PU51bWJlcih1LnRvRml4ZWQoMTApKSkudG9GaXhlZChyKX0oZSxjLG4pKSxyfWZ1bmN0aW9uIHAoZSl7aWYoby5pc0VtcHR5KGUpfHwhZS5idWNrZXRzfHwhQXJyYXkuaXNBcnJheShlLmJ1Y2tldHMpKXJldHVybiExO3ZhciB0PSEwO3JldHVybiBlLmJ1Y2tldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5tYXgmJmUuaW5jcmVtZW50fHwodD0hMSl9KSksdH19LDQ0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sNDU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNzgpLGk9big0Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByKGkoZSkpfX0sNDY6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LDQ3OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAiK2UpO3JldHVybiBlfX0sNDg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIoZSkpfX0sNDk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDU6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e0pTT05fTUFQUElORzp7UExfQ09ERToiY29kZSIsUExfU0laRToic2l6ZXMiLFBMX0JJRFM6ImJpZHMiLEJEX0JJRERFUjoiYmlkZGVyIixCRF9JRDoicGFyYW1zZCIsQkRfUExfSUQ6InBsYWNlbWVudElkIixBRFNFUlZFUl9UQVJHRVRJTkc6ImFkc2VydmVyVGFyZ2V0aW5nIixCRF9TRVRUSU5HX1NUQU5EQVJEOiJzdGFuZGFyZCJ9LERFQlVHX01PREU6InBianNfZGVidWciLFNUQVRVUzp7R09PRDoxLE5PX0JJRDoyfSxDQjp7VFlQRTp7QUxMX0JJRFNfQkFDSzoiYWxsUmVxdWVzdGVkQmlkc0JhY2siLEFEX1VOSVRfQklEU19CQUNLOiJhZFVuaXRCaWRzQmFjayIsQklEX1dPTjoiYmlkV29uIixSRVFVRVNUX0JJRFM6InJlcXVlc3RCaWRzIn19LEVWRU5UUzp7QVVDVElPTl9JTklUOiJhdWN0aW9uSW5pdCIsQVVDVElPTl9FTkQ6ImF1Y3Rpb25FbmQiLEJJRF9BREpVU1RNRU5UOiJiaWRBZGp1c3RtZW50IixCSURfVElNRU9VVDoiYmlkVGltZW91dCIsQklEX1JFUVVFU1RFRDoiYmlkUmVxdWVzdGVkIixCSURfUkVTUE9OU0U6ImJpZFJlc3BvbnNlIixOT19CSUQ6Im5vQmlkIixCSURfV09OOiJiaWRXb24iLEJJRERFUl9ET05FOiJiaWRkZXJEb25lIixTRVRfVEFSR0VUSU5HOiJzZXRUYXJnZXRpbmciLEJFRk9SRV9SRVFVRVNUX0JJRFM6ImJlZm9yZVJlcXVlc3RCaWRzIixSRVFVRVNUX0JJRFM6InJlcXVlc3RCaWRzIixBRERfQURfVU5JVFM6ImFkZEFkVW5pdHMiLEFEX1JFTkRFUl9GQUlMRUQ6ImFkUmVuZGVyRmFpbGVkIixBRF9SRU5ERVJfU1VDQ0VFREVEOiJhZFJlbmRlclN1Y2NlZWRlZCIsVENGMl9FTkZPUkNFTUVOVDoidGNmMkVuZm9yY2VtZW50IixBVUNUSU9OX0RFQlVHOiJhdWN0aW9uRGVidWciLEJJRF9WSUVXQUJMRToiYmlkVmlld2FibGUiLFNUQUxFX1JFTkRFUjoic3RhbGVSZW5kZXIifSxBRF9SRU5ERVJfRkFJTEVEX1JFQVNPTjp7UFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQ6InByZXZlbnRXcml0aW5nT25NYWluRG9jdW1lbnQiLE5PX0FEOiJub0FkIixFWENFUFRJT046ImV4Y2VwdGlvbiIsQ0FOTk9UX0ZJTkRfQUQ6ImNhbm5vdEZpbmRBZCIsTUlTU0lOR19ET0NfT1JfQURJRDoibWlzc2luZ0RvY09yQWRpZCJ9LEVWRU5UX0lEX1BBVEhTOntiaWRXb246ImFkVW5pdENvZGUifSxHUkFOVUxBUklUWV9PUFRJT05TOntMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifSxUQVJHRVRJTkdfS0VZUzp7QklEREVSOiJoYl9iaWRkZXIiLEFEX0lEOiJoYl9hZGlkIixQUklDRV9CVUNLRVQ6ImhiX3BiIixTSVpFOiJoYl9zaXplIixERUFMOiJoYl9kZWFsIixTT1VSQ0U6ImhiX3NvdXJjZSIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0lEOiJoYl9jYWNoZV9pZCIsQ0FDSEVfSE9TVDoiaGJfY2FjaGVfaG9zdCIsQURPTUFJTjoiaGJfYWRvbWFpbiJ9LERFRkFVTFRfVEFSR0VUSU5HX0tFWVM6e0JJRERFUjoiaGJfYmlkZGVyIixBRF9JRDoiaGJfYWRpZCIsUFJJQ0VfQlVDS0VUOiJoYl9wYiIsU0laRToiaGJfc2l6ZSIsREVBTDoiaGJfZGVhbCIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0hPU1Q6ImhiX2NhY2hlX2hvc3QifSxOQVRJVkVfS0VZUzp7dGl0bGU6ImhiX25hdGl2ZV90aXRsZSIsYm9keToiaGJfbmF0aXZlX2JvZHkiLGJvZHkyOiJoYl9uYXRpdmVfYm9keTIiLHByaXZhY3lMaW5rOiJoYl9uYXRpdmVfcHJpdmFjeSIscHJpdmFjeUljb246ImhiX25hdGl2ZV9wcml2aWNvbiIsc3BvbnNvcmVkQnk6ImhiX25hdGl2ZV9icmFuZCIsaW1hZ2U6ImhiX25hdGl2ZV9pbWFnZSIsaWNvbjoiaGJfbmF0aXZlX2ljb24iLGNsaWNrVXJsOiJoYl9uYXRpdmVfbGlua3VybCIsZGlzcGxheVVybDoiaGJfbmF0aXZlX2Rpc3BsYXl1cmwiLGN0YToiaGJfbmF0aXZlX2N0YSIscmF0aW5nOiJoYl9uYXRpdmVfcmF0aW5nIixhZGRyZXNzOiJoYl9uYXRpdmVfYWRkcmVzcyIsZG93bmxvYWRzOiJoYl9uYXRpdmVfZG93bmxvYWRzIixsaWtlczoiaGJfbmF0aXZlX2xpa2VzIixwaG9uZToiaGJfbmF0aXZlX3Bob25lIixwcmljZToiaGJfbmF0aXZlX3ByaWNlIixzYWxlUHJpY2U6ImhiX25hdGl2ZV9zYWxlcHJpY2UiLHJlbmRlcmVyVXJsOiJoYl9yZW5kZXJlcl91cmwiLGFkVGVtcGxhdGU6ImhiX2FkVGVtcGxhdGUifSxTMlM6e1NSQzoiczJzIixERUZBVUxUX0VORFBPSU5UOiJodHRwczovL3ByZWJpZC5hZG54cy5jb20vcGJzL3YxL29wZW5ydGIyL2F1Y3Rpb24iLFNZTkNFRF9CSURERVJTX0tFWToicGJqc1N5bmNzIn0sQklEX1NUQVRVUzp7QklEX1RBUkdFVElOR19TRVQ6InRhcmdldGluZ1NldCIsUkVOREVSRUQ6InJlbmRlcmVkIixCSURfUkVKRUNURUQ6ImJpZFJlamVjdGVkIn19fSw1MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2MCksaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9pKHIoZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LDUxOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sNTI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpO2UuZXhwb3J0cz1yfSw1MzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNTQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPW4oMTIwKSxjPW4oMjUpLHU9bigzMCkscz1uKDMyKSxkPW4oMzEpLGY9big2MSksbD1uKDY3KSxwPW4oNTMpLGc9Ik9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkIixiPWMuV2Vha01hcDtpZihhfHxmLnN0YXRlKXt2YXIgdj1mLnN0YXRlfHwoZi5zdGF0ZT1uZXcgYikseT12LmdldCxoPXYuaGFzLG09di5zZXQ7cj1mdW5jdGlvbihlLHQpe2lmKGguY2FsbCh2LGUpKXRocm93IG5ldyBUeXBlRXJyb3IoZyk7cmV0dXJuIHQuZmFjYWRlPWUsbS5jYWxsKHYsZSx0KSx0fSxpPWZ1bmN0aW9uKGUpe3JldHVybiB5LmNhbGwodixlKXx8e319LG89ZnVuY3Rpb24oZSl7cmV0dXJuIGguY2FsbCh2LGUpfX1lbHNle3ZhciBTPWwoInN0YXRlIik7cFtTXT0hMCxyPWZ1bmN0aW9uKGUsdCl7aWYoZChlLFMpKXRocm93IG5ldyBUeXBlRXJyb3IoZyk7cmV0dXJuIHQuZmFjYWRlPWUscyhlLFMsdCksdH0saT1mdW5jdGlvbihlKXtyZXR1cm4gZChlLFMpP2VbU106e319LG89ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSxTKX19ZS5leHBvcnRzPXtzZXQ6cixnZXQ6aSxoYXM6byxlbmZvcmNlOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpP2koZSk6cihlLHt9KX0sZ2V0dGVyRm9yOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbjtpZighdSh0KXx8KG49aSh0KSkudHlwZSE9PWUpdGhyb3cgVHlwZUVycm9yKCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICIrZSsiIHJlcXVpcmVkIik7cmV0dXJuIG59fX19LDU1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe2kucHVzaChlKX0sdC5jPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lO3JldHVybiBpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Q9ZSh0KX0pKSx0fWNhdGNoKHQpe3JldHVybiBlfX0sdC5hPWZ1bmN0aW9uKCl7cmV0dXJuIG99LHQuZj1mdW5jdGlvbihlKXtyKGUpfSx0LmQ9ZnVuY3Rpb24oZSl7YS5wdXNoKGUpfSx0LmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06W10scj1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMDthLmZvckVhY2goKGZ1bmN0aW9uKGkpe2koZSx0LG4scil9KSl9O3ZhciByLGk9W107dmFyIG89bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3I9ZX0pKTt2YXIgYT1bXX0sNTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDEyKSxhPW4ubihvKSxjPW4oNyk7ZnVuY3Rpb24gdShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gcyhlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWkuYi5zZXREZWZhdWx0cyh7dXNlclN5bmM6ci5kZWVwQ2xvbmUoe3N5bmNFbmFibGVkOiEwLGZpbHRlclNldHRpbmdzOntpbWFnZTp7YmlkZGVyczoiKiIsZmlsdGVyOiJpbmNsdWRlIn19LHN5bmNzUGVyQmlkZGVyOjUsc3luY0RlbGF5OjNlMyxhdWN0aW9uRGVsYXk6MH0pfSk7dmFyIGY9T2JqZWN0KGMuYSkoInVzZXJzeW5jIik7dmFyIGw9IXIuaXNTYWZhcmlCcm93c2VyKCkmJmYuY29va2llc0FyZUVuYWJsZWQoKSxwPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49e2ltYWdlOltdLGlmcmFtZTpbXX0sbz1uZXcgU2V0LGM9e30scz17aW1hZ2U6ITAsaWZyYW1lOiExfSxmPWUuY29uZmlnO2Z1bmN0aW9uIGwoKXtpZihmLnN5bmNFbmFibGVkJiZlLmJyb3dzZXJTdXBwb3J0c0Nvb2tpZXMpe3RyeXshZnVuY3Rpb24oKXtpZighcy5pbWFnZSlyZXR1cm47cChuLmltYWdlLChmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLGk9dFsxXTtyLmxvZ01lc3NhZ2UoIkludm9raW5nIGltYWdlIHBpeGVsIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiLmNvbmNhdChuKSksci50cmlnZ2VyUGl4ZWwoaSl9KSl9KCksZnVuY3Rpb24oKXtpZighcy5pZnJhbWUpcmV0dXJuO3Aobi5pZnJhbWUsKGZ1bmN0aW9uKGUpe3ZhciB0PXUoZSwyKSxuPXRbMF0saT10WzFdO3IubG9nTWVzc2FnZSgiSW52b2tpbmcgaWZyYW1lIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiLmNvbmNhdChuKSksci5pbnNlcnRVc2VyU3luY0lmcmFtZShpKX0pKX0oKX1jYXRjaChlKXtyZXR1cm4gci5sb2dFcnJvcigiRXJyb3IgZmlyaW5nIHVzZXIgc3luY3MiLGUpfW49e2ltYWdlOltdLGlmcmFtZTpbXX19fWZ1bmN0aW9uIHAoZSx0KXtyLnNodWZmbGUoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dChlKSxvLmFkZChlWzBdKX0pKX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49Zi5maWx0ZXJTZXR0aW5ncztpZihmdW5jdGlvbihlLHQpe2lmKGUuYWxsJiZlW3RdKXJldHVybiByLmxvZ1dhcm4oJ0RldGVjdGVkIHByZXNlbmNlIG9mIHRoZSAiZmlsdGVyU2V0dGluZ3MuYWxsIiBhbmQgImZpbHRlclNldHRpbmdzLicuY29uY2F0KHQsJyIgaW4gdXNlclN5bmMgY29uZmlnLiAgWW91IGNhbm5vdCBtaXggImFsbCIgd2l0aCAiaWZyYW1lL2ltYWdlIiBjb25maWdzOyB0aGV5IGFyZSBtdXR1YWxseSBleGNsdXNpdmUuJykpLCExO3ZhciBuPWUuYWxsP2UuYWxsOmVbdF0saT1lLmFsbD8iYWxsIjp0O2lmKCFuKXJldHVybiExO3ZhciBvPW4uZmlsdGVyLGE9bi5iaWRkZXJzO2lmKG8mJiJpbmNsdWRlIiE9PW8mJiJleGNsdWRlIiE9PW8pcmV0dXJuIHIubG9nV2FybignVXNlclN5bmMgImZpbHRlclNldHRpbmdzLicuY29uY2F0KGksIi5maWx0ZXJcIiBzZXR0aW5nICciKS5jb25jYXQobywiJyBpcyBub3QgYSB2YWxpZCBvcHRpb247IHVzZSBlaXRoZXIgJ2luY2x1ZGUnIG9yICdleGNsdWRlJy4iKSksITE7aWYoIioiIT09YSYmIShBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aD4wJiZhLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gci5pc1N0cihlKSYmIioiIT09ZX0pKSkpcmV0dXJuIHIubG9nV2FybignRGV0ZWN0ZWQgYW4gaW52YWxpZCBzZXR1cCBpbiB1c2VyU3luYyAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQoaSwiLmJpZGRlcnNcIjsgdXNlIGVpdGhlciAnKicgKHRvIHJlcHJlc2VudCBhbGwgYmlkZGVycykgb3IgYW4gYXJyYXkgb2YgYmlkZGVycy4iKSksITE7cmV0dXJuITB9KG4sZSkpe3NbZV09ITA7dmFyIGk9bi5hbGw/bi5hbGw6bltlXSxvPSIqIj09PWkuYmlkZGVycz9bdF06aS5iaWRkZXJzO3JldHVybntpbmNsdWRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIWEoKShlLHQpfSxleGNsdWRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEoKShlLHQpfX1baS5maWx0ZXJ8fCJpbmNsdWRlIl0obyx0KX1yZXR1cm4hc1tlXX1yZXR1cm4gaS5iLmdldENvbmZpZygidXNlclN5bmMiLChmdW5jdGlvbihlKXtpZihlLnVzZXJTeW5jKXt2YXIgdD1lLnVzZXJTeW5jLmZpbHRlclNldHRpbmdzO3IuaXNQbGFpbk9iamVjdCh0KSYmKHQuaW1hZ2V8fHQuYWxsfHwoZS51c2VyU3luYy5maWx0ZXJTZXR0aW5ncy5pbWFnZT17YmlkZGVyczoiKiIsZmlsdGVyOiJpbmNsdWRlIn0pKX1mPWQoZixlLnVzZXJTeW5jKX0pKSx0LnJlZ2lzdGVyU3luYz1mdW5jdGlvbihlLGksYSl7cmV0dXJuIG8uaGFzKGkpP3IubG9nTWVzc2FnZSgnYWxyZWFkeSBmaXJlZCBzeW5jcyBmb3IgIicuY29uY2F0KGksJyIsIGlnbm9yaW5nIHJlZ2lzdGVyU3luYyBjYWxsJykpOmYuc3luY0VuYWJsZWQmJnIuaXNBcnJheShuW2VdKT9pPzAhPT1mLnN5bmNzUGVyQmlkZGVyJiZOdW1iZXIoY1tpXSk+PWYuc3luY3NQZXJCaWRkZXI/ci5sb2dXYXJuKCdOdW1iZXIgb2YgdXNlciBzeW5jcyBleGNlZWRlZCBmb3IgIicuY29uY2F0KGksJyInKSk6dC5jYW5CaWRkZXJSZWdpc3RlclN5bmMoZSxpKT8obltlXS5wdXNoKFtpLGFdKSx2b2lkKGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT9lW3RdKz0xOmVbdF09MSxlfShjLGkpKSk6ci5sb2dXYXJuKCdCaWRkZXIgIicuY29uY2F0KGksJyIgbm90IHBlcm1pdHRlZCB0byByZWdpc3RlciB0aGVpciAiJykuY29uY2F0KGUsJyIgdXNlclN5bmMgcGl4ZWxzLicpKTpyLmxvZ1dhcm4oIkJpZGRlciBpcyByZXF1aXJlZCBmb3IgcmVnaXN0ZXJpbmcgc3luYyIpOnIubG9nV2FybignVXNlciBzeW5jIHR5cGUgIicuY29uY2F0KGUsJyIgbm90IHN1cHBvcnRlZCcpKX0sdC5zeW5jVXNlcnM9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MDtpZihlKXJldHVybiBzZXRUaW1lb3V0KGwsTnVtYmVyKGUpKTtsKCl9LHQudHJpZ2dlclVzZXJTeW5jcz1mdW5jdGlvbigpe2YuZW5hYmxlT3ZlcnJpZGUmJnQuc3luY1VzZXJzKCl9LHQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWYuZmlsdGVyU2V0dGluZ3N8fCFnKGUsdCl9LHR9KHtjb25maWc6aS5iLmdldENvbmZpZygidXNlclN5bmMiKSxicm93c2VyU3VwcG9ydHNDb29raWVzOmx9KX0sNTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtvLmFkU2VydmVycz1vLmFkU2VydmVyc3x8e30sby5hZFNlcnZlcnNbZV09by5hZFNlcnZlcnNbZV18fHt9LE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe28uYWRTZXJ2ZXJzW2VdW25dP09iamVjdChpLmxvZ1dhcm4pKCJBdHRlbXB0aW5nIHRvIGFkZCBhbiBhbHJlYWR5IHJlZ2lzdGVyZWQgZnVuY3Rpb24gcHJvcGVydHkgIi5jb25jYXQobiwiIGZvciBBZFNlcnZlciAiKS5jb25jYXQoZSwiLiIpKTpvLmFkU2VydmVyc1tlXVtuXT10W25dfSkpfTt2YXIgcj1uKDE0KSxpPW4oMCksbz1PYmplY3Qoci5hKSgpfSw1ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXIoZSkpcmV0dXJuIGU7dmFyIG4saTtpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwoZSkpKXJldHVybiBpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihuPWUudmFsdWVPZikmJiFyKGk9bi5jYWxsKGUpKSlyZXR1cm4gaTtpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiFyKGk9bi5jYWxsKGUpKSlyZXR1cm4gaTt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sNTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpLGk9big3OCksbz1uKDQ4KSxhPW4oNTApLGM9bigxMDYpLHU9W10ucHVzaCxzPWZ1bmN0aW9uKGUpe3ZhciB0PTE9PWUsbj0yPT1lLHM9Mz09ZSxkPTQ9PWUsZj02PT1lLGw9Nz09ZSxwPTU9PWV8fGY7cmV0dXJuIGZ1bmN0aW9uKGcsYix2LHkpe2Zvcih2YXIgaCxtLFM9byhnKSxFPWkoUyksQT1yKGIsdiwzKSxUPWEoRS5sZW5ndGgpLE89MCxJPXl8fGMsdz10P0koZyxUKTpufHxsP0koZywwKTp2b2lkIDA7VD5PO08rKylpZigocHx8TyBpbiBFKSYmKG09QShoPUVbT10sTyxTKSxlKSlpZih0KXdbT109bTtlbHNlIGlmKG0pc3dpdGNoKGUpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIGg7Y2FzZSA2OnJldHVybiBPO2Nhc2UgMjp1LmNhbGwodyxoKX1lbHNlIHN3aXRjaChlKXtjYXNlIDQ6cmV0dXJuITE7Y2FzZSA3OnUuY2FsbCh3LGgpfXJldHVybiBmPy0xOnN8fGQ/ZDp3fX07ZS5leHBvcnRzPXtmb3JFYWNoOnMoMCksbWFwOnMoMSksZmlsdGVyOnMoMiksc29tZTpzKDMpLGV2ZXJ5OnMoNCksZmluZDpzKDUpLGZpbmRJbmRleDpzKDYpLGZpbHRlck91dDpzKDcpfX0sNjA6ZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLmNlaWwscj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP3I6bikoZSl9fSw2MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDEwOCksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixhPXJbb118fGkobyx7fSk7ZS5leHBvcnRzPWF9LDYyOmZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIitTdHJpbmcodm9pZCAwPT09ZT8iIjplKSsiKV8iKygrK24rcikudG9TdHJpbmcoMzYpfX0sNjM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjQpLGk9big0MCksbz1uKDI0KSgiaXRlcmF0b3IiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW3IoZSldfX0sNjQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjUpLGk9big0Niksbz1uKDI0KSgidG9TdHJpbmdUYWciKSxhPSJBcmd1bWVudHMiPT1pKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7ZS5leHBvcnRzPXI/aTpmdW5jdGlvbihlKXt2YXIgdCxuLHI7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PU9iamVjdChlKSxvKSk/bjphP2kodCk6Ik9iamVjdCI9PShyPWkodCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6cn19LDY1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17fTtyW24oMjQpKCJ0b1N0cmluZ1RhZyIpXT0ieiIsZS5leHBvcnRzPSJbb2JqZWN0IHpdIj09PVN0cmluZyhyKX0sNjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjUpLGk9bigzNCkuZixvPW4oMzIpLGE9bigzMSksYz1uKDExOSksdT1uKDI0KSgidG9TdHJpbmdUYWciKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4scyl7aWYoZSl7dmFyIGQ9bj9lOmUucHJvdG90eXBlO2EoZCx1KXx8aShkLHUse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSkscyYmIXImJm8oZCwidG9TdHJpbmciLGMpfX19LDY3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDgxKSxpPW4oNjIpLG89cigia2V5cyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09aShlKSl9fSw2ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxMjgpLG89big5MyksYT1uKDEzMCksYz1uKDY2KSx1PW4oMzIpLHM9big5MSksZD1uKDI0KSxmPW4oMTcpLGw9big0MCkscD1uKDkyKSxnPXAuSXRlcmF0b3JQcm90b3R5cGUsYj1wLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsdj1kKCJpdGVyYXRvciIpLHk9ImtleXMiLGg9InZhbHVlcyIsbT0iZW50cmllcyIsUz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sZCxwLEUsQSl7aShuLHQsZCk7dmFyIFQsTyxJLHc9ZnVuY3Rpb24oZSl7aWYoZT09PXAmJkIpcmV0dXJuIEI7aWYoIWImJmUgaW4gXylyZXR1cm4gX1tlXTtzd2l0Y2goZSl7Y2FzZSB5OmNhc2UgaDpjYXNlIG06cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LEM9dCsiIEl0ZXJhdG9yIixqPSExLF89ZS5wcm90b3R5cGUsUj1fW3ZdfHxfWyJAQGl0ZXJhdG9yIl18fHAmJl9bcF0sQj0hYiYmUnx8dyhwKSxVPSJBcnJheSI9PXQmJl8uZW50cmllc3x8UjtpZihVJiYoVD1vKFUuY2FsbChuZXcgZSkpLGchPT1PYmplY3QucHJvdG90eXBlJiZULm5leHQmJihmfHxvKFQpPT09Z3x8KGE/YShULGcpOiJmdW5jdGlvbiIhPXR5cGVvZiBUW3ZdJiZ1KFQsdixTKSksYyhULEMsITAsITApLGYmJihsW0NdPVMpKSkscD09aCYmUiYmUi5uYW1lIT09aCYmKGo9ITAsQj1mdW5jdGlvbigpe3JldHVybiBSLmNhbGwodGhpcyl9KSxmJiYhQXx8X1t2XT09PUJ8fHUoXyx2LEIpLGxbdF09QixwKWlmKE89e3ZhbHVlczp3KGgpLGtleXM6RT9COncoeSksZW50cmllczp3KG0pfSxBKWZvcihJIGluIE8pKGJ8fGp8fCEoSSBpbiBfKSkmJnMoXyxJLE9bSV0pO2Vsc2Ugcih7dGFyZ2V0OnQscHJvdG86ITAsZm9yY2VkOmJ8fGp9LE8pO3JldHVybiBPfX0sNjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9bigwKSxpPXt9O2Z1bmN0aW9uIG8oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIG49aVtlXT1pW2VdfHx7YmlkZGVyczp7fX07cmV0dXJuIHQ/bi5iaWRkZXJzW3RdPW4uYmlkZGVyc1t0XXx8e306bn0oZSxuKTtyZXR1cm4gclt0XT0oclt0XXx8MCkrMSxyW3RdfXZhciBhPXtpbmNyZW1lbnRSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSwicmVxdWVzdHNDb3VudGVyIil9LGluY3JlbWVudEJpZGRlclJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsInJlcXVlc3RzQ291bnRlciIsdCl9LGluY3JlbWVudEJpZGRlcldpbnNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oZSwid2luc0NvdW50ZXIiLHQpfSxnZXRSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGksIiIuY29uY2F0KGUsIi5yZXF1ZXN0c0NvdW50ZXIiKSl8fDB9LGdldEJpZGRlclJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShpLCIiLmNvbmNhdChlLCIuYmlkZGVycy4iKS5jb25jYXQodCwiLnJlcXVlc3RzQ291bnRlciIpKXx8MH0sZ2V0QmlkZGVyV2luc0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiIi5jb25jYXQoZSwiLmJpZGRlcnMuIikuY29uY2F0KHQsIi53aW5zQ291bnRlciIpKXx8MH19fSw3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSx0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoe21vZHVsZU5hbWU6ZSxtb2R1bGVUeXBlOiJjb3JlIn0pfSx0LmI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh7Z3ZsaWQ6ZSxtb2R1bGVOYW1lOnR9KX07dmFyIHI9bigxMCksaT1uKDApLG89bigxMiksYT1uLm4obyksYz1bImNvcmUiLCJwcmViaWQtbW9kdWxlIl0sdT1bXTtmdW5jdGlvbiBzKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5ndmxpZCxuPWUubW9kdWxlTmFtZSxyPWUubW9kdWxlVHlwZTtmdW5jdGlvbiBvKGUpe2lmKGEoKShjLHIpKXtyZXR1cm4gZSh7dmFsaWQ6ITB9KX12YXIgbztyZXR1cm4gZCh0LG4se2hhc0VuZm9yY2VtZW50SG9vazohMX0sKGZ1bmN0aW9uKHQpe2lmKHQmJnQuaGFzRW5mb3JjZW1lbnRIb29rKW89ZSh0KTtlbHNle3ZhciBuPXtoYXNFbmZvcmNlbWVudEhvb2s6ITEsdmFsaWQ6aS5oYXNEZXZpY2VBY2Nlc3MoKX07bz1lKG4pfX0pKSxvfXZhciBzPWZ1bmN0aW9uKGUsdCxuLHIsaSxhKXt2YXIgYz1mdW5jdGlvbihvKXtpZihvJiZvLnZhbGlkKXt2YXIgYT1pJiYiIiE9PWk/IiA7ZG9tYWluPSIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChpKSk6IiIsYz1uJiYiIiE9PW4/IiA7ZXhwaXJlcz0iLmNvbmNhdChuKToiIix1PW51bGwhPXImJiJub25lIj09ci50b0xvd2VyQ2FzZSgpPyI7IFNlY3VyZSI6IiI7ZG9jdW1lbnQuY29va2llPSIiLmNvbmNhdChlLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkuY29uY2F0KGMsIjsgcGF0aD0vIikuY29uY2F0KGEpLmNvbmNhdChyPyI7IFNhbWVTaXRlPSIuY29uY2F0KHIpOiIiKS5jb25jYXQodSl9fTtpZighYXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGEpcmV0dXJuIG8oYyk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8oYyk7YShlKX0pKX0sZj1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2lmKHQmJnQudmFsaWQpe3ZhciBuPXdpbmRvdy5kb2N1bWVudC5jb29raWUubWF0Y2goIihefDspXFxzKiIrZSsiXFxzKj1cXHMqKFteO10qKVxccyooO3wkKSIpO3JldHVybiBuP2RlY29kZVVSSUNvbXBvbmVudChuWzJdKTpudWxsfXJldHVybiBudWxsfTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX0sbD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlJiZlLnZhbGlkKXRyeXtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByZWJpZC5jb29raWVUZXN0IiwiMSIpLCIxIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIpfWNhdGNoKGUpe31maW5hbGx5e3RyeXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgicHJlYmlkLmNvb2tpZVRlc3QiKX1jYXRjaChlKXt9fXJldHVybiExfTtpZighZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIG8odCk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBuPW8odCk7ZShuKX0pKX0scD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS52YWxpZCkmJighIWkuY2hlY2tDb29raWVTdXBwb3J0KCl8fCh3aW5kb3cuZG9jdW1lbnQuY29va2llPSJwcmViaWQuY29va2llVGVzdCIsLTEhPT13aW5kb3cuZG9jdW1lbnQuY29va2llLmluZGV4T2YoInByZWJpZC5jb29raWVUZXN0IikpKX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LGc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKG4pe24mJm4udmFsaWQmJnkoKSYmd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9O2lmKCFufHwiZnVuY3Rpb24iIT10eXBlb2YgbilyZXR1cm4gbyhyKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhyKTtuKGUpfSkpfSxiPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudmFsaWQmJnkoKT93aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSk6bnVsbH07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXt0JiZ0LnZhbGlkJiZ5KCkmJndpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKX07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS52YWxpZCl0cnl7cmV0dXJuISF3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGUpe2kubG9nRXJyb3IoIkxvY2FsIHN0b3JhZ2UgYXBpIGRpc2FibGVkIil9cmV0dXJuITF9O2lmKCFlfHwiZnVuY3Rpb24iIT10eXBlb2YgZSlyZXR1cm4gbyh0KTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIG49byh0KTtlKG4pfSkpfSxoPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7aWYodCYmdC52YWxpZCl7dmFyIG49W107aWYoaS5oYXNEZXZpY2VBY2Nlc3MoKSlmb3IodmFyIHI9ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7Iik7ci5sZW5ndGg7KXt2YXIgbz1yLnBvcCgpLGE9by5pbmRleE9mKCI9Iik7YT1hPDA/by5sZW5ndGg6YSxkZWNvZGVVUklDb21wb25lbnQoby5zbGljZSgwLGEpLnJlcGxhY2UoL15ccysvLCIiKSkuaW5kZXhPZihlKT49MCYmbi5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChvLnNsaWNlKGErMSkpKX1yZXR1cm4gbn19O2lmKCF0fHwiZnVuY3Rpb24iIT10eXBlb2YgdClyZXR1cm4gbyhuKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhuKTt0KGUpfSkpfTtyZXR1cm57c2V0Q29va2llOnMsZ2V0Q29va2llOmYsbG9jYWxTdG9yYWdlSXNFbmFibGVkOmwsY29va2llc0FyZUVuYWJsZWQ6cCxzZXREYXRhSW5Mb2NhbFN0b3JhZ2U6ZyxnZXREYXRhRnJvbUxvY2FsU3RvcmFnZTpiLHJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlOnYsaGFzTG9jYWxTdG9yYWdlOnksZmluZFNpbWlsYXJDb29raWVzOmh9fXZhciBkPU9iamVjdChyLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3Iobil9KSwidmFsaWRhdGVTdG9yYWdlRW5mb3JjZW1lbnQiKX0sNzQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjEzKTtlLmV4cG9ydHM9cn0sNzU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsImFkVW5pdFNldHVwQ2hlY2tzIiwoZnVuY3Rpb24oKXtyZXR1cm4gWX0pKSxuLmQodCwiY2hlY2tBZFVuaXRTZXR1cCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF9KSksdC5leGVjdXRlQ2FsbGJhY2tzPWVlO3ZhciByPW4oMTQpLGk9bigwKSxvPW4oMjE5KSxhPW4oNTYpLGM9bigzKSx1PW4oMjMpLHM9bigzOCksZD1uKDEwKSxmPW4oMjIwKSxsPW4oMTIpLHA9bi5uKGwpLGc9big2OSksYj1uKDEzKSx2PW4oNDIpLHk9big3KSxoPW4oNTUpO2Z1bmN0aW9uIG0oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIFMoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIFMoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIFMoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gUyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIEUoKXtyZXR1cm4oRT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBBPU9iamVjdChyLmEpKCksVD1uKDUpLE89bigwKSxJPW4oOCkuZGVmYXVsdCx3PW4oOSksQz1hLmEudHJpZ2dlclVzZXJTeW5jcyxqPVQuRVZFTlRTLF89ai5BRERfQURfVU5JVFMsUj1qLkJJRF9XT04sQj1qLlJFUVVFU1RfQklEUyxVPWouU0VUX1RBUkdFVElORyx4PWouQURfUkVOREVSX0ZBSUxFRCxEPWouQURfUkVOREVSX1NVQ0NFRURFRCxOPWouU1RBTEVfUkVOREVSLGs9VC5BRF9SRU5ERVJfRkFJTEVEX1JFQVNPTixQPWsuUFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQscT1rLk5PX0FELE09ay5FWENFUFRJT04sRz1rLkNBTk5PVF9GSU5EX0FELFc9ay5NSVNTSU5HX0RPQ19PUl9BRElELEw9e2JpZFdvbjpmdW5jdGlvbihlKXt2YXIgdD11LmEuZ2V0Qmlkc1JlcXVlc3RlZCgpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KSl9KSkucmVkdWNlKGkuZmxhdHRlbikuZmlsdGVyKGkudW5pcXVlcyk7aWYoIU8uY29udGFpbnModCxlKSlyZXR1cm4gdm9pZCBPLmxvZ0Vycm9yKCdUaGUgIicrZSsnIiBwbGFjZW1lbnQgaXMgbm90IGRlZmluZWQuJyk7cmV0dXJuITB9fTtmdW5jdGlvbiBGKGUsdCxuKXtlLmRlZmF1bHRWaWV3JiZlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudCYmKGUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50LndpZHRoPXQsZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQuaGVpZ2h0PW4pfWZ1bmN0aW9uIHooZSx0KXt2YXIgbj1bXTtyZXR1cm4gTy5pc0FycmF5KGUpJiYodD9lLmxlbmd0aD09PXQ6ZS5sZW5ndGg+MCkmJihlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheU9mTnVtcykoZSwyKX0pKT9uPWU6T2JqZWN0KGkuaXNBcnJheU9mTnVtcykoZSwyKSYmbi5wdXNoKGUpKSxufWZ1bmN0aW9uIFYoZSl7dmFyIHQ9Ty5kZWVwQ2xvbmUoZSksbj10Lm1lZGlhVHlwZXMuYmFubmVyLHI9eihuLnNpemVzKTtyZXR1cm4gci5sZW5ndGg+MD8obi5zaXplcz1yLHQuc2l6ZXM9cik6KE8ubG9nRXJyb3IoIkRldGVjdGVkIGEgbWVkaWFUeXBlcy5iYW5uZXIgb2JqZWN0IHdpdGhvdXQgYSBwcm9wZXIgc2l6ZXMgZmllbGQuICBQbGVhc2UgZW5zdXJlIHRoZSBzaXplcyBhcmUgbGlzdGVkIGxpa2U6IFtbMzAwLCAyNTBdLCAuLi5dLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3QgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMuYmFubmVyKSx0fWZ1bmN0aW9uIEgoZSl7dmFyIHQ9Ty5kZWVwQ2xvbmUoZSksbj10Lm1lZGlhVHlwZXMudmlkZW87aWYobi5wbGF5ZXJTaXplKXt2YXIgcj0ibnVtYmVyIj09dHlwZW9mIG4ucGxheWVyU2l6ZVswXT8yOjEsaT16KG4ucGxheWVyU2l6ZSxyKTtpLmxlbmd0aD4wPygyPT09ciYmTy5sb2dJbmZvKCJUcmFuc2Zvcm1pbmcgdmlkZW8ucGxheWVyU2l6ZSBmcm9tIFs2NDAsNDgwXSB0byBbWzY0MCw0ODBdXSBzbyBpdCdzIGluIHRoZSBwcm9wZXIgZm9ybWF0LiIpLG4ucGxheWVyU2l6ZT1pLHQuc2l6ZXM9aSk6KE8ubG9nRXJyb3IoIkRldGVjdGVkIGluY29ycmVjdCBjb25maWd1cmF0aW9uIG9mIG1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZS4gIFBsZWFzZSBzcGVjaWZ5IG9ubHkgb25lIHNldCBvZiBkaW1lbnNpb25zIGluIGEgZm9ybWF0IGxpa2U6IFtbNjQwLCA0ODBdXS4gUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSl9cmV0dXJuIHR9ZnVuY3Rpb24gSyhlKXt2YXIgdD1PLmRlZXBDbG9uZShlKSxuPXQubWVkaWFUeXBlcy5uYXRpdmU7cmV0dXJuIG4uaW1hZ2UmJm4uaW1hZ2Uuc2l6ZXMmJiFBcnJheS5pc0FycmF5KG4uaW1hZ2Uuc2l6ZXMpJiYoTy5sb2dFcnJvcigiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmltYWdlLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMpLG4uaW1hZ2UmJm4uaW1hZ2UuYXNwZWN0X3JhdGlvcyYmIUFycmF5LmlzQXJyYXkobi5pbWFnZS5hc3BlY3RfcmF0aW9zKSYmKE8ubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgdC5tZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zKSxuLmljb24mJm4uaWNvbi5zaXplcyYmIUFycmF5LmlzQXJyYXkobi5pY29uLnNpemVzKSYmKE8ubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pY29uLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pY29uLnNpemVzIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgdC5tZWRpYVR5cGVzLm5hdGl2ZS5pY29uLnNpemVzKSx0fWZ1bmN0aW9uIEooZSx0KXt2YXIgbj1PLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdCh0LCIucG9zIikpO2lmKCFufHwhTy5pc051bWJlcihuKXx8IWlzRmluaXRlKG4pKXt2YXIgcj0iVmFsdWUgb2YgcHJvcGVydHkgJ3Bvcycgb24gYWQgdW5pdCAiLmNvbmNhdChlLmNvZGUsIiBzaG91bGQgYmUgb2YgdHlwZTogTnVtYmVyIik7Ty5sb2dXYXJuKHIpLHcuZW1pdChULkVWRU5UUy5BVUNUSU9OX0RFQlVHLHt0eXBlOiJXQVJOSU5HIixhcmd1bWVudHM6cn0pLGRlbGV0ZSBlLm1lZGlhVHlwZXNbdF0ucG9zfXJldHVybiBlfU9iamVjdChmLmEpKCksQS5iaWRkZXJTZXR0aW5ncz1BLmJpZGRlclNldHRpbmdzfHx7fSxBLmxpYkxvYWRlZD0hMCxBLnZlcnNpb249InY1LjExLjAiLE8ubG9nSW5mbygiUHJlYmlkLmpzIHY1LjExLjAgbG9hZGVkIiksQS5pbnN0YWxsZWRNb2R1bGVzPVsiY29uc2VudE1hbmFnZW1lbnQiLCJjb25zZW50TWFuYWdlbWVudFVzcCIsIjMzYWNyb3NzQmlkQWRhcHRlciIsImFtYXpvbkJpZEFkYXB0ZXIiLCJhZGZCaWRBZGFwdGVyIiwiYW9sQmlkQWRhcHRlciIsImFkeW91bGlrZUJpZEFkYXB0ZXIiLCJhcHBuZXh1c0JpZEFkYXB0ZXIiLCJjb252ZXJzYW50QmlkQWRhcHRlciIsImNyaXRlb0JpZEFkYXB0ZXIiLCJndW1ndW1CaWRBZGFwdGVyIiwiZW14X2RpZ2l0YWxCaWRBZGFwdGVyIiwiaW1wcm92ZWRpZ2l0YWxCaWRBZGFwdGVyIiwiaXhCaWRBZGFwdGVyIiwic21hcnRhZHNlcnZlckJpZEFkYXB0ZXIiLCJvcGVueEJpZEFkYXB0ZXIiLCJtZWRpYW5ldEJpZEFkYXB0ZXIiLCJjb25zdW1hYmxlQmlkQWRhcHRlciIsInRyaXBsZWxpZnRCaWRBZGFwdGVyIiwidW5kZXJkb2dtZWRpYUJpZEFkYXB0ZXIiLCJwdWJtYXRpY0JpZEFkYXB0ZXIiLCJwdWxzZXBvaW50QmlkQWRhcHRlciIsInJ1Ymljb25CaWRBZGFwdGVyIiwic29ub2JpQmlkQWRhcHRlciIsInNvdnJuQmlkQWRhcHRlciIsInNoYXJldGhyb3VnaEJpZEFkYXB0ZXIiLCJkaXN0cmljdG1ETVhCaWRBZGFwdGVyIiwibG9ja2VyZG9tZUJpZEFkYXB0ZXIiLCJyaHl0aG1vbmVCaWRBZGFwdGVyIiwiY3VycmVuY3kiLCJzY2hhaW4iLCJ1c2VySWQiLCJwdWJQcm92aWRlZElkU3lzdGVtIiwieWllbGRsYWJCaWRBZGFwdGVyIiwicHVic3RhY2tBbmFseXRpY3NBZGFwdGVyIiwibm9iaWRCaWRBZGFwdGVyIiwic29ydGFibGVCaWRBZGFwdGVyIiwicHJlYmlkU2VydmVyQmlkQWRhcHRlciIsImJyaWdodGNvbUJpZEFkYXB0ZXIiLCJ0cnVzdHhCaWRBZGFwdGVyIl0sQS5hZFVuaXRzPUEuYWRVbml0c3x8W10sQS5zZXRDb29raWVGcmFtZT1mdW5jdGlvbihlKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnNldENvb2tpZUZyYW1lIixhcmd1bWVudHMpLGguZihlKX0sQS5vbkJlZm9yZVJlcXVlc3Q9ZnVuY3Rpb24oZSl7Ty5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5vbkJlZm9yZVJlcXVlc3QiLGFyZ3VtZW50cyksaC5iKGUpfSxBLm9uU2VuZExvZz1mdW5jdGlvbihlKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLm9uU2VuZExvZyIsYXJndW1lbnRzKSxoLmQoZSl9LEEudHJpZ2dlclVzZXJTeW5jcz1DO3ZhciBZPXt2YWxpZGF0ZUJhbm5lck1lZGlhVHlwZTpWLHZhbGlkYXRlVmlkZW9NZWRpYVR5cGU6SCx2YWxpZGF0ZU5hdGl2ZU1lZGlhVHlwZTpLLHZhbGlkYXRlU2l6ZXM6en0sUT1PYmplY3QoZC5iKSgic3luYyIsKGZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuLHIsaSxvPWUubWVkaWFUeXBlcyxhPWUuYmlkcztpZihhJiZPLmlzQXJyYXkoYSkpaWYobyYmMCE9PU9iamVjdC5rZXlzKG8pLmxlbmd0aCl7by5iYW5uZXImJihuPVYoZSksby5iYW5uZXIuaGFzT3duUHJvcGVydHkoInBvcyIpJiYobj1KKG4sImJhbm5lciIpKSksby52aWRlbyYmKHI9SChufHxlKSxvLnZpZGVvLmhhc093blByb3BlcnR5KCJwb3MiKSYmKHI9SihyLCJ2aWRlbyIpKSksby5uYXRpdmUmJihpPUsocnx8KG58fGUpKSk7dmFyIGM9RSh7fSxuLHIsaSk7dC5wdXNoKGMpfWVsc2UgTy5sb2dFcnJvcigiRGV0ZWN0ZWQgYWRVbml0LmNvZGUgJyIuY29uY2F0KGUuY29kZSwiJyBkaWQgbm90IGhhdmUgYSAnbWVkaWFUeXBlcycgb2JqZWN0IGRlZmluZWQuICBUaGlzIGlzIGEgcmVxdWlyZWQgZmllbGQgZm9yIHRoZSBhdWN0aW9uLCBzbyB0aGlzIGFkVW5pdCBoYXMgYmVlbiByZW1vdmVkLiIpKTtlbHNlIE8ubG9nRXJyb3IoIkRldGVjdGVkIGFkVW5pdC5jb2RlICciLmNvbmNhdChlLmNvZGUsIicgZGlkIG5vdCBoYXZlICdhZFVuaXQuYmlkcycgZGVmaW5lZCBvciAnYWRVbml0LmJpZHMnIGlzIG5vdCBhbiBhcnJheS4gUmVtb3ZpbmcgYWRVbml0IGZyb20gYXVjdGlvbi4iKSl9KSksdH0pLCJjaGVja0FkVW5pdFNldHVwIik7ZnVuY3Rpb24gJChlKXt2YXIgdD11LmFbZV0oKS5maWx0ZXIoTy5iaW5kLmNhbGwoaS5hZFVuaXRzRmlsdGVyLHRoaXMsdS5hLmdldEFkVW5pdENvZGVzKCkpKSxuPXUuYS5nZXRMYXN0QXVjdGlvbklkKCk7cmV0dXJuIHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkpLmZpbHRlcihpLnVuaXF1ZXMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hdWN0aW9uSWQ9PT1uJiZ0LmFkVW5pdENvZGU9PT1lfSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmVbMF0mJmVbMF0uYWRVbml0Q29kZX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0PXt9LG49ZVswXS5hZFVuaXRDb2RlLHI9e2JpZHM6ZX0sbiBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdDt2YXIgdCxuLHJ9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBFKGUsdCl9KSx7fSl9ZnVuY3Rpb24gWChlKXt2YXIgdD1lLnJlYXNvbixuPWUubWVzc2FnZSxyPWUuYmlkLGk9ZS5pZCxvPXtyZWFzb246dCxtZXNzYWdlOm59O3ImJihvLmJpZD1yKSxpJiYoby5hZElkPWkpLE8ubG9nRXJyb3Iobiksdy5lbWl0KHgsbyl9ZnVuY3Rpb24gWihlKXt2YXIgdD1lLmRvYyxuPWUuYmlkLHI9ZS5pZCxpPXtkb2M6dH07biYmKGkuYmlkPW4pLHImJihpLmFkSWQ9ciksdy5lbWl0KEQsaSl9ZnVuY3Rpb24gZWUoZSx0KXtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdDt0PWUuc2hpZnQoKTspdCgpfW4oeS5jKSxuKHRlKSxlLmNhbGwodGhpcyx0KX1BLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0cj1mdW5jdGlvbihlKXtpZihPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0ciIsYXJndW1lbnRzKSxlKXt2YXIgdD1BLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZShlKTtyZXR1cm4gTy50cmFuc2Zvcm1BZFNlcnZlclRhcmdldGluZ09iaih0KX1PLmxvZ01lc3NhZ2UoIk5lZWQgdG8gY2FsbCBnZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHIgd2l0aCBhZHVuaXRDb2RlIil9LEEuZ2V0SGlnaGVzdFVudXNlZEJpZFJlc3BvbnNlRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD11LmEuZ2V0QWxsQmlkc0ZvckFkVW5pdENvZGUoZSkuZmlsdGVyKHMuYS5pc1VudXNlZEJpZCkuZmlsdGVyKHMuYS5pc0JpZE5vdEV4cGlyZWQpO3JldHVybiB0Lmxlbmd0aD90LnJlZHVjZShpLmdldEhpZ2hlc3RDcG0pOnt9fU8ubG9nTWVzc2FnZSgiTmVlZCB0byBjYWxsIGdldEhpZ2hlc3RVbnVzZWRCaWRSZXNwb25zZUZvckFkVW5pdENvZGUgd2l0aCBhZHVuaXRDb2RlIil9LEEuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBBLmdldEFkc2VydmVyVGFyZ2V0aW5nKGUpW2VdfSxBLmdldEFkc2VydmVyVGFyZ2V0aW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmciLGFyZ3VtZW50cykscy5kLmdldEFsbFRhcmdldGluZyhlLHQpfSxBLmdldE5vQmlkcz1mdW5jdGlvbigpe3JldHVybiBPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldE5vQmlkcyIsYXJndW1lbnRzKSwkKCJnZXROb0JpZHMiKX0sQS5nZXROb0JpZHNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybntiaWRzOnUuYS5nZXROb0JpZHMoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSkpfX0sQS5nZXRCaWRSZXNwb25zZXM9ZnVuY3Rpb24oKXtyZXR1cm4gTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5nZXRCaWRSZXNwb25zZXMiLGFyZ3VtZW50cyksJCgiZ2V0Qmlkc1JlY2VpdmVkIil9LEEuZ2V0QmlkUmVzcG9uc2VzRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtyZXR1cm57Ymlkczp1LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZX0pKX19LEEuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmM9ZnVuY3Rpb24oZSx0KXtpZihPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnNldFRhcmdldGluZ0ZvckdQVEFzeW5jIixhcmd1bWVudHMpLE9iamVjdChpLmlzR3B0UHViYWRzRGVmaW5lZCkoKSl7dmFyIG49cy5kLmdldEFsbFRhcmdldGluZyhlKTtzLmQucmVzZXRQcmVzZXRUYXJnZXRpbmcoZSx0KSxzLmQuc2V0VGFyZ2V0aW5nRm9yR1BUKG4sdCksT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMobltlXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ImhiX2FkaWQiPT09dCYmdS5hLnNldFN0YXR1c0ZvckJpZHMobltlXVt0XSxULkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVQpfSkpfSkpLHcuZW1pdChVLG4pfWVsc2UgTy5sb2dFcnJvcigid2luZG93Lmdvb2dsZXRhZyBpcyBub3QgZGVmaW5lZCBvbiB0aGUgcGFnZSIpfSxBLnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnNldFRhcmdldGluZ0ZvckFuIixhcmd1bWVudHMpLHMuZC5pc0FwbnRhZ0RlZmluZWQoKT8ocy5kLnNldFRhcmdldGluZ0ZvckFzdChlKSx3LmVtaXQoVSxzLmQuZ2V0QWxsVGFyZ2V0aW5nKCkpKTpPLmxvZ0Vycm9yKCJ3aW5kb3cuYXBudGFnIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBwYWdlIil9LEEucmVuZGVyQWQ9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0LG4pe2lmKE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVuZGVyQWQiLGFyZ3VtZW50cyksTy5sb2dNZXNzYWdlKCJDYWxsaW5nIHJlbmRlckFkIHdpdGggYWRJZCA6Iit0KSxlJiZ0KXRyeXt2YXIgcj11LmEuZmluZEJpZEJ5QWRJZCh0KTtpZihyKXt2YXIgaT0hMDtpZihyJiZyLnN0YXR1cz09PVQuQklEX1NUQVRVUy5SRU5ERVJFRCYmKE8ubG9nV2FybigiQWQgaWQgIi5jb25jYXQoci5hZElkLCIgaGFzIGJlZW4gcmVuZGVyZWQgYmVmb3JlIikpLHcuZW1pdChOLHIpLE8uZGVlcEFjY2VzcyhjLmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpLCJzdXBwcmVzc1N0YWxlUmVuZGVyIikmJihpPSExKSksaSl7aWYoci5hZD1PLnJlcGxhY2VBdWN0aW9uUHJpY2Uoci5hZCxyLmNwbSksci5hZFVybD1PLnJlcGxhY2VBdWN0aW9uUHJpY2Uoci5hZFVybCxyLmNwbSksbiYmbi5jbGlja1Rocm91Z2gpe3ZhciBvPW4uY2xpY2tUaHJvdWdoO3IuYWQ9Ty5yZXBsYWNlQ2xpY2tUaHJvdWdoKHIuYWQsbyksci5hZFVybD1PLnJlcGxhY2VDbGlja1Rocm91Z2goci5hZFVybCxvKX11LmEuYWRkV2lubmluZ0JpZChyKSx3LmVtaXQoUixyKTt2YXIgYT1yLmhlaWdodCxzPXIud2lkdGgsZD1yLmFkLGY9ci5tZWRpYVR5cGUsbD1yLmFkVXJsLHA9ci5yZW5kZXJlcixnPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIkNyZWF0aXZlICIuY29uY2F0KHIuY3JlYXRpdmVJZCwiIHNlcnZlZCBieSAiKS5jb25jYXQoci5iaWRkZXIsIiBQcmViaWQuanMgSGVhZGVyIEJpZGRpbmciKSk7aWYoT2JqZWN0KGIuYykocCkpT2JqZWN0KGIuYikocCxyKSxPLmluc2VydEVsZW1lbnQoZyxlLCJodG1sIiksWih7ZG9jOmUsYmlkOnIsaWQ6dH0pO2Vsc2UgaWYoZT09PWRvY3VtZW50JiYhTy5pbklmcmFtZSgpfHwidmlkZW8iPT09Zil7dmFyIHY9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQWQgcmVuZGVyIGNhbGwgYWQgaWQgIi5jb25jYXQodCwiIHdhcyBwcmV2ZW50ZWQgZnJvbSB3cml0aW5nIHRvIHRoZSBtYWluIGRvY3VtZW50LiIpO1goe3JlYXNvbjpQLG1lc3NhZ2U6dixiaWQ6cixpZDp0fSl9ZWxzZSBpZihkKXtpZihuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiZmlyZWZveC8iKT4tMSl7dmFyIHk9L2ZpcmVmb3hcLyhbXGRcLl0rKS8saD1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goeSlbMV07aCYmcGFyc2VJbnQoaCwxMCk8NjcmJmUub3BlbigidGV4dC9odG1sIiwicmVwbGFjZSIpfWUud3JpdGUoZCksZS5jbG9zZSgpLEYoZSxzLGEpLE8uaW5zZXJ0RWxlbWVudChnLGUsImh0bWwiKSxPLmNhbGxCdXJsKHIpLFooe2RvYzplLGJpZDpyLGlkOnR9KX1lbHNlIGlmKGwpe3ZhciBtPU8uY3JlYXRlSW52aXNpYmxlSWZyYW1lKCk7bS5oZWlnaHQ9YSxtLndpZHRoPXMsbS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLG0uc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsbS5zcmM9bCxPLmluc2VydEVsZW1lbnQobSxlLCJib2R5IiksRihlLHMsYSksTy5pbnNlcnRFbGVtZW50KGcsZSwiaHRtbCIpLE8uY2FsbEJ1cmwociksWih7ZG9jOmUsYmlkOnIsaWQ6dH0pfWVsc2V7dmFyIFM9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gTm8gYWQgZm9yIGJpZCByZXNwb25zZSBpZDogIi5jb25jYXQodCk7WCh7cmVhc29uOnEsbWVzc2FnZTpTLGJpZDpyLGlkOnR9KX19fWVsc2V7dmFyIEU9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQ2Fubm90IGZpbmQgYWQgYnkgZ2l2ZW4gaWQgOiAiLmNvbmNhdCh0KTtYKHtyZWFzb246RyxtZXNzYWdlOkUsaWQ6dH0pfX1jYXRjaChlKXt2YXIgQT0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDoiLmNvbmNhdCh0LCIgdG8gdGhlIHBhZ2U6IikuY29uY2F0KGUubWVzc2FnZSk7WCh7cmVhc29uOk0sbWVzc2FnZTpBLGlkOnR9KX1lbHNle3ZhciBJPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQgSWQgOiIuY29uY2F0KHQsIiB0byB0aGUgcGFnZS4gTWlzc2luZyBkb2N1bWVudCBvciBhZElkIik7WCh7cmVhc29uOlcsbWVzc2FnZTpJLGlkOnR9KX19KSksQS5yZW1vdmVBZFVuaXQ9ZnVuY3Rpb24oZSl7KE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVtb3ZlQWRVbml0Iixhcmd1bWVudHMpLGUpPyhPLmlzQXJyYXkoZSk/ZTpbZV0pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1BLmFkVW5pdHMubGVuZ3RoLTE7dD49MDt0LS0pQS5hZFVuaXRzW3RdLmNvZGU9PT1lJiZBLmFkVW5pdHMuc3BsaWNlKHQsMSl9KSk6QS5hZFVuaXRzPVtdfSxBLnJlcXVlc3RCaWRzPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5iaWRzQmFja0hhbmRsZXIsbj1lLnRpbWVvdXQscj1lLmFkVW5pdHMsaT1lLmFkVW5pdENvZGVzLG89ZS5sYWJlbHMsYT1lLmF1Y3Rpb25JZDt3LmVtaXQoQik7dmFyIGQ9bnx8Yy5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpO3I9ciYmYy5iLmNvbnZlcnRBZFVuaXRGcGQoTy5pc0FycmF5KHIpP3I6W3JdKXx8QS5hZFVuaXRzLE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVxdWVzdEJpZHMiLGFyZ3VtZW50cyk7dmFyIGY9ci5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gTy5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5wcmViaWQuc3RvcmVkcmVxdWVzdCIpfSkpLGw9W10sYj1jLmIuZ2V0Q29uZmlnKCJzMnNDb25maWciKTtiJiYobD1BcnJheS5pc0FycmF5KGIpP2I6W2JdKTt2YXIgdj1bXTtpZihsLmZvckVhY2goKGZ1bmN0aW9uKGUpe2YmJmUuYmlkZGVycy5wdXNoKCJzMnNCaWRkZXJQbGFjZWhvbGRlciIpLHYucHVzaC5hcHBseSh2LG0oZS5iaWRkZXJzKSl9KSkscj1RKHIpLGkmJmkubGVuZ3RoP3I9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoaSxlLmNvZGUpfSkpOmk9ciYmci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvZGV9KSksci5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhlLm1lZGlhVHlwZXN8fHtiYW5uZXI6ImJhbm5lciJ9KTshZS5iaWRzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlcn0pKSYmdi5pbmNsdWRlcygiczJzQmlkZGVyUGxhY2Vob2xkZXIiKSYmTy5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5wcmViaWQuc3RvcmVkcmVxdWVzdCIpJiZlLmJpZHMucHVzaCh7YmlkZGVyOiJzMnNCaWRkZXJQbGFjZWhvbGRlciJ9KTt2YXIgbj1lLmJpZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJ9KSkscj1JLmJpZGRlclJlZ2lzdHJ5LGk9dj9uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIXAoKSh2LGUpfSkpOm47ZS50cmFuc2FjdGlvbklkPU8uZ2VuZXJhdGVVVUlEKCksaS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgaT1yW25dLG89aSYmaS5nZXRTcGVjJiZpLmdldFNwZWMoKSxhPW8mJm8uc3VwcG9ydGVkTWVkaWFUeXBlc3x8WyJiYW5uZXIiXTt0LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoYSxlKX0pKT9nLmEuaW5jcmVtZW50QmlkZGVyUmVxdWVzdHNDb3VudGVyKGUuY29kZSxuKTooTy5sb2dXYXJuKE8udW5zdXBwb3J0ZWRCaWRkZXJNZXNzYWdlKGUsbikpLGUuYmlkcz1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXIhPT1ufSkpKX0pKSxnLmEuaW5jcmVtZW50UmVxdWVzdHNDb3VudGVyKGUuY29kZSl9KSksciYmMCE9PXIubGVuZ3RoKXt2YXIgeT11LmEuY3JlYXRlQXVjdGlvbih7YWRVbml0czpyLGFkVW5pdENvZGVzOmksY2FsbGJhY2s6dCxjYlRpbWVvdXQ6ZCxsYWJlbHM6byxhdWN0aW9uSWQ6YX0pLGg9ci5sZW5ndGg7aD4xNSYmTy5sb2dJbmZvKCJDdXJyZW50IGF1Y3Rpb24gIi5jb25jYXQoeS5nZXRBdWN0aW9uSWQoKSwiIGNvbnRhaW5zICIpLmNvbmNhdChoLCIgYWRVbml0cy4iKSxyKSxpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBzLmQuc2V0TGF0ZXN0QXVjdGlvbkZvckFkVW5pdChlLHkuZ2V0QXVjdGlvbklkKCkpfSkpLHkuY2FsbEJpZHMoKX1lbHNlIGlmKE8ubG9nTWVzc2FnZSgiTm8gYWRVbml0cyBjb25maWd1cmVkLiBObyBiaWRzIHJlcXVlc3RlZC4iKSwiZnVuY3Rpb24iPT10eXBlb2YgdCl0cnl7dCgpfWNhdGNoKGUpe08ubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9fSkpLEEucmVxdWVzdEJpZHMuYmVmb3JlKGVlLDQ5KSxBLmFkZEFkVW5pdHM9ZnVuY3Rpb24oZSl7Ty5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5hZGRBZFVuaXRzIixhcmd1bWVudHMpLEEuYWRVbml0cy5wdXNoLmFwcGx5KEEuYWRVbml0cyxjLmIuY29udmVydEFkVW5pdEZwZChPLmlzQXJyYXkoZSk/ZTpbZV0pKSx3LmVtaXQoXyl9LEEub25FdmVudD1mdW5jdGlvbihlLHQsbil7Ty5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5vbkV2ZW50Iixhcmd1bWVudHMpLE8uaXNGbih0KT8hbnx8TFtlXS5jYWxsKG51bGwsbik/dy5vbihlLHQsbik6Ty5sb2dFcnJvcignVGhlIGlkIHByb3ZpZGVkIGlzIG5vdCB2YWxpZCBmb3IgZXZlbnQgIicrZSsnIiBhbmQgbm8gaGFuZGxlciB3YXMgc2V0LicpOk8ubG9nRXJyb3IoJ1RoZSBldmVudCBoYW5kbGVyIHByb3ZpZGVkIGlzIG5vdCBhIGZ1bmN0aW9uIGFuZCB3YXMgbm90IHNldCBvbiBldmVudCAiJytlKyciLicpfSxBLm9mZkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLm9mZkV2ZW50Iixhcmd1bWVudHMpLG4mJiFMW2VdLmNhbGwobnVsbCxuKXx8dy5vZmYoZSx0LG4pfSxBLmdldEV2ZW50cz1mdW5jdGlvbigpe3JldHVybiBPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldEV2ZW50cyIpLHcuZ2V0RXZlbnRzKCl9LEEucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7Ty5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZWdpc3RlckJpZEFkYXB0ZXIiLGFyZ3VtZW50cyk7dHJ5e0kucmVnaXN0ZXJCaWRBZGFwdGVyKGUoKSx0KX1jYXRjaChlKXtPLmxvZ0Vycm9yKCJFcnJvciByZWdpc3RlcmluZyBiaWRkZXIgYWRhcHRlciA6ICIrZS5tZXNzYWdlKX19LEEucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyIixhcmd1bWVudHMpO3RyeXtJLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcihlKX1jYXRjaChlKXtPLmxvZ0Vycm9yKCJFcnJvciByZWdpc3RlcmluZyBhbmFseXRpY3MgYWRhcHRlciA6ICIrZS5tZXNzYWdlKX19LEEuY3JlYXRlQmlkPWZ1bmN0aW9uKGUpe3JldHVybiBPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmNyZWF0ZUJpZCIsYXJndW1lbnRzKSxPYmplY3Qodi5hKShlKX07dmFyIHRlPVtdLG5lPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUpe2UmJiFPLmlzRW1wdHkoZSk/KE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuZW5hYmxlQW5hbHl0aWNzIGZvcjogIixlKSxJLmVuYWJsZUFuYWx5dGljcyhlKSk6Ty5sb2dFcnJvcigidXBianMuZW5hYmxlQW5hbHl0aWNzIHNob3VsZCBiZSBjYWxsZWQgd2l0aCBvcHRpb24ge30iKX0pLCJlbmFibGVBbmFseXRpY3NDYiIpO2Z1bmN0aW9uIHJlKGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZS5jYWxsZWQpdHJ5e2UuY2FsbCgpLGUuY2FsbGVkPSEwfWNhdGNoKGUpe08ubG9nRXJyb3IoIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6IiwicHJlYmlkLmpzIixlKX19KSl9QS5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oZSl7dGUucHVzaChuZS5iaW5kKHRoaXMsZSkpfSxBLmFsaWFzQmlkZGVyPWZ1bmN0aW9uKGUsdCxuKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmFsaWFzQmlkZGVyIixhcmd1bWVudHMpLGUmJnQ/SS5hbGlhc0JpZEFkYXB0ZXIoZSx0LG4pOk8ubG9nRXJyb3IoImJpZGRlckNvZGUgYW5kIGFsaWFzIG11c3QgYmUgcGFzc2VkIGFzIGFyZ3VtZW50cyIsInVwYmpzLmFsaWFzQmlkZGVyIil9LEEuZ2V0QWxsV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdS5hLmdldEFsbFdpbm5pbmdCaWRzKCl9LEEuZ2V0QWxsUHJlYmlkV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdHVzPT09VC5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VUfSkpfSxBLmdldEhpZ2hlc3RDcG1CaWRzPWZ1bmN0aW9uKGUpe3JldHVybiBzLmQuZ2V0V2lubmluZ0JpZHMoZSl9LEEubWFya1dpbm5pbmdCaWRBc1VzZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107ZS5hZFVuaXRDb2RlJiZlLmFkSWQ/dD11LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZElkPT09ZS5hZElkJiZ0LmFkVW5pdENvZGU9PT1lLmFkVW5pdENvZGV9KSk6ZS5hZFVuaXRDb2RlP3Q9cy5kLmdldFdpbm5pbmdCaWRzKGUuYWRVbml0Q29kZSk6ZS5hZElkP3Q9dS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRJZD09PWUuYWRJZH0pKTpPLmxvZ1dhcm4oIkltcHJvcGVyIHVzZSBvZiBtYXJrV2lubmluZ0JpZEFzVXNlZC4gSXQgbmVlZHMgYW4gYWRVbml0Q29kZSBvciBhbiBhZElkIHRvIGZ1bmN0aW9uLiIpLHQubGVuZ3RoPjAmJih0WzBdLnN0YXR1cz1ULkJJRF9TVEFUVVMuUkVOREVSRUQpfSxBLmdldENvbmZpZz1jLmIuZ2V0Q29uZmlnLEEuc2V0Q29uZmlnPWMuYi5zZXRDb25maWcsQS5zZXRCaWRkZXJDb25maWc9Yy5iLnNldEJpZGRlckNvbmZpZyxBLnF1ZS5wdXNoKChmdW5jdGlvbigpe3JldHVybiBPYmplY3Qoby5hKSgpfSkpLEEuY21kLnB1c2g9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpdHJ5e2UuY2FsbCgpfWNhdGNoKGUpe08ubG9nRXJyb3IoIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6IixlLm1lc3NhZ2UsZS5zdGFjayl9ZWxzZSBPLmxvZ0Vycm9yKCJDb21tYW5kcyB3cml0dGVuIGludG8gdXBianMuY21kLnB1c2ggbXVzdCBiZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24iKX0sQS5xdWUucHVzaD1BLmNtZC5wdXNoLEEucHJvY2Vzc1F1ZXVlPWZ1bmN0aW9uKCl7ZC5iLnJlYWR5KCkscmUoQS5xdWUpLHJlKEEuY21kKX0sdC5kZWZhdWx0PUF9LDc2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM0Nyk7ZS5leHBvcnRzPXJ9LDc3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJue2NhbGxCaWRzOmZ1bmN0aW9uKCl7fSxzZXRCaWRkZXJDb2RlOmZ1bmN0aW9uKGUpe3Q9ZX0sZ2V0QmlkZGVyQ29kZTpmdW5jdGlvbigpe3JldHVybiB0fX19fSw3ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSksaT1uKDQ2KSxvPSIiLnNwbGl0O2UuZXhwb3J0cz1yKChmdW5jdGlvbigpe3JldHVybiFPYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKX0pKT9mdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09aShlKT9vLmNhbGwoZSwiIik6T2JqZWN0KGUpfTpPYmplY3R9LDc5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMjkpLG89big4MCk7ZS5leHBvcnRzPSFyJiYhaSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KG8oImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKX0sODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiZ2RwckRhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gQn0pKSxuLmQodCwidXNwRGF0YUhhbmRsZXIiLChmdW5jdGlvbigpe3JldHVybiBVfSkpLG4uZCh0LCJjb3BwYURhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKSxuLmQodCwiY2xpZW50VGVzdEFkYXB0ZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4gRH0pKSxuLmQodCwiYWxsUzJTQmlkZGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksdC5nZXRBbGxTMlNCaWRkZXJzPWssdC5zZXRTMlNUZXN0aW5nTW9kdWxlPWZ1bmN0aW9uKGUpe0U9ZX07dmFyIHI9bigwKSxpPW4oOTcpLG89bigzNiksYT1uKDEpLGM9big0KSx1PW4oMykscz1uKDEwKSxkPW4oMTIpLGY9bi5uKGQpLGw9bigxMSkscD1uLm4obCksZz1uKDY5KSxiPW4oMjApO2Z1bmN0aW9uIHYoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxoKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBtKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8aChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBoKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBtKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/bShlLHQpOnZvaWQgMH19ZnVuY3Rpb24gbShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIFMoKXtyZXR1cm4oUz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBFLEE9bigwKSxUPW4oNSksTz1uKDkpLEk9e30sdz1JLmJpZGRlclJlZ2lzdHJ5PXt9LEM9SS5hbGlhc1JlZ2lzdHJ5PXt9LGo9W107dS5iLmdldENvbmZpZygiczJzQ29uZmlnIiwoZnVuY3Rpb24oZSl7ZSYmZS5zMnNDb25maWcmJihqPUFycmF5LmlzQXJyYXkoZS5zMnNDb25maWcpP2UuczJzQ29uZmlnOltlLnMyc0NvbmZpZ10pfSkpO3ZhciBfPXt9O3ZhciBSPU9iamVjdChzLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRkZXJDb2RlLG49ZS5hdWN0aW9uSWQsYT1lLmJpZGRlclJlcXVlc3RJZCxjPWUuYWRVbml0cyx1PWUubGFiZWxzLHM9ZS5zcmM7cmV0dXJuIGMucmVkdWNlKChmdW5jdGlvbihlLGMpe3ZhciBkPU9iamVjdChpLmIpKE9iamVjdChpLmEpKGMsdSksYy5tZWRpYVR5cGVzLGMuc2l6ZXMpLGY9ZC5hY3RpdmUsbD1kLm1lZGlhVHlwZXMscD1kLmZpbHRlclJlc3VsdHM7cmV0dXJuIGY/cCYmQS5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZmlsdGVyZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmFubmVyIHNpemVzIGZyb20gJykscC5iZWZvcmUsInRvICIscC5hZnRlcik6QS5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZGlzYWJsZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyInKSksZiYmZS5wdXNoKGMuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXR9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBkPWMubmF0aXZlUGFyYW1zfHxBLmRlZXBBY2Nlc3MoYywibWVkaWFUeXBlcy5uYXRpdmUiKTtkJiYodD1TKHt9LHQse25hdGl2ZVBhcmFtczpPYmplY3Qoby5oKShkKX0pKSx0PVMoe30sdCxPYmplY3Qoci5nZXREZWZpbmVkUGFyYW1zKShjLFsib3J0YjJJbXAiLCJtZWRpYVR5cGUiLCJyZW5kZXJlciIsInN0b3JlZEF1Y3Rpb25SZXNwb25zZSJdKSk7dmFyIGY9T2JqZWN0KGkuYikoT2JqZWN0KGkuYSkodCx1KSxsKSxwPWYuYWN0aXZlLGI9Zi5tZWRpYVR5cGVzLHY9Zi5maWx0ZXJSZXN1bHRzO3JldHVybiBwP3YmJkEubG9nSW5mbygnU2l6ZSBtYXBwaW5nIGZpbHRlcmVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciIGJhbm5lciBzaXplcyBmcm9tICcpLHYuYmVmb3JlLCJ0byAiLHYuYWZ0ZXIpOkEubG9nSW5mbygnU2l6ZSBtYXBwaW5nIGRlYWN0aXZhdGVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciJykpLEEuaXNWYWxpZE1lZGlhVHlwZXMoYik/dD1TKHt9LHQse21lZGlhVHlwZXM6Yn0pOkEubG9nRXJyb3IoIm1lZGlhVHlwZXMgaXMgbm90IGNvcnJlY3RseSBjb25maWd1cmVkIGZvciBhZHVuaXQgIi5jb25jYXQoYy5jb2RlKSkscCYmZS5wdXNoKFMoe30sdCx7YWRVbml0Q29kZTpjLmNvZGUsdHJhbnNhY3Rpb25JZDpjLnRyYW5zYWN0aW9uSWQsc2l6ZXM6QS5kZWVwQWNjZXNzKGIsImJhbm5lci5zaXplcyIpfHxBLmRlZXBBY2Nlc3MoYiwidmlkZW8ucGxheWVyU2l6ZSIpfHxbXSxiaWRJZDp0LmJpZF9pZHx8QS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksYmlkZGVyUmVxdWVzdElkOmEsYXVjdGlvbklkOm4sc3JjOnMsYmlkUmVxdWVzdHNDb3VudDpnLmEuZ2V0UmVxdWVzdHNDb3VudGVyKGMuY29kZSksYmlkZGVyUmVxdWVzdHNDb3VudDpnLmEuZ2V0QmlkZGVyUmVxdWVzdHNDb3VudGVyKGMuY29kZSx0LmJpZGRlciksYmlkZGVyV2luc0NvdW50OmcuYS5nZXRCaWRkZXJXaW5zQ291bnRlcihjLmNvZGUsdC5iaWRkZXIpfSkpLGV9KSxbXSkpLGV9KSxbXSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iIiE9PWV9KSl9KSwiZ2V0QmlkcyIpO3ZhciBCPXtjb25zZW50RGF0YTpudWxsLHNldENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe0IuY29uc2VudERhdGE9ZX0sZ2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gQi5jb25zZW50RGF0YX19LFU9e2NvbnNlbnREYXRhOm51bGwsc2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7VS5jb25zZW50RGF0YT1lfSxnZXRDb25zZW50RGF0YTpmdW5jdGlvbigpe3JldHVybiBVLmNvbnNlbnREYXRhfX0seD17Z2V0Q29wcGE6ZnVuY3Rpb24oKXtyZXR1cm4hIXUuYi5nZXRDb25maWcoImNvcHBhIil9fSxEPVtdLE49W107ZnVuY3Rpb24gaygpe0kuczJTVGVzdGluZ0VuYWJsZWQ9ITEsai5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiZlLmVuYWJsZWQmJmUuYmlkZGVycyYmZS5iaWRkZXJzLmxlbmd0aCYmTi5wdXNoLmFwcGx5KE4seShlLmJpZGRlcnMpKX0pKX1mdW5jdGlvbiBQKGUpe3JldHVybiBlJiZlLmVuYWJsZWQmJmUudGVzdGluZyYmRX1mdW5jdGlvbiBxKGUsdCxuKXt0cnl7dmFyIGk9d1tlXS5nZXRTcGVjKCk7aSYmaVt0XSYmImZ1bmN0aW9uIj09dHlwZW9mIGlbdF0mJihBLmxvZ0luZm8oIkludm9raW5nICIuY29uY2F0KGUsIi4iKS5jb25jYXQodCkpLHUuYi5ydW5XaXRoQmlkZGVyKGUsci5iaW5kLmNhbGwoaVt0XSxpLG4pKSl9Y2F0Y2gobil7QS5sb2dXYXJuKCJFcnJvciBjYWxsaW5nICIuY29uY2F0KHQsIiBvZiAiKS5jb25jYXQoZSkpfX1JLm1ha2VCaWRSZXF1ZXN0cz1PYmplY3Qocy5iKSgic3luYyIsKGZ1bmN0aW9uKGUsdCxuLGksbyl7Ty5lbWl0KFQuRVZFTlRTLkJFRk9SRV9SRVFVRVNUX0JJRFMsZSk7dmFyIGE9T2JqZWN0KHIuZ2V0QmlkZGVyQ29kZXMpKGUpO3UuYi5nZXRDb25maWcoImJpZGRlclNlcXVlbmNlIik9PT11LmEmJihhPU9iamVjdChyLnNodWZmbGUpKGEpKTt2YXIgYz1PYmplY3QoYi5hKSgpLHM9YSxkPVtdOzA9PT1OLmxlbmd0aCYmaygpLGouZm9yRWFjaCgoZnVuY3Rpb24odCl7dCYmdC5lbmFibGVkJiYoUCh0KSYmKEUuY2FsY3VsYXRlQmlkU291cmNlcyh0KSxFLmdldFNvdXJjZUJpZGRlck1hcChlLE4pW0UuQ0xJRU5UXS5mb3JFYWNoKChmdW5jdGlvbihlKXtmKCkoRCxlKXx8RC5wdXNoKGUpfSkpKSl9KSkscz1hLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWYoKShOLGUpfHxmKCkoRCxlKX0pKTt2YXIgbD1OO2ouZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYociYmci5lbmFibGVkKXsoZnVuY3Rpb24oZSl7cmV0dXJuIEJvb2xlYW4oUChlKSYmZS50ZXN0U2VydmVyT25seSl9KShyKSYmZnVuY3Rpb24oZSx0KXtyZXR1cm4gQm9vbGVhbihwKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShlLmJpZHMsKGZ1bmN0aW9uKGUpe3JldHVybihlLmJpZFNvdXJjZXx8dC5iaWRkZXJDb250cm9sJiZ0LmJpZGRlckNvbnRyb2xbZS5iaWRkZXJdKSYmZS5maW5hbFNvdXJjZT09PUUuU0VSVkVSfSkpfSkpKX0oZSxyKSYmKEEubG9nV2FybigidGVzdFNlcnZlck9ubHk6IFRydWUuICBBbGwgY2xpZW50IHJlcXVlc3RzIHdpbGwgYmUgc3VwcHJlc3NlZC4iKSxzLmxlbmd0aD0wKTt2YXIgaT1mdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkZGVycyxyPUEuZGVlcENsb25lKGUpO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcz1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5iaWRkZXIpJiYoIVAodCl8fGUuZmluYWxTb3VyY2UhPT1FLkNMSUVOVCl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRfaWQ9QS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksZX0pKX0pKSxyLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1lLmJpZHMubGVuZ3RofSkpfShlLHIpLGE9QS5nZW5lcmF0ZVVVSUQoKTtsLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB1PUEuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLHM9e2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6bixiaWRkZXJSZXF1ZXN0SWQ6dSx0aWQ6YSxiaWRzOlIoe2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6bixiaWRkZXJSZXF1ZXN0SWQ6dSxhZFVuaXRzOkEuZGVlcENsb25lKGkpLGxhYmVsczpvLHNyYzpULlMyUy5TUkN9KSxhdWN0aW9uU3RhcnQ6dCx0aW1lb3V0OnIudGltZW91dCxzcmM6VC5TMlMuU1JDLHJlZmVyZXJJbmZvOmN9OzAhPT1zLmJpZHMubGVuZ3RoJiZkLnB1c2gocyl9KSksaS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcCgpKGQsKGZ1bmN0aW9uKHQpe3JldHVybiBwKCkodC5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaWRJZD09PWUuYmlkX2lkfSkpfSkpfSkpO2UuYmlkcz10fSkpLGQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5hZFVuaXRzUzJTQ29weSYmKGUuYWRVbml0c1MyU0NvcHk9aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubGVuZ3RoPjB9KSkpfSkpfX0pKTt2YXIgZz1mdW5jdGlvbihlKXt2YXIgdD1BLmRlZXBDbG9uZShlKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZHM9ZS5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIUQubGVuZ3RofHxlLmZpbmFsU291cmNlIT09RS5TRVJWRVJ9KSl9KSksdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKX0oZSk7cmV0dXJuIHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9QS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksYT17YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDpyLGJpZHM6Uih7YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDpyLGFkVW5pdHM6QS5kZWVwQ2xvbmUoZyksbGFiZWxzOm8sc3JjOiJjbGllbnQifSksYXVjdGlvblN0YXJ0OnQsdGltZW91dDppLHJlZmVyZXJJbmZvOmN9LHU9d1tlXTt1fHxBLmxvZ0Vycm9yKCJUcnlpbmcgdG8gbWFrZSBhIHJlcXVlc3QgZm9yIGJpZGRlciB0aGF0IGRvZXMgbm90IGV4aXN0OiAiLmNvbmNhdChlKSksdSYmYS5iaWRzJiYwIT09YS5iaWRzLmxlbmd0aCYmZC5wdXNoKGEpfSkpLEIuZ2V0Q29uc2VudERhdGEoKSYmZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmdkcHJDb25zZW50PUIuZ2V0Q29uc2VudERhdGEoKX0pKSxVLmdldENvbnNlbnREYXRhKCkmJmQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS51c3BDb25zZW50PVUuZ2V0Q29uc2VudERhdGEoKX0pKSxkfSksIm1ha2VCaWRSZXF1ZXN0cyIpLEkuY2FsbEJpZHM9ZnVuY3Rpb24oZSx0LG4saSxvLGEscyl7aWYodC5sZW5ndGgpe3ZhciBkPXYodC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbTnVtYmVyKHZvaWQgMCE9PXQuc3JjJiZ0LnNyYz09PVQuUzJTLlNSQyldLnB1c2godCksZX0pLFtbXSxbXV0pLDIpLGw9ZFswXSxwPWRbMV0sZz1bXTtwLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0tMSxuPTA7bjxnLmxlbmd0aDsrK24paWYoZS50aWQ9PT1nW25dLnRpZCl7dD1uO2JyZWFrfXQ8PS0xJiZnLnB1c2goZSl9KSk7dmFyIGI9MDtqLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUmJmdbYl0mJmYoKShlLmJpZGRlcnMsZ1tiXS5iaWRkZXJDb2RlKSl7dmFyIHQ9T2JqZWN0KGMuYikoYSxvP3tyZXF1ZXN0Om8ucmVxdWVzdC5iaW5kKG51bGwsInMycyIpLGRvbmU6by5kb25lfTp2b2lkIDApLHU9ZS5iaWRkZXJzLHM9d1tlLmFkYXB0ZXJdLGQ9Z1tiXS50aWQsbD1nW2JdLmFkVW5pdHNTMlNDb3B5LHY9cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRpZD09PWR9KSk7aWYocyl7dmFyIHk9e3RpZDpkLGFkX3VuaXRzOmwsczJzQ29uZmlnOmV9O2lmKHkuYWRfdW5pdHMubGVuZ3RoKXt2YXIgaD12Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnQ9T2JqZWN0KHIudGltZXN0YW1wKSgpLGkuYmluZChlKX0pKSxtPXkuYWRfdW5pdHMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCgodC5iaWRzfHxbXSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0LmJpZGRlcil9KSxbXSkpfSksW10pO0EubG9nTWVzc2FnZSgiQ0FMTElORyBTMlMgSEVBREVSIEJJRERFUlMgPT09PSAiLmNvbmNhdCh1LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKShtLGUpfSkpLmpvaW4oIiwiKSkpLHYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Ty5lbWl0KFQuRVZFTlRTLkJJRF9SRVFVRVNURUQsZSl9KSkscy5jYWxsQmlkcyh5LHAsKGZ1bmN0aW9uKGUsdCl7dmFyIGk9T2JqZWN0KHIuZ2V0QmlkZGVyUmVxdWVzdCkocCx0LmJpZGRlckNvZGUsZSk7aSYmbi5jYWxsKGksZSx0KX0pLChmdW5jdGlvbigpe3AuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0R5bmFtaWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aC5wdXNoKGkuYmluZChlKSl9KSksaC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSkpfSksdCl9fWVsc2UgQS5sb2dFcnJvcigibWlzc2luZyAiK2UuYWRhcHRlcik7YisrfX0pKSxsLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RhcnQ9T2JqZWN0KHIudGltZXN0YW1wKSgpO3ZhciB0PXdbZS5iaWRkZXJDb2RlXTt1LmIucnVuV2l0aEJpZGRlcihlLmJpZGRlckNvZGUsKGZ1bmN0aW9uKCl7QS5sb2dNZXNzYWdlKCJDQUxMSU5HIEJJRERFUiIpLE8uZW1pdChULkVWRU5UUy5CSURfUkVRVUVTVEVELGUpfSkpO3ZhciBkPU9iamVjdChjLmIpKGEsbz97cmVxdWVzdDpvLnJlcXVlc3QuYmluZChudWxsLGUuYmlkZGVyQ29kZSksZG9uZTpvLmRvbmV9OnZvaWQgMCksZj1pLmJpbmQoZSk7dHJ5e3UuYi5ydW5XaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSxyLmJpbmQuY2FsbCh0LmNhbGxCaWRzLHQsZSxuLmJpbmQoZSksZixkLHMsdS5iLmNhbGxiYWNrV2l0aEJpZGRlcihlLmJpZGRlckNvZGUpKSl9Y2F0Y2godCl7QS5sb2dFcnJvcigiIi5jb25jYXQoZS5iaWRkZXJDb2RlLCIgQmlkIEFkYXB0ZXIgZW1pdHRlZCBhbiB1bmNhdWdodCBlcnJvciB3aGVuIHBhcnNpbmcgdGhlaXIgYmlkUmVxdWVzdCIpLHtlOnQsYmlkUmVxdWVzdDplfSksZigpfX0pKX1lbHNlIEEubG9nV2FybigiY2FsbEJpZHMgZXhlY3V0ZWQgd2l0aCBubyBiaWRSZXF1ZXN0cy4gIFdlcmUgdGhleSBmaWx0ZXJlZCBieSBsYWJlbHMgb3Igc2l6aW5nPyIpfSxJLnZpZGVvQWRhcHRlcnM9W10sSS5yZWdpc3RlckJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj1uLnN1cHBvcnRlZE1lZGlhVHlwZXMsaT12b2lkIDA9PT1yP1tdOnI7ZSYmdD8iZnVuY3Rpb24iPT10eXBlb2YgZS5jYWxsQmlkcz8od1t0XT1lLGYoKShpLCJ2aWRlbyIpJiZJLnZpZGVvQWRhcHRlcnMucHVzaCh0KSxmKCkoaSwibmF0aXZlIikmJm8uZi5wdXNoKHQpKTpBLmxvZ0Vycm9yKCJCaWRkZXIgYWRhcHRvciBlcnJvciBmb3IgYmlkZGVyIGNvZGU6ICIrdCsiYmlkZGVyIG11c3QgaW1wbGVtZW50IGEgY2FsbEJpZHMoKSBmdW5jdGlvbiIpOkEubG9nRXJyb3IoImJpZEFkYXB0ZXIgb3IgYmlkZGVyQ29kZSBub3Qgc3BlY2lmaWVkIil9LEkuYWxpYXNCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDA9PT13W3RdKXt2YXIgcj13W2VdO2lmKHZvaWQgMD09PXIpe3ZhciBpPVtdO2ouZm9yRWFjaCgoZnVuY3Rpb24obil7aWYobi5iaWRkZXJzJiZuLmJpZGRlcnMubGVuZ3RoKXt2YXIgcj1uJiZuLmJpZGRlcnM7biYmZigpKHIsdCk/Q1t0XT1lOmkucHVzaChlKX19KSksaS5mb3JFYWNoKChmdW5jdGlvbihlKXtBLmxvZ0Vycm9yKCdiaWRkZXJDb2RlICInK2UrJyIgaXMgbm90IGFuIGV4aXN0aW5nIGJpZGRlci4nLCJhZGFwdGVyTWFuYWdlci5hbGlhc0JpZEFkYXB0ZXIiKX0pKX1lbHNlIHRyeXt2YXIgYyx1PWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBmKCkoSS52aWRlb0FkYXB0ZXJzLGUpJiZ0LnB1c2goInZpZGVvIiksZigpKG8uZixlKSYmdC5wdXNoKCJuYXRpdmUiKSx0fShlKTtpZihyLmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9T2JqZWN0LnByb3RvdHlwZSkoYz1uZXcgci5jb25zdHJ1Y3Rvcikuc2V0QmlkZGVyQ29kZSh0KTtlbHNle3ZhciBzPXIuZ2V0U3BlYygpLGQ9biYmbi5ndmxpZCxsPW4mJm4uc2tpcFBic0FsaWFzaW5nO2M9T2JqZWN0KGEubmV3QmlkZGVyKShTKHt9LHMse2NvZGU6dCxndmxpZDpkLHNraXBQYnNBbGlhc2luZzpsfSkpLENbdF09ZX1JLnJlZ2lzdGVyQmlkQWRhcHRlcihjLHQse3N1cHBvcnRlZE1lZGlhVHlwZXM6dX0pfWNhdGNoKHQpe0EubG9nRXJyb3IoZSsiIGJpZGRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCBhbGlhc2luZy4iLCJhZGFwdGVyTWFuYWdlci5hbGlhc0JpZEFkYXB0ZXIiKX19ZWxzZSBBLmxvZ01lc3NhZ2UoJ2FsaWFzIG5hbWUgIicrdCsnIiBoYXMgYmVlbiBhbHJlYWR5IHNwZWNpZmllZC4nKX0sSS5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZGFwdGVyLG49ZS5jb2RlLHI9ZS5ndmxpZDt0JiZuPyJmdW5jdGlvbiI9PXR5cGVvZiB0LmVuYWJsZUFuYWx5dGljcz8odC5jb2RlPW4sX1tuXT17YWRhcHRlcjp0LGd2bGlkOnJ9KTpBLmxvZ0Vycm9yKCdQcmViaWQgRXJyb3I6IEFuYWx5dGljcyBhZGFwdG9yIGVycm9yIGZvciBhbmFseXRpY3MgIicuY29uY2F0KG4sJyJcbiAgICAgICAgYW5hbHl0aWNzIGFkYXB0ZXIgbXVzdCBpbXBsZW1lbnQgYW4gZW5hYmxlQW5hbHl0aWNzKCkgZnVuY3Rpb24nKSk6QS5sb2dFcnJvcigiUHJlYmlkIEVycm9yOiBhbmFseXRpY3NBZGFwdGVyIG9yIGFuYWx5dGljc0NvZGUgbm90IHNwZWNpZmllZCIpfSxJLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXtBLmlzQXJyYXkoZSl8fChlPVtlXSksQS5fZWFjaChlLChmdW5jdGlvbihlKXt2YXIgdD1fW2UucHJvdmlkZXJdLmFkYXB0ZXI7dD90LmVuYWJsZUFuYWx5dGljcyhlKTpBLmxvZ0Vycm9yKCJQcmViaWQgRXJyb3I6IG5vIGFuYWx5dGljcyBhZGFwdGVyIGZvdW5kIGluIHJlZ2lzdHJ5IGZvclxuICAgICAgICAiLmNvbmNhdChlLnByb3ZpZGVyLCIuIikpfSkpfSxJLmdldEJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHdbZV19LEkuZ2V0QW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gX1tlXX0sSS5jYWxsVGltZWRPdXRCaWRkZXJzPWZ1bmN0aW9uKGUsdCxuKXt0PXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJhbXM9QS5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcyhlLHQuYWRVbml0Q29kZSx0LmJpZGRlciksdC50aW1lb3V0PW4sdH0pKSx0PUEuZ3JvdXBCeSh0LCJiaWRkZXIiKSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtxKGUsIm9uVGltZW91dCIsdFtlXSl9KSl9LEkuY2FsbEJpZFdvbkJpZGRlcj1mdW5jdGlvbihlLHQsbil7dC5wYXJhbXM9QS5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcyhuLHQuYWRVbml0Q29kZSx0LmJpZGRlciksZy5hLmluY3JlbWVudEJpZGRlcldpbnNDb3VudGVyKHQuYWRVbml0Q29kZSx0LmJpZGRlcikscShlLCJvbkJpZFdvbiIsdCl9LEkuY2FsbFNldFRhcmdldGluZ0JpZGRlcj1mdW5jdGlvbihlLHQpe3EoZSwib25TZXRUYXJnZXRpbmciLHQpfSxJLmNhbGxCaWRWaWV3YWJsZUJpZGRlcj1mdW5jdGlvbihlLHQpe3EoZSwib25CaWRWaWV3YWJsZSIsdCl9LHQuZGVmYXVsdD1JfSw4MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDMwKSxvPXIuZG9jdW1lbnQsYT1pKG8pJiZpKG8uY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBhP28uY3JlYXRlRWxlbWVudChlKTp7fX19LDgxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE3KSxpPW4oNjEpOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaVtlXXx8KGlbZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246IjMuMTUuMSIsbW9kZTpyPyJwdXJlIjoiZ2xvYmFsIixjb3B5cmlnaHQ6IsKpIDIwMjEgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkifSl9LDgyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEwOSksaT1uKDI5KTtlLmV4cG9ydHM9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhaSgoZnVuY3Rpb24oKXt2YXIgZT1TeW1ib2woKTtyZXR1cm4hU3RyaW5nKGUpfHwhKE9iamVjdChlKWluc3RhbmNlb2YgU3ltYm9sKXx8IVN5bWJvbC5zaGFtJiZyJiZyPDQxfSkpfSw4MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0NSksaT1uKDUwKSxvPW4oMTE0KSxhPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4sYSl7dmFyIGMsdT1yKHQpLHM9aSh1Lmxlbmd0aCksZD1vKGEscyk7aWYoZSYmbiE9bil7Zm9yKDtzPmQ7KWlmKChjPXVbZCsrXSkhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3M+ZDtkKyspaWYoKGV8fGQgaW4gdSkmJnVbZF09PT1uKXJldHVybiBlfHxkfHwwO3JldHVybiFlJiYtMX19O2UuZXhwb3J0cz17aW5jbHVkZXM6YSghMCksaW5kZXhPZjphKCExKX19LDg0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDExNSk7bigxMzgpLG4oMTQwKSxuKDE0MiksbigxNDQpLG4oMTQ2KSxuKDE0NyksbigxNDgpLG4oMTQ5KSxuKDE1MCksbigxNTEpLG4oMTUyKSxuKDE1MyksbigxNTQpLG4oMTU1KSxuKDE1NiksbigxNTcpLG4oMTU4KSxuKDE1OSksZS5leHBvcnRzPXJ9LDg1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUzKSxpPW4oMzApLG89bigzMSksYT1uKDM0KS5mLGM9big2MiksdT1uKDExOCkscz1jKCJtZXRhIiksZD0wLGY9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbD1mdW5jdGlvbihlKXthKGUscyx7dmFsdWU6e29iamVjdElEOiJPIisgKytkLHdlYWtEYXRhOnt9fX0pfSxwPWUuZXhwb3J0cz17UkVRVUlSRUQ6ITEsZmFzdEtleTpmdW5jdGlvbihlLHQpe2lmKCFpKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighbyhlLHMpKXtpZighZihlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbc10ub2JqZWN0SUR9LGdldFdlYWtEYXRhOmZ1bmN0aW9uKGUsdCl7aWYoIW8oZSxzKSl7aWYoIWYoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7bChlKX1yZXR1cm4gZVtzXS53ZWFrRGF0YX0sb25GcmVlemU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUmJnAuUkVRVUlSRUQmJmYoZSkmJiFvKGUscykmJmwoZSksZX19O3Jbc109ITB9LDg2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI0KSxpPW4oNDApLG89cigiaXRlcmF0b3IiKSxhPUFycmF5LnByb3RvdHlwZTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihpLkFycmF5PT09ZXx8YVtvXT09PWUpfX0sODc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1lLnJldHVybjtpZih2b2lkIDAhPT10KXJldHVybiByKHQuY2FsbChlKSkudmFsdWV9fSw4NzY6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDc1KX0sODg6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0ICIrKG4/bisiICI6IiIpKyJpbnZvY2F0aW9uIik7cmV0dXJuIGV9fSw4OTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1uKDE2KSxvPW4oMTIzKSxhPW4oOTApLGM9big1MyksdT1uKDEyNikscz1uKDgwKSxkPW4oNjcpLGY9ZCgiSUVfUFJPVE8iKSxsPWZ1bmN0aW9uKCl7fSxwPWZ1bmN0aW9uKGUpe3JldHVybiI8c2NyaXB0PiIrZSsiPC8iKyJzY3JpcHQ+In0sZz1mdW5jdGlvbigpe3RyeXtyPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIil9Y2F0Y2goZSl7fXZhciBlLHQ7Zz1yP2Z1bmN0aW9uKGUpe2Uud3JpdGUocCgiIikpLGUuY2xvc2UoKTt2YXIgdD1lLnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIGU9bnVsbCx0fShyKTooKHQ9cygiaWZyYW1lIikpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHUuYXBwZW5kQ2hpbGQodCksdC5zcmM9U3RyaW5nKCJqYXZhc2NyaXB0OiIpLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUocCgiZG9jdW1lbnQuRj1PYmplY3QiKSksZS5jbG9zZSgpLGUuRik7Zm9yKHZhciBuPWEubGVuZ3RoO24tLTspZGVsZXRlIGcucHJvdG90eXBlW2Fbbl1dO3JldHVybiBnKCl9O2NbZl09ITAsZS5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG51bGwhPT1lPyhsLnByb3RvdHlwZT1pKGUpLG49bmV3IGwsbC5wcm90b3R5cGU9bnVsbCxuW2ZdPWUpOm49ZygpLHZvaWQgMD09PXQ/bjpvKG4sdCl9fSw5OmZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7cmV0dXJuKHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgaT1uKDApLG89big1KSxhPUFycmF5LnByb3RvdHlwZS5zbGljZSxjPUFycmF5LnByb3RvdHlwZS5wdXNoLHU9aS5fbWFwKG8uRVZFTlRTLChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSxzPW8uRVZFTlRfSURfUEFUSFMsZD1bXTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PXt9O2Z1bmN0aW9uIG4odCxuKXtpLmxvZ01lc3NhZ2UoIkVtaXR0aW5nIGV2ZW50IGZvcjogIit0KTt2YXIgcj1uWzBdfHx7fSxvPXJbc1t0XV0sYT1lW3RdfHx7cXVlOltdfSx1PWkuX21hcChhLChmdW5jdGlvbihlLHQpe3JldHVybiB0fSkpLGY9W107ZC5wdXNoKHtldmVudFR5cGU6dCxhcmdzOnIsaWQ6byxlbGFwc2VkVGltZTppLmdldFBlcmZvcm1hbmNlTm93KCl9KSxvJiZpLmNvbnRhaW5zKHUsbykmJmMuYXBwbHkoZixhW29dLnF1ZSksYy5hcHBseShmLGEucXVlKSxpLl9lYWNoKGYsKGZ1bmN0aW9uKGUpe2lmKGUpdHJ5e2UuYXBwbHkobnVsbCxuKX1jYXRjaChlKXtpLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgaGFuZGxlcjoiLCJldmVudHMuanMiLGUpfX0pKX1yZXR1cm4gdC5vbj1mdW5jdGlvbih0LG4scil7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29udGFpbnModSxlKX0odCkpe3ZhciBvPWVbdF18fHtxdWU6W119O3I/KG9bcl09b1tyXXx8e3F1ZTpbXX0sb1tyXS5xdWUucHVzaChuKSk6by5xdWUucHVzaChuKSxlW3RdPW99ZWxzZSBpLmxvZ0Vycm9yKCJXcm9uZyBldmVudCBuYW1lIDogIit0KyIgVmFsaWQgZXZlbnQgbmFtZXMgOiIrdSl9LHQuZW1pdD1mdW5jdGlvbihlKXt2YXIgdD1hLmNhbGwoYXJndW1lbnRzLDEpO24oZSx0KX0sdC5vZmY9ZnVuY3Rpb24odCxuLHIpe3ZhciBvPWVbdF07aS5pc0VtcHR5KG8pfHxpLmlzRW1wdHkoby5xdWUpJiZpLmlzRW1wdHkob1tyXSl8fHImJihpLmlzRW1wdHkob1tyXSl8fGkuaXNFbXB0eShvW3JdLnF1ZSkpfHwocj9pLl9lYWNoKG9bcl0ucXVlLChmdW5jdGlvbihlKXt2YXIgdD1vW3JdLnF1ZTtlPT09biYmdC5zcGxpY2UodC5pbmRleE9mKGUpLDEpfSkpOmkuX2VhY2goby5xdWUsKGZ1bmN0aW9uKGUpe3ZhciB0PW8ucXVlO2U9PT1uJiZ0LnNwbGljZSh0LmluZGV4T2YoZSksMSl9KSksZVt0XT1vKX0sdC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sdC5nZXRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gaS5fZWFjaChkLChmdW5jdGlvbih0KXt2YXIgbj1yKHt9LHQpO2UucHVzaChuKX0pKSxlfSx0fSgpfSw5MDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1bImNvbnN0cnVjdG9yIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0xvY2FsZVN0cmluZyIsInRvU3RyaW5nIiwidmFsdWVPZiJdfSw5MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGkpe2kmJmkuZW51bWVyYWJsZT9lW3RdPW46cihlLHQsbil9fSw5MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByLGksbyxhPW4oMjkpLGM9big5MyksdT1uKDMyKSxzPW4oMzEpLGQ9bigyNCksZj1uKDE3KSxsPWQoIml0ZXJhdG9yIikscD0hMTtbXS5rZXlzJiYoIm5leHQiaW4obz1bXS5rZXlzKCkpPyhpPWMoYyhvKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmKHI9aSk6cD0hMCk7dmFyIGc9bnVsbD09cnx8YSgoZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gcltsXS5jYWxsKGUpIT09ZX0pKTtnJiYocj17fSksZiYmIWd8fHMocixsKXx8dShyLGwsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZS5leHBvcnRzPXtJdGVyYXRvclByb3RvdHlwZTpyLEJVR0dZX1NBRkFSSV9JVEVSQVRPUlM6cH19LDkzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKSxpPW4oNDgpLG89big2NyksYT1uKDEyOSksYz1vKCJJRV9QUk9UTyIpLHU9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9YT9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9aShlKSxyKGUsYyk/ZVtjXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD91Om51bGx9fSw5NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTM0KS5jaGFyQXQsaT1uKDU0KSxvPW4oNjgpLGE9IlN0cmluZyBJdGVyYXRvciIsYz1pLnNldCx1PWkuZ2V0dGVyRm9yKGEpO28oU3RyaW5nLCJTdHJpbmciLChmdW5jdGlvbihlKXtjKHRoaXMse3R5cGU6YSxzdHJpbmc6U3RyaW5nKGUpLGluZGV4OjB9KX0pLChmdW5jdGlvbigpe3ZhciBlLHQ9dSh0aGlzKSxuPXQuc3RyaW5nLGk9dC5pbmRleDtyZXR1cm4gaT49bi5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1yKG4saSksdC5pbmRleCs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSkpfSw5NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDYzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9aShlKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGl0ZXJhYmxlIik7cmV0dXJuIHIodC5jYWxsKGUpKX19LDk2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2MCk7ZS5leHBvcnRzPXJ9LDk3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7aWYoZS5sYWJlbEFsbClyZXR1cm57bGFiZWxBbGw6ITAsbGFiZWxzOmUubGFiZWxBbGwsYWN0aXZlTGFiZWxzOnR9O3JldHVybntsYWJlbEFsbDohMSxsYWJlbHM6ZS5sYWJlbEFueSxhY3RpdmVMYWJlbHM6dH19LHQuYz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dSxuPXModCk7aWYoIW4uc2hvdWxkRmlsdGVyKXJldHVybiEwO3JldHVybiEhbi5zaXplc1N1cHBvcnRlZFtlXX0sdC5iPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5sYWJlbHMsbj12b2lkIDA9PT10P1tdOnQscj1lLmxhYmVsQWxsLG89dm9pZCAwIT09ciYmcixjPWUuYWN0aXZlTGFiZWxzLGQ9dm9pZCAwPT09Yz9bXTpjLGY9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxwPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp1LGc9cyhwKTtmPU9iamVjdChpLmlzUGxhaW5PYmplY3QpKGYpP09iamVjdChpLmRlZXBDbG9uZSkoZik6bD97YmFubmVyOntzaXplczpsfX06e307dmFyIGI9T2JqZWN0KGkuZGVlcEFjY2VzcykoZiwiYmFubmVyLnNpemVzIik7Zy5zaG91bGRGaWx0ZXImJmImJihmLmJhbm5lci5zaXplcz1iLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGcuc2l6ZXNTdXBwb3J0ZWRbZV19KSkpO3ZhciB2PU9iamVjdC5rZXlzKGYpLHk9e2FjdGl2ZTp2LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWV9KSl8fHYuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT1lfSkpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShmLCJiYW5uZXIuc2l6ZXMubGVuZ3RoIik+MCYmKDA9PT1uLmxlbmd0aHx8IW8mJihuLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxhYmVsc1tlXX0pKXx8bi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYSgpKGQsZSl9KSkpfHxvJiZuLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9nLmxhYmVsc1t0XXx8YSgpKGQsdCk6ZX0pLCEwKSksbWVkaWFUeXBlczpmfTtiJiZiLmxlbmd0aCE9PWYuYmFubmVyLnNpemVzLmxlbmd0aCYmKHkuZmlsdGVyUmVzdWx0cz17YmVmb3JlOmIsYWZ0ZXI6Zi5iYW5uZXIuc2l6ZXN9KTtyZXR1cm4geX07dmFyIHI9bigzKSxpPW4oMCksbz1uKDEyKSxhPW4ubihvKTtmdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHU9W107ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PT1jKHQpJiYic3RyaW5nIj09dHlwZW9mIHQubWVkaWFRdWVyeSYmdC5tZWRpYVF1ZXJ5Lmxlbmd0aD4wKXt2YXIgbj0hMTt0cnl7bj1PYmplY3QoaS5nZXRXaW5kb3dUb3ApKCkubWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlVuZnJpZW5kbHkgaUZyYW1lIGJsb2NrcyBzaXplQ29uZmlnIGZyb20gYmVpbmcgY29ycmVjdGx5IGV2YWx1YXRlZCIpLG49bWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9biYmKEFycmF5LmlzQXJyYXkodC5zaXplc1N1cHBvcnRlZCkmJihlLnNob3VsZEZpbHRlcj0hMCksWyJsYWJlbHMiLCJzaXplc1N1cHBvcnRlZCJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe3JldHVybih0W25dfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbbl1bdF09ITB9KSl9KSkpfWVsc2UgT2JqZWN0KGkubG9nV2FybikoJ3NpemVDb25maWcgcnVsZSBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJtZWRpYVF1ZXJ5IicpO3JldHVybiBlfSkse2xhYmVsczp7fSxzaXplc1N1cHBvcnRlZDp7fSxzaG91bGRGaWx0ZXI6ITF9KX1yLmIuZ2V0Q29uZmlnKCJzaXplQ29uZmlnIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3U9ZX0oZS5zaXplQ29uZmlnKX0pKX0sOTg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXtwdXRzOmUubWFwKGEsbil9O09iamVjdChyLmEpKGkuYi5nZXRDb25maWcoImNhY2hlLnVybCIpLGZ1bmN0aW9uKGUpe3JldHVybntzdWNjZXNzOmZ1bmN0aW9uKHQpe3ZhciBuO3RyeXtuPUpTT04ucGFyc2UodCkucmVzcG9uc2VzfWNhdGNoKHQpe3JldHVybiB2b2lkIGUodCxbXSl9bj9lKG51bGwsbik6ZShuZXcgRXJyb3IoIlRoZSBjYWNoZSBzZXJ2ZXIgZGlkbid0IHJlc3BvbmQgd2l0aCBhIHJlc3BvbnNlcyBwcm9wZXJ0eS4iKSxbXSl9LGVycm9yOmZ1bmN0aW9uKHQsbil7ZShuZXcgRXJyb3IoIkVycm9yIHN0b3JpbmcgdmlkZW8gYWQgaW4gdGhlIGNhY2hlOiAiLmNvbmNhdCh0LCI6ICIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShuKSkpLFtdKX19fSh0KSxKU09OLnN0cmluZ2lmeShvKSx7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0pfSx0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGkuYi5nZXRDb25maWcoImNhY2hlLnVybCIpLCI/dXVpZD0iKS5jb25jYXQoZSl9O3ZhciByPW4oNCksaT1uKDMpLG89bigwKTtmdW5jdGlvbiBhKGUpe3ZhciB0LG4scixhPXt0eXBlOiJ4bWwiLHZhbHVlOmUudmFzdFhtbD9lLnZhc3RYbWw6KHQ9ZS52YXN0VXJsLG49ZS52YXN0SW1wVXJsLHI9bj8iPCFbQ0RBVEFbIi5jb25jYXQobiwiXV0+Iik6IiIsJzxWQVNUIHZlcnNpb249IjMuMCI+XG4gICAgPEFkPlxuICAgICAgPFdyYXBwZXI+XG4gICAgICAgIDxBZFN5c3RlbT5wcmViaWQub3JnIHdyYXBwZXI8L0FkU3lzdGVtPlxuICAgICAgICA8VkFTVEFkVGFnVVJJPjwhW0NEQVRBWycuY29uY2F0KHQsIl1dPjwvVkFTVEFkVGFnVVJJPlxuICAgICAgICA8SW1wcmVzc2lvbj4iKS5jb25jYXQociwiPC9JbXByZXNzaW9uPlxuICAgICAgICA8Q3JlYXRpdmVzPjwvQ3JlYXRpdmVzPlxuICAgICAgPC9XcmFwcGVyPlxuICAgIDwvQWQ+XG4gIDwvVkFTVD4iKSksdHRsc2Vjb25kczpOdW1iZXIoZS50dGwpfTtyZXR1cm4gaS5iLmdldENvbmZpZygiY2FjaGUudmFzdHRyYWNrIikmJihhLmJpZGRlcj1lLmJpZGRlcixhLmJpZGlkPWUucmVxdWVzdElkLGEuYWlkPWUuYXVjdGlvbklkLG8uaXNQbGFpbk9iamVjdCh0aGlzKSYmdGhpcy5oYXNPd25Qcm9wZXJ0eSgiYXVjdGlvblN0YXJ0IikmJihhLnRpbWVzdGFtcD10aGlzLmF1Y3Rpb25TdGFydCkpLCJzdHJpbmciPT10eXBlb2YgZS5jdXN0b21DYWNoZUtleSYmIiIhPT1lLmN1c3RvbUNhY2hlS2V5JiYoYS5rZXk9ZS5jdXN0b21DYWNoZUtleSksYX19fSk7CnVwYmpzQ2h1bmsoWzM0Nl0sezEwMDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSk7dmFyIG49cigxKSxpPXIoMyksbz1yKDApLGE9cigyKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBkKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBjKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2QoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpkKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHUoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBwPSIzM2Fjcm9zcyIsbD0iaHR0cHM6Ly9zc2MuMzNhY3Jvc3MuY29tL2FwaS92MS9oYiIsZj0iaHR0cHM6Ly9zc2MtY21zLjMzYWNyb3NzLmNvbS9wcy8/bT14Y2gmcnQ9aHRtbCZydT1kZWIiLG09L15bYS16QS1aMC05Xy1dezIyfSQvLGI9InNpYWIiLGc9ImludmlldyIsaD0iaW5zdHJlYW0iLHY9WyJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJwbGFjZW1lbnQiLCJwcm90b2NvbHMiLCJzdGFydGRlbGF5Iiwic2tpcCIsInNraXBhZnRlciIsIm1pbmJpdHJhdGUiLCJtYXhiaXRyYXRlIiwiZGVsaXZlcnkiLCJwbGF5YmFja21ldGhvZCIsImFwaSIsImxpbmVhcml0eSJdLHk9e3VuaXF1ZVNpdGVJZHM6W119LEE9Im5tIjtmdW5jdGlvbiB3KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAscj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtyZXR1cm4gcyh7fSxlLHtleHQ6cyh7fSxlLmV4dCx1KHt9LHQscikpfSl9ZnVuY3Rpb24geChlKXtyZXR1cm57dzpwYXJzZUludChlWzBdLDEwKSxoOnBhcnNlSW50KGVbMV0sMTApfX1mdW5jdGlvbiBJKGUpe3ZhciB0PWUucGFyYW1zLHI9ZS5tZWRpYVR5cGVzLG49ci5iYW5uZXIsaT1yLnZpZGVvO3JldHVybiBpJiYhbiYmImluc3RyZWFtIj09PWkuY29udGV4dD9oOnQucHJvZHVjdElkPT09Zz90LnByb2R1Y3RJZDpifWZ1bmN0aW9uIE8oZSx0LHIpe3ZhciBuPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpyLHNpemU6W3Qudyx0LmhdfSk7aWYoIWlzTmFOKG4uZmxvb3IpJiYiVVNEIj09PW4uY3VycmVuY3kpcmV0dXJuIG4uZmxvb3J9ZnVuY3Rpb24gUyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj10Lncsbj10LmgsaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89aS53aWR0aCxhPWkuaGVpZ2h0LHM9aS5sZWZ0LGQ9aS50b3AsYz1pLnJpZ2h0LHU9aS5ib3R0b207cmV0dXJuKDA9PT1vfHwwPT09YSkmJnImJm4mJihvPXIsYT1uLGM9cytyLHU9ZCtuKSx7d2lkdGg6byxoZWlnaHQ6YSxsZWZ0OnMsdG9wOmQscmlnaHQ6Yyxib3R0b206dX19ZnVuY3Rpb24gQyhlKXtmb3IodmFyIHQ9e2xlZnQ6ZVswXS5sZWZ0LHJpZ2h0OmVbMF0ucmlnaHQsdG9wOmVbMF0udG9wLGJvdHRvbTplWzBdLmJvdHRvbX0scj0xO3I8ZS5sZW5ndGg7KytyKXtpZih0LmxlZnQ9TWF0aC5tYXgodC5sZWZ0LGVbcl0ubGVmdCksdC5yaWdodD1NYXRoLm1pbih0LnJpZ2h0LGVbcl0ucmlnaHQpLHQubGVmdD49dC5yaWdodClyZXR1cm4gbnVsbDtpZih0LnRvcD1NYXRoLm1heCh0LnRvcCxlW3JdLnRvcCksdC5ib3R0b209TWF0aC5taW4odC5ib3R0b20sZVtyXS5ib3R0b20pLHQudG9wPj10LmJvdHRvbSlyZXR1cm4gbnVsbH1yZXR1cm4gdC53aWR0aD10LnJpZ2h0LXQubGVmdCx0LmhlaWdodD10LmJvdHRvbS10LnRvcCx0fWZ1bmN0aW9uIGooZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1yLncsaT1yLmgsbz1TKGUse3c6bixoOml9KSxhPUMoW3tsZWZ0OjAsdG9wOjAscmlnaHQ6dC5pbm5lcldpZHRoLGJvdHRvbTp0LmlubmVySGVpZ2h0fSxvXSk7cmV0dXJuIG51bGwhPT1hP2Eud2lkdGgqYS5oZWlnaHQvKG8ud2lkdGgqby5oZWlnaHQpKjEwMDowfXZhciBUPXtOT05fTUVBU1VSQUJMRTpBLGNvZGU6cCxzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZS5iaWRkZXIhPT1wfHx2b2lkIDA9PT1lLnBhcmFtcylyZXR1cm4hMTtpZighZnVuY3Rpb24oZSl7aWYobnVsbD09PShvLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnNpdGVJZCIsIiIpfHwiIikudHJpbSgpLm1hdGNoKG0pKXJldHVybiExO3JldHVybiEwfShlKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSkmJmZ1bmN0aW9uKGUpe3ZhciB0PW8uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2lmKHZvaWQgMD09PXQpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkodC5zaXplcykpcmV0dXJuITE7cmV0dXJuITB9KGUpJiZmdW5jdGlvbihlKXt2YXIgdD1vLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpLHI9by5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIse30pO2lmKHZvaWQgMD09PXQpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkodC5wbGF5ZXJTaXplKSlyZXR1cm4hMTtpZighdC5jb250ZXh0KXJldHVybiExO3ZhciBuPWMoYyh7fSx0KSxyKTtpZighQXJyYXkuaXNBcnJheShuLm1pbWVzKXx8MD09PW4ubWltZXMubGVuZ3RoKXJldHVybiExO2lmKCFBcnJheS5pc0FycmF5KG4ucHJvdG9jb2xzKXx8MD09PW4ucHJvdG9jb2xzLmxlbmd0aClyZXR1cm4hMTtpZih2b2lkIDAhPT1uLnBsYWNlbWVudCYmIm51bWJlciIhPXR5cGVvZiBuLnBsYWNlbWVudClyZXR1cm4hMTtpZigiaW5zdHJlYW0iPT09dC5jb250ZXh0JiZ2b2lkIDAhPT1uLnN0YXJ0ZGVsYXkmJiJudW1iZXIiIT10eXBlb2Ygbi5zdGFydGRlbGF5KXJldHVybiExO3JldHVybiEwfShlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPXMoe2NvbnNlbnRTdHJpbmc6dm9pZCAwLGdkcHJBcHBsaWVzOiExfSx0JiZ0LmdkcHJDb25zZW50KSxuPXQmJnQudXNwQ29uc2VudCxkPXQmJnQucmVmZXJlckluZm8/dC5yZWZlcmVySW5mby5yZWZlcmVyOnZvaWQgMDtyZXR1cm4geS51bmlxdWVTaXRlSWRzPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuc2l0ZUlkfSkpLmZpbHRlcihvLnVuaXF1ZXMpLGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRSZXF1ZXN0LHI9ZS5nZHByQ29uc2VudCxuPXZvaWQgMD09PXI/e306cixkPWUudXNwQ29uc2VudCx1PWUucGFnZVVybCxwPXt9LGY9dC5wYXJhbXM7cC5pbXA9W3t9XSxvLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy5iYW5uZXIiKSYmKHAuaW1wWzBdLmJhbm5lcj1jKHt9LGZ1bmN0aW9uKGUpe3ZhciB0LHI9by5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIix7fSksbj0oZD1lLmFkVW5pdENvZGUsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZCl8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZ1bmN0aW9uKGUpe2lmKG8uaXNHcHRQdWJhZHNEZWZpbmVkKCkpZm9yKHZhciB0PWdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLHI9by5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGUoZSksbj0wO248dC5sZW5ndGg7bisrKWlmKHIodFtuXSkpe3ZhciBpPXRbbl0uZ2V0U2xvdEVsZW1lbnRJZCgpO3JldHVybiBvLmxvZ0luZm8oIlszM0Fjcm9zcyBBZGFwdGVyXSBNYXAgYWQgdW5pdCBwYXRoIHRvIEhUTUwgZWxlbWVudCBpZDogJyIuY29uY2F0KGUsIicgLT4gIikuY29uY2F0KGkpKSxpfXJldHVybiBvLmxvZ1dhcm4oIlszM0Fjcm9zcyBBZGFwdGVyXSBVbmFibGUgdG8gbG9jYXRlIGVsZW1lbnQgZm9yIGFkIHVuaXQgY29kZTogJyIuY29uY2F0KGUsIiciKSksbnVsbH0oZCkpKSxpPWZ1bmN0aW9uKGUpe2lmKG8uaXNBcnJheShlKSYmMj09PWUubGVuZ3RoJiYhby5pc0FycmF5KGVbMF0pKXJldHVyblt4KGUpXTtyZXR1cm4gZS5tYXAoeCl9KHIuc2l6ZXMpO3ZhciBkO3Q9ImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3I/aS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciByLG49TyhlLHQsYS5iKTtyZXR1cm4gbiYmKHI9e2V4dDp7dHR4OntiaWRmbG9vcnM6W25dfX19KSxzKHt9LHQscil9KSk6aTt2YXIgYz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaCp0Lnc8ZS5oKmUudz90OmV9KSl9KGkpLHU9ZnVuY3Rpb24oZSl7cmV0dXJue3R0eDp7dmlld2FiaWxpdHk6e2Ftb3VudDppc05hTihlKT9lOk1hdGgucm91bmQoZSl9fX19KGZ1bmN0aW9uKGUpe3JldHVybiFmdW5jdGlvbigpe3RyeXtyZXR1cm4gby5nZXRXaW5kb3dTZWxmKCkhPT1vLmdldFdpbmRvd1RvcCgpfWNhdGNoKGUpe3JldHVybiEwfX0oKSYmbnVsbCE9PWV9KG4pP2Z1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci53LGk9ci5oO3JldHVybiJ2aXNpYmxlIj09PXQuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP2ooZSx0LHt3Om4saDppfSk6MH0obixvLmdldFdpbmRvd1RvcCgpLGMpOkEpO3JldHVybntmb3JtYXQ6dCxleHQ6dX19KHQpKSk7by5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8iKSYmKHAuaW1wWzBdLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciB0PW8uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIix7fSkscj1vLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIix7fSksbj1jKGMoe30sdCksciksaT17fSxkPXgobi5wbGF5ZXJTaXplWzBdKSx1PWQudyxwPWQuaDtpLnc9dSxpLmg9cCx2LmZvckVhY2goKGZ1bmN0aW9uKGUpe24uaGFzT3duUHJvcGVydHkoZSkmJihpW2VdPW5bZV0pfSkpO3ZhciBsPUkoZSk7aS5wbGFjZW1lbnQ9aS5wbGFjZW1lbnR8fDIsbD09PWgmJihpLnN0YXJ0ZGVsYXk9aS5zdGFydGRlbGF5fHwwLGkucGxhY2VtZW50PTEpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yKXt2YXIgZj1PKGUse3c6aS53LGg6aS5ofSxhLmQpO2YmJnMoaSx7ZXh0Ont0dHg6e2JpZGZsb29yczpbZl19fX0pfXJldHVybiBpfSh0KSk7cC5pbXBbMF0uZXh0PXt0dHg6e3Byb2Q6SSh0KX19LHAuc2l0ZT17aWQ6Zi5zaXRlSWR9LHUmJihwLnNpdGUucGFnZT11KTtwLmlkPXQuYmlkSWQsbi5jb25zZW50U3RyaW5nJiYocC51c2VyPXcocC51c2VyLCJjb25zZW50IixuLmNvbnNlbnRTdHJpbmcpKTtBcnJheS5pc0FycmF5KHQudXNlcklkQXNFaWRzKSYmdC51c2VySWRBc0VpZHMubGVuZ3RoPjAmJihwLnVzZXI9dyhwLnVzZXIsImVpZHMiLHQudXNlcklkQXNFaWRzKSk7cC5yZWdzPXcocC5yZWdzLCJnZHByIixOdW1iZXIobi5nZHByQXBwbGllcykpLGQmJihwLnJlZ3M9dyhwLnJlZ3MsInVzX3ByaXZhY3kiLGQpKTtwLmV4dD17dHR4OntwcmViaWRTdGFydGVkQXQ6RGF0ZS5ub3coKSxjYWxsZXI6W3tuYW1lOiJwcmViaWRqcyIsdmVyc2lvbjoiNS4xMS4wIn1dfX0sdC5zY2hhaW4mJihwLnNvdXJjZT13KHAuc291cmNlLCJzY2hhaW4iLHQuc2NoYWluKSk7MT09PWYudGVzdCYmKHAudGVzdD0xKTt2YXIgbT17Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0sYj1pLmIuZ2V0Q29uZmlnKCJ0dHhTZXR0aW5ncyIpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDpiJiZiLnVybHx8IiIuY29uY2F0KGwsIj9ndWlkPSIpLmNvbmNhdChmLnNpdGVJZCksZGF0YTpKU09OLnN0cmluZ2lmeShwKSxvcHRpb25zOm19fSh7YmlkUmVxdWVzdDplLGdkcHJDb25zZW50OnIsdXNwQ29uc2VudDpuLHBhZ2VVcmw6ZH0pfSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiBlLmJvZHkuc2VhdGJpZC5sZW5ndGg+MCYmZS5ib2R5LnNlYXRiaWRbMF0uYmlkLmxlbmd0aD4wJiZyLnB1c2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWF0YmlkWzBdLmJpZFswXS5hZG9tYWluJiZlLnNlYXRiaWRbMF0uYmlkWzBdLmFkb21haW4ubGVuZ3RoLHI9e3JlcXVlc3RJZDplLmlkLGJpZGRlckNvZGU6cCxjcG06ZS5zZWF0YmlkWzBdLmJpZFswXS5wcmljZSx3aWR0aDplLnNlYXRiaWRbMF0uYmlkWzBdLncsaGVpZ2h0OmUuc2VhdGJpZFswXS5iaWRbMF0uaCxhZDplLnNlYXRiaWRbMF0uYmlkWzBdLmFkbSx0dGw6ZS5zZWF0YmlkWzBdLmJpZFswXS50dGx8fDYwLGNyZWF0aXZlSWQ6ZS5zZWF0YmlkWzBdLmJpZFswXS5jcmlkLG1lZGlhVHlwZTpvLmRlZXBBY2Nlc3MoZS5zZWF0YmlkWzBdLmJpZFswXSwiZXh0LnR0eC5tZWRpYVR5cGUiLGEuYiksY3VycmVuY3k6ZS5jdXIsbmV0UmV2ZW51ZTohMH07dCYmKHIubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5zZWF0YmlkWzBdLmJpZFswXS5hZG9tYWlufSk7aWYoci5tZWRpYVR5cGU9PT1hLmQpeyJ4bWwiPT09by5kZWVwQWNjZXNzKGUuc2VhdGJpZFswXS5iaWRbMF0sImV4dC50dHgudmFzdFR5cGUiLCJ4bWwiKT9yLnZhc3RYbWw9ci5hZDpyLnZhc3RVcmw9ci5hZH1yZXR1cm4gcn0oZS5ib2R5KSkscn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWUuaWZyYW1lRW5hYmxlZD95LnVuaXF1ZVNpdGVJZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zaXRlSWQscj12b2lkIDA9PT10PyJ6enowMDAwMDAwMDAwMDN6enoiOnQsbj1lLmdkcHJDb25zZW50LG89dm9pZCAwPT09bj97fTpuLGE9ZS51c3BDb25zZW50LHM9aS5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKSxkPXMmJnMuc3luY1VybHx8ZixjPW8uY29uc2VudFN0cmluZyx1PW8uZ2RwckFwcGxpZXMscD17dHlwZToiaWZyYW1lIix1cmw6IiIuY29uY2F0KGQsIiZpZD0iKS5jb25jYXQociwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGMpLCImdXNfcHJpdmFjeT0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGEpKX07ImJvb2xlYW4iPT10eXBlb2YgdSYmKHAudXJsKz0iJmdkcHI9Ii5jb25jYXQoTnVtYmVyKHUpKSk7cmV0dXJuIHB9KHtnZHByQ29uc2VudDpyLHVzcENvbnNlbnQ6bixzaXRlSWQ6ZX0pfSkpOltdO3JldHVybiB5LnVuaXF1ZVNpdGVJZHM9W10sb319O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShUKX0sOTk6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDEwMCl9fSxbOTldKTsKdXBianNDaHVuayhbMzQwXSx7MTg2OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgxODcpfSwxODc6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciBuPXQoMSksaT10KDIpLGE9dCgwKSxvPXQoMyksZD10KDEzKTtmdW5jdGlvbiBzKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBjKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8cChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUscil7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHIpe3ZhciB0PW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09dClyZXR1cm47dmFyIG4saSxhPVtdLG89ITAsZD0hMTt0cnl7Zm9yKHQ9dC5jYWxsKGUpOyEobz0obj10Lm5leHQoKSkuZG9uZSkmJihhLnB1c2gobi52YWx1ZSksIXJ8fGEubGVuZ3RoIT09cik7bz0hMCk7fWNhdGNoKGUpe2Q9ITAsaT1lfWZpbmFsbHl7dHJ5e298fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYoZCl0aHJvdyBpfX1yZXR1cm4gYX0oZSxyKXx8cChlLHIpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcChlLHIpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gYyhlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT10fHwiU2V0Ij09PXQ/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpP2MoZSxyKTp2b2lkIDB9fWZ1bmN0aW9uIGMoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn1mdW5jdGlvbiBsKGUpe3JldHVybihsPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIG09by5iLmdldENvbmZpZyxmPXswOiJ0aXRsZSIsMjoiaWNvbiIsMzoiaW1hZ2UiLDU6InNwb25zb3JlZEJ5Iiw0OiJib2R5IiwxOiJjdGEifSx5PXt0aXRsZTp7aWQ6MCxuYW1lOiJ0aXRsZSJ9LGljb246e2lkOjIsdHlwZToxLG5hbWU6ImltZyJ9LGltYWdlOntpZDozLHR5cGU6MyxuYW1lOiJpbWcifSxzcG9uc29yZWRCeTp7aWQ6NSxuYW1lOiJkYXRhIix0eXBlOjF9LGJvZHk6e2lkOjQsbmFtZToiZGF0YSIsdHlwZToyfSxjdGE6e2lkOjEsdHlwZToxMixuYW1lOiJkYXRhIn19LHY9e2NvZGU6ImFkZiIsYWxpYXNlczpbe2NvZGU6ImFkZm9ybU9wZW5SVEIiLGd2bGlkOjUwfSx7Y29kZToiYWRmb3JtIixndmxpZDo1MH1dLGd2bGlkOjUwLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2kuYyxpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLm1pZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0LG4sbz1tKCJvcnRiMiIpfHx7fSxkPW8udXNlcjsib2JqZWN0Ij09PWwobSgiYXBwIikpPyh0PW0oImFwcCIpfHx7fSxvLmFwcCYmYS5tZXJnZURlZXAodCxvLmFwcCkpOihuPW0oInNpdGUiKXx8e30sby5zaXRlJiZhLm1lcmdlRGVlcChuLG8uc2l0ZSksbi5wYWdlfHwobi5wYWdlPXIucmVmZXJlckluZm8ucmVmZXJlcikpO3ZhciBzPW0oImRldmljZSIpfHx7fTtzLnc9cy53fHx3aW5kb3cuaW5uZXJXaWR0aCxzLmg9cy5ofHx3aW5kb3cuaW5uZXJIZWlnaHQscy51YT1zLnVhfHxuYXZpZ2F0b3IudXNlckFnZW50O3ZhciBwPWIoZSwicGFyYW1zLmFkeERvbWFpbiIpfHwiYWR4LmFkZm9ybS5uZXQiLGM9YihlLCJwYXJhbXMucHQiKXx8YihlLCJwYXJhbXMucHJpY2VUeXBlIil8fCJuZXQiLGY9ZVswXS50cmFuc2FjdGlvbklkLHY9YihlLCJwYXJhbXMudGVzdCIpLGc9bSgiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpLHc9ZyYmW2ddLFM9YihlLCJ1c2VySWRBc0VpZHMiKSxUPWIoZSwic2NoYWluIiksQT1lLm1hcCgoZnVuY3Rpb24oZSxyKXtlLm5ldFJldmVudWU9Yzt2YXIgdD17aWQ6cisxLHRhZ2lkOmUucGFyYW1zLm1pZH0sbj1hLl9tYXAoZS5uYXRpdmVQYXJhbXMsKGZ1bmN0aW9uKGUscil7dmFyIHQ9eVtyXSxuPXtyZXF1aXJlZDoxJmUucmVxdWlyZWR9O2lmKHQpe3ZhciBpLGEsbyxkO24uaWQ9dC5pZDt2YXIgcz1lLmFzcGVjdF9yYXRpb3M7aWYocyYmc1swXSYmKGk9KHM9c1swXSkubWluX3dpZHRofHwwLGE9cy5yYXRpb19oZWlnaHQqaS9zLnJhdGlvX3dpZHRofDApLGUuc2l6ZXMpe3ZhciB1PWgoZS5zaXplcyk7bz11WzBdLGQ9dVsxXX1yZXR1cm4gblt0Lm5hbWVdPXtsZW46ZS5sZW4sdHlwZTp0LnR5cGUsd21pbjppLGhtaW46YSx3Om8saDpkfSxufX0pKS5maWx0ZXIoQm9vbGVhbik7aWYobi5sZW5ndGgpcmV0dXJuIHQubmF0aXZlPXtyZXF1ZXN0Onthc3NldHM6bn19LGUubWVkaWFUeXBlPWkuYyx0O3ZhciBvPWEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2lmKG8mJm8uc2l6ZXMpe3ZhciBkPWEucGFyc2VTaXplc0lucHV0KG8uc2l6ZXMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9dShlLnNwbGl0KCJ4IiksMiksdD1yWzBdLG49clsxXTtyZXR1cm57dzpwYXJzZUludCh0LDEwKSxoOnBhcnNlSW50KG4sMTApfX0pKTtyZXR1cm4gdC5iYW5uZXI9e2Zvcm1hdDpkfSxlLm1lZGlhVHlwZT1pLmIsdH12YXIgcz1hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpO3JldHVybiBzPyh0LnZpZGVvPXMsZS5tZWRpYVR5cGU9aS5kLHQpOnZvaWQgMH0pKSxJPXtpZDpyLmF1Y3Rpb25JZCxzaXRlOm4sYXBwOnQsdXNlcjpkLGRldmljZTpzLHNvdXJjZTp7dGlkOmYsZmQ6MX0sZXh0OntwdDpjfSxjdXI6dyxpbXA6QX07cmV0dXJuIHYmJihJLmlzX2RlYnVnPSEhdixJLnRlc3Q9MSksdm9pZCAwIT09YS5kZWVwQWNjZXNzKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIikmJihhLmRlZXBTZXRWYWx1ZShJLCJ1c2VyLmV4dC5jb25zZW50IixyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLGEuZGVlcFNldFZhbHVlKEksInJlZ3MuZXh0LmdkcHIiLDEmci5nZHByQ29uc2VudC5nZHByQXBwbGllcykpLHIudXNwQ29uc2VudCYmYS5kZWVwU2V0VmFsdWUoSSwicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KSxTJiZhLmRlZXBTZXRWYWx1ZShJLCJ1c2VyLmV4dC5laWRzIixTKSxUJiZhLmRlZXBTZXRWYWx1ZShJLCJzb3VyY2UuZXh0LnNjaGFpbiIsVCkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovLyIrcCsiL2FkeC9vcGVucnRiIixkYXRhOkpTT04uc3RyaW5naWZ5KEkpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIn0sYmlkczplfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmJpZHM7aWYoZS5ib2R5KXt2YXIgbj1lLmJvZHksbz1uLnNlYXRiaWQscz1uLmN1cix1PWgoby5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZH0pKSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlW3IuaW1waWQtMV09cixlfSksW10pO3JldHVybiB0Lm1hcCgoZnVuY3Rpb24oZSxyKXt2YXIgdD11W3JdO2lmKHQpe3ZhciBuPXtyZXF1ZXN0SWQ6ZS5iaWRJZCxjcG06dC5wcmljZSxjcmVhdGl2ZUlkOnQuY3JpZCx0dGw6MzYwLG5ldFJldmVudWU6Im5ldCI9PT1lLm5ldFJldmVudWUsY3VycmVuY3k6cyxtZWRpYVR5cGU6ZS5tZWRpYVR5cGUsd2lkdGg6dC53LGhlaWdodDp0LmgsZGVhbElkOnQuZGVhbGlkLG1ldGE6e21lZGlhVHlwZTplLm1lZGlhVHlwZSxhZHZlcnRpc2VyRG9tYWluczp0LmFkb21haW59fTtyZXR1cm4gdC5uYXRpdmU/bi5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5uYXRpdmUsdD1yLmFzc2V0cyxuPXIubGluayxpPXIuaW1wdHJhY2tlcnMsYT1yLmpzdHJhY2tlcixvPXtjbGlja1VybDpuLnVybCxjbGlja1RyYWNrZXJzOm4uY2xpY2t0cmFja2Vyc3x8dm9pZCAwLGltcHJlc3Npb25UcmFja2VyczppfHx2b2lkIDAsamF2YXNjcmlwdFRyYWNrZXJzOmE/W2FdOnZvaWQgMH07cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZltlLmlkXSx0PXImJmVbeVtyXS5uYW1lXTt0JiYob1tyXT10LnRleHR8fHQudmFsdWV8fHt1cmw6dC51cmwsd2lkdGg6dC53LGhlaWdodDp0Lmh9KX0pKSxvfSh0KTpuW2UubWVkaWFUeXBlPT09aS5kPyJ2YXN0WG1sIjoiYWQiXT10LmFkbSxlLnJlbmRlcmVyfHxlLm1lZGlhVHlwZSE9PWkuZHx8Im91dHN0cmVhbSIhPT1hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iil8fChuLnJlbmRlcmVyPWQuYS5pbnN0YWxsKHtpZDplLmJpZElkLHVybDoiaHR0cHM6Ly9zMi5hZGZvcm0ubmV0L2Jhbm5lcnMvc2NyaXB0cy92aWRlby9vdXRzdHJlYW0vcmVuZGVyLmpzIixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pLG4ucmVuZGVyZXIuc2V0UmVuZGVyKGcpKSxufX0pKS5maWx0ZXIoQm9vbGVhbil9fX07ZnVuY3Rpb24gYihlLHIpe2Zvcih2YXIgdCxuPTA7bjxlLmxlbmd0aDtuKyspaWYodD1hLmRlZXBBY2Nlc3MoZVtuXSxyKSlyZXR1cm4gdH1mdW5jdGlvbiBoKGUpe3ZhciByO3JldHVybihyPVtdKS5jb25jYXQuYXBwbHkocixzKGUpKX1mdW5jdGlvbiBnKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQWRmb3JtLnJlbmRlck91dHN0cmVhbShlKX0pKX1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikodil9fSxbMTg2XSk7CnVwYmpzQ2h1bmsoWzMxN10sezI0NzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoMjQ4KX0sMjQ4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKTt2YXIgbj10KDApLGk9dCgxKSxhPXQoMyksbz10KDExKSxzPXQubihvKSxjPXQoMik7ZnVuY3Rpb24gZChlKXtyZXR1cm4oZD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHAoKXtyZXR1cm4ocD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciB1PSJVU0QiLGY9e2ltYWdlOntyZXF1aXJlZDohMH0sdGl0bGU6e3JlcXVpcmVkOiEwfSxzcG9uc29yZWRCeTp7cmVxdWlyZWQ6ITB9LGNsaWNrVXJsOntyZXF1aXJlZDohMH0sYm9keTp7cmVxdWlyZWQ6ITF9LGljb246e3JlcXVpcmVkOiExfSxjdGE6e3JlcXVpcmVkOiExfX0sbD17Y29kZToiYWR5b3VsaWtlIixzdXBwb3J0ZWRNZWRpYVR5cGVzOltjLmIsYy5jLGMuZF0sYWxpYXNlczpbImF5bCJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciByPWcoeShlKSksdD1yLndpZHRoPjAmJnIuaGVpZ2h0PjA7cmV0dXJuIGUucGFyYW1zJiZlLnBhcmFtcy5wbGFjZW1lbnQmJih0fHxlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5uYXRpdmUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9e1ZlcnNpb246IjEuMCIsQmlkczplLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgdD1mdW5jdGlvbihlKXtpZihuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpKXJldHVybiBjLmQ7aWYobi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIikpcmV0dXJuIGMuYjtpZihuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5uYXRpdmUiKSlyZXR1cm4gYy5jfShyKSxpPXkociksYT1nKGkpO2lmKGVbci5iaWRJZF09e30sZVtyLmJpZElkXS5QbGFjZW1lbnRJRD1yLnBhcmFtcy5wbGFjZW1lbnQsZVtyLmJpZElkXS5UcmFuc2FjdGlvbklEPXIudHJhbnNhY3Rpb25JZCxlW3IuYmlkSWRdLldpZHRoPWEud2lkdGgsZVtyLmJpZElkXS5IZWlnaHQ9YS5oZWlnaHQsZVtyLmJpZElkXS5BdmFpbGFibGVTaXplcz1pLmpvaW4oIiwiKSwiZnVuY3Rpb24iPT10eXBlb2Ygci5nZXRGbG9vciYmKGVbci5iaWRJZF0uUHJpY2luZz1mdW5jdGlvbihlLHIsdCl7dmFyIG49ZS5nZXRGbG9vcih7Y3VycmVuY3k6dSxtZWRpYVR5cGU6dCxzaXplOltyLndpZHRoLHIuaGVpZ2h0XX0pO2lmKCFpc05hTihuLmZsb29yKSYmbi5jdXJyZW5jeT09PXUpcmV0dXJuIG4uZmxvb3J9KHIsYSx0KSksdD09PWMuYyl7dmFyIG89ci5tZWRpYVR5cGVzLm5hdGl2ZTsiaW1hZ2UiPT09by50eXBlJiYobz1wKHt9LGYsbykpLG8uY2xpY2tVcmw9e3JlcXVpcmVkOiEwfSxlW3IuYmlkSWRdLk5hdGl2ZT1vfWlmKHQ9PT1jLmQpe2Vbci5iaWRJZF0uVmlkZW89ci5tZWRpYVR5cGVzLnZpZGVvO3ZhciBzPXIubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplO0FycmF5LmlzQXJyYXkocykmJiFBcnJheS5pc0FycmF5KHNbMF0pJiYoZVtyLmJpZElkXS5WaWRlby5wbGF5ZXJTaXplPVtzXSl9cmV0dXJuIGV9KSx7fSksUGFnZVJlZnJlc2hlZDptKCl9O3ImJnIuZ2RwckNvbnNlbnQmJih0LmdkcHJDb25zZW50PXtjb25zZW50U3RyaW5nOnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50UmVxdWlyZWQ6ImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcz9yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzOm51bGx9KSxyJiZyLnVzcENvbnNlbnQmJih0LnVzcENvbnNlbnQ9ci51c3BDb25zZW50KTt2YXIgaT1KU09OLnN0cmluZ2lmeSh0KTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6dihlLHIpLGRhdGE6aSxvcHRpb25zOnt3aXRoQ3JlZGVudGlhbHM6ITB9fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxpPXt9O3RyeXtpPUpTT04ucGFyc2Uoci5kYXRhKS5CaWRzfWNhdGNoKGUpe31yZXR1cm4gZS5ib2R5LmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUscil7aWYoIWV8fCFlLkFkJiYhZS5OYXRpdmUmJiFlLlZhc3QpcmV0dXJuO3ZhciB0PXImJnJbZS5CaWRJRF07dCYmKGUuV2lkdGgmJiIwIiE9PWUuV2lkdGh8fChlLldpZHRoPXQuV2lkdGgpLGUuSGVpZ2h0JiYiMCIhPT1lLkhlaWdodHx8KGUuSGVpZ2h0PXQuSGVpZ2h0KSk7dmFyIGk9e3JlcXVlc3RJZDplLkJpZElELHR0bDozNjAwLGNyZWF0aXZlSWQ6ZS5DcmVhdGl2ZUlELGNwbTplLlByaWNlLG5ldFJldmVudWU6ITAsY3VycmVuY3k6dSxtZXRhOmUuTWV0YXx8e2FkdmVydGlzZXJEb21haW5zOltdfX07aWYodCYmdC5OYXRpdmUpaS5uYXRpdmU9ZnVuY3Rpb24oZSxyKXtpZigib2JqZWN0Ij09PWQoZS5OYXRpdmUpKXJldHVybiBlLk5hdGl2ZTt2YXIgdD17fSxpPXt9LGE9e307aWYoInN0cmluZyI9PXR5cGVvZiBlLkFkKXtpPUpTT04ucGFyc2UoZS5BZC5tYXRjaCgvXC9cKlBSRUJJRFwqXC8oLiopXC9cKlBSRUJJRFwqXC8vKVsxXSksYT1pLkNvbnRlbnQuUHJldmlldy5UZXh0O3ZhciBvPWkuVHJhY2tpbmdQcmVmaXgrIi9waXhlbD9ldmVudF9raW5kPUlNUFJFU1NJT04mYXR0ZW1wdD0iK2kuQXR0ZW1wdCxzPWkuVHJhY2tpbmdQcmVmaXgrIi9waXhlbD9ldmVudF9raW5kPUlOU0VSVElPTiZhdHRlbXB0PSIraS5BdHRlbXB0O2kuQ2FtcGFpZ24mJihvKz0iJmNhbXBhaWduPSIraS5DYW1wYWlnbixzKz0iJmNhbXBhaWduPSIraS5DYW1wYWlnbiksdC5jbGlja1VybD1pLlRyYWNraW5nUHJlZml4KyIvYXI/ZXZlbnRfa2luZD1DTElDSyZhdHRlbXB0PSIraS5BdHRlbXB0KyImY2FtcGFpZ249IitpLkNhbXBhaWduKyImdXJsPSIrZW5jb2RlVVJJQ29tcG9uZW50KGkuQ29udGVudC5MYW5kaW5nLlVybCksaS5PbkV2ZW50cz8odC5jbGlja1RyYWNrZXJzPUMoaS5PbkV2ZW50cy5DTElDSyksdC5pbXByZXNzaW9uVHJhY2tlcnM9QyhpLk9uRXZlbnRzLklNUFJFU1NJT04pLHQuamF2YXNjcmlwdFRyYWNrZXJzPUMoaS5PbkV2ZW50cy5JTVBSRVNTSU9OLCEwKSk6dC5pbXByZXNzaW9uVHJhY2tlcnM9W10sdC5pbXByZXNzaW9uVHJhY2tlcnMucHVzaChvLHMpfXJldHVybiBPYmplY3Qua2V5cyhyKS5tYXAoKGZ1bmN0aW9uKG8scyl7c3dpdGNoKG8pe2Nhc2UidGl0bGUiOnRbb109YS5USVRMRTticmVhaztjYXNlImJvZHkiOnRbb109YS5ERVNDUklQVElPTjticmVhaztjYXNlImN0YSI6dFtvXT1hLkNBTExUT0FDVElPTjticmVhaztjYXNlInNwb25zb3JlZEJ5Ijp0W29dPWkuQ29udGVudC5QcmV2aWV3LlNwb25zb3IuTmFtZTticmVhaztjYXNlImltYWdlIjp2YXIgYz1yLmltYWdlLnNpemVzfHxbXTtjLmxlbmd0aHx8KGNbMF09ZS5XaWR0aHx8MzAwLGNbMV09ZS5IZWlnaHR8fDI1MCk7dmFyIGQ9SShpLG4uZGVlcEFjY2VzcyhpLCJDb250ZW50LlByZXZpZXcuVGh1bWJuYWlsLkltYWdlIiksY1swXSxjWzFdKTtkJiYodFtvXT17dXJsOmQsd2lkdGg6Y1swXSxoZWlnaHQ6Y1sxXX0pO2JyZWFrO2Nhc2UiaWNvbiI6dmFyIHA9ci5pY29uLnNpemVzfHxbXTtwLmxlbmd0aHx8KHBbMF09NTAscFsxXT01MCk7dmFyIHU9SShpLG4uZGVlcEFjY2VzcyhpLCJDb250ZW50LlByZXZpZXcuU3BvbnNvci5Mb2dvLlJlc291cmNlIikscFswXSxwWzFdKTtkJiYodFtvXT17dXJsOnUsd2lkdGg6cFswXSxoZWlnaHQ6cFsxXX0pO2JyZWFrO2Nhc2UicHJpdmFjeUljb24iOnRbb109SShpLG4uZGVlcEFjY2VzcyhpLCJDb250ZW50LlByZXZpZXcuQ3JlZGl0LkxvZ28uUmVzb3VyY2UiKSwyNSwyNSk7YnJlYWs7Y2FzZSJwcml2YWN5TGluayI6dFtvXT1uLmRlZXBBY2Nlc3MoaSwiQ29udGVudC5QcmV2aWV3LkNyZWRpdC5VcmwiKX19KSksdH0oZSx0Lk5hdGl2ZSksaS5tZWRpYVR5cGU9Im5hdGl2ZSI7ZWxzZSBpZih0JiZ0LlZpZGVvKXt2YXIgYT1lLlZhc3R8fGZ1bmN0aW9uKGUpe3ZhciByPXt9O2lmKCJzdHJpbmciPT10eXBlb2YgZS5BZClyZXR1cm4gcj1KU09OLnBhcnNlKGUuQWQubWF0Y2goL1wvXCpQUkVCSURcKlwvKC4qKVwvXCpQUkVCSURcKlwvLylbMV0pLG4uZGVlcEFjY2VzcyhyLCJDb250ZW50Lk1haW5WaWRlby5WYXN0Iil9KGUpO2kudmFzdFhtbD1hP3dpbmRvdy5hdG9iKGEpOiIiLGkubWVkaWFUeXBlPSJ2aWRlbyJ9ZWxzZSBpLndpZHRoPWUuV2lkdGgsaS5oZWlnaHQ9ZS5IZWlnaHQsaS5hZD1lLkFkO3JldHVybiBpfShlLGkpO3ImJnQucHVzaChyKX0pKSx0fX07ZnVuY3Rpb24gbSgpe3RyeXtpZihwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2UubmF2aWdhdGlvbilyZXR1cm4gcGVyZm9ybWFuY2UubmF2aWdhdGlvbi50eXBlPT09cGVyZm9ybWFuY2UubmF2aWdhdGlvbi5UWVBFX1JFTE9BRH1jYXRjaChlKXt9cmV0dXJuITF9ZnVuY3Rpb24gdihlLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciByPXMoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuREN9KSk7cmV0dXJuIHI/Ii0iK3IucGFyYW1zLkRDOiIifShlKTtyZXR1cm4gbi5idWlsZFVybCh7cHJvdG9jb2w6Imh0dHBzIixob3N0OiIiLmNvbmNhdCgiaGItYXBpIikuY29uY2F0KHQsIi5vbW5pdGFnanMuY29tIikscGF0aG5hbWU6Ii9oYi1hcGkvcHJlYmlkL3YxIixzZWFyY2g6aChyKX0pfWZ1bmN0aW9uIGgoZSl7dmFyIHI9e307aWYoZSl7dmFyIHQ9ZS5yZWZlcmVySW5mbzt0JiYoci5SZWZlcmVyVXJsPWVuY29kZVVSSUNvbXBvbmVudCh0LnJlZmVyZXIpLHQubnVtSWZyYW1lcz4wJiYoci5TYWZlRnJhbWU9ITApKX12YXIgbj1mdW5jdGlvbigpe3ZhciBlO2lmKHdpbmRvdy5zZWxmIT09d2luZG93LnRvcCl0cnl7ZT13aW5kb3cudG9wLmRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9ImNhbm9uaWNhbCJdW2hyZWZdJyl9Y2F0Y2goZSl7fWVsc2UgZT1kb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPSJjYW5vbmljYWwiXVtocmVmXScpO3JldHVybiBlP2UuaHJlZjoiIn0oKTtuJiYoci5DYW5vbmljYWxVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KG4pKTt2YXIgaT1hLmIuZ2V0Q29uZmlnKCJwdWJsaXNoZXJEb21haW4iKTtyZXR1cm4gaSYmKHIuUHVibGlzaGVyRG9tYWluPWVuY29kZVVSSUNvbXBvbmVudChpKSkscn1mdW5jdGlvbiB5KGUpe3ZhciByPWUuc2l6ZXN8fFtdO3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJihyPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fFtdKSxlLnBhcmFtcyYmQXJyYXkuaXNBcnJheShlLnBhcmFtcy5zaXplKSYmKHI9ZS5wYXJhbXMuc2l6ZSxBcnJheS5pc0FycmF5KHJbMF0pfHwocj1bcl0pKSxuLnBhcnNlU2l6ZXNJbnB1dChyKX1mdW5jdGlvbiBnKGUpe3ZhciByPXt9LHQ9ZVswXTtpZigic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIHI7dmFyIG49dC50b1VwcGVyQ2FzZSgpLnNwbGl0KCJYIiksaT1wYXJzZUludChuWzBdLDEwKTtpJiYoci53aWR0aD1pKTt2YXIgYT1wYXJzZUludChuWzFdLDEwKTtyZXR1cm4gYSYmKHIuaGVpZ2h0PWEpLHJ9ZnVuY3Rpb24gYihlKXtyZXR1cm4gZT8iaHR0cHM6Ly9ibG9icy5vbW5pdGFnanMuY29tL2Jsb2JzLyIrZS5zdWJzdHIoMTYsMikrIi8iK2Uuc3Vic3RyKDE2KSsiLyIrZToiIn1mdW5jdGlvbiBJKGUscix0LG4pe3ZhciBpPSIiO2lmKHImJnIuS2luZClzd2l0Y2goci5LaW5kKXtjYXNlIklOVEVSTkFMIjppPWIoci5EYXRhLkludGVybmFsLkJsb2JSZWZlcmVuY2UuVWlkKTticmVhaztjYXNlIkVYVEVSTkFMIjp2YXIgYT1lLkR5bmFtaWNQcmVmaXgsbz1yLkRhdGEuRXh0ZXJuYWwuVXJsO2lmKChvPShvPW8ucmVwbGFjZSgvXFtoZWlnaHRcXS9pLCIiK24pKS5yZXBsYWNlKC9cW3dpZHRoXF0vaSwiIit0KSkuaW5kZXhPZihhKT49MCl7dmFyIHM9Ly4qdXJsPShbXiZdKikvZ20uZXhlYyhvKTsoaT1zP3NbMV06IiIpfHwoaT1iKC8uKmtleT0oW14mXSopL2dtLmV4ZWMobylbMV0pKX1lbHNlIGk9b31yZXR1cm4gaX1mdW5jdGlvbiBDKGUscil7dmFyIHQ9W107cmV0dXJuIGU/KGUubWFwKChmdW5jdGlvbihlLG4peyhyJiYiSkFWQVNDUklQVF9VUkwiPT09ZS5LaW5kfHwhciYmIlBJWEVMX1VSTCI9PT1lLktpbmQpJiZ0LnB1c2goZS5VcmwpfSkpLHQpOnR9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGwpfX0sWzI0N10pOwp1cGJqc0NodW5rKFszMTNdLHsyNTU6ZnVuY3Rpb24obix0LGUpe24uZXhwb3J0cz1lKDI1Nil9LDI1NjpmdW5jdGlvbihuLHQsZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmQodCwiQklEREVSX0NPREUiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLGUuZCh0LCJFTkdJTkVfQkFTRV9VUkwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLGUuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSx0LnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtjPSExfTtlKDApO3ZhciByPWUoMSksYT1lKDIpO2Z1bmN0aW9uIGkobix0LGUpe3JldHVybiB0IGluIG4/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOm5bdF09ZSxufXZhciBvPSJhbWF6b24iLHM9Imh0dHBzOi8vYy5hbWF6b24tYWRzeXN0ZW0uY29tL2UvZHRiL2JpZCIsZD1bXSxjPSExLG09WyJodHRwczovL2FheC1ldS5hbWF6b24tYWRzeXN0ZW0uY29tL3MvaXUzP2NtM3BwZD0xJmQ9ZHRiLXB1YiZjc2lmPXQiXTt2YXIgcD17Y29kZTpvLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24obil7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24obix0KXtpZighd2luZG93LmFwc3RhZylyZXR1cm5bXTtmb3IodmFyIGU9MDtlPG4ubGVuZ3RoO2UrKyl7dmFyIHI9bltlXTtkLnB1c2gocil9dmFyIGEsbz1bXTtyZXR1cm4gYT1mdW5jdGlvbihuLHQpe2Zvcih2YXIgZSxyPVtdLGE9dCYmdC5nZHByQ29uc2VudCxvPTA7bzxuLmxlbmd0aDtvKyspe2Zvcih2YXIgcz17fSxkPW5bb10uc2l6ZXMsYz1bXSxtPTA7bTxkLmxlbmd0aDttKyspYy5wdXNoKGRbbV1bMF0rIngiK2RbbV1bMV0pO3Muc2Q9dS50b1N0cmluZygpLHMucz1jLHMuc249bltvXS5wYXJhbXMuYWRVbml0R1BUUGF0aCxyLnB1c2gocyksdSsrfXZhciBwPW5bMF0ucGFyYW1zLnB1YklELmluZGV4T2YoIi0iKT4tMSxsPShpKGU9e30sInNyYyIscD8iNjAwIjpuWzBdLnBhcmFtcy5wdWJJRCksaShlLCJwdWJpZCIsblswXS5wYXJhbXMucHViSUQpLGkoZSwidSIsd2luZG93LmxvY2F0aW9uLmhyZWYpLGkoZSwicGlkIixmdW5jdGlvbihuKXtmb3IodmFyIHQ9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5IixlPW5ldyBBcnJheShuKSxyPTA7cjxuO3IrKyllW3JdPXRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnQubGVuZ3RoKV07cmV0dXJuIGUuam9pbigiIil9KDEzKSksaShlLCJwciIsZG9jdW1lbnQucmVmZXJyZXIpLGkoZSwiY2IiLDApLGkoZSwid3MiLCh3aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSsieCIrKHdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpKSxpKGUsInYiLCI3LjQ3LjAwIiksaShlLCJzbG90cyIsSlNPTi5zdHJpbmdpZnkocikpLGkoZSwidCIsM2UzKSxlKTthJiYic3RyaW5nIj09dHlwZW9mIGEuY29uc2VudFN0cmluZyYmIiIhPT1hLmNvbnNlbnRTdHJpbmc/ImJvb2xlYW4iPT10eXBlb2YgYS5nZHByQXBwbGllcz8obC5nZHByZT0iMSIsbC5nZHByYz0iIi5jb25jYXQoYS5jb25zZW50U3RyaW5nKSxsLmdkcHJsPUpTT04uc3RyaW5naWZ5KHtsc1N0YXR1czoicHJlc2VudCIsc3RhdHVzOiJjbXAtc3VjY2VzcyIscnRpbWVzOlsxXSxjYzoiMCJ9KSk6bC5nZHBybD1KU09OLnN0cmluZ2lmeShpKHtzdGF0dXM6InByZXNlbnQifSwic3RhdHVzIiwiY21wLXN1Y2Nlc3MiKSk6bC5nZHBybD1KU09OLnN0cmluZ2lmeSh7c3RhdHVzOiJjbXAtZXJyb3IifSk7cmV0dXJuIGx9KG4sdCksby5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOnMsZGF0YTphfSksb30saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24obix0KXt2YXIgZT1bXSxyPW5ldyBSZWdFeHAoImFwc3RhZ1xcLlxcdytcXCgoLio/KVxcKSIsImdtIiksYT1uLmJvZHksaT1yLmV4ZWMoYSk7aWYoaSYmaS5sZW5ndGg+MCl0cnl7dmFyIG8scz1KU09OLnBhcnNlKGlbMV0pO2lmKHMuY21wLCFzLnNsb3RzKXJldHVybiBlO289cy5ob3N0O2Zvcih2YXIgYz1zLnNsb3RzLG09MDttPGMubGVuZ3RoO20rKyl7Zm9yKHZhciBwPXZvaWQgMCx1PWNbbV0sbD0wO2w8ZC5sZW5ndGg7bCsrKWlmKGwudG9TdHJpbmcoKT09PXUuc2xvdElEKXtwPWRbbF07YnJlYWt9aWYodm9pZCAwIT09cCl7dmFyIGc9MCxmPSJVU0QiLHo9IiIrTWF0aC5yb3VuZCgxZTEyKk1hdGgucmFuZG9tKCkpK0RhdGUubm93KCksdz1vKyIvZS9kdGIvYWRtaT9iPSIrdS5hbXpuaWlkKyImcm5kPSIreisiJnBwPSIrdS5hbXpuYmlkKyImcD0iK3UuYW16bnArIiZjcmlkPSIrdS5jcmlkO3dpbmRvdy51cG9fYW16biYmKHdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydCYmd2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0W3UuYW16bmJpZF0mJihnPXdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydFt1LmFtem5iaWRdKSx3aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ3VycmVuY3kmJihmPXdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DdXJyZW5jeSkpLGUucHVzaCh7cmVxdWVzdElkOnAuYmlkSWQsY3BtOmcsd2lkdGg6dS5hbXpuc3ouc3BsaXQoIngiKVswXSxoZWlnaHQ6dS5hbXpuc3ouc3BsaXQoIngiKVsxXSxhZFRhcmdldGluZzoneyJhbXpuaWlkIjoiJyt1LmFtem5paWQrJyIsImFtem5wIjoiJyt1LmFtem5wKyciLCJhbXpuYmlkIjoiJyt1LmFtem5iaWQrJyIsImFtem5zeiI6IicrdS5hbXpuc3orJyJ9JyxhZDoiIixhZEh0bWw6Jzxib2R5IGxlZnRtYXJnaW49IjAiIHRvcG1hcmdpbj0iMCIgbWFyZ2lud2lkdGg9IjAiIG1hcmdpbmhlaWdodD0iMCI+PGlmcmFtZSBmcmFtZWJvcmRlcj0iMCIgbWFyZ2luaGVpZ2h0PSIwIiBtYXJnaW53aWR0aD0iMCIgc2Nyb2xsaW5nPSJubyIgd2lkdGg9IicrdS5hbXpuc3ouc3BsaXQoIngiKVswXSsncHgiIGhlaWdodD0iJyt1LmFtem5zei5zcGxpdCgieCIpWzFdKydweCIgaWQ9ImFtem5hZDcwMzUyIiBzYW5kYm94PSJhbGxvdy1mb3JtcyBhbGxvdy1wb2ludGVyLWxvY2sgYWxsb3ctcG9wdXBzIGFsbG93LXBvcHVwcy10by1lc2NhcGUtc2FuZGJveCBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIGFsbG93LXRvcC1uYXZpZ2F0aW9uLWJ5LXVzZXItYWN0aXZhdGlvbiIgc3JjPSInK3crJyI+PC9pZnJhbWU+PHNjcmlwdD52YXIgYW16ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7YW16LnNyYyA9ICIvL2MuYW1hem9uLWFkc3lzdGVtLmNvbS9iYW8tY3NtL2RpcmVjdC9jc20uanMiO2Ftei5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbigpe3ZhciBjc21GdW5jID0gbnVsbDsgaWYod2luZG93LmFtem5jc20gJiYgd2luZG93LmFtem5jc20ucm1EKXtjc21GdW5jID0gd2luZG93LmFtem5jc20ucm1EO30gZWxzZSBpZiAod2luZG93LmFtem5jc20pIHtjc21GdW5jID0gd2luZG93LmFtem5jc21bT2JqZWN0LmtleXMod2luZG93LmFtem5jc20pWzBdXX07IHZhciBhZElmcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCdpZnJhbWVbc3JjKj0iYW1hem9uLWFkc3lzdGVtLmNvbS9lL2R0Yi9hZG1pXCcpO2NzbUZ1bmMoYWRJZnJhbWUsICInK3UuYW16bmlpZCsnIiwgd2luZG93LCBkb2N1bWVudCwgIicrcC5wYXJhbXMucHViSUQrJyIpO30pOyhkb2N1bWVudC5ib2R5fHxkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGFteik7PFwvc2NyaXB0PjwvYm9keT4nLGFkVXJsOncsdHRsOjkwMCxjcmVhdGl2ZUlkOnUuY3JpZCxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OmZ9KX19fWNhdGNoKG4pe31yZXR1cm4gZX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKG4sdCxlKXtpZighYyl7ZSYmInN0cmluZyI9PXR5cGVvZiBlLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiBlLmdkcHJBcHBsaWVzPyI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIoZS5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KGUuY29uc2VudFN0cmluZyk6Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQoZS5jb25zZW50U3RyaW5nKSksYz0hMDtmb3IodmFyIHI9W10sYT0wO2E8bS5sZW5ndGg7YSsrKXIucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6bVthXX0pO3JldHVybiByfX19O3ZhciB1PTA7T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzI1NV0pOwp1cGJqc0NodW5rKFszMDldLHsyNjM6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDI2NCl9LDI2NDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIE19KSk7dmFyIG4saSxhLG89cigwKSxzPXIoMSksYz1yKDIpO2Z1bmN0aW9uIHUoKXtyZXR1cm4odT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuKGQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIHR8fCh0PWUuc2xpY2UoMCkpLE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx7cmF3Ont2YWx1ZTpPYmplY3QuZnJlZXplKHQpfX0pKX12YXIgbD0iYW9sIixtPSJ2ZXJpem9uIixmPSJvbmVtb2JpbGUiLGI9Im9uZWRpc3BsYXkiLGg9e0dFVDoiZGlzcGxheS1nZXQifSx2PXtHRVQ6Im1vYmlsZS1nZXQiLFBPU1Q6Im1vYmlsZS1wb3N0In0sZz17VEFHOiJpZnJhbWUiLFRZUEU6ImlmcmFtZSJ9LHk9e1RBRzoiaW1nIixUWVBFOiJpbWFnZSJ9LE89WyJhZHNlcnZlci5vcmciLCJjcml0ZW8uY29tIiwiaWQ1LXN5bmMuY29tIiwiaW50ZW50aXEuY29tIiwibGl2ZWludGVudC5jb20iLCJxdWFudGNhc3QuY29tIiwidmVyaXpvbm1lZGlhLmNvbSIsImxpdmVyYW1wLmNvbSJdLFA9SShufHwobj1wKFsiIiwiL3B1YmFwaS8zLjAvIiwiLyIsIi8iLCIvIiwiL0FEVEVDSDt2PTI7Y21kPWJpZDtjb3JzPXllczthbGlhcz0iLCI7bWlzYz0iLCI7IiwiIl0pKSwiaG9zdCIsIm5ldHdvcmsiLCJwbGFjZW1lbnQiLCJwYWdlaWQiLCJzaXplaWQiLCJhbGlhcyIsIm1pc2MiLCJkeW5hbWljUGFyYW1zIiksRT1JKGl8fChpPXAoWyIiLCIvYmlkUmVxdWVzdD8iXSkpLCJob3N0IiksUz1JKGF8fChhPXAoWyJkY249IiwiJnBvcz0iLCImY21kPWJpZCIsIiJdKSksImRjbiIsInBvcyIsImR5bmFtaWNQYXJhbXMiKSxUPXt1czoiYWRzZXJ2ZXItdXMuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSIsZXU6ImFkc2VydmVyLWV1LmFkdGVjaC5hZHZlcnRpc2luZy5jb20iLGFzOiJhZHNlcnZlci1hcy5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIn0seD0iaHR0cHMiLEM9MTtmdW5jdGlvbiBJKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KHQ+MT90LTE6MCksbj0xO248dDtuKyspcltuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyluW2ldPWFyZ3VtZW50c1tpXTt2YXIgYT1uW24ubGVuZ3RoLTFdfHx7fSxzPVtlWzBdXTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3ZhciBpPW8uaXNJbnRlZ2VyKHQpP25bdF06YVt0XTtzLnB1c2goaSxlW3IrMV0pfSkpLHMuam9pbigiIil9fWZ1bmN0aW9uIFIoZSl7cmV0dXJuIGU9PT1sfHxlPT09bXx8ZT09PWZ9ZnVuY3Rpb24gdyhlKXtpZihSKGUuYmlkZGVyKSYmZS5wYXJhbXMuaWQmJmUucGFyYW1zLmltcCYmZS5wYXJhbXMuaW1wWzBdKXt2YXIgdD1lLnBhcmFtcy5pbXBbMF07cmV0dXJuIHQuaWQmJnQudGFnaWQmJnQuYmFubmVyJiZ0LmJhbm5lci53JiZ0LmJhbm5lci5ofX1mdW5jdGlvbiBVKGUpe3JldHVybiBSKGUuYmlkZGVyKSYmZS5wYXJhbXMuZGNuJiZlLnBhcmFtcy5wb3N9ZnVuY3Rpb24gayhlKXtyZXR1cm4oKHQ9ZS5iaWRkZXIpPT09bHx8dD09PW18fHQ9PT1iKSYmZS5wYXJhbXMucGxhY2VtZW50JiZlLnBhcmFtcy5uZXR3b3JrO3ZhciB0fWZ1bmN0aW9uIHEoZSl7cmV0dXJuIGUudXNlcklkQXNFaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1PLmluZGV4T2YoZS5zb3VyY2UpfSkpfXZhciBNPXtjb2RlOmwsZ3ZsaWQ6MjUsYWxpYXNlczpbZixiLG1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2MuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGsoZSl8fGZ1bmN0aW9uKGUpe3JldHVybiBVKGUpfHx3KGUpfShlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17fTtyZXR1cm4gdCYmKG4uZ2Rwcj10LmdkcHJDb25zZW50LG4udXNwQ29uc2VudD10LnVzcENvbnNlbnQpLGUubWFwKChmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4gVShlKT92LkdFVDp3KGUpP3YuUE9TVDprKGUpP2guR0VUOnZvaWQgMH0oZSk7aWYodClyZXR1cm4gci5mb3JtYXRCaWRSZXF1ZXN0KHQsZSxuKX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHk7aWYocil7dmFyIG49dGhpcy5fcGFyc2VCaWRSZXNwb25zZShyLHQpO2lmKG4pcmV0dXJuIG59ZWxzZSBvLmxvZ0Vycm9yKCJFbXB0eSBiaWQgcmVzcG9uc2UiLHQuYmlkZGVyQ29kZSxyKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9IW8uaXNFbXB0eSh0KSYmdFswXS5ib2R5O3JldHVybiByJiZyLmV4dCYmci5leHQucGl4ZWxzP3RoaXMucGFyc2VQaXhlbEl0ZW1zKHIuZXh0LnBpeGVscyk6W119LGZvcm1hdEJpZFJlcXVlc3Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3N3aXRjaChlKXtjYXNlIGguR0VUOm49e3VybDp0aGlzLmJ1aWxkTWFya2V0cGxhY2VVcmwodCxyKSxtZXRob2Q6IkdFVCIsdHRsOjYwfTticmVhaztjYXNlIHYuR0VUOm49e3VybDp0aGlzLmJ1aWxkT25lTW9iaWxlR2V0VXJsKHQsciksbWV0aG9kOiJHRVQiLHR0bDozNjAwfTticmVhaztjYXNlIHYuUE9TVDpuPXt1cmw6dGhpcy5idWlsZE9uZU1vYmlsZUJhc2VVcmwodCksbWV0aG9kOiJQT1NUIix0dGw6MzYwMCxkYXRhOnRoaXMuYnVpbGRPcGVuUnRiUmVxdWVzdERhdGEodCxyKSxvcHRpb25zOntjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbiIsY3VzdG9tSGVhZGVyczp7Ingtb3BlbnJ0Yi12ZXJzaW9uIjoiMi4yIn19fX1yZXR1cm4gbi5iaWRkZXJDb2RlPXQuYmlkZGVyLG4uYmlkSWQ9dC5iaWRJZCxuLnVzZXJTeW5jT249dC5wYXJhbXMudXNlclN5bmNPbixufSxidWlsZE1hcmtldHBsYWNlVXJsOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbj1lLnBhcmFtcyxpPW4uc2VydmVyLGE9bi5yZWdpb258fCJ1cyI7cmV0dXJuIFQuaGFzT3duUHJvcGVydHkoYSl8fChvLmxvZ1dhcm4oIlVua25vd24gcmVnaW9uICciLmNvbmNhdChhLCInIGZvciBBT0wgYmlkZGVyLiIpKSxhPSJ1cyIpLHI9aXx8VFthXSxuLnJlZ2lvbj1hLHRoaXMuYXBwbHlQcm90b2NvbChQKHtob3N0OnIsbmV0d29yazpuLm5ldHdvcmsscGxhY2VtZW50OnBhcnNlSW50KG4ucGxhY2VtZW50KSxwYWdlaWQ6bi5wYWdlSWR8fDAsc2l6ZWlkOm4uc2l6ZUlkfHwwLGFsaWFzOm4uYWxpYXN8fG8uZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLG1pc2M6KG5ldyBEYXRlKS5nZXRUaW1lKCksZHluYW1pY1BhcmFtczp0aGlzLmZvcm1hdE1hcmtldHBsYWNlRHluYW1pY1BhcmFtcyhuLHQpfSkpfSxidWlsZE9uZU1vYmlsZUdldFVybDpmdW5jdGlvbihlLHQpe3ZhciByPWUucGFyYW1zLG49ci5kY24saT1yLnBvcyxhPXIuZXh0OyJvYmplY3QiPT09ZChlLnVzZXJJZCkmJihhPWF8fHt9LHEoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YVsiZWlkIitlLnNvdXJjZV09ZS51aWRzWzBdLmlkfSkpKTt2YXIgbz10aGlzLmJ1aWxkT25lTW9iaWxlQmFzZVVybChlKTtpZihuJiZpKXt2YXIgcz10aGlzLmZvcm1hdE9uZU1vYmlsZUR5bmFtaWNQYXJhbXMoYSx0KTtvKz1TKHtkY246bixwb3M6aSxkeW5hbWljUGFyYW1zOnN9KX1yZXR1cm4gb30sYnVpbGRPbmVNb2JpbGVCYXNlVXJsOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFwcGx5UHJvdG9jb2woRSh7aG9zdDplLnBhcmFtcy5ob3N0fHwiYzJzaGIuc3NwLnlhaG9vLmNvbSJ9KSl9LGFwcGx5UHJvdG9jb2w6ZnVuY3Rpb24oZSl7cmV0dXJuL15odHRwcz86XC9cLy9pLnRlc3QoZSk/ZTowPT09ZS5pbmRleE9mKCIvLyIpPyIiLmNvbmNhdCh4LCI6IikuY29uY2F0KGUpOiIiLmNvbmNhdCh4LCI6Ly8iKS5jb25jYXQoZSl9LGZvcm1hdE1hcmtldHBsYWNlRHluYW1pY1BhcmFtczpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXt9O3Uocix0aGlzLmZvcm1hdEtleVZhbHVlcyhlLmtleVZhbHVlcykpLHUocix0aGlzLmZvcm1hdENvbnNlbnREYXRhKHQpKTt2YXIgbj0iIjtyZXR1cm4gby5fZWFjaChyLChmdW5jdGlvbihlLHQpe24rPSIiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlKSwiOyIpfSkpLG59LGZvcm1hdE9uZU1vYmlsZUR5bmFtaWNQYXJhbXM6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dGhpcy5pc1NlY3VyZVByb3RvY29sKCkmJihlLnNlY3VyZT1DKSx1KGUsdGhpcy5mb3JtYXRDb25zZW50RGF0YSh0KSk7dmFyIHI9IiI7cmV0dXJuIG8uX2VhY2goZSwoZnVuY3Rpb24oZSx0KXtyKz0iJiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUpKX0pKSxyfSxidWlsZE9wZW5SdGJSZXF1ZXN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj17aWQ6ZS5wYXJhbXMuaWQsaW1wOmUucGFyYW1zLmltcH07aWYodGhpcy5pc0VVQ29uc2VudFJlcXVpcmVkKHQpJiYoby5kZWVwU2V0VmFsdWUociwicmVncy5leHQuZ2RwciIsQyksdC5nZHByLmNvbnNlbnRTdHJpbmcmJm8uZGVlcFNldFZhbHVlKHIsInVzZXIuZXh0LmNvbnNlbnQiLHQuZ2Rwci5jb25zZW50U3RyaW5nKSksdC51c3BDb25zZW50JiZvLmRlZXBTZXRWYWx1ZShyLCJyZWdzLmV4dC51c19wcml2YWN5Iix0LnVzcENvbnNlbnQpLCJvYmplY3QiPT09ZChlLnVzZXJJZCkpe3IudXNlcj1yLnVzZXJ8fHt9LHIudXNlci5leHQ9ci51c2VyLmV4dHx8e307dmFyIG49cShlKTtuLmxlbmd0aD4wJiYoci51c2VyLmV4dC5laWRzPW4pfXJldHVybiByfSxpc0VVQ29uc2VudFJlcXVpcmVkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUuZ2RwciYmZS5nZHByLmdkcHJBcHBsaWVzKX0sZm9ybWF0S2V5VmFsdWVzOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBvLl9lYWNoKGUsKGZ1bmN0aW9uKGUscil7dFsia3YiLmNvbmNhdChyKV09ZX0pKSx0fSxmb3JtYXRDb25zZW50RGF0YTpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdGhpcy5pc0VVQ29uc2VudFJlcXVpcmVkKGUpJiYodC5nZHByPUMsZS5nZHByLmNvbnNlbnRTdHJpbmcmJih0LmV1Y29uc2VudD1lLmdkcHIuY29uc2VudFN0cmluZykpLGUudXNwQ29uc2VudCYmKHQudXNfcHJpdmFjeT1lLnVzcENvbnNlbnQpLHR9LHBhcnNlUGl4ZWxJdGVtczpmdW5jdGlvbihlKXt2YXIgdD0vXHcqKD89XHMpLyxyPS9zcmM9KCJ8JykoLio/KVwxLyxuPVtdO2lmKGUpe3ZhciBpPWUubWF0Y2goLyhpbWd8aWZyYW1lKVtcc1xTXSo/c3JjXHMqPVxzKigifCcpKC4qPylcMi9naSk7aSYmaS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1lLm1hdGNoKHQpWzBdLGE9ZS5tYXRjaChyKVsyXTtpJiZhJiZuLnB1c2goe3R5cGU6aT09PXkuVEFHP3kuVFlQRTpnLlRZUEUsdXJsOmF9KX0pKX1yZXR1cm4gbn0sX3BhcnNlQmlkUmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcixuO3RyeXtyPWUuc2VhdGJpZFswXS5iaWRbMF19Y2F0Y2goZSl7cmV0dXJufWlmKHIuZXh0JiZyLmV4dC5lbmNwKW49ci5leHQuZW5jcDtlbHNlIGlmKG51bGw9PT0obj1yLnByaWNlKXx8aXNOYU4obikpcmV0dXJuIHZvaWQgby5sb2dFcnJvcigiSW52YWxpZCBwcmljZSBpbiBiaWQgcmVzcG9uc2UiLGwscik7cmV0dXJue2JpZGRlckNvZGU6dC5iaWRkZXJDb2RlLHJlcXVlc3RJZDp0LmJpZElkLGFkOnIuYWRtLGNwbTpuLHdpZHRoOnIudyxoZWlnaHQ6ci5oLGNyZWF0aXZlSWQ6ci5jcmlkfHwwLHB1YmFwaUlkOmUuaWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGRlYWxJZDpyLmRlYWxpZCxuZXRSZXZlbnVlOiEwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOnImJnIuYWRvbWFpbj9yLmFkb21haW46W119LHR0bDp0LnR0bH19LGlzT25lTW9iaWxlQmlkZGVyOlIsaXNTZWN1cmVQcm90b2NvbDpmdW5jdGlvbigpe3JldHVybiJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x9fTtPYmplY3Qocy5yZWdpc3RlckJpZGRlcikoTSl9fSxbMjYzXSk7CnVwYmpzQ2h1bmsoWzMwNl0sezI3MzpmdW5jdGlvbihlLHIsYSl7ZS5leHBvcnRzPWEoMjc0KX0sMjc0OmZ1bmN0aW9uKGUscixhKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGEuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKTt2YXIgdD1hKDEzKSxuPWEoMCksaT1hKDMpLHM9YSgxKSxvPWEoMiksZD1hKDIzKSxwPWEoMTEpLGM9YS5uKHApLHU9YSgxMiksbD1hLm4odSksbT1hKDIyKSxmPWEoNyk7ZnVuY3Rpb24gdihlKXtyZXR1cm4odj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHkoKXtyZXR1cm4oeT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgYT1hcmd1bWVudHNbcl07Zm9yKHZhciB0IGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsdCkmJihlW3RdPWFbdF0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGcoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHIpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGcoZSxyKTt2YXIgYT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1hJiZlLmNvbnN0cnVjdG9yJiYoYT1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09YXx8IlNldCI9PT1hKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09YXx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QoYSkpcmV0dXJuIGcoZSxyKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gZyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgYT0wLHQ9bmV3IEFycmF5KHIpO2E8cjthKyspdFthXT1lW2FdO3JldHVybiB0fXZhciBoPSJhcHBuZXh1cyIsXz0iaHR0cHM6Ly9pYi5hZG54cy5jb20vdXQvdjMvcHJlYmlkIixrPSJodHRwczovL2liLmFkbnhzLXNpbXBsZS5jb20vdXQvdjMvcHJlYmlkIixJPVsiaWQiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwic2tpcHBhYmxlIiwicGxheWJhY2tfbWV0aG9kIiwiZnJhbWV3b3JrcyIsImNvbnRleHQiLCJza2lwb2Zmc2V0Il0sQT1bIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJza2lwIiwic2tpcGFmdGVyIiwicGxheWJhY2ttZXRob2QiLCJhcGkiXSx3PVsiYWdlIiwiZXh0ZXJuYWxVaWQiLCJzZWdtZW50cyIsImdlbmRlciIsImRudCIsImxhbmd1YWdlIl0seD1bImdlbyIsImRldmljZV9pZCJdLEM9WyJlbmFibGVkIiwiZG9uZ2xlIiwibWVtYmVyX2lkIiwiZGVidWdfdGltZW91dCJdLFM9e3BsYXliYWNrX21ldGhvZDp7dW5rbm93bjowLGF1dG9fcGxheV9zb3VuZF9vbjoxLGF1dG9fcGxheV9zb3VuZF9vZmY6MixjbGlja190b19wbGF5OjMsbW91c2Vfb3Zlcjo0LGF1dG9fcGxheV9zb3VuZF91bmtub3duOjV9LGNvbnRleHQ6e3Vua25vd246MCxwcmVfcm9sbDoxLG1pZF9yb2xsOjIscG9zdF9yb2xsOjMsb3V0c3RyZWFtOjQsImluLWJhbm5lciI6NX19LFQ9e2JvZHk6ImRlc2NyaXB0aW9uIixib2R5MjoiZGVzYzIiLGN0YToiY3RhdGV4dCIsaW1hZ2U6e3NlcnZlck5hbWU6Im1haW5faW1hZ2UiLHJlcXVpcmVkUGFyYW1zOntyZXF1aXJlZDohMH19LGljb246e3NlcnZlck5hbWU6Imljb24iLHJlcXVpcmVkUGFyYW1zOntyZXF1aXJlZDohMH19LHNwb25zb3JlZEJ5OiJzcG9uc29yZWRfYnkiLHByaXZhY3lMaW5rOiJwcml2YWN5X2xpbmsiLHNhbGVQcmljZToic2FsZXByaWNlIixkaXNwbGF5VXJsOiJkaXNwbGF5dXJsIn0sRT0vXC9cL2NkblwuYWRueHNcLmNvbVwvdnxcL1wvY2RuXC5hZG54c1wtc2ltcGxlXC5jb21cL3YvLE89T2JqZWN0KGYuYikoMzIsaCksUj17Y29kZTpoLGd2bGlkOjMyLGFsaWFzZXM6W3tjb2RlOiJhcHBuZXh1c0FzdCIsZ3ZsaWQ6MzJ9LHtjb2RlOiJicmVhbHRpbWUifSx7Y29kZToiZW14ZGlnaXRhbCIsZ3ZsaWQ6MTgzfSx7Y29kZToicGFnZXNjaWVuY2UifSx7Y29kZToiZGVmeW1lZGlhIn0se2NvZGU6ImdvdXJtZXRhZHMifSx7Y29kZToibWF0b215In0se2NvZGU6ImZlYXR1cmVmb3J3YXJkIn0se2NvZGU6Im9mdG1lZGlhIn0se2NvZGU6ImRpc3RyaWN0bSIsZ3ZsaWQ6MTQ0fSx7Y29kZToiYWRhc3RhIn0se2NvZGU6ImJlaW50b28iLGd2bGlkOjYxOH1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6W28uYixvLmQsby5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcy5wbGFjZW1lbnRJZHx8ZS5wYXJhbXMubWVtYmVyJiZlLnBhcmFtcy5pbnZDb2RlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBhPWUubWFwKHEpLHQ9YygpKGUsTSkscz17fTshMD09PWkuYi5nZXRDb25maWcoImNvcHBhIikmJihzPXtjb3BwYTohMH0pLHQmJk9iamVjdC5rZXlzKHQucGFyYW1zLnVzZXIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKSh3LGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPW4uY29udmVydENhbWVsVG9VbmRlcnNjb3JlKGUpO2lmKCJzZWdtZW50cyI9PT1lJiZuLmlzQXJyYXkodC5wYXJhbXMudXNlcltlXSkpe3ZhciBhPVtdO3QucGFyYW1zLnVzZXJbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5pc051bWJlcihlKT9hLnB1c2goe2lkOmV9KTpuLmlzUGxhaW5PYmplY3QoZSkmJmEucHVzaChlKX0pKSxzW3JdPWF9ZWxzZSJzZWdtZW50cyIhPT1lJiYoc1tyXT10LnBhcmFtcy51c2VyW2VdKX0pKTt2YXIgbyxkPWMoKShlLEIpO2QmJmQucGFyYW1zJiZkLnBhcmFtcy5hcHAmJihvPXt9LE9iamVjdC5rZXlzKGQucGFyYW1zLmFwcCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKHgsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV09ZC5wYXJhbXMuYXBwW2VdfSkpKTt2YXIgcCx1PWMoKShlLEYpO3UmJnUucGFyYW1zJiZkLnBhcmFtcy5hcHAmJmQucGFyYW1zLmFwcC5pZCYmKHA9e2FwcGlkOnUucGFyYW1zLmFwcC5pZH0pO3ZhciBtPXt9LGY9e30sdj1PLmdldENvb2tpZSgiYXBuX3ByZWJpZF9kZWJ1ZyIpfHxudWxsO2lmKHYpdHJ5e209SlNPTi5wYXJzZSh2KX1jYXRjaChlKXtuLmxvZ0Vycm9yKCJBcHBOZXh1cyBEZWJ1ZyBBdWN0aW9uIENvb2tpZSBFcnJvcjpcblxuIitlKX1lbHNle3ZhciB5PWMoKShlLFYpO3kmJnkuZGVidWcmJihtPXkuZGVidWcpfW0mJm0uZW5hYmxlZCYmT2JqZWN0LmtleXMobSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKEMsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZltlXT1tW2VdfSkpO3ZhciBnPWMoKShlLEQpLGg9Zz9wYXJzZUludChnLnBhcmFtcy5tZW1iZXIsMTApOjAsST1lWzBdLnNjaGFpbixBPWMoKShlLFcpLFM9e3RhZ3M6YihhKSx1c2VyOnMsc2RrOntzb3VyY2U6InBianMiLHZlcnNpb246IjUuMTEuMCJ9LHNjaGFpbjpJfTtpZihBJiYoUy5pYWJfc3VwcG9ydD17b21pZHBuOiJBcHBuZXh1cyIsb21pZHB2OiI1LjExLjAifSksaD4wJiYoUy5tZW1iZXJfaWQ9aCksZCYmKFMuZGV2aWNlPW8pLHUmJihTLmFwcD1wKSxpLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikmJihTLmJyYW5kX2NhdGVnb3J5X3VuaXF1ZW5lc3M9ITApLGYuZW5hYmxlZCYmKFMuZGVidWc9ZixuLmxvZ0luZm8oIkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gU2V0dGluZ3M6XG5cbiIrSlNPTi5zdHJpbmdpZnkoZixudWxsLDQpKSksciYmci5nZHByQ29uc2VudCYmKFMuZ2Rwcl9jb25zZW50PXtjb25zZW50X3N0cmluZzpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudF9yZXF1aXJlZDpyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSxyLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCYmLTEhPT1yLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudC5pbmRleE9mKCJ+IikpKXt2YXIgVD1yLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCxFPVQuc3Vic3RyaW5nKFQuaW5kZXhPZigifiIpKzEpO1MuZ2Rwcl9jb25zZW50LmFkZHRsX2NvbnNlbnQ9RS5zcGxpdCgiLiIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSkpfWlmKHImJnIudXNwQ29uc2VudCYmKFMudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpLHImJnIucmVmZXJlckluZm8pe3ZhciBSPXtyZF9yZWY6ZW5jb2RlVVJJQ29tcG9uZW50KHIucmVmZXJlckluZm8ucmVmZXJlcikscmRfdG9wOnIucmVmZXJlckluZm8ucmVhY2hlZFRvcCxyZF9pZnM6ci5yZWZlcmVySW5mby5udW1JZnJhbWVzLHJkX3N0azpyLnJlZmVyZXJJbmZvLnN0YWNrLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX0pKS5qb2luKCIsIil9O1MucmVmZXJyZXJfZGV0ZWN0aW9uPVJ9aWYoYygpKGUsSikmJmUuZmlsdGVyKEopLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUscil7dmFyIGE9ci5tZWRpYVR5cGVzLnZpZGVvLHQ9YS5kdXJhdGlvblJhbmdlU2VjLGk9YS5yZXF1aXJlRXhhY3REdXJhdGlvbixzPWZ1bmN0aW9uKGUpe3ZhciByPWUuYWRQb2REdXJhdGlvblNlYyxhPWUuZHVyYXRpb25SYW5nZVNlYyx0PWUucmVxdWlyZUV4YWN0RHVyYXRpb24saT1uLmdldE1pblZhbHVlRnJvbUFycmF5KGEpLHM9TWF0aC5mbG9vcihyL2kpO3JldHVybiB0P01hdGgubWF4KHMsYS5sZW5ndGgpOnN9KHIubWVkaWFUeXBlcy52aWRlbyksbz1uLmdldE1heFZhbHVlRnJvbUFycmF5KHQpLGQ9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnV1aWQ9PT1yLmJpZElkfSkpLHA9bi5maWxsLmFwcGx5KG4sYihkKS5jb25jYXQoW3NdKSk7aWYoaSl7dmFyIGM9TWF0aC5jZWlsKHMvdC5sZW5ndGgpLHU9bi5jaHVuayhwLGMpO3QuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt1W3JdLm1hcCgoZnVuY3Rpb24ocil7SChyLCJtaW5kdXJhdGlvbiIsZSksSChyLCJtYXhkdXJhdGlvbiIsZSl9KSl9KSl9ZWxzZSBwLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEgoZSwibWF4ZHVyYXRpb24iLG8pfSkpO3JldHVybiBwfShhLGUpLHQ9Uy50YWdzLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIHIudXVpZCE9PWUuYmlkSWR9KSk7Uy50YWdzPVtdLmNvbmNhdChiKHQpLGIocikpfSkpLGVbMF0udXNlcklkKXt2YXIgaj1bXTtLKGosbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5mbG9jSWQuaWQiKSwiY2hyb21lLmNvbSIsbnVsbCksSyhqLG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuY3JpdGVvSWQiKSwiY3JpdGVvLmNvbSIsbnVsbCksSyhqLG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQubmV0SWQiKSwibmV0aWQuZGUiLG51bGwpLEsoaixuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmlkbF9lbnYiKSwibGl2ZXJhbXAuY29tIixudWxsKSxLKGosbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC50ZGlkIiksImFkc2VydmVyLm9yZyIsIlRESUQiKSxLKGosbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC51aWQyLmlkIiksInVpZGFwaS5jb20iLCJVSUQyIiksai5sZW5ndGgmJihTLmVpZHM9ail9cmV0dXJuIGFbMF0ucHVibGlzaGVyX2lkJiYoUy5wdWJsaXNoZXJfaWQ9YVswXS5wdWJsaXNoZXJfaWQpLGZ1bmN0aW9uKGUscil7dmFyIGE9W10sdD17d2l0aENyZWRlbnRpYWxzOiEwfSxzPV87TihyKXx8KHM9ayk7IlRSVUUiIT09bi5nZXRQYXJhbWV0ZXJCeU5hbWUoImFwbl90ZXN0IikudG9VcHBlckNhc2UoKSYmITAhPT1pLmIuZ2V0Q29uZmlnKCJhcG5fdGVzdCIpfHwodC5jdXN0b21IZWFkZXJzPXsiWC1Jcy1UZXN0IjoxfSk7aWYoZS50YWdzLmxlbmd0aD4xNSl7dmFyIG89bi5kZWVwQ2xvbmUoZSk7bi5jaHVuayhlLnRhZ3MsMTUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe28udGFncz1lO3ZhciBuPUpTT04uc3RyaW5naWZ5KG8pO2EucHVzaCh7bWV0aG9kOiJQT1NUIix1cmw6cyxkYXRhOm4sYmlkZGVyUmVxdWVzdDpyLG9wdGlvbnM6dH0pfSkpfWVsc2V7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoZSk7YT17bWV0aG9kOiJQT1NUIix1cmw6cyxkYXRhOmQsYmlkZGVyUmVxdWVzdDpyLG9wdGlvbnM6dH19cmV0dXJuIGF9KFMscil9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIGE9dGhpcyxpPXIuYmlkZGVyUmVxdWVzdDtlPWUuYm9keTt2YXIgZD1bXTtpZighZXx8ZS5lcnJvcil7dmFyIHA9ImluIHJlc3BvbnNlIGZvciAiLmNvbmNhdChpLmJpZGRlckNvZGUsIiBhZGFwdGVyIik7cmV0dXJuIGUmJmUuZXJyb3ImJihwKz0iOiAiLmNvbmNhdChlLmVycm9yKSksbi5sb2dFcnJvcihwKSxkfWlmKGUudGFncyYmZS50YWdzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByLHA9KHI9ZSkmJnIuYWRzJiZyLmFkcy5sZW5ndGgmJmMoKShyLmFkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUucnRifSkpO2lmKHAmJjAhPT1wLmNwbSYmbCgpKGEuc3VwcG9ydGVkTWVkaWFUeXBlcyxwLmFkX3R5cGUpKXt2YXIgdT1mdW5jdGlvbihlLHIsYSl7dmFyIGk9bi5nZXRCaWRSZXF1ZXN0KGUudXVpZCxbYV0pLGQ9e3JlcXVlc3RJZDplLnV1aWQsY3BtOnIuY3BtLGNyZWF0aXZlSWQ6ci5jcmVhdGl2ZV9pZCxkZWFsSWQ6ci5kZWFsX2lkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjMwMCxhZFVuaXRDb2RlOmkuYWRVbml0Q29kZSxhcHBuZXh1czp7YnV5ZXJNZW1iZXJJZDpyLmJ1eWVyX21lbWJlcl9pZCxkZWFsUHJpb3JpdHk6ci5kZWFsX3ByaW9yaXR5LGRlYWxDb2RlOnIuZGVhbF9jb2RlfX07ci5hZG9tYWluJiYoZC5tZXRhPXkoe30sZC5tZXRhLHthZHZlcnRpc2VyRG9tYWluczpbXX0pKTtyLmFkdmVydGlzZXJfaWQmJihkLm1ldGE9eSh7fSxkLm1ldGEse2FkdmVydGlzZXJJZDpyLmFkdmVydGlzZXJfaWR9KSk7aWYoci5ydGIudmlkZW8pe3N3aXRjaCh5KGQse3dpZHRoOnIucnRiLnZpZGVvLnBsYXllcl93aWR0aCxoZWlnaHQ6ci5ydGIudmlkZW8ucGxheWVyX2hlaWdodCx2YXN0SW1wVXJsOnIubm90aWZ5X3VybCx0dGw6MzYwMH0pLG4uZGVlcEFjY2VzcyhpLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSl7Y2FzZSBvLmE6dmFyIHA9T2JqZWN0KHMuZ2V0SWFiU3ViQ2F0ZWdvcnkpKGkuYmlkZGVyLHIuYnJhbmRfY2F0ZWdvcnlfaWQpO2QubWV0YT15KHt9LGQubWV0YSx7cHJpbWFyeUNhdElkOnB9KTt2YXIgdT1yLmRlYWxfcHJpb3JpdHk7ZC52aWRlbz17Y29udGV4dDpvLmEsZHVyYXRpb25TZWNvbmRzOk1hdGguZmxvb3Ioci5ydGIudmlkZW8uZHVyYXRpb25fbXMvMWUzKSxkZWFsVGllcjp1fSxkLnZhc3RVcmw9ci5ydGIudmlkZW8uYXNzZXRfdXJsO2JyZWFrO2Nhc2UgbS5iOmlmKGQuYWRSZXNwb25zZT1lLGQuYWRSZXNwb25zZS5hZD1kLmFkUmVzcG9uc2UuYWRzWzBdLGQuYWRSZXNwb25zZS5hZC52aWRlbz1kLmFkUmVzcG9uc2UuYWQucnRiLnZpZGVvLGQudmFzdFhtbD1yLnJ0Yi52aWRlby5jb250ZW50LHIucmVuZGVyZXJfdXJsKXt2YXIgbD1jKCkoYS5iaWRzLChmdW5jdGlvbihyKXtyZXR1cm4gci5iaWRJZD09PWUudXVpZH0pKSxmPW4uZGVlcEFjY2VzcyhsLCJyZW5kZXJlci5vcHRpb25zIik7ZC5yZW5kZXJlcj1mdW5jdGlvbihlLHIpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxpPXQuYS5pbnN0YWxsKHtpZDpyLnJlbmRlcmVyX2lkLHVybDpyLnJlbmRlcmVyX3VybCxjb25maWc6YSxsb2FkZWQ6ITEsYWRVbml0Q29kZTplfSk7dHJ5e2kuc2V0UmVuZGVyKEwpfWNhdGNoKGUpe24ubG9nV2FybigiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gaS5zZXRFdmVudEhhbmRsZXJzKHtpbXByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubG9nTWVzc2FnZSgiQXBwTmV4dXMgb3V0c3RyZWFtIHZpZGVvIGltcHJlc3Npb24gZXZlbnQiKX0sbG9hZGVkOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubG9nTWVzc2FnZSgiQXBwTmV4dXMgb3V0c3RyZWFtIHZpZGVvIGxvYWRlZCBldmVudCIpfSxlbmRlZDpmdW5jdGlvbigpe24ubG9nTWVzc2FnZSgiQXBwTmV4dXMgb3V0c3RyZWFtIHJlbmRlcmVyIHZpZGVvIGV2ZW50IiksZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiIyIuY29uY2F0KGUpKS5zdHlsZS5kaXNwbGF5PSJub25lIn19KSxpfShkLmFkVW5pdENvZGUscixmKX1icmVhaztjYXNlIG0uYTpkLnZhc3RVcmw9ci5ub3RpZnlfdXJsKyImcmVkaXI9IitlbmNvZGVVUklDb21wb25lbnQoci5ydGIudmlkZW8uYXNzZXRfdXJsKX19ZWxzZSBpZihyLnJ0YltvLmNdKXt2YXIgdj1yLnJ0YltvLmNdLGI9ci52aWV3YWJpbGl0eS5jb25maWcucmVwbGFjZSgic3JjPSIsImRhdGEtc3JjPSIpLGc9di5qYXZhc2NyaXB0X3RyYWNrZXJzO251bGw9PWc/Zz1iOm4uaXNTdHIoZyk/Zz1bZyxiXTpnLnB1c2goYiksZFtvLmNdPXt0aXRsZTp2LnRpdGxlLGJvZHk6di5kZXNjLGJvZHkyOnYuZGVzYzIsY3RhOnYuY3RhdGV4dCxyYXRpbmc6di5yYXRpbmcsc3BvbnNvcmVkQnk6di5zcG9uc29yZWQscHJpdmFjeUxpbms6di5wcml2YWN5X2xpbmssYWRkcmVzczp2LmFkZHJlc3MsZG93bmxvYWRzOnYuZG93bmxvYWRzLGxpa2VzOnYubGlrZXMscGhvbmU6di5waG9uZSxwcmljZTp2LnByaWNlLHNhbGVQcmljZTp2LnNhbGVwcmljZSxjbGlja1VybDp2LmxpbmsudXJsLGRpc3BsYXlVcmw6di5kaXNwbGF5dXJsLGNsaWNrVHJhY2tlcnM6di5saW5rLmNsaWNrX3RyYWNrZXJzLGltcHJlc3Npb25UcmFja2Vyczp2LmltcHJlc3Npb25fdHJhY2tlcnMsamF2YXNjcmlwdFRyYWNrZXJzOmd9LHYubWFpbl9pbWcmJihkLm5hdGl2ZS5pbWFnZT17dXJsOnYubWFpbl9pbWcudXJsLGhlaWdodDp2Lm1haW5faW1nLmhlaWdodCx3aWR0aDp2Lm1haW5faW1nLndpZHRofSksdi5pY29uJiYoZC5uYXRpdmUuaWNvbj17dXJsOnYuaWNvbi51cmwsaGVpZ2h0OnYuaWNvbi5oZWlnaHQsd2lkdGg6di5pY29uLndpZHRofSl9ZWxzZXt5KGQse3dpZHRoOnIucnRiLmJhbm5lci53aWR0aCxoZWlnaHQ6ci5ydGIuYmFubmVyLmhlaWdodCxhZDpyLnJ0Yi5iYW5uZXIuY29udGVudH0pO3RyeXtpZihyLnJ0Yi50cmFja2Vycyl7dmFyIGg9ci5ydGIudHJhY2tlcnNbMF0uaW1wcmVzc2lvbl91cmxzWzBdLF89bi5jcmVhdGVUcmFja1BpeGVsSHRtbChoKTtkLmFkKz1ffX1jYXRjaChlKXtuLmxvZ0Vycm9yKCJFcnJvciBhcHBlbmRpbmcgdHJhY2tpbmcgcGl4ZWwiLGUpfX1yZXR1cm4gZH0oZSxwLGkpO3UubWVkaWFUeXBlPWZ1bmN0aW9uKGUpe3ZhciByPWUuYWRfdHlwZTtyZXR1cm4gcj09PW8uZD9vLmQ6cj09PW8uYz9vLmM6by5ifShwKSxkLnB1c2godSl9fSkpLGUuZGVidWcmJmUuZGVidWcuZGVidWdfaW5mbyl7dmFyIHU9IkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gZm9yIFByZWJpZFxuXG4iK2UuZGVidWcuZGVidWdfaW5mbzt1PXUucmVwbGFjZSgvKDx0ZD58PHRoPikvZ20sIlx0IikucmVwbGFjZSgvKDxcL3RkPnw8XC90aD4pL2dtLCJcbiIpLnJlcGxhY2UoL148YnI+L2dtLCIiKS5yZXBsYWNlKC8oPGJyPlxufDxicj4pL2dtLCJcbiIpLnJlcGxhY2UoLzxoMT4oLiopPFwvaDE+L2dtLCJcblxuPT09PT0gJDEgPT09PT1cblxuIikucmVwbGFjZSgvPGhbMi02XT4oLiopPFwvaFsyLTZdPi9nbSwiXG5cbioqKiAkMSAqKipcblxuIikucmVwbGFjZSgvKDwoW14+XSspPikvZ2ltLCIiKSxuLmxvZ01lc3NhZ2UoImh0dHBzOi8vY29uc29sZS5hcHBuZXh1cy5jb20vZG9jcy91bmRlcnN0YW5kaW5nLXRoZS1kZWJ1Zy1hdWN0aW9uIiksbi5sb2dNZXNzYWdlKHUpfXJldHVybiBkfSxnZXRNYXBwaW5nRmlsZUluZm86ZnVuY3Rpb24oKXtyZXR1cm57dXJsOiJodHRwczovL2FjZG4uYWRueHMtc2ltcGxlLmNvbS9wcmViaWQvYXBwbmV4dXMtbWFwcGluZy9tYXBwaW5ncy5qc29uIixyZWZyZXNoSW5EYXlzOjJ9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLGEpe2lmKGUuaWZyYW1lRW5hYmxlZCYmTih7Z2RwckNvbnNlbnQ6YX0pKXJldHVyblt7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vZG1wL2FzeW5jX3VzZXJzeW5jLmh0bWwifV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBlPW4uY29udmVydFR5cGVzKHttZW1iZXI6InN0cmluZyIsaW52Q29kZToic3RyaW5nIixwbGFjZW1lbnRJZDoibnVtYmVyIixrZXl3b3JkczpuLnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHMscHVibGlzaGVySWQ6Im51bWJlciJ9LGUpLHImJihlLnVzZV9wbXRfcnVsZT0iYm9vbGVhbiI9PXR5cGVvZiBlLnVzZVBheW1lbnRSdWxlJiZlLnVzZVBheW1lbnRSdWxlLGUudXNlUGF5bWVudFJ1bGUmJmRlbGV0ZSBlLnVzZVBheW1lbnRSdWxlLGooZS5rZXl3b3JkcykmJmUua2V5d29yZHMuZm9yRWFjaChQKSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgYT1uLmNvbnZlcnRDYW1lbFRvVW5kZXJzY29yZShyKTthIT09ciYmKGVbYV09ZVtyXSxkZWxldGUgZVtyXSl9KSkpLGV9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe2UubmF0aXZlJiZmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcjtpZihuLmlzU3RyKGUpJiZVKGUpKXI9ZTtlbHNlIGlmKG4uaXNBcnJheShlKSlmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIHQ9ZVthXTtVKHQpJiYocj10KX1yZXR1cm4gcn0oZS5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzKTtpZihyKWZvcih2YXIgYT0icGJqc19hZGlkPSIrZS5hZElkKyI7cGJqc19hdWM9IitlLmFkVW5pdENvZGUsdD1mdW5jdGlvbihlKXt2YXIgcj1lLmluZGV4T2YoJ3NyYz0iJykrNSxhPWUuaW5kZXhPZignIicscik7cmV0dXJuIGUuc3Vic3RyaW5nKHIsYSl9KHIpLGk9dC5yZXBsYWNlKCJkb21faWQ9JW5hdGl2ZV9kb21faWQlIixhKSxzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpZnJhbWUiKSxvPSExLGQ9MDtkPHMubGVuZ3RoJiYhbztkKyspe3ZhciBwPXNbZF07dHJ5e3ZhciBjPXAuY29udGVudERvY3VtZW50fHxwLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7aWYoYylmb3IodmFyIHU9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksbD0wO2w8dS5sZW5ndGgmJiFvO2wrKyl7dmFyIG09dVtsXTttLmdldEF0dHJpYnV0ZSgiZGF0YS1zcmMiKT09dCYmKG0uc2V0QXR0cmlidXRlKCJzcmMiLGkpLG0uc2V0QXR0cmlidXRlKCJkYXRhLXNyYyIsIiIpLG0ucmVtb3ZlQXR0cmlidXRlJiZtLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1zcmMiKSxvPSEwKX19Y2F0Y2goZSl7aWYoIShlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiYiU2VjdXJpdHlFcnJvciI9PT1lLm5hbWUpKXRocm93IGV9fX0oZSl9fTtmdW5jdGlvbiBqKGUpe3JldHVybiEhKG4uaXNBcnJheShlKSYmZS5sZW5ndGg+MCl9ZnVuY3Rpb24gUChlKXtqKGUudmFsdWUpJiYiIj09PWUudmFsdWVbMF0mJmRlbGV0ZSBlLnZhbHVlfWZ1bmN0aW9uIFUoZSl7dmFyIHI9ZS5tYXRjaChFKSxhPW51bGwhPXImJnIubGVuZ3RoPj0xLHQ9ZS5tYXRjaCgidHJrLmpzIiksbj1udWxsIT10JiZ0Lmxlbmd0aD49MTtyZXR1cm4gZS5zdGFydHNXaXRoKCI8c2NyaXB0IikmJm4mJmF9ZnVuY3Rpb24gTihlKXt2YXIgcj0hMDtyZXR1cm4gZSYmZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmMj09PWUuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbiYmKHI9ISghMCE9PW4uZGVlcEFjY2VzcyhlLmdkcHJDb25zZW50LCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKSkscn1mdW5jdGlvbiBxKGUpe3ZhciByPXt9O3Iuc2l6ZXM9eihlLnNpemVzKSxyLnByaW1hcnlfc2l6ZT1yLnNpemVzWzBdLHIuYWRfdHlwZXM9W10sci51dWlkPWUuYmlkSWQsZS5wYXJhbXMucGxhY2VtZW50SWQ/ci5pZD1wYXJzZUludChlLnBhcmFtcy5wbGFjZW1lbnRJZCwxMCk6ci5jb2RlPWUucGFyYW1zLmludkNvZGUsci5hbGxvd19zbWFsbGVyX3NpemVzPWUucGFyYW1zLmFsbG93U21hbGxlclNpemVzfHwhMSxyLnVzZV9wbXRfcnVsZT1lLnBhcmFtcy51c2VQYXltZW50UnVsZXx8ITEsci5wcmViaWQ9ITAsci5kaXNhYmxlX3BzYT0hMDt2YXIgYT1mdW5jdGlvbihlKXtpZighbi5pc0ZuKGUuZ2V0Rmxvb3IpKXJldHVybiBlLnBhcmFtcy5yZXNlcnZlP2UucGFyYW1zLnJlc2VydmU6bnVsbDt2YXIgcj1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYobi5pc1BsYWluT2JqZWN0KHIpJiYhaXNOYU4oci5mbG9vcikmJiJVU0QiPT09ci5jdXJyZW5jeSlyZXR1cm4gci5mbG9vcjtyZXR1cm4gbnVsbH0oZSk7aWYoYSYmKHIucmVzZXJ2ZT1hKSxlLnBhcmFtcy5wb3NpdGlvbiYmKHIucG9zaXRpb249e2Fib3ZlOjEsYmVsb3c6Mn1bZS5wYXJhbXMucG9zaXRpb25dfHwwKSxlLnBhcmFtcy50cmFmZmljU291cmNlQ29kZSYmKHIudHJhZmZpY19zb3VyY2VfY29kZT1lLnBhcmFtcy50cmFmZmljU291cmNlQ29kZSksZS5wYXJhbXMucHJpdmF0ZVNpemVzJiYoci5wcml2YXRlX3NpemVzPXooZS5wYXJhbXMucHJpdmF0ZVNpemVzKSksZS5wYXJhbXMuc3VwcGx5VHlwZSYmKHIuc3VwcGx5X3R5cGU9ZS5wYXJhbXMuc3VwcGx5VHlwZSksZS5wYXJhbXMucHViQ2xpY2smJihyLnB1YmNsaWNrPWUucGFyYW1zLnB1YkNsaWNrKSxlLnBhcmFtcy5leHRJbnZDb2RlJiYoci5leHRfaW52X2NvZGU9ZS5wYXJhbXMuZXh0SW52Q29kZSksZS5wYXJhbXMucHVibGlzaGVySWQmJihyLnB1Ymxpc2hlcl9pZD1wYXJzZUludChlLnBhcmFtcy5wdWJsaXNoZXJJZCwxMCkpLGUucGFyYW1zLmV4dGVybmFsSW1wSWQmJihyLmV4dGVybmFsX2ltcF9pZD1lLnBhcmFtcy5leHRlcm5hbEltcElkKSwhbi5pc0VtcHR5KGUucGFyYW1zLmtleXdvcmRzKSl7dmFyIHQ9bi50cmFuc2Zvcm1CaWRkZXJQYXJhbUtleXdvcmRzKGUucGFyYW1zLmtleXdvcmRzKTt0Lmxlbmd0aD4wJiZ0LmZvckVhY2goUCksci5rZXl3b3Jkcz10fXZhciBpLHMscD1uLmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtpZihwJiYoci5ncGlkPXApLChlLm1lZGlhVHlwZT09PW8uY3x8bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoby5jKSkpJiYoci5hZF90eXBlcy5wdXNoKG8uYyksMD09PXIuc2l6ZXMubGVuZ3RoJiYoci5zaXplcz16KFsxLDFdKSksZS5uYXRpdmVQYXJhbXMpKXt2YXIgdT0oaT1lLm5hdGl2ZVBhcmFtcyxzPXt9LE9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPVRbZV0mJlRbZV0uc2VydmVyTmFtZXx8VFtlXXx8ZSxhPVRbZV0mJlRbZV0ucmVxdWlyZWRQYXJhbXM7aWYoc1tyXT15KHt9LGEsaVtlXSksKHI9PT1ULmltYWdlLnNlcnZlck5hbWV8fHI9PT1ULmljb24uc2VydmVyTmFtZSkmJnNbcl0uc2l6ZXMpe3ZhciB0PXNbcl0uc2l6ZXM7KG4uaXNBcnJheU9mTnVtcyh0KXx8bi5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wJiZ0LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gbi5pc0FycmF5T2ZOdW1zKGUpfSkpKSYmKHNbcl0uc2l6ZXM9eihzW3JdLnNpemVzKSl9cj09PVQucHJpdmFjeUxpbmsmJihzLnByaXZhY3lfc3VwcG9ydGVkPSEwKX0pKSxzKTtyW28uY109e2xheW91dHM6W3VdfX12YXIgbT1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChvLmQpKSxmPW4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyLmhiX3NvdXJjZT1tJiYiYWRwb2QiPT09Zj83OjEsKGUubWVkaWFUeXBlPT09by5kfHxtKSYmci5hZF90eXBlcy5wdXNoKG8uZCksKGUubWVkaWFUeXBlPT09by5kfHxtJiYib3V0c3RyZWFtIiE9PWYpJiYoci5yZXF1aXJlX2Fzc2V0X3VybD0hMCksZS5wYXJhbXMudmlkZW8mJihyLnZpZGVvPXt9LE9iamVjdC5rZXlzKGUucGFyYW1zLnZpZGVvKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoSSxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSJjb250ZXh0IjpjYXNlInBsYXliYWNrX21ldGhvZCI6dmFyIHQ9ZS5wYXJhbXMudmlkZW9bYV07dD1uLmlzQXJyYXkodCk/dFswXTp0LHIudmlkZW9bYV09U1thXVt0XTticmVhaztjYXNlImZyYW1ld29ya3MiOmJyZWFrO2RlZmF1bHQ6ci52aWRlb1thXT1lLnBhcmFtcy52aWRlb1thXX19KSksZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcyYmbi5pc0FycmF5KGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MpJiYoci52aWRlb19mcmFtZXdvcmtzPWUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MpKSxtJiYoci52aWRlbz1yLnZpZGVvfHx7fSxPYmplY3Qua2V5cyhtKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoQSxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSJtaW5kdXJhdGlvbiI6Y2FzZSJtYXhkdXJhdGlvbiI6Im51bWJlciIhPXR5cGVvZiByLnZpZGVvW2VdJiYoci52aWRlb1tlXT1tW2VdKTticmVhaztjYXNlInNraXAiOiJib29sZWFuIiE9dHlwZW9mIHIudmlkZW8uc2tpcHBhYmxlJiYoci52aWRlby5za2lwcGFibGU9MT09PW1bZV0pO2JyZWFrO2Nhc2Uic2tpcGFmdGVyIjoibnVtYmVyIiE9dHlwZW9mIHIudmlkZW8uc2tpcG9mZnNldCYmKHIudmlkZW8uc2tpcHBvZmZzZXQ9bVtlXSk7YnJlYWs7Y2FzZSJwbGF5YmFja21ldGhvZCI6aWYoIm51bWJlciIhPXR5cGVvZiByLnZpZGVvLnBsYXliYWNrX21ldGhvZCl7dmFyIGE9bVtlXTsoYT1uLmlzQXJyYXkoYSk/YVswXTphKT49MSYmYTw9NCYmKHIudmlkZW8ucGxheWJhY2tfbWV0aG9kPWEpfWJyZWFrO2Nhc2UiYXBpIjppZighci52aWRlb19mcmFtZXdvcmtzJiZuLmlzQXJyYXkobVtlXSkpe3ZhciB0PW1bZV0ubWFwKChmdW5jdGlvbihlKXt2YXIgcj00PT09ZT81OjU9PT1lPzQ6ZTtpZihyPj0xJiZyPD01KXJldHVybiByfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSk7ci52aWRlb19mcmFtZXdvcmtzPXR9fX0pKSksZS5yZW5kZXJlciYmKHIudmlkZW89eSh7fSxyLnZpZGVvLHtjdXN0b21fcmVuZGVyZXJfcHJlc2VudDohMH0pKSxlLnBhcmFtcy5mcmFtZXdvcmtzJiZuLmlzQXJyYXkoZS5wYXJhbXMuZnJhbWV3b3JrcykmJihyLmJhbm5lcl9mcmFtZXdvcmtzPWUucGFyYW1zLmZyYW1ld29ya3MpO3ZhciB2PWMoKShkLmEuZ2V0QWRVbml0cygpLChmdW5jdGlvbihyKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkPT09ci50cmFuc2FjdGlvbklkfSkpO3JldHVybiB2JiZ2Lm1lZGlhVHlwZXMmJnYubWVkaWFUeXBlcy5iYW5uZXImJnIuYWRfdHlwZXMucHVzaChvLmIpLDA9PT1yLmFkX3R5cGVzLmxlbmd0aCYmZGVsZXRlIHIuYWRfdHlwZXMscn1mdW5jdGlvbiB6KGUpe3ZhciByPVtdLGE9e307aWYobi5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGgmJiFuLmlzQXJyYXkoZVswXSkpYS53aWR0aD1wYXJzZUludChlWzBdLDEwKSxhLmhlaWdodD1wYXJzZUludChlWzFdLDEwKSxyLnB1c2goYSk7ZWxzZSBpZigib2JqZWN0Ij09PXYoZSkpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBpPWVbdF07KGE9e30pLndpZHRoPXBhcnNlSW50KGlbMF0sMTApLGEuaGVpZ2h0PXBhcnNlSW50KGlbMV0sMTApLHIucHVzaChhKX1yZXR1cm4gcn1mdW5jdGlvbiBNKGUpe3JldHVybiEhZS5wYXJhbXMudXNlcn1mdW5jdGlvbiBEKGUpe3JldHVybiEhcGFyc2VJbnQoZS5wYXJhbXMubWVtYmVyLDEwKX1mdW5jdGlvbiBCKGUpe2lmKGUucGFyYW1zKXJldHVybiEhZS5wYXJhbXMuYXBwfWZ1bmN0aW9uIEYoZSl7cmV0dXJuIGUucGFyYW1zJiZlLnBhcmFtcy5hcHA/ISFlLnBhcmFtcy5hcHAuaWQ6ISFlLnBhcmFtcy5hcHB9ZnVuY3Rpb24gVihlKXtyZXR1cm4hIWUuZGVidWd9ZnVuY3Rpb24gSihlKXtyZXR1cm4gZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0PT09by5hfWZ1bmN0aW9uIFcoZSl7dmFyIHI9ITEsYT1lLnBhcmFtcyx0PWUucGFyYW1zLnZpZGVvO3JldHVybiBhLmZyYW1ld29ya3MmJm4uaXNBcnJheShhLmZyYW1ld29ya3MpJiYocj1sKCkoZS5wYXJhbXMuZnJhbWV3b3Jrcyw2KSksIXImJnQmJnQuZnJhbWV3b3JrcyYmbi5pc0FycmF5KHQuZnJhbWV3b3JrcykmJihyPWwoKShlLnBhcmFtcy52aWRlby5mcmFtZXdvcmtzLDYpKSxyfWZ1bmN0aW9uIEgoZSxyLGEpe24uaXNFbXB0eShlLnZpZGVvKSYmKGUudmlkZW89e30pLGUudmlkZW9bcl09YX1mdW5jdGlvbiBMKGUpe3ZhciByLGE7cj1lLmFkVW5pdENvZGUsKGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocikucXVlcnlTZWxlY3RvckFsbCgiZGl2W2lkXj0nZ29vZ2xlX2FkcyddIikpWzBdJiZhWzBdLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpLGZ1bmN0aW9uKGUpe3RyeXt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5xdWVyeVNlbGVjdG9yQWxsKCJzY3JpcHRbaWRePSdzYXNfc2NyaXB0J10iKTtyWzBdLm5leHRTaWJsaW5nJiYiaWZyYW1lIj09PXJbMF0ubmV4dFNpYmxpbmcubG9jYWxOYW1lJiZyWzBdLm5leHRTaWJsaW5nLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpfWNhdGNoKGUpe319KGUuYWRVbml0Q29kZSksZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHt0YWdJZDplLmFkUmVzcG9uc2UudGFnX2lkLHNpemVzOltlLmdldFNpemUoKS5zcGxpdCgieCIpXSx0YXJnZXRJZDplLmFkVW5pdENvZGUsdXVpZDplLmFkUmVzcG9uc2UudXVpZCxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZSxyZW5kZXJlck9wdGlvbnM6ZS5yZW5kZXJlci5nZXRDb25maWcoKX0sJC5iaW5kKG51bGwsZSkpfSkpfWZ1bmN0aW9uICQoZSxyLGEpe2UucmVuZGVyZXIuaGFuZGxlVmlkZW9FdmVudCh7aWQ6cixldmVudE5hbWU6YX0pfWZ1bmN0aW9uIEsoZSxyLGEsdCl7cmV0dXJuIHImJih0P2UucHVzaCh7c291cmNlOmEsaWQ6cixydGlfcGFydG5lcjp0fSk6ZS5wdXNoKHtzb3VyY2U6YSxpZDpyfSkpLGV9T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKFIpfX0sWzI3M10pOwp1cGJqc0NodW5rKFsyODddLHszMTU6ZnVuY3Rpb24odCxlLHIpe3QuZXhwb3J0cz1yKDMxNil9LDMxNjpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQoZSwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIGk9cigwKSxuPXIoMSksbz1yKDIpLGQ9cigzKTtmdW5jdGlvbiBhKHQpe3JldHVybihhPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIHU9ImJyaWdodGNvbSIscz17Y29kZTp1LHN1cHBvcnRlZE1lZGlhVHlwZXM6W28uYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24odCl7aWYodC5iaWRkZXIhPT11fHx2b2lkIDA9PT10LnBhcmFtcylyZXR1cm4hMTtpZih2b2lkIDA9PT10LnBhcmFtcy5wdWJsaXNoZXJJZClyZXR1cm4hMTtyZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbih0LGUpe3RyeXt2YXIgcj0iIjtlJiZlLnJlZmVyZXJJbmZvJiYocj1lLnJlZmVyZXJJbmZvLnJlZmVyZXIpO3ZhciBuPVtdLG89aS5nZXRCaWRJZFBhcmFtZXRlcigicHVibGlzaGVySWQiLHRbMF0ucGFyYW1zKTtpLl9lYWNoKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWVkaWFUeXBlcyYmdC5tZWRpYVR5cGVzLmJhbm5lciYmdC5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8dC5zaXplcyxyPShlPShlPWkuaXNBcnJheShlKSYmaS5pc0FycmF5KGVbMF0pP2U6W2VdKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBpLmlzQXJyYXkodCl9KSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3c6cGFyc2VJbnQodFswXSwxMCksaDpwYXJzZUludCh0WzFdLDEwKX19KSksbz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0LmFkVW5pdENvZGUpLGQ9ci5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuaCplLnc8dC5oKnQudz9lOnR9KSksYT1mdW5jdGlvbih0KXtyZXR1cm4hZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGkuZ2V0V2luZG93U2VsZigpIT09aS5nZXRXaW5kb3dUb3AoKX1jYXRjaCh0KXtyZXR1cm4hMH19KCkmJm51bGwhPT10fShvKT9mdW5jdGlvbih0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXIudyxvPXIuaDtyZXR1cm4idmlzaWJsZSI9PT1pLmdldFdpbmRvd1RvcCgpLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT9jKHQsZSx7dzpuLGg6b30pOjB9KG8saS5nZXRXaW5kb3dUb3AoKSxkKToibmEiLHU9aXNOYU4oYSk/YTpNYXRoLnJvdW5kKGEpLHM9e2lkOnQuYmlkSWQsYmFubmVyOntmb3JtYXQ6cixleHQ6e3ZpZXdhYmlsaXR5OnV9fSx0YWdpZDpTdHJpbmcodC5hZFVuaXRDb2RlKX0scD1mdW5jdGlvbih0KXtpZighaS5pc0ZuKHQuZ2V0Rmxvb3IpKXJldHVybiB0LnBhcmFtcy5iaWRGbG9vcj90LnBhcmFtcy5iaWRGbG9vcjpudWxsO3ZhciBlPXQuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihpLmlzUGxhaW5PYmplY3QoZSkmJiFpc05hTihlLmZsb29yKSYmIlVTRCI9PT1lLmN1cnJlbmN5KXJldHVybiBlLmZsb29yO3JldHVybiBudWxsfSh0KTtwJiYocy5iaWRmbG9vcj1wKSxuLnB1c2gocyl9KSk7dmFyIGE9e2lkOmkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGltcDpuLHNpdGU6e2RvbWFpbjppLnBhcnNlVXJsKHIpLmhvc3QscGFnZTpyLHB1Ymxpc2hlcjp7aWQ6b319LGRldmljZTp7ZGV2aWNldHlwZTovKGlvc3xpcG9kfGlwYWR8aXBob25lfGFuZHJvaWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT8xOi8oc21hcnRbLV0/dHZ8aGJidHZ8YXBwbGV0dnxnb29nbGV0dnxoZG1pfG5ldGNhc3RcLnR2fHZpZXJhfG5ldHR2fHJva3V8XGJkdHZcYnxzb255ZHR2fGluZXR0dmJyb3dzZXJ8XGJ0dlxiKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/MzoyLHc6c2NyZWVuLndpZHRoLGg6c2NyZWVuLmhlaWdodH0sdG1heDpkLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9O3JldHVybiBlJiZlLmdkcHJDb25zZW50JiYoaS5kZWVwU2V0VmFsdWUoYSwicmVncy5leHQuZ2RwciIsK2UuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLGkuZGVlcFNldFZhbHVlKGEsInVzZXIuZXh0LmNvbnNlbnQiLGUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9icmlnaHRjb21iaWQubWFycGhlemlzLmNvbS9oYiIsZGF0YTpKU09OLnN0cmluZ2lmeShhKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiExfX19Y2F0Y2gocil7aS5sb2dFcnJvcihyLHtiaWRSZXFzOnQsYmlkZGVyUmVxdWVzdDplfSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0KXtpZighdC5ib2R5fHwib2JqZWN0IiE9YSh0LmJvZHkpKXJldHVybiBpLmxvZ1dhcm4oIkJyaWdodGNvbSBzZXJ2ZXIgcmV0dXJuZWQgZW1wdHkvbm9uLWpzb24gcmVzcG9uc2U6ICIrSlNPTi5zdHJpbmdpZnkodC5ib2R5KSksW107dmFyIGU9dC5ib2R5LHI9ZS5pZCxuPWUuc2VhdGJpZDt0cnl7dmFyIGQ9W107cmV0dXJuIHImJm4mJm4ubGVuZ3RoPjAmJm5bMF0uYmlkJiZuWzBdLmJpZC5sZW5ndGg+MCYmblswXS5iaWQubWFwKChmdW5jdGlvbih0KXtkLnB1c2goe3JlcXVlc3RJZDp0LmltcGlkLGNwbTpwYXJzZUZsb2F0KHQucHJpY2UpLHdpZHRoOnBhcnNlSW50KHQudyksaGVpZ2h0OnBhcnNlSW50KHQuaCksY3JlYXRpdmVJZDp0LmNyaWR8fHQuaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCxtZWRpYVR5cGU6by5iLGFkOnAodCksdHRsOjYwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOnQmJnQuYWRvbWFpbj90LmFkb21haW46W119fSl9KSksZH1jYXRjaCh0KXtpLmxvZ0Vycm9yKHQse2lkOnIsc2VhdGJpZDpufSl9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24odCxlLHIpe3JldHVybltdfX07ZnVuY3Rpb24gcCh0KXt2YXIgZT10LmFkbTtyZXR1cm4ibnVybCJpbiB0JiYoZSs9aS5jcmVhdGVUcmFja1BpeGVsSHRtbCh0Lm51cmwpKSxlfWZ1bmN0aW9uIGgodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9ZS53LGk9ZS5oLG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPW4ud2lkdGgsZD1uLmhlaWdodCxhPW4ubGVmdCx1PW4udG9wLHM9bi5yaWdodCxwPW4uYm90dG9tO3JldHVybigwPT09b3x8MD09PWQpJiZyJiZpJiYobz1yLGQ9aSxzPWErcixwPXUraSkse3dpZHRoOm8saGVpZ2h0OmQsbGVmdDphLHRvcDp1LHJpZ2h0OnMsYm90dG9tOnB9fWZ1bmN0aW9uIGwodCl7Zm9yKHZhciBlPXtsZWZ0OnRbMF0ubGVmdCxyaWdodDp0WzBdLnJpZ2h0LHRvcDp0WzBdLnRvcCxib3R0b206dFswXS5ib3R0b219LHI9MTtyPHQubGVuZ3RoOysrcil7aWYoZS5sZWZ0PU1hdGgubWF4KGUubGVmdCx0W3JdLmxlZnQpLGUucmlnaHQ9TWF0aC5taW4oZS5yaWdodCx0W3JdLnJpZ2h0KSxlLmxlZnQ+PWUucmlnaHQpcmV0dXJuIG51bGw7aWYoZS50b3A9TWF0aC5tYXgoZS50b3AsdFtyXS50b3ApLGUuYm90dG9tPU1hdGgubWluKGUuYm90dG9tLHRbcl0uYm90dG9tKSxlLnRvcD49ZS5ib3R0b20pcmV0dXJuIG51bGx9cmV0dXJuIGUud2lkdGg9ZS5yaWdodC1lLmxlZnQsZS5oZWlnaHQ9ZS5ib3R0b20tZS50b3AsZX1mdW5jdGlvbiBjKHQsZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9ci53LG49ci5oLG89aCh0LHt3OmksaDpufSksZD1sKFt7bGVmdDowLHRvcDowLHJpZ2h0OmUuaW5uZXJXaWR0aCxib3R0b206ZS5pbm5lckhlaWdodH0sb10pO3JldHVybiBudWxsIT09ZD9kLndpZHRoKmQuaGVpZ2h0LyhvLndpZHRoKm8uaGVpZ2h0KSoxMDA6MH1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikocyl9fSxbMzE1XSk7CnVwYmpzQ2h1bmsoWzI3NF0sezM0NTpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMzQ2KX0sMzQ2OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJhbGxvd0F1Y3Rpb24iLChmdW5jdGlvbigpe3JldHVybiB2fSkpLGUuZCh0LCJ1c2VyQ01QIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxlLmQodCwiY29uc2VudFRpbWVvdXQiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLGUuZCh0LCJnZHByU2NvcGUiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLGUuZCh0LCJzdGF0aWNDb25zZW50RGF0YSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksdC5yZXF1ZXN0Qmlkc0hvb2s9RCx0LnJlc2V0Q29uc2VudERhdGE9ZnVuY3Rpb24oKXtDPXZvaWQgMCxmPXZvaWQgMCxiPTAsaS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LHQuc2V0Q29uc2VudENvbmZpZz1JO3ZhciBvPWUoMCksYT1lKDMpLGk9ZSg4KSxyPWUoMTIpLHM9ZS5uKHIpLGM9ZSg3NiksZD1lLm4oYyk7ZnVuY3Rpb24gbChuKXtyZXR1cm4obD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0pKG4pfWZ1bmN0aW9uIHUobix0LGUpe3JldHVybiB0IGluIG4/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOm5bdF09ZSxufXZhciBmLHAsZyxtLEMsdj17dmFsdWU6dHJ1ZSxkZWZpbmVkSW5Db25maWc6ITF9LGI9MCx5PSExLHc9e2lhYjpmdW5jdGlvbihuLHQsZSl7ZnVuY3Rpb24gYShhLGkpe28ubG9nSW5mbygiUmVjZWl2ZWQgYSByZXNwb25zZSBmcm9tIENNUCIsYSksaT8hMSE9PWEuZ2RwckFwcGxpZXMmJiJ0Y2xvYWRlZCIhPT1hLmV2ZW50U3RhdHVzJiYidXNlcmFjdGlvbmNvbXBsZXRlIiE9PWEuZXZlbnRTdGF0dXN8fG4oYSxlKTp0KCJDTVAgdW5hYmxlIHRvIHJlZ2lzdGVyIGNhbGxiYWNrIGZ1bmN0aW9uLiAgUGxlYXNlIGNoZWNrIENNUCBzZXR1cC4iLGUpfXZhciBpPWZ1bmN0aW9uKCl7dmFyIHQ9e307ZnVuY3Rpb24gYSgpe3QuZ2V0Q29uc2VudERhdGEmJnQuZ2V0VmVuZG9yQ29uc2VudHMmJihvLmxvZ0luZm8oIlJlY2VpdmVkIGFsbCByZXF1ZXN0ZWQgcmVzcG9uc2VzIGZyb20gQ01QIix0KSxuKHQsZSkpfXJldHVybntjb25zZW50RGF0YUNhbGxiYWNrOmZ1bmN0aW9uKG4pe3QuZ2V0Q29uc2VudERhdGE9bixhKCl9LHZlbmRvckNvbnNlbnRzQ2FsbGJhY2s6ZnVuY3Rpb24obil7dC5nZXRWZW5kb3JDb25zZW50cz1uLGEoKX19fSgpLHI9e30scz1mdW5jdGlvbigpe2Zvcih2YXIgbix0LGU9d2luZG93OyFuOyl7dHJ5e2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fdGNmYXBpfHwiZnVuY3Rpb24iPT10eXBlb2YgZS5fX2NtcCl7ImZ1bmN0aW9uIj09dHlwZW9mIGUuX190Y2ZhcGk/KGI9Mix0PWUuX190Y2ZhcGkpOihiPTEsdD1lLl9fY21wKSxuPWU7YnJlYWt9fWNhdGNoKG4pe310cnl7aWYoZS5mcmFtZXMuX190Y2ZhcGlMb2NhdG9yKXtiPTIsbj1lO2JyZWFrfX1jYXRjaChuKXt9dHJ5e2lmKGUuZnJhbWVzLl9fY21wTG9jYXRvcil7Yj0xLG49ZTticmVha319Y2F0Y2gobil7fWlmKGU9PT13aW5kb3cudG9wKWJyZWFrO2U9ZS5wYXJlbnR9cmV0dXJue2NtcEZyYW1lOm4sY21wRnVuY3Rpb246dH19KCksYz1zLmNtcEZyYW1lLGw9cy5jbXBGdW5jdGlvbjtpZighYylyZXR1cm4gdCgiQ01QIG5vdCBmb3VuZC4iLGUpO28uaXNGbihsKT8oby5sb2dJbmZvKCJEZXRlY3RlZCBDTVAgQVBJIGlzIGRpcmVjdGx5IGFjY2Vzc2libGUsIGNhbGxpbmcgaXQgbm93Li4uIiksMT09PWI/KGwoImdldENvbnNlbnREYXRhIixudWxsLGkuY29uc2VudERhdGFDYWxsYmFjayksbCgiZ2V0VmVuZG9yQ29uc2VudHMiLG51bGwsaS52ZW5kb3JDb25zZW50c0NhbGxiYWNrKSk6Mj09PWImJmwoImFkZEV2ZW50TGlzdGVuZXIiLGIsYSkpOjE9PT1iJiZ3aW5kb3cuJHNmJiZ3aW5kb3cuJHNmLmV4dCYmImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy4kc2YuZXh0LmNtcD8oby5sb2dJbmZvKCJEZXRlY3RlZCBQcmViaWQuanMgaXMgZW5jYXNlZCBpbiBhIFNhZmVGcmFtZSBhbmQgQ01QIGlzIHJlZ2lzdGVyZWQsIGNhbGxpbmcgaXQgbm93Li4uIiksZigiZ2V0Q29uc2VudERhdGEiLGkuY29uc2VudERhdGFDYWxsYmFjayksZigiZ2V0VmVuZG9yQ29uc2VudHMiLGkudmVuZG9yQ29uc2VudHNDYWxsYmFjaykpOihvLmxvZ0luZm8oIkRldGVjdGVkIENNUCBpcyBvdXRzaWRlIHRoZSBjdXJyZW50IGlmcmFtZSB3aGVyZSBQcmViaWQuanMgaXMgbG9jYXRlZCwgY2FsbGluZyBpdCBub3cuLi4iKSwxPT09Yj8ocCgiZ2V0Q29uc2VudERhdGEiLGMsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxwKCJnZXRWZW5kb3JDb25zZW50cyIsYyxpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKToyPT09YiYmcCgiYWRkRXZlbnRMaXN0ZW5lciIsYyxhKSk7ZnVuY3Rpb24gZihuLHQpe3ZhciBhPWUuYWRVbml0cyxpPTEscj0xO2lmKEFycmF5LmlzQXJyYXkoYSkmJmEubGVuZ3RoPjApe3ZhciBzPW8uZ2V0QWRVbml0U2l6ZXMoYVswXSk7aT1zWzBdWzBdLHI9c1swXVsxXX13aW5kb3cuJHNmLmV4dC5yZWdpc3RlcihpLHIsKGZ1bmN0aW9uKGUsbyl7aWYoImNtcFJldHVybiI9PT1lKXt2YXIgYT0iZ2V0Q29uc2VudERhdGEiPT09bj9vLnZlbmRvckNvbnNlbnREYXRhOm8udmVuZG9yQ29uc2VudHM7dChhKX19KSksd2luZG93LiRzZi5leHQuY21wKG4pfWZ1bmN0aW9uIHAobix0LGUpe3ZhciBvPTI9PT1iPyJfX3RjZmFwaSI6Il9fY21wIixhPSIiLmNvbmNhdChvLCJDYWxsIik7ZnVuY3Rpb24gaShuKXt2YXIgdD0iIi5jb25jYXQobywiUmV0dXJuIiksZT0ic3RyaW5nIj09dHlwZW9mIG4uZGF0YSYmZCgpKG4uZGF0YSx0KT9KU09OLnBhcnNlKG4uZGF0YSk6bi5kYXRhO2lmKGVbdF0mJmVbdF0uY2FsbElkKXt2YXIgYT1lW3RdO3ZvaWQgMCE9PXJbYS5jYWxsSWRdJiZyW2EuY2FsbElkXShhLnJldHVyblZhbHVlLGEuc3VjY2Vzcyl9fTI9PT1iPyh3aW5kb3dbb109ZnVuY3Rpb24obixlLG8saSl7dmFyIHM9TWF0aC5yYW5kb20oKSsiIixjPXUoe30sYSx7Y29tbWFuZDpuLHZlcnNpb246ZSxwYXJhbWV0ZXI6aSxjYWxsSWQ6c30pO3Jbc109byx0LnBvc3RNZXNzYWdlKGMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGksITEpLHdpbmRvd1tvXShuLGIsZSkpOih3aW5kb3dbb109ZnVuY3Rpb24obixlLG8pe3ZhciBpPU1hdGgucmFuZG9tKCkrIiIscz11KHt9LGEse2NvbW1hbmQ6bixwYXJhbWV0ZXI6ZSxjYWxsSWQ6aX0pO3JbaV09byx0LnBvc3RNZXNzYWdlKHMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGksITEpLHdpbmRvd1tvXShuLHZvaWQgMCxlKSl9fSxzdGF0aWM6ZnVuY3Rpb24obix0LGUpe24obSxlKX19O2Z1bmN0aW9uIEQobix0KXt2YXIgZT17Y29udGV4dDp0aGlzLGFyZ3M6W3RdLG5leHRGbjpuLGFkVW5pdHM6dC5hZFVuaXRzfHx1cGJqcy5hZFVuaXRzLGJpZHNCYWNrSGFuZGxlcjp0LmJpZHNCYWNrSGFuZGxlcixoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O3JldHVybiBDPyhvLmxvZ0luZm8oIlVzZXIgY29uc2VudCBpbmZvcm1hdGlvbiBhbHJlYWR5IGtub3duLiAgUHVsbGluZyBpbnRlcm5hbGx5IHN0b3JlZCBpbmZvcm1hdGlvbi4uLiIpLFAobnVsbCxlKSk6cygpKE9iamVjdC5rZXlzKHcpLGYpPyh3W2ZdLmNhbGwodGhpcyxrLGgsZSksdm9pZChlLmhhdmVFeGl0ZWR8fCgwPT09cD9rKHZvaWQgMCxlKTplLnRpbWVyPXNldFRpbWVvdXQoTS5iaW5kKG51bGwsZSkscCkpKSk6KG8ubG9nV2FybigiQ01QIGZyYW1ld29yayAoIi5jb25jYXQoZiwiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiAgQWJvcnRpbmcgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGFuZCByZXN1bWluZyBhdWN0aW9uLiIpKSxlLm5leHRGbi5hcHBseShlLmNvbnRleHQsZS5hcmdzKSl9ZnVuY3Rpb24gayhuLHQpeyJzdGF0aWMiPT09ZiYmMj09PShiPW4uZ2V0Q29uc2VudERhdGE/MTpuLmdldFRDRGF0YT8yOjApJiYobj1uLmdldFRDRGF0YSk7dmFyIGU9MT09PWI/ZnVuY3Rpb24obil7dmFyIHQ9biYmbi5nZXRDb25zZW50RGF0YSYmbi5nZXRDb25zZW50RGF0YS5nZHByQXBwbGllcztyZXR1cm4hKCJib29sZWFuIj09dHlwZW9mIHQmJighMCE9PXR8fG8uaXNTdHIobi5nZXRDb25zZW50RGF0YS5jb25zZW50RGF0YSkmJm8uaXNQbGFpbk9iamVjdChuLmdldFZlbmRvckNvbnNlbnRzKSYmT2JqZWN0LmtleXMobi5nZXRWZW5kb3JDb25zZW50cykubGVuZ3RoPjEpKX06Mj09PWI/ZnVuY3Rpb24oKXt2YXIgdD1uJiYiYm9vbGVhbiI9PXR5cGVvZiBuLmdkcHJBcHBsaWVzP24uZ2RwckFwcGxpZXM6ZyxlPW4mJm4udGNTdHJpbmc7cmV0dXJuISgiYm9vbGVhbiI9PXR5cGVvZiB0JiYoITAhPT10fHxvLmlzU3RyKGUpKSl9Om51bGw7di5kZWZpbmVkSW5Db25maWcmJjI9PT1iP28ubG9nV2FybigiJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyBpZ25vcmVkIGZvciBUQ0YgMiIpOnYuZGVmaW5lZEluQ29uZmlnfHwxIT09Ynx8by5sb2dJbmZvKCInYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQnIHVzaW5nIHN5c3RlbSBkZWZhdWx0OiAoIi5jb25jYXQodHJ1ZSwiKS4iKSksby5pc0ZuKGUpP2Uobik/aCgiQ01QIHJldHVybmVkIHVuZXhwZWN0ZWQgdmFsdWUgZHVyaW5nIGxvb2t1cCBwcm9jZXNzLiIsdCxuKTooY2xlYXJUaW1lb3V0KHQudGltZXIpLEEobiksUChudWxsLHQpKTpoKCJVbmFibGUgdG8gZGVyaXZlIENNUCB2ZXJzaW9uIHRvIHByb2Nlc3MgZGF0YS4gIENvbnNlbnQgb2JqZWN0IGRvZXMgbm90IGNvbmZvcm0gdG8gVENGIHYxIG9yIHYyIHNwZWNzLiIsdCxuKX1mdW5jdGlvbiBNKG4pe2goIkNNUCB3b3JrZmxvdyBleGNlZWRlZCB0aW1lb3V0IHRocmVzaG9sZC4iLG4pfWZ1bmN0aW9uIGgobix0LGUpe2NsZWFyVGltZW91dCh0LnRpbWVyKSx2LnZhbHVlJiYxPT09YiYmQSh2b2lkIDApLFAobix0LGUpfWZ1bmN0aW9uIEEobil7MT09PWI/Qz17Y29uc2VudFN0cmluZzpuP24uZ2V0Q29uc2VudERhdGEuY29uc2VudERhdGE6dm9pZCAwLHZlbmRvckRhdGE6bj9uLmdldFZlbmRvckNvbnNlbnRzOnZvaWQgMCxnZHByQXBwbGllczpuP24uZ2V0Q29uc2VudERhdGEuZ2RwckFwcGxpZXM6Z306KEM9e2NvbnNlbnRTdHJpbmc6bj9uLnRjU3RyaW5nOnZvaWQgMCx2ZW5kb3JEYXRhOm58fHZvaWQgMCxnZHByQXBwbGllczpuJiYiYm9vbGVhbiI9PXR5cGVvZiBuLmdkcHJBcHBsaWVzP24uZ2RwckFwcGxpZXM6Z30sbiYmbi5hZGR0bENvbnNlbnQmJm8uaXNTdHIobi5hZGR0bENvbnNlbnQpJiYoQy5hZGR0bENvbnNlbnQ9bi5hZGR0bENvbnNlbnQpKSxDLmFwaVZlcnNpb249YixpLmdkcHJEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShDKX1mdW5jdGlvbiBQKG4sdCxlKXtpZighMT09PXQuaGF2ZUV4aXRlZCl7dC5oYXZlRXhpdGVkPSEwO3ZhciBhPXQuY29udGV4dCxpPXQuYXJncyxyPXQubmV4dEZuO24/di52YWx1ZSYmMT09PWI/KG8ubG9nV2FybihuKyIgJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyBhY3RpdmF0ZWQuIixlKSxyLmFwcGx5KGEsaSkpOihvLmxvZ0Vycm9yKG4rIiBDYW5jZWxpbmcgYXVjdGlvbiBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksImZ1bmN0aW9uIj09dHlwZW9mIHQuYmlkc0JhY2tIYW5kbGVyP3QuYmlkc0JhY2tIYW5kbGVyKCk6by5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGJpZHNCYWNrSGFuZGxlciIpKTpyLmFwcGx5KGEsaSl9fWZ1bmN0aW9uIEkobil7KG49biYmKG4uZ2Rwcnx8bi51c3A/bi5nZHByOm4pKSYmIm9iamVjdCI9PT1sKG4pPyhvLmlzU3RyKG4uY21wQXBpKT9mPW4uY21wQXBpOihmPSJpYWIiLG8ubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSBjbXAuICBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCgiaWFiIiwiKS4iKSkpLG8uaXNOdW1iZXIobi50aW1lb3V0KT9wPW4udGltZW91dDoocD0xZTQsby5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IHRpbWVvdXQuICBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCgxZTQsIikuIikpKSwiYm9vbGVhbiI9PXR5cGVvZiBuLmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JiYodi52YWx1ZT1uLmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50LHYuZGVmaW5lZEluQ29uZmlnPSEwKSxnPSEwPT09bi5kZWZhdWx0R2RwclNjb3BlLG8ubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09ZiYmKG8uaXNQbGFpbk9iamVjdChuLmNvbnNlbnREYXRhKT8obT1uLmNvbnNlbnREYXRhLHA9MCk6by5sb2dFcnJvcigiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIHdpdGggY21wQXBpOiAnc3RhdGljJyBkaWQgbm90IHNwZWNpZnkgY29uc2VudERhdGEuIE5vIGNvbnNlbnRzIHdpbGwgYmUgYXZhaWxhYmxlIHRvIGFkYXB0ZXJzLiIpKSx5fHx1cGJqcy5yZXF1ZXN0Qmlkcy5iZWZvcmUoRCw1MCkseT0hMCk6by5sb2dXYXJuKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgY29uc2VudCBtYW5hZ2VyIil9YS5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLChmdW5jdGlvbihuKXtyZXR1cm4gSShuLmNvbnNlbnRNYW5hZ2VtZW50KX0pKX19LFszNDVdKTsKdXBianNDaHVuayhbMjczXSx7MzUyOmZ1bmN0aW9uKHQsbixlKXt0LmV4cG9ydHM9ZSgzNTMpfSwzNTM6ZnVuY3Rpb24odCxuLGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKG4sImNvbnNlbnRBUEkiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLGUuZChuLCJjb25zZW50VGltZW91dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZS5kKG4sInN0YXRpY0NvbnNlbnREYXRhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLnJlcXVlc3RCaWRzSG9vaz1mLG4ucmVzZXRDb25zZW50RGF0YT1mdW5jdGlvbigpe2w9dm9pZCAwLGM9dm9pZCAwLGkudXNwRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LG4uc2V0Q29uc2VudENvbmZpZz1QO3ZhciBhPWUoMCksbz1lKDMpLGk9ZSg4KTtmdW5jdGlvbiBzKHQpe3JldHVybihzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIGMscix1LGwsZD0hMSxwPXtpYWI6ZnVuY3Rpb24odCxuLGUpe3ZhciBvPSh1PXt9LHtjb25zZW50RGF0YUNhbGxiYWNrOmZ1bmN0aW9uKGEsbyl7byYmYS51c3BTdHJpbmcmJih1LnVzUHJpdmFjeT1hLnVzcFN0cmluZyksdS51c1ByaXZhY3k/dCh1LGUpOm4oIlVuYWJsZSB0byBnZXQgVVNQIGNvbnNlbnQgc3RyaW5nLiIsZSl9fSksaT17fSxzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LG4sZT13aW5kb3c7IXQ7KXt0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuX191c3BhcGkpe249ZS5fX3VzcGFwaSx0PWU7YnJlYWt9fWNhdGNoKHQpe310cnl7aWYoZS5mcmFtZXMuX191c3BhcGlMb2NhdG9yKXt0PWU7YnJlYWt9fWNhdGNoKHQpe31pZihlPT09d2luZG93LnRvcClicmVhaztlPWUucGFyZW50fXJldHVybnt1c3BhcGlGcmFtZTp0LHVzcGFwaUZ1bmN0aW9uOm59fSgpLGM9cy51c3BhcGlGcmFtZSxyPXMudXNwYXBpRnVuY3Rpb247dmFyIHU7aWYoIWMpcmV0dXJuIG4oIlVTUCBDTVAgbm90IGZvdW5kLiIsZSk7YS5pc0ZuKHIpPyhhLmxvZ0luZm8oIkRldGVjdGVkIFVTUCBDTVAgaXMgZGlyZWN0bHkgYWNjZXNzaWJsZSwgY2FsbGluZyBpdCBub3cuLi4iKSxyKCJnZXRVU1BEYXRhIiwxLG8uY29uc2VudERhdGFDYWxsYmFjaykpOihhLmxvZ0luZm8oIkRldGVjdGVkIFVTUCBDTVAgaXMgb3V0c2lkZSB0aGUgY3VycmVudCBpZnJhbWUgd2hlcmUgUHJlYmlkLmpzIGlzIGxvY2F0ZWQsIGNhbGxpbmcgaXQgbm93Li4uIiksZnVuY3Rpb24odCxuLGUpe2Z1bmN0aW9uIGEodCl7dmFyIG49dCYmdC5kYXRhJiZ0LmRhdGEuX191c3BhcGlSZXR1cm47biYmbi5jYWxsSWQmJnZvaWQgMCE9PWlbbi5jYWxsSWRdJiYoaVtuLmNhbGxJZF0obi5yZXR1cm5WYWx1ZSxuLnN1Y2Nlc3MpLGRlbGV0ZSBpW24uY2FsbElkXSl9d2luZG93Ll9fdXNwYXBpPWZ1bmN0aW9uKHQsZSxhKXt2YXIgbz1NYXRoLnJhbmRvbSgpKyIiLHM9e19fdXNwYXBpQ2FsbDp7Y29tbWFuZDp0LHZlcnNpb246ZSxjYWxsSWQ6b319O2lbb109YSxuLnBvc3RNZXNzYWdlKHMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGEsITEpLHdpbmRvdy5fX3VzcGFwaSh0LDEsZSl9KCJnZXRVU1BEYXRhIixjLG8uY29uc2VudERhdGFDYWxsYmFjaykpfSxzdGF0aWM6ZnVuY3Rpb24odCxuLGUpe3QodSxlKX19O2Z1bmN0aW9uIGYodCxuKXt2YXIgZT17Y29udGV4dDp0aGlzLGFyZ3M6W25dLG5leHRGbjp0LGFkVW5pdHM6bi5hZFVuaXRzfHx1cGJqcy5hZFVuaXRzLGJpZHNCYWNrSGFuZGxlcjpuLmJpZHNCYWNrSGFuZGxlcixoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O2lmKCFwW2NdKXJldHVybiBhLmxvZ1dhcm4oIlVTUCBmcmFtZXdvcmsgKCIuY29uY2F0KGMsIikgaXMgbm90IGEgc3VwcG9ydGVkIGZyYW1ld29yay4gQWJvcnRpbmcgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGFuZCByZXN1bWluZyBhdWN0aW9uLiIpKSxlLm5leHRGbi5hcHBseShlLmNvbnRleHQsZS5hcmdzKTtwW2NdLmNhbGwodGhpcyxnLGIsZSksZS5oYXZlRXhpdGVkfHwoMD09PXI/Zyh2b2lkIDAsZSk6ZS50aW1lcj1zZXRUaW1lb3V0KG0uYmluZChudWxsLGUpLHIpKX1mdW5jdGlvbiBnKHQsbil7IXR8fCF0LnVzUHJpdmFjeT9iKCJVU1BBUEkgcmV0dXJuZWQgdW5leHBlY3RlZCB2YWx1ZSBkdXJpbmcgbG9va3VwIHByb2Nlc3MuIixuLHQpOihjbGVhclRpbWVvdXQobi50aW1lciksZnVuY3Rpb24odCl7dCYmdC51c1ByaXZhY3kmJihsPXQudXNQcml2YWN5LGkudXNwRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobCkpfSh0KSx5KG51bGwsbikpfWZ1bmN0aW9uIG0odCl7YigiVVNQQVBJIHdvcmtmbG93IGV4Y2VlZGVkIHRpbWVvdXQgdGhyZXNob2xkLiIsdCl9ZnVuY3Rpb24gYih0LG4sZSl7Y2xlYXJUaW1lb3V0KG4udGltZXIpLHkodCxuLGUpfWZ1bmN0aW9uIHkodCxuLGUpe2lmKCExPT09bi5oYXZlRXhpdGVkKXtuLmhhdmVFeGl0ZWQ9ITA7dmFyIG89bi5jb250ZXh0LGk9bi5hcmdzLHM9bi5uZXh0Rm47dCYmYS5sb2dXYXJuKHQrIiBSZXN1bWluZyBhdWN0aW9uIHdpdGhvdXQgY29uc2VudCBkYXRhIGFzIHBlciBjb25zZW50TWFuYWdlbWVudCBjb25maWcuIixlKSxzLmFwcGx5KG8saSl9fWZ1bmN0aW9uIFAodCl7KHQ9dCYmdC51c3ApJiYib2JqZWN0Ij09PXModCk/KGEuaXNTdHIodC5jbXBBcGkpP2M9dC5jbXBBcGk6KGM9ImlhYiIsYS5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSBjbXBBcGkuIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KCJpYWIiLCIpLiIpKSksYS5pc051bWJlcih0LnRpbWVvdXQpP3I9dC50aW1lb3V0OihyPTUwLGEubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgdGltZW91dC4gVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoNTAsIikuIikpKSxhLmxvZ0luZm8oIlVTUEFQSSBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgaGFzIGJlZW4gYWN0aXZhdGVkLi4uIiksInN0YXRpYyI9PT1jJiYoYS5pc1BsYWluT2JqZWN0KHQuY29uc2VudERhdGEpJiZhLmlzUGxhaW5PYmplY3QodC5jb25zZW50RGF0YS5nZXRVU1BEYXRhKT8odC5jb25zZW50RGF0YS5nZXRVU1BEYXRhLnVzcFN0cmluZyYmKHU9e3VzUHJpdmFjeTp0LmNvbnNlbnREYXRhLmdldFVTUERhdGEudXNwU3RyaW5nfSkscj0wKTphLmxvZ0Vycm9yKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgd2l0aCBjbXBBcGk6ICdzdGF0aWMnIGRpZCBub3Qgc3BlY2lmeSBjb25zZW50RGF0YS4gTm8gY29uc2VudHMgd2lsbCBiZSBhdmFpbGFibGUgdG8gYWRhcHRlcnMuIikpLGR8fHVwYmpzLnJlcXVlc3RCaWRzLmJlZm9yZShmLDUwKSxkPSEwKTphLmxvZ1dhcm4oImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgdXNwIGNvbnNlbnQgbWFuYWdlciIpfW8uYi5nZXRDb25maWcoImNvbnNlbnRNYW5hZ2VtZW50IiwoZnVuY3Rpb24odCl7cmV0dXJuIFAodC5jb25zZW50TWFuYWdlbWVudCl9KSl9fSxbMzUyXSk7CnVwYmpzQ2h1bmsoWzI3Ml0sezM1NDpmdW5jdGlvbihlLHIsbil7ZS5leHBvcnRzPW4oMzU1KX0sMzU1OmZ1bmN0aW9uKGUscixuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgdD1uKDApLGk9bigxKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIG49YXJndW1lbnRzW3JdO2Zvcih2YXIgdCBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHQpJiYoZVt0XT1uW3RdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYT0wLGQ9ImNvbnN1bWFibGUiLHU9e2NvZGU6ImNvbnN1bWFibGUiLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zLm5ldHdvcmtJZCYmZS5wYXJhbXMuc2l0ZUlkJiZlLnBhcmFtcy51bml0SWQmJmUucGFyYW1zLnVuaXROYW1lKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBuPXttZXRob2Q6IlBPU1QiLHVybDoiIixkYXRhOiIiLGJpZFJlcXVlc3Q6W119O2lmKGUubGVuZ3RoPDEpcmV0dXJuIG47YT1lWzBdLnBhcmFtcy5zaXRlSWQsZD1lWzBdLmJpZGRlcjt2YXIgdD1zKHtwbGFjZW1lbnRzOltdLHRpbWU6RGF0ZS5ub3coKSx1cmw6ci5yZWZlcmVySW5mby5yZWZlcmVyLHJlZmVycmVyOmRvY3VtZW50LnJlZmVycmVyLHNvdXJjZTpbe25hbWU6InByZWJpZGpzIix2ZXJzaW9uOiI1LjExLjAifV19LGVbMF0ucGFyYW1zKTtyZXR1cm4gciYmci5nZHByQ29uc2VudCYmKHQuZ2Rwcj17Y29uc2VudDpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsYXBwbGllczoiYm9vbGVhbiIhPXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfHxyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksciYmci51c3BDb25zZW50JiYodC5jY3BhPXIudXNwQ29uc2VudCksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5zaXplc3x8W10sbj1zKHtkaXZOYW1lOmUuYmlkSWQsYWRUeXBlczplLmFkVHlwZXN8fHAocil9LGUucGFyYW1zKTtuLm5ldHdvcmtJZCYmbi5zaXRlSWQmJm4udW5pdElkJiZuLnVuaXROYW1lJiZ0LnBsYWNlbWVudHMucHVzaChuKX0pKSxuLmRhdGE9SlNPTi5zdHJpbmdpZnkodCksbi5iaWRSZXF1ZXN0PWUsbi5iaWRkZXJSZXF1ZXN0PXIsbi51cmw9Imh0dHBzOi8vZS5zZXJ2ZXJiaWQuY29tL2FwaS92MiIsbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgbix0LGkscyxhPVtdO3Q9ci5iaWRSZXF1ZXN0LGU9KGV8fHt9KS5ib2R5O2Zvcih2YXIgZD0wO2Q8dC5sZW5ndGg7ZCsrKWlmKG49e30saT0ocz10W2RdKS5iaWRJZCxlKXt2YXIgdT1lLmRlY2lzaW9ucyYmZS5kZWNpc2lvbnNbaV0sbz11JiZ1LnByaWNpbmcmJnUucHJpY2luZy5jbGVhclByaWNlO3UmJm8mJihuLnJlcXVlc3RJZD1pLG4uY3BtPW8sbi53aWR0aD11LndpZHRoLG4uaGVpZ2h0PXUuaGVpZ2h0LG4udW5pdElkPXMucGFyYW1zLnVuaXRJZCxuLnVuaXROYW1lPXMucGFyYW1zLnVuaXROYW1lLG4uYWQ9Yyh1LG4udW5pdElkLG4udW5pdE5hbWUpLG4uY3VycmVuY3k9IlVTRCIsbi5jcmVhdGl2ZUlkPXUuYWRJZCxuLnR0bD0zMCxuLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOnUuYWRvbWFpbj91LmFkb21haW46W119LG4ubmV0UmV2ZW51ZT0hMCxuLnJlZmVycmVyPXIuYmlkZGVyUmVxdWVzdC5yZWZlcmVySW5mby5yZWZlcmVyLGEucHVzaChuKSl9cmV0dXJuIGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9zeW5jLnNlcnZlcmJpZC5jb20vc3MvIithKyIuaHRtbCJ9XTplLnBpeGVsRW5hYmxlZCYmci5sZW5ndGg+MD9yWzBdLmJvZHkucGl4ZWxzOnZvaWQgdC5sb2dXYXJuKGQrIjogUGxlYXNlIGVuYWJsZSBpZnJhbWUgYmFzZWQgdXNlciBzeW5jaW5nLiIpfX0sbz1bbnVsbCwiMTIweDkwIiwiMTIweDkwIiwiNDY4eDYwIiwiNzI4eDkwIiwiMzAweDI1MCIsIjE2MHg2MDAiLCIxMjB4NjAwIiwiMzAweDEwMCIsIjE4MHgxNTAiLCIzMzZ4MjgwIiwiMjQweDQwMCIsIjIzNHg2MCIsIjg4eDMxIiwiMTIweDYwIiwiMTIweDI0MCIsIjEyNXgxMjUiLCIyMjB4MjUwIiwiMjUweDI1MCIsIjI1MHg5MCIsIjB4MCIsIjIwMHg5MCIsIjMwMHg1MCIsIjMyMHg1MCIsIjMyMHg0ODAiLCIxODV4MTg1IiwiNjIweDQ1IiwiMzAweDEyNSIsIjgwMHgyNTAiXTtmdW5jdGlvbiBwKGUpe3ZhciByPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPW8uaW5kZXhPZihlWzBdKyJ4IitlWzFdKTtuPj0wJiZyLnB1c2gobil9KSkscn1mdW5jdGlvbiBjKGUscixuKXtyZXR1cm4gZS5jb250ZW50cyYmZS5jb250ZW50c1swXSYmZS5jb250ZW50c1swXS5ib2R5K3QuY3JlYXRlVHJhY2tQaXhlbEh0bWwoZS5pbXByZXNzaW9uVXJsKX1vWzc3XT0iOTcweDkwIixvWzEyM109Ijk3MHgyNTAiLG9bNDNdPSIzMDB4NjAwIixvWzI4Nl09Ijk3MHg2NiIsb1szMjMwXT0iOTcweDI4MCIsb1s0MjldPSI0ODZ4NjAiLG9bMzc0XT0iNzAweDUwMCIsb1s5MzRdPSIzMDB4MTA1MCIsb1sxNTc4XT0iMzIweDEwMCIsb1szMzFdPSIzMjB4MjUwIixvWzMzMDFdPSIzMjB4MjY3IixvWzI3MzBdPSI3Mjh4MjUwIixPYmplY3QoaS5yZWdpc3RlckJpZGRlcikodSl9fSxbMzU0XSk7CnVwYmpzQ2h1bmsoWzI3MF0sezM1ODpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoMzU5KX0sMzU5OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIGE9dCgwKSxuPXQoMSksaT10KDIpLG89dCg3KTtmdW5jdGlvbiBzKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBjKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBjKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiBjKGUscil9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGMoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxhPW5ldyBBcnJheShyKTt0PHI7dCsrKWFbdF09ZVt0XTtyZXR1cm4gYX12YXIgZD1PYmplY3Qoby5iKSgyNCksdT0iY29udmVyc2FudCIscD17Y29kZTp1LGd2bGlkOjI0LGFsaWFzZXM6WyJjbnZyIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnBhcmFtcylyZXR1cm4gYS5sb2dXYXJuKCJjb252ZXJzYW50OiBNaXNzaW5nIGJpZCBwYXJhbWV0ZXJzIiksITE7aWYoIWEuaXNTdHIoZS5wYXJhbXMuc2l0ZV9pZCkpcmV0dXJuIGEubG9nV2FybigiY29udmVyc2FudDogc2l0ZV9pZCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIHN0cmluZyIpLCExO2lmKGwoZSkpe3ZhciByPWUucGFyYW1zLm1pbWVzfHxhLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5taW1lcyIpO2lmKHIpe2lmKCFhLmlzQXJyYXkocil8fCFyLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gYS5pc1N0cihlKX0pKSlyZXR1cm4gYS5sb2dXYXJuKCJjb252ZXJzYW50OiBtaW1lcyBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MiKSwhMX1lbHNlIGEubG9nV2FybigiY29udmVyc2FudDogbWltZXMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgdmlkZW9zIil9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdCxuPXImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIiLGk9IiIsbz0iIixzPW51bGwsYz0iX3B1YmNpZCIsdT0iaHR0cHM6Ly93ZWIuaGIuYWQuY3BlLmRvdG9taS5jb20vY3Z4L2NsaWVudC9oYi9vcnRiLzI1IixwPWUubWFwKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcj1hLmdldEJpZElkUGFyYW1ldGVyKCJiaWRmbG9vciIsZS5wYXJhbXMpO2lmKCFyJiZhLmlzRm4oZS5nZXRGbG9vcikpe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTthLmlzUGxhaW5PYmplY3QodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5JiYocj10LmZsb29yKX1yZXR1cm4gcn0oZSk7aT1hLmdldEJpZElkUGFyYW1ldGVyKCJzaXRlX2lkIixlLnBhcmFtcyl8fGksYz1hLmdldEJpZElkUGFyYW1ldGVyKCJwdWJjaWRfbmFtZSIsZS5wYXJhbXMpfHxjLG89ZS5hdWN0aW9uSWQ7dmFyIHQ9e2lkOmUuYmlkSWQsc2VjdXJlOjEsYmlkZmxvb3I6cnx8MCxkaXNwbGF5bWFuYWdlcjoiUHJlYmlkLmpzIixkaXNwbGF5bWFuYWdlcnZlcjoiNS4xMS4wIn07aWYoZihlLnBhcmFtcy50YWdfaWQsdCwidGFnaWQiKSxsKGUpKXt2YXIgbj1hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fSxkPW0obi5wbGF5ZXJTaXplfHxlLnNpemVzKSxwPXt9O2QmJmRbMF0mJihmKGRbMF0udyxwLCJ3IiksZihkWzBdLmgscCwiaCIpKSxmKGUucGFyYW1zLnBvc2l0aW9uLHAsInBvcyIpLGYoZS5wYXJhbXMubWltZXN8fG4ubWltZXMscCwibWltZXMiKSxmKGUucGFyYW1zLm1heGR1cmF0aW9ufHxuLm1heGR1cmF0aW9uLHAsIm1heGR1cmF0aW9uIiksZihlLnBhcmFtcy5wcm90b2NvbHN8fG4ucHJvdG9jb2xzLHAsInByb3RvY29scyIpLGYoZS5wYXJhbXMuYXBpfHxuLmFwaSxwLCJhcGkiKSx0LnZpZGVvPXB9ZWxzZXt2YXIgZz17Zm9ybWF0Om0oKGEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpfHx7fSkuc2l6ZXN8fGUuc2l6ZXMpfTtmKGUucGFyYW1zLnBvc2l0aW9uLGcsInBvcyIpLHQuYmFubmVyPWd9cmV0dXJuIGUudXNlcklkJiZlLnVzZXJJZC5wdWJjaWQ/cz1lLnVzZXJJZC5wdWJjaWQ6ZS5jcnVtYnMmJmUuY3J1bWJzLnB1YmNpZCYmKHM9ZS5jcnVtYnMucHViY2lkKSxlLnBhcmFtcy53aGl0ZV9sYWJlbF91cmwmJih1PWUucGFyYW1zLndoaXRlX2xhYmVsX3VybCksdH0pKSxnPXtpZDpvLGltcDpwLHNpdGU6e2lkOmksbW9iaWxlOm51bGwhPT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9InZpZXdwb3J0Il1bY29udGVudCo9IndpZHRoPWRldmljZS13aWR0aCJdJyk/MTowLHBhZ2U6bn0sZGV2aWNlOih0PW5hdmlnYXRvci5sYW5ndWFnZT8ibGFuZ3VhZ2UiOiJ1c2VyTGFuZ3VhZ2UiLHtoOnNjcmVlbi5oZWlnaHQsdzpzY3JlZW4ud2lkdGgsZG50OiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob1RyYWNrfHwieWVzIj09PW5hdmlnYXRvci5kb05vdFRyYWNrPzE6MCxsYW5ndWFnZTpuYXZpZ2F0b3JbdF0uc3BsaXQoIi0iKVswXSxtYWtlOm5hdmlnYXRvci52ZW5kb3I/bmF2aWdhdG9yLnZlbmRvcjoiIix1YTpuYXZpZ2F0b3IudXNlckFnZW50fSksYXQ6MX0sdj17fTtyJiYoci5nZHByQ29uc2VudCYmKHYuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmYS5kZWVwU2V0VmFsdWUoZywicmVncy5leHQuZ2RwciIsci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApKSxyLnVzcENvbnNlbnQmJmEuZGVlcFNldFZhbHVlKGcsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCkpLHN8fChzPWZ1bmN0aW9uKGUpe3ZhciByO3RyeXtpZighKHI9ZC5nZXRDb29raWUoZSkpKXt2YXIgdD1kLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLCJfZXhwIikpOygiIj09PXR8fHQmJm5ldyBEYXRlKHQpLmdldFRpbWUoKS1EYXRlLm5vdygpPjApJiYocj0ocj1kLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGUpKT9kZWNvZGVVUklDb21wb25lbnQocik6cil9YS5pc1N0cihyKSYmInsiPT09ci5jaGFyQXQoMCkmJihyPUpTT04ucGFyc2UocikpfWNhdGNoKGUpe2EubG9nRXJyb3IoZSl9cmV0dXJuIHJ9KGMpKSxzJiYodi5mcGM9cyk7dmFyIHk9ZnVuY3Rpb24oZSl7dmFyIHI9ZVswXSx0PVtdO2lmKGEuaXNBcnJheShyLnVzZXJJZEFzRWlkcykmJnIudXNlcklkQXNFaWRzLmxlbmd0aD4wKXt2YXIgbj17ImFkc2VydmVyLm9yZyI6MSwibGl2ZXJhbXAuY29tIjoxLCJjcml0ZW8uY29tIjoxLCJpZDUtc3luYy5jb20iOjEsInBhcnJhYmxlLmNvbSI6MSwibGl2ZWludGVudC5jb20iOjF9O3IudXNlcklkQXNFaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uaGFzT3duUHJvcGVydHkoZS5zb3VyY2UpJiZ0LnB1c2goZSl9KSl9cmV0dXJuIHR9KGUpO3JldHVybiB5Lmxlbmd0aD4wJiYodi5laWRzPXkpLGEuaXNFbXB0eSh2KXx8KGcudXNlcj17ZXh0OnZ9KSx7bWV0aG9kOiJQT1NUIix1cmw6dSxkYXRhOmd9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49e307cmV0dXJuIGU9ZS5ib2R5LHImJnIuZGF0YSYmci5kYXRhLmltcCYmYS5fZWFjaChyLmRhdGEuaW1wLChmdW5jdGlvbihlKXtyZXR1cm4gbltlLmlkXT1lfSkpLGUmJmEuaXNBcnJheShlLnNlYXRiaWQpJiZhLl9lYWNoKGUuc2VhdGJpZCwoZnVuY3Rpb24ocil7YS5fZWFjaChyLmJpZCwoZnVuY3Rpb24ocil7dmFyIGE9cGFyc2VGbG9hdChyLnByaWNlKTtpZihhPjAmJnIuaW1waWQpe3ZhciBpPXIuYWRtfHwiIixvPXIubnVybHx8IiIscz1uW3IuaW1waWRdLGM9e3JlcXVlc3RJZDpyLmltcGlkLGN1cnJlbmN5OmUuY3VyfHwiVVNEIixjcG06YSxjcmVhdGl2ZUlkOnIuY3JpZHx8IiIsdHRsOjMwMCxuZXRSZXZlbnVlOiEwLG1ldGE6e319O3IuYWRvbWFpbiYmci5hZG9tYWluLmxlbmd0aD4wJiYoYy5tZXRhLmFkdmVydGlzZXJEb21haW5zPXIuYWRvbWFpbikscy52aWRlbz8oIjwiPT09aS5jaGFyQXQoMCk/Yy52YXN0WG1sPWk6Yy52YXN0VXJsPWksYy5tZWRpYVR5cGU9InZpZGVvIixjLndpZHRoPXMudmlkZW8udyxjLmhlaWdodD1zLnZpZGVvLmgpOihjLmFkPWkrJzxpbWcgc3JjPSInK28rJyIgLz4nLGMud2lkdGg9ci53LGMuaGVpZ2h0PXIuaCksdC5wdXNoKGMpfX0pKX0pKSx0fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gYS5jb252ZXJ0VHlwZXMoe3NpdGVfaWQ6InN0cmluZyIsc2VjdXJlOiJudW1iZXIiLG1vYmlsZToibnVtYmVyIn0sZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxuKXt2YXIgaT17fSxvPVtdO2lmKHQmJihpLmdkcHI9dC5nZHByQXBwbGllcz8xOjAsaS5nZHByX2NvbnNlbnQ9ZW5jb2RlVVJJQ29tcG9uZW50KHQuY29uc2VudFN0cmluZ3x8IiIpKSxuJiYoaS51c19wcml2YWN5PWVuY29kZVVSSUNvbXBvbmVudChuKSksciYmci5leHQpe3ZhciBjPVt7dXJsczpyLmV4dC5mc3luY3MsdHlwZToiaWZyYW1lIn0se3VybHM6ci5leHQucHN5bmNzLHR5cGU6ImltYWdlIn1dLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIHIudXJscyYmKCJpZnJhbWUiPT09ci50eXBlJiZlLmlmcmFtZUVuYWJsZWR8fCJpbWFnZSI9PT1yLnR5cGUmJmUucGl4ZWxFbmFibGVkKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVybHMubWFwKChmdW5jdGlvbihyKXt2YXIgdD1hLnBhcnNlVXJsKHIpO3JldHVybiBhLm1lcmdlRGVlcCh0LnNlYXJjaCxpKSwwPT09T2JqZWN0LmtleXModC5zZWFyY2gpLmxlbmd0aCYmZGVsZXRlIHQuc2VhcmNoLHt0eXBlOmUudHlwZSx1cmw6YS5idWlsZFVybCh0KX19KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdChyKX0pLFtdKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuY29uY2F0KHIpfSksW10pO28ucHVzaC5hcHBseShvLHMoYykpfXJldHVybiBvfX07ZnVuY3Rpb24gbShlKXt2YXIgcjtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKHI9Mj09PWUubGVuZ3RoJiYibnVtYmVyIj09dHlwZW9mIGVbMF0mJiJudW1iZXIiPT10eXBlb2YgZVsxXT9be3c6ZVswXSxoOmVbMV19XTphLl9tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpKSxyfWZ1bmN0aW9uIGwoZSl7cmV0dXJuInZpZGVvIj09PWUubWVkaWFUeXBlfHwhIWEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIil9ZnVuY3Rpb24gZihlLHIsdCl7ZSYmKHJbdF09ZSl9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzM1OF0pOwp1cGJqc0NodW5rKFsxXSx7MzY0OmZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cigzNjUpfSwzNjU6ZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiQURBUFRFUl9WRVJTSU9OIiwoZnVuY3Rpb24oKXtyZXR1cm4gQURBUFRFUl9WRVJTSU9OfSkpLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFBST0ZJTEVfSURfUFVCTElTSEVSVEFHfSkpLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJGQVNUX0JJRF9WRVJTSU9OX0NVUlJFTlQiLChmdW5jdGlvbigpe3JldHVybiBGQVNUX0JJRF9WRVJTSU9OX0NVUlJFTlR9KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzcGVjfSkpLF9fd2VicGFja19leHBvcnRzX18uY2FuRmFzdEJpZD1jYW5GYXN0QmlkLF9fd2VicGFja19leHBvcnRzX18uZ2V0RmFzdEJpZFVybD1nZXRGYXN0QmlkVXJsLF9fd2VicGFja19leHBvcnRzX18udHJ5R2V0Q3JpdGVvRmFzdEJpZD10cnlHZXRDcml0ZW9GYXN0QmlkO3ZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY19hZGxvYWRlcl9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMzcpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMiksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMTEpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX189X193ZWJwYWNrX3JlcXVpcmVfXyg3MCksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19zcmNfc3RvcmFnZU1hbmFnZXJfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpO2Z1bmN0aW9uIF9leHRlbmRzKCl7cmV0dXJuKF9leHRlbmRzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciByPWFyZ3VtZW50c1tlXTtmb3IodmFyIGkgaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixpKSYmKHRbaV09cltpXSl9cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEdWTElEPTkxLEFEQVBURVJfVkVSU0lPTj0zNCxCSURERVJfQ09ERT0iY3JpdGVvIixDREJfRU5EUE9JTlQ9Imh0dHBzOi8vYmlkZGVyLmNyaXRlby5jb20vY2RiIixQUk9GSUxFX0lEX0lOTElORT0yMDcsUFJPRklMRV9JRF9QVUJMSVNIRVJUQUc9MTg1LHN0b3JhZ2U9T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fc3JjX3N0b3JhZ2VNYW5hZ2VyX2pzX18uYikoR1ZMSUQpLExPR19QUkVGSVg9IkNyaXRlbzogIixGQVNUX0JJRF9WRVJTSU9OX1BMQUNFSE9MREVSPSIlRkFTVF9CSURfVkVSU0lPTiUiLEZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVD0xMDUsRkFTVF9CSURfVkVSU0lPTl9MQVRFU1Q9ImxhdGVzdCIsRkFTVF9CSURfVkVSU0lPTl9OT05FPSJub25lIixQVUJMSVNIRVJfVEFHX1VSTF9URU1QTEFURT0iaHR0cHM6Ly9zdGF0aWMuY3JpdGVvLm5ldC9qcy9sZC9wdWJsaXNoZXJ0YWcucHJlYmlkIitGQVNUX0JJRF9WRVJTSU9OX1BMQUNFSE9MREVSKyIuanMiLEZBU1RfQklEX1BVQktFWV9FPTY1NTM3LEZBU1RfQklEX1BVQktFWV9OPSJ6dFFZd0NFNUJVN1Q5Q0RNNWhlNnJLb2Fic3RYUm1reng1NHpGUFprV2JLNTMwZHd0TEJEZWFXQk14SEJVVDU1Q1l5Ym9SL0VaNGVmZ2hQaTNDb05HZkdXZXpwamtvOVA2cDJFd0dBcnRIRWVTNHNsaHUvU3BTSUZNakc2ZmRycFJvTnVJQU1ocTFaK1ByLytIT2QxcFRoRktlR0ZyMi9OaHRBZytUWEF6YVU9IixzcGVjPXtjb2RlOkJJRERFUl9DT0RFLGd2bGlkOkdWTElELHN1cHBvcnRlZE1lZGlhVHlwZXM6W19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXy5iLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXy5kLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXy5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC5wYXJhbXN8fCF0LnBhcmFtcy56b25lSWQmJiF0LnBhcmFtcy5uZXR3b3JrSWQpJiYhKGhhc1ZpZGVvTWVkaWFUeXBlKHQpJiYhaGFzVmFsaWRWaWRlb01lZGlhVHlwZSh0KSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24odCxlKXt2YXIgcixpLHM9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfY29uZmlnX2pzX18uYi5nZXRMZWdhY3lGcGQoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfY29uZmlnX2pzX18uYi5nZXRDb25maWcoIm9ydGIyIikpfHx7fTtfZXh0ZW5kcyhlLHtwdWJsaXNoZXJFeHQ6cy5jb250ZXh0LHVzZXJFeHQ6cy51c2VyLGNlaDpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygiY3JpdGVvLmNlaCIpfSk7dmFyIGE9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfY29uZmlnX2pzX18uYi5nZXRDb25maWcoImNyaXRlby5mYXN0QmlkVmVyc2lvbiIpLF89Y2FuRmFzdEJpZChhKTtpZighcHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJl8pe3dpbmRvdy5Dcml0ZW89d2luZG93LkNyaXRlb3x8e30sd2luZG93LkNyaXRlby51c2VQcmViaWRFdmVudHM9ITEsdHJ5R2V0Q3JpdGVvRmFzdEJpZCgpO3ZhciBvPWdldEZhc3RCaWRVcmwoYSk7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfYWRsb2FkZXJfanNfXy5hKShvLEJJRERFUl9DT0RFKX0pLGUudGltZW91dCl9aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkpe3ZhciBuPW5ldyBDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZChQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRyxBREFQVEVSX1ZFUlNJT04sdCxlLCI1LjExLjAiKTtyPW4uYnVpbGRDZGJVcmwoKSxpPW4uYnVpbGRDZGJSZXF1ZXN0KCl9ZWxzZXt2YXIgYz1idWlsZENvbnRleHQodCxlKTtyPWJ1aWxkQ2RiVXJsKGMpLGk9YnVpbGRDZGJSZXF1ZXN0KGMsdCxlKX1pZihpKXJldHVybnttZXRob2Q6IlBPU1QiLHVybDpyLGRhdGE6aSxiaWRSZXF1ZXN0czp0fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24odCxlKXt2YXIgcj10LmJvZHl8fHQ7aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkpe3ZhciBpPUNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIoZSk7aWYoaSlyZXR1cm4gaS5pbnRlcnByZXRSZXNwb25zZShyLGUpfXZhciBzPVtdO3JldHVybiByJiZyLnNsb3RzJiZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmlzQXJyYXkoci5zbG90cykmJnIuc2xvdHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX19fZGVmYXVsdCgpKGUuYmlkUmVxdWVzdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PT10LmltcGlkJiYoIWUucGFyYW1zLnpvbmVJZHx8cGFyc2VJbnQoZS5wYXJhbXMuem9uZUlkKT09PXQuem9uZWlkKX0pKSxpPXIuYmlkSWQsYT17cmVxdWVzdElkOmksYWRJZDp0LmJpZElkfHxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxjcG06dC5jcG0sY3VycmVuY3k6dC5jdXJyZW5jeSxuZXRSZXZlbnVlOiEwLHR0bDp0LnR0bHx8NjAsY3JlYXRpdmVJZDp0LmNyZWF0aXZlY29kZSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxkZWFsSWQ6dC5kZWFsQ29kZX07dC5hZG9tYWluJiYoYS5tZXRhPV9leHRlbmRzKHt9LGEubWV0YSx7YWR2ZXJ0aXNlckRvbWFpbnM6dC5hZG9tYWlufSkpLHQubmF0aXZlP3IucGFyYW1zLm5hdGl2ZUNhbGxiYWNrP2EuYWQ9Y3JlYXRlTmF0aXZlQWQoaSx0Lm5hdGl2ZSxyLnBhcmFtcy5uYXRpdmVDYWxsYmFjayk6KGEubmF0aXZlPWNyZWF0ZVByZWJpZE5hdGl2ZUFkKHQubmF0aXZlKSxhLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX2pzX18uYyk6dC52aWRlbz8oYS52YXN0VXJsPXQuZGlzcGxheXVybCxhLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX2pzX18uZCk6YS5hZD10LmNyZWF0aXZlLHMucHVzaChhKX0pKSxzfSxvblRpbWVvdXQ6ZnVuY3Rpb24odCl7aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJkFycmF5LmlzQXJyYXkodCkpe3ZhciBlPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7LTE9PT1lLmluZGV4T2YodC5hdWN0aW9uSWQpJiYoZS5wdXNoKHQuYXVjdGlvbklkKSxDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVCaWRUaW1lb3V0KCkpfSkpfX0sb25CaWRXb246ZnVuY3Rpb24odCl7cHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJnQmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZUJpZFdvbih0KX0sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24odCl7cHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZVNldFRhcmdldGluZyh0KX19O2Z1bmN0aW9uIHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQ3JpdGVvJiZDcml0ZW8uUHViVGFnJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZH1mdW5jdGlvbiBidWlsZENvbnRleHQodCxlKXt2YXIgcj0iIjtlJiZlLnJlZmVyZXJJbmZvJiYocj1lLnJlZmVyZXJJbmZvLnJlZmVyZXIpO3ZhciBpPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ucGFyc2VVcmwocikuc2VhcmNoLHM9e3VybDpyLGRlYnVnOiIxIj09PWkucGJ0X2RlYnVnLG5vTG9nOiIxIj09PWkucGJ0X25vbG9nLGFtcDohMX07cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ImFtcCI9PT10LnBhcmFtcy5pbnRlZ3JhdGlvbk1vZGUmJihzLmFtcD0hMCl9KSksc31mdW5jdGlvbiBidWlsZENkYlVybCh0KXt2YXIgZT1DREJfRU5EUE9JTlQ7cmV0dXJuIGUrPSI/cHJvZmlsZUlkPSIrUFJPRklMRV9JRF9JTkxJTkUsZSs9IiZhdj0iK1N0cmluZyhBREFQVEVSX1ZFUlNJT04pLGUrPSImd3Y9IitlbmNvZGVVUklDb21wb25lbnQoIjUuMTEuMCIpLGUrPSImY2I9IitTdHJpbmcoTWF0aC5mbG9vcig5OTk5OTk5OTk5OSpNYXRoLnJhbmRvbSgpKSksdC5hbXAmJihlKz0iJmltPTEiKSx0LmRlYnVnJiYoZSs9IiZkZWJ1Zz0xIiksdC5ub0xvZyYmKGUrPSImbm9sb2c9MSIpLGV9ZnVuY3Rpb24gY2hlY2tOYXRpdmVTZW5kSWQodCl7cmV0dXJuISh0Lm5hdGl2ZVBhcmFtcyYmKHQubmF0aXZlUGFyYW1zLmltYWdlJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5pbWFnZS5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuaW1hZ2Uuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5pY29uJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5pY29uLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5pY29uLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwmJighMCE9PXQubmF0aXZlUGFyYW1zLmNsaWNrVXJsLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5jbGlja1VybC5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLmRpc3BsYXlVcmwmJighMCE9PXQubmF0aXZlUGFyYW1zLmRpc3BsYXlVcmwuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmRpc3BsYXlVcmwuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluayYmKCEwIT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUxpbmsuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLnByaXZhY3lMaW5rLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMucHJpdmFjeUljb24mJighMCE9PXQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5SWNvbi5zZW5kVGFyZ2V0aW5nS2V5cykpKX1mdW5jdGlvbiBidWlsZENkYlJlcXVlc3QodCxlLHIpe3ZhciBpLHM9e3B1Ymxpc2hlcjp7dXJsOnQudXJsLGV4dDpyLnB1Ymxpc2hlckV4dH0sc2xvdHM6ZS5tYXAoKGZ1bmN0aW9uKHQpe2k9dC5wYXJhbXMubmV0d29ya0lkfHxpO3ZhciBlPXtpbXBpZDp0LmFkVW5pdENvZGUsdHJhbnNhY3Rpb25pZDp0LnRyYW5zYWN0aW9uSWQsYXVjdGlvbklkOnQuYXVjdGlvbklkfTtpZih0LnBhcmFtcy56b25lSWQmJihlLnpvbmVpZD10LnBhcmFtcy56b25lSWQpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJvcnRiMkltcC5leHQiKSYmKGUuZXh0PXQub3J0YjJJbXAuZXh0KSx0LnBhcmFtcy5leHQmJihlLmV4dD1fZXh0ZW5kcyh7fSxlLmV4dCx0LnBhcmFtcy5leHQpKSx0LnBhcmFtcy5wdWJsaXNoZXJTdWJJZCYmKGUucHVibGlzaGVyc3ViaWQ9dC5wYXJhbXMucHVibGlzaGVyU3ViSWQpLHQucGFyYW1zLm5hdGl2ZUNhbGxiYWNrfHxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy4iLmNvbmNhdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX2pzX18uYykpPyhlLm5hdGl2ZT0hMCxjaGVja05hdGl2ZVNlbmRJZCh0KXx8X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5sb2dXYXJuKExPR19QUkVGSVgrImFsbCBuYXRpdmUgYXNzZXRzIGNvbnRhaW5pbmcgVVJMIHNob3VsZCBiZSBzZW50IGFzIHBsYWNlaG9sZGVycyB3aXRoIHNlbmRJZChpY29uLCBpbWFnZSwgY2xpY2tVcmwsIGRpc3BsYXlVcmwsIHByaXZhY3lMaW5rLCBwcml2YWN5SWNvbikiKSxlLnNpemVzPXBhcnNlU2l6ZXMocmV0cmlldmVCYW5uZXJTaXplcyh0KSxwYXJzZU5hdGl2ZVNpemUpKTplLnNpemVzPXBhcnNlU2l6ZXMocmV0cmlldmVCYW5uZXJTaXplcyh0KSxwYXJzZVNpemUpLGhhc1ZpZGVvTWVkaWFUeXBlKHQpKXt2YXIgcj17cGxheWVyc2l6ZXM6cGFyc2VTaXplcyhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikscGFyc2VTaXplKSxtaW1lczp0Lm1lZGlhVHlwZXMudmlkZW8ubWltZXMscHJvdG9jb2xzOnQubWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHMsbWF4ZHVyYXRpb246dC5tZWRpYVR5cGVzLnZpZGVvLm1heGR1cmF0aW9uLGFwaTp0Lm1lZGlhVHlwZXMudmlkZW8uYXBpLHNraXA6dC5tZWRpYVR5cGVzLnZpZGVvLnNraXAscGxhY2VtZW50OnQubWVkaWFUeXBlcy52aWRlby5wbGFjZW1lbnQsbWluZHVyYXRpb246dC5tZWRpYVR5cGVzLnZpZGVvLm1pbmR1cmF0aW9uLHBsYXliYWNrbWV0aG9kOnQubWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZCxzdGFydGRlbGF5OnQubWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5fSxzPXQucGFyYW1zLnZpZGVvO3ZvaWQgMCE9PXMmJihyLnNraXA9ci5za2lwfHxzLnNraXB8fDAsci5wbGFjZW1lbnQ9ci5wbGFjZW1lbnR8fHMucGxhY2VtZW50LHIubWluZHVyYXRpb249ci5taW5kdXJhdGlvbnx8cy5taW5kdXJhdGlvbixyLnBsYXliYWNrbWV0aG9kPXIucGxheWJhY2ttZXRob2R8fHMucGxheWJhY2ttZXRob2Qsci5zdGFydGRlbGF5PXIuc3RhcnRkZWxheXx8cy5zdGFydGRlbGF5fHwwKSxlLnZpZGVvPXJ9cmV0dXJuIGV9KSl9O3JldHVybiBpJiYocy5wdWJsaXNoZXIubmV0d29ya2lkPWkpLHMudXNlcj17ZXh0OnIudXNlckV4dH0sciYmci5jZWgmJihzLnVzZXIuY2VoPXIuY2VoKSxyJiZyLmdkcHJDb25zZW50JiYocy5nZHByQ29uc2VudD17fSx2b2lkIDAhPT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocy5nZHByQ29uc2VudC5nZHByQXBwbGllcz0hIXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLHMuZ2RwckNvbnNlbnQudmVyc2lvbj1yLmdkcHJDb25zZW50LmFwaVZlcnNpb24sdm9pZCAwIT09ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYocy5nZHByQ29uc2VudC5jb25zZW50RGF0YT1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxyJiZyLnVzcENvbnNlbnQmJihzLnVzZXIudXNwSWFiPXIudXNwQ29uc2VudCksc31mdW5jdGlvbiByZXRyaWV2ZUJhbm5lclNpemVzKHQpe3JldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8dC5zaXplc31mdW5jdGlvbiBwYXJzZVNpemVzKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodFswXSk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSkpOltlKHQpXX1mdW5jdGlvbiBwYXJzZVNpemUodCl7cmV0dXJuIHRbMF0rIngiK3RbMV19ZnVuY3Rpb24gcGFyc2VOYXRpdmVTaXplKHQpe3JldHVybiB2b2lkIDA9PT10WzBdJiZ2b2lkIDA9PT10WzFdPyIyeDIiOnRbMF0rIngiK3RbMV19ZnVuY3Rpb24gaGFzVmlkZW9NZWRpYVR5cGUodCl7cmV0dXJuIHZvaWQgMCE9PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvIil9ZnVuY3Rpb24gaGFzVmFsaWRWaWRlb01lZGlhVHlwZSh0KXt2YXIgZT0hMDtpZihbIm1pbWVzIiwicGxheWVyU2l6ZSIsIm1heGR1cmF0aW9uIiwicHJvdG9jb2xzIiwiYXBpIiwic2tpcCIsInBsYWNlbWVudCIsInBsYXliYWNrbWV0aG9kIl0uZm9yRWFjaCgoZnVuY3Rpb24ocil7dm9pZCAwPT09X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8uIityKSYmdm9pZCAwPT09X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsInBhcmFtcy52aWRlby4iK3IpJiYoZT0hMSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmxvZ0Vycm9yKCJDcml0ZW8gQmlkIEFkYXB0ZXI6IG1lZGlhVHlwZXMudmlkZW8uIityKyIgaXMgcmVxdWlyZWQiKSl9KSksZSl7dmFyIHI9dC5tZWRpYVR5cGVzLnZpZGVvLnBsYWNlbWVudHx8dC5wYXJhbXMudmlkZW8ucGxhY2VtZW50O2lmKCJpbnN0cmVhbSI9PXQubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYxPT09cilyZXR1cm4hMDtpZigib3V0c3RyZWFtIj09dC5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJjEhPT1yKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGNyZWF0ZVByZWJpZE5hdGl2ZUFkKHQpe3JldHVybntzZW5kVGFyZ2V0aW5nS2V5czohMSx0aXRsZTp0LnByb2R1Y3RzWzBdLnRpdGxlLGJvZHk6dC5wcm9kdWN0c1swXS5kZXNjcmlwdGlvbixzcG9uc29yZWRCeTp0LmFkdmVydGlzZXIuZGVzY3JpcHRpb24saWNvbjp0LmFkdmVydGlzZXIubG9nbyxpbWFnZTp0LnByb2R1Y3RzWzBdLmltYWdlLGNsaWNrVXJsOnQucHJvZHVjdHNbMF0uY2xpY2tfdXJsLHByaXZhY3lMaW5rOnQucHJpdmFjeS5vcHRvdXRfY2xpY2tfdXJsLHByaXZhY3lJY29uOnQucHJpdmFjeS5vcHRvdXRfaW1hZ2VfdXJsLGN0YTp0LnByb2R1Y3RzWzBdLmNhbGxfdG9fYWN0aW9uLHByaWNlOnQucHJvZHVjdHNbMF0ucHJpY2UsaW1wcmVzc2lvblRyYWNrZXJzOnQuaW1wcmVzc2lvbl9waXhlbHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC51cmx9KSl9fWZ1bmN0aW9uIGNyZWF0ZU5hdGl2ZUFkKHQsZSxyKXt2YXIgaT0iY3JpdGVvX3ByZWJpZF9uYXRpdmVfc2xvdHMiO3JldHVybiB3aW5kb3dbaV09d2luZG93W2ldfHx7fSx3aW5kb3dbaV1bdF09e2NhbGxiYWNrOnIscGF5bG9hZDplfSwnXG48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+XG5mb3IgKHZhciBpID0gMDsgaSA8IDEwOyArK2kpIHtcbiB2YXIgc2xvdHMgPSB3aW5kb3cucGFyZW50LicuY29uY2F0KGksJztcbiAgaWYoIXNsb3RzKXtjb250aW51ZTt9XG4gIHZhciByZXNwb25zZVNsb3QgPSBzbG90c1siJykuY29uY2F0KHQsJyJdO1xuICByZXNwb25zZVNsb3QuY2FsbGJhY2socmVzcG9uc2VTbG90LnBheWxvYWQpO1xuICBicmVhaztcbn1cbjxcL3NjcmlwdD4nKX1mdW5jdGlvbiBjYW5GYXN0QmlkKHQpe3JldHVybiB0IT09RkFTVF9CSURfVkVSU0lPTl9OT05FfWZ1bmN0aW9uIGdldEZhc3RCaWRVcmwodCl7dmFyIGU7aWYodD09PUZBU1RfQklEX1ZFUlNJT05fTEFURVNUKWU9IiI7ZWxzZSBpZih0KXtTdHJpbmcodCkuc3BsaXQoIi4iKVswXTwxMDImJl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybigiU3BlY2lmeWluZyBhIEZhc3RiaWQgdmVyc2lvbiB3aGljaCBpcyBub3Qgc3VwcG9ydGluZyB2ZXJzaW9uIHNlbGVjdGlvbi4iKSxlPSIuIit0fWVsc2UgZT0iLiIrRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UO3JldHVybiBQVUJMSVNIRVJfVEFHX1VSTF9URU1QTEFURS5yZXBsYWNlKEZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVIsZSl9ZnVuY3Rpb24gdHJ5R2V0Q3JpdGVvRmFzdEJpZCgpe3RyeXt2YXIgZmFzdEJpZFN0b3JhZ2VLZXk9ImNyaXRlb19mYXN0X2JpZCIsaGFzaFByZWZpeD0iLy8gSGFzaDogIixmYXN0QmlkRnJvbVN0b3JhZ2U9c3RvcmFnZS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShmYXN0QmlkU3RvcmFnZUtleSk7aWYobnVsbCE9PWZhc3RCaWRGcm9tU3RvcmFnZSl7dmFyIGZpcnN0TGluZUVuZFBvc2l0aW9uPWZhc3RCaWRGcm9tU3RvcmFnZS5pbmRleE9mKCJcbiIpLGZpcnN0TGluZT1mYXN0QmlkRnJvbVN0b3JhZ2Uuc3Vic3RyKDAsZmlyc3RMaW5lRW5kUG9zaXRpb24pLnRyaW0oKTtpZihmaXJzdExpbmUuc3Vic3RyKDAsaGFzaFByZWZpeC5sZW5ndGgpIT09aGFzaFByZWZpeClfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmxvZ1dhcm4oIk5vIGhhc2ggZm91bmQgaW4gRmFzdEJpZCIpLHN0b3JhZ2UucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpO2Vsc2V7dmFyIHB1Ymxpc2hlclRhZ0hhc2g9Zmlyc3RMaW5lLnN1YnN0cihoYXNoUHJlZml4Lmxlbmd0aCkscHVibGlzaGVyVGFnPWZhc3RCaWRGcm9tU3RvcmFnZS5zdWJzdHIoZmlyc3RMaW5lRW5kUG9zaXRpb24rMSk7T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXy52ZXJpZnkpKHB1Ymxpc2hlclRhZyxwdWJsaXNoZXJUYWdIYXNoLEZBU1RfQklEX1BVQktFWV9OLEZBU1RfQklEX1BVQktFWV9FKT8oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5sb2dJbmZvKCJVc2luZyBDcml0ZW8gRmFzdEJpZCIpLGV2YWwocHVibGlzaGVyVGFnKSk6KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybigiSW52YWxpZCBDcml0ZW8gRmFzdEJpZCBmb3VuZCIpLHN0b3JhZ2UucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpKX19fWNhdGNoKHQpe319T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfanNfXy5yZWdpc3RlckJpZGRlcikoc3BlYyl9LDcwOmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPXIoNzEpLHM9cig3Mik7ZS52ZXJpZnk9ZnVuY3Rpb24odCxlLHIsYSl7dmFyIF89bmV3IGkuQmlnSW50ZWdlcihpLmI2NHRvSGV4KGUpKSxvPW5ldyBpLkJpZ0ludGVnZXIoaS5iNjR0b0hleChyKSksbj1fLm1vZFBvd0ludChhLG8pO3JldHVybiBpLnJlbW92ZUV4dHJhU3ltYm9scyhuLnRvSGV4U3RyaW5nKCkpPT09cy5TaGEyNTYuaGFzaCh0KX19LDcxOmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtudWxsIT09dCYmdGhpcy5mcm9tSGV4U3RyaW5nKHQpfXJldHVybiB0LnByb3RvdHlwZS50b0hleFN0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuczwwKXJldHVybiItIit0aGlzLm5lZ2F0ZSgpLnRvSGV4U3RyaW5nKCk7dmFyIHQsZT0hMSxyPSIiLGk9dGhpcy50LHM9dGhpcy5EQi1pKnRoaXMuREIlNDtpZihpLS0gPjApZm9yKHM8dGhpcy5EQiYmKHQ9dGhpc1tpXT4+cyk+MCYmKGU9ITAscj1kKHQpKTtpPj0wOylzPDQ/KHQ9KHRoaXNbaV0mKDE8PHMpLTEpPDw0LXMsdHw9dGhpc1stLWldPj4ocys9dGhpcy5EQi00KSk6KHQ9dGhpc1tpXT4+KHMtPTQpJjE1LHM8PTAmJihzKz10aGlzLkRCLC0taSkpLHQ+MCYmKGU9ITApLGUmJihyKz1kKHQpKTtyZXR1cm4gZT9yOiIwIn0sdC5wcm90b3R5cGUuZnJvbUhleFN0cmluZz1mdW5jdGlvbihlKXtpZihudWxsIT09ZSl7dGhpcy50PTAsdGhpcy5zPTA7Zm9yKHZhciByPWUubGVuZ3RoLGk9ITEscz0wOy0tcj49MDspe3ZhciBhPXAoZSxyKTthPDA/Ii0iPT1lLmNoYXJBdChyKSYmKGk9ITApOihpPSExLDA9PXM/dGhpc1t0aGlzLnQrK109YTpzKzQ+dGhpcy5EQj8odGhpc1t0aGlzLnQtMV18PShhJigxPDx0aGlzLkRCLXMpLTEpPDxzLHRoaXNbdGhpcy50KytdPWE+PnRoaXMuREItcyk6dGhpc1t0aGlzLnQtMV18PWE8PHMsKHMrPTQpPj10aGlzLkRCJiYocy09dGhpcy5EQikpfTAsdGhpcy5jbGFtcCgpLGkmJnQuWkVSTy5zdWJUbyh0aGlzLHRoaXMpfX0sdC5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7dmFyIGU9YSgpO3JldHVybiB0LlpFUk8uc3ViVG8odGhpcyxlKSxlfSx0LnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzfSx0LnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24oZSl7dmFyIHI9YSgpO3JldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKGUsbnVsbCxyKSx0aGlzLnM8MCYmci5jb21wYXJlVG8odC5aRVJPKT4wJiZlLnN1YlRvKHIscikscn0sdC5wcm90b3R5cGUuY29weVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnQtMTtlPj0wOy0tZSl0W2VdPXRoaXNbZV07dC50PXRoaXMudCx0LnM9dGhpcy5zfSx0LnByb3RvdHlwZS5sU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10JXRoaXMuREIsaT10aGlzLkRCLXIscz0oMTw8aSktMSxhPU1hdGguZmxvb3IodC90aGlzLkRCKSxfPXRoaXMuczw8ciZ0aGlzLkRNLG89dGhpcy50LTE7bz49MDstLW8pZVtvK2ErMV09dGhpc1tvXT4+aXxfLF89KHRoaXNbb10mcyk8PHI7Zm9yKG89YS0xO28+PTA7LS1vKWVbb109MDtlW2FdPV8sZS50PXRoaXMudCthKzEsZS5zPXRoaXMucyxlLmNsYW1wKCl9LHQucHJvdG90eXBlLmludkRpZ2l0PWZ1bmN0aW9uKCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIHQ9dGhpc1swXTtpZigwPT0oMSZ0KSlyZXR1cm4gMDt2YXIgZT0zJnQ7cmV0dXJuKGU9KGU9KGU9KGU9ZSooMi0oMTUmdCkqZSkmMTUpKigyLSgyNTUmdCkqZSkmMjU1KSooMi0oKDY1NTM1JnQpKmUmNjU1MzUpKSY2NTUzNSkqKDItdCplJXRoaXMuRFYpJXRoaXMuRFYpPjA/dGhpcy5EVi1lOi1lfSx0LnByb3RvdHlwZS5kbFNoaWZ0VG89ZnVuY3Rpb24odCxlKXt2YXIgcjtmb3Iocj10aGlzLnQtMTtyPj0wOy0tcillW3IrdF09dGhpc1tyXTtmb3Iocj10LTE7cj49MDstLXIpZVtyXT0wO2UudD10aGlzLnQrdCxlLnM9dGhpcy5zfSx0LnByb3RvdHlwZS5zcXVhcmVUbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5hYnMoKSxyPXQudD0yKmUudDstLXI+PTA7KXRbcl09MDtmb3Iocj0wO3I8ZS50LTE7KytyKXt2YXIgaT1lLmFtKHIsZVtyXSx0LDIqciwwLDEpOyh0W3IrZS50XSs9ZS5hbShyKzEsMiplW3JdLHQsMipyKzEsaSxlLnQtci0xKSk+PWUuRFYmJih0W3IrZS50XS09ZS5EVix0W3IrZS50KzFdPTEpfXQudD4wJiYodFt0LnQtMV0rPWUuYW0ocixlW3JdLHQsMipyLDAsMSkpLHQucz0wLHQuY2xhbXAoKX0sdC5wcm90b3R5cGUubXVsdGlwbHlUbz1mdW5jdGlvbihlLHIpe3ZhciBpPXRoaXMuYWJzKCkscz1lLmFicygpLGE9aS50O2ZvcihyLnQ9YStzLnQ7LS1hPj0wOylyW2FdPTA7Zm9yKGE9MDthPHMudDsrK2EpclthK2kudF09aS5hbSgwLHNbYV0scixhLDAsaS50KTtyLnM9MCxyLmNsYW1wKCksdGhpcy5zIT1lLnMmJnQuWkVSTy5zdWJUbyhyLHIpfSx0LnByb3RvdHlwZS5kaXZSZW1Ubz1mdW5jdGlvbihlLHIsaSl7dmFyIHM9ZS5hYnMoKTtpZighKHMudDw9MCkpe3ZhciBvPXRoaXMuYWJzKCk7aWYoby50PHMudClyZXR1cm4gbnVsbCE9ciYmci5mcm9tSGV4U3RyaW5nKCIwIiksdm9pZChudWxsIT1pJiZ0aGlzLmNvcHlUbyhpKSk7bnVsbD09aSYmKGk9YSgpKTt2YXIgbj1hKCksYz10aGlzLnMscD1lLnMsZD10aGlzLkRCLV8oc1tzLnQtMV0pO2Q+MD8ocy5sU2hpZnRUbyhkLG4pLG8ubFNoaWZ0VG8oZCxpKSk6KHMuY29weVRvKG4pLG8uY29weVRvKGkpKTt2YXIgdT1uLnQsbD1uW3UtMV07aWYoMCE9bCl7dmFyIGg9bCooMTw8dGhpcy5GMSkrKHU+MT9uW3UtMl0+PnRoaXMuRjI6MCksZj10aGlzLkZWL2gsRT0oMTw8dGhpcy5GMSkvaCx2PTE8PHRoaXMuRjIsbT1pLnQsVD1tLXUsYj1udWxsPT1yP2EoKTpyO2ZvcihuLmRsU2hpZnRUbyhULGIpLGkuY29tcGFyZVRvKGIpPj0wJiYoaVtpLnQrK109MSxpLnN1YlRvKGIsaSkpLHQuT05FLmRsU2hpZnRUbyh1LGIpLGIuc3ViVG8obixuKTtuLnQ8dTspbltuLnQrK109MDtmb3IoOy0tVD49MDspe3ZhciBEPWlbLS1tXT09bD90aGlzLkRNOk1hdGguZmxvb3IoaVttXSpmKyhpW20tMV0rdikqRSk7aWYoKGlbbV0rPW4uYW0oMCxELGksVCwwLHUpKTxEKWZvcihuLmRsU2hpZnRUbyhULGIpLGkuc3ViVG8oYixpKTtpW21dPC0tRDspaS5zdWJUbyhiLGkpfW51bGwhPXImJihpLmRyU2hpZnRUbyh1LHIpLGMhPXAmJnQuWkVSTy5zdWJUbyhyLHIpKSxpLnQ9dSxpLmNsYW1wKCksZD4wJiZpLnJTaGlmdFRvKGQsaSksYzwwJiZ0LlpFUk8uc3ViVG8oaSxpKX19fSx0LnByb3RvdHlwZS5yU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Uucz10aGlzLnM7dmFyIHI9TWF0aC5mbG9vcih0L3RoaXMuREIpO2lmKHI+PXRoaXMudCllLnQ9MDtlbHNle3ZhciBpPXQldGhpcy5EQixzPXRoaXMuREItaSxhPSgxPDxpKS0xO2VbMF09dGhpc1tyXT4+aTtmb3IodmFyIF89cisxO188dGhpcy50OysrXyllW18tci0xXXw9KHRoaXNbX10mYSk8PHMsZVtfLXJdPXRoaXNbX10+Pmk7aT4wJiYoZVt0aGlzLnQtci0xXXw9KHRoaXMucyZhKTw8cyksZS50PXRoaXMudC1yLGUuY2xhbXAoKX19LHQucHJvdG90eXBlLmRyU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10O3I8dGhpcy50OysrcillW3ItdF09dGhpc1tyXTtlLnQ9TWF0aC5tYXgodGhpcy50LXQsMCksZS5zPXRoaXMuc30sdC5wcm90b3R5cGUuc3ViVG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxpPTAscz1NYXRoLm1pbih0LnQsdGhpcy50KTtyPHM7KWkrPXRoaXNbcl0tdFtyXSxlW3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2lmKHQudDx0aGlzLnQpe2ZvcihpLT10LnM7cjx0aGlzLnQ7KWkrPXRoaXNbcl0sZVtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpKz10aGlzLnN9ZWxzZXtmb3IoaSs9dGhpcy5zO3I8dC50OylpLT10W3JdLGVbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aS09dC5zfWUucz1pPDA/LTE6MCxpPC0xP2VbcisrXT10aGlzLkRWK2k6aT4wJiYoZVtyKytdPWkpLGUudD1yLGUuY2xhbXAoKX0sdC5wcm90b3R5cGUuY2xhbXA9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zJnRoaXMuRE07dGhpcy50PjAmJnRoaXNbdGhpcy50LTFdPT10OyktLXRoaXMudH0sdC5wcm90b3R5cGUubW9kUG93SW50PWZ1bmN0aW9uKHQsZSl7dmFyIHI7cmV0dXJuIHI9dDwyNTZ8fGUuaXNFdmVuKCk/bmV3IHUoZSk6bmV3IGwoZSksdGhpcy5leHAodCxyKX0sdC5wcm90b3R5cGUuZXhwPWZ1bmN0aW9uKGUscil7aWYoZT40Mjk0OTY3Mjk1fHxlPDEpcmV0dXJuIHQuT05FO3ZhciBpPWEoKSxzPWEoKSxvPXIuY29udmVydCh0aGlzKSxuPV8oZSktMTtmb3Ioby5jb3B5VG8oaSk7LS1uPj0wOylpZihyLnNxclRvKGkscyksKGUmMTw8bik+MClyLm11bFRvKHMsbyxpKTtlbHNle3ZhciBjPWk7aT1zLHM9Y31yZXR1cm4gci5yZXZlcnQoaSl9LHQucHJvdG90eXBlLmlzRXZlbj1mdW5jdGlvbigpe3JldHVybiAwPT0odGhpcy50PjA/MSZ0aGlzWzBdOnRoaXMucyl9LHQucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnMtdC5zO2lmKDAhPWUpcmV0dXJuIGU7dmFyIHI9dGhpcy50O2lmKDAhPShlPXItdC50KSlyZXR1cm4gdGhpcy5zPDA/LWU6ZTtmb3IoOy0tcj49MDspaWYoMCE9KGU9dGhpc1tyXS10W3JdKSlyZXR1cm4gZTtyZXR1cm4gMH0sdC5wcm90b3R5cGUuYW0xPWZ1bmN0aW9uKHQsZSxyLGkscyxhKXtmb3IoOy0tYT49MDspe3ZhciBfPWUqdGhpc1t0KytdK3JbaV0rcztzPU1hdGguZmxvb3IoXy82NzEwODg2NCkscltpKytdPTY3MTA4ODYzJl99cmV0dXJuIHN9LHQucHJvdG90eXBlLmFtMj1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKHZhciBfPTMyNzY3JmUsbz1lPj4xNTstLWE+PTA7KXt2YXIgbj0zMjc2NyZ0aGlzW3RdLGM9dGhpc1t0KytdPj4xNSxwPW8qbitjKl87cz0oKG49XypuKygoMzI3NjcmcCk8PDE1KStyW2ldKygxMDczNzQxODIzJnMpKT4+PjMwKSsocD4+PjE1KStvKmMrKHM+Pj4zMCkscltpKytdPTEwNzM3NDE4MjMmbn1yZXR1cm4gc30sdC5wcm90b3R5cGUuYW0zPWZ1bmN0aW9uKHQsZSxyLGkscyxhKXtmb3IodmFyIF89MTYzODMmZSxvPWU+PjE0Oy0tYT49MDspe3ZhciBuPTE2MzgzJnRoaXNbdF0sYz10aGlzW3QrK10+PjE0LHA9bypuK2MqXztzPSgobj1fKm4rKCgxNjM4MyZwKTw8MTQpK3JbaV0rcyk+PjI4KSsocD4+MTQpK28qYyxyW2krK109MjY4NDM1NDU1Jm59cmV0dXJuIHN9LHR9KCk7ZnVuY3Rpb24gYSgpe3JldHVybiBuZXcgcyhudWxsKX1mdW5jdGlvbiBfKHQpe3ZhciBlLHI9MTtyZXR1cm4gMCE9KGU9dD4+PjE2KSYmKHQ9ZSxyKz0xNiksMCE9KGU9dD4+OCkmJih0PWUscis9OCksMCE9KGU9dD4+NCkmJih0PWUscis9NCksMCE9KGU9dD4+MikmJih0PWUscis9MiksMCE9KGU9dD4+MSkmJih0PWUscis9MSkscn1lLkJpZ0ludGVnZXI9cyxlLm5iaT1hLGUubmJpdHM9Xzt2YXIgbyxuLGM9W107Zm9yKG89IjAiLmNoYXJDb2RlQXQoMCksbj0wO248PTk7KytuKWNbbysrXT1uO2ZvcihvPSJhIi5jaGFyQ29kZUF0KDApLG49MTA7bjwzNjsrK24pY1tvKytdPW47Zm9yKG89IkEiLmNoYXJDb2RlQXQoMCksbj0xMDtuPDM2OysrbiljW28rK109bjtmdW5jdGlvbiBwKHQsZSl7dmFyIHI9Y1t0LmNoYXJDb2RlQXQoZSldO3JldHVybiBudWxsPT1yPy0xOnJ9ZS5pbnRBdD1wO2Z1bmN0aW9uIGQodCl7cmV0dXJuIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIuY2hhckF0KHQpfWUuaW50MmNoYXI9ZDtlLmI2NHRvSGV4PWZ1bmN0aW9uKHQpe3ZhciBlLHI9IiIsaT0wLHM9MDtmb3IoZT0wO2U8dC5sZW5ndGgmJiI9IiE9dC5jaGFyQXQoZSk7KytlKXt2YXIgYT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuaW5kZXhPZih0LmNoYXJBdChlKSk7YTwwfHwoMD09aT8ocis9ZChhPj4yKSxzPTMmYSxpPTEpOjE9PWk/KHIrPWQoczw8MnxhPj40KSxzPTE1JmEsaT0yKToyPT1pPyhyKz1kKHMpLHIrPWQoYT4+Mikscz0zJmEsaT0zKToocis9ZChzPDwyfGE+PjQpLHIrPWQoMTUmYSksaT0wKSl9cmV0dXJuIDE9PWkmJihyKz1kKHM8PDIpKSxyfSxlLnJlbW92ZUV4dHJhU3ltYm9scz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eMWYrMDAvLCIiKS5yZXBsYWNlKCIzMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMCIsIiIpfTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5tPXR9cmV0dXJuIHQucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuczwwfHx0LmNvbXBhcmVUbyh0aGlzLm0pPj0wP3QubW9kKHRoaXMubSk6dH0sdC5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0fSx0LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7dC5kaXZSZW1Ubyh0aGlzLm0sbnVsbCx0KX0sdC5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24odCxlLHIpe3QubXVsdGlwbHlUbyhlLHIpLHRoaXMucmVkdWNlKHIpfSx0LnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbih0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9LHR9KCksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5tPXQsdGhpcy5tcD10LmludkRpZ2l0KCksdGhpcy5tcGw9MzI3NjcmdGhpcy5tcCx0aGlzLm1waD10aGlzLm1wPj4xNSx0aGlzLnVtPSgxPDx0LkRCLTE1KS0xLHRoaXMubXQyPTIqdC50fXJldHVybiB0LnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPWEoKTtyZXR1cm4gdC5hYnMoKS5kbFNoaWZ0VG8odGhpcy5tLnQsZSksZS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxlKSx0LnM8MCYmZS5jb21wYXJlVG8ocy5aRVJPKT4wJiZ0aGlzLm0uc3ViVG8oZSxlKSxlfSx0LnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24odCl7dmFyIGU9YSgpO3JldHVybiB0LmNvcHlUbyhlKSx0aGlzLnJlZHVjZShlKSxlfSx0LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7Zm9yKDt0LnQ8PXRoaXMubXQyOyl0W3QudCsrXT0wO2Zvcih2YXIgZT0wO2U8dGhpcy5tLnQ7KytlKXt2YXIgcj0zMjc2NyZ0W2VdLGk9cip0aGlzLm1wbCsoKHIqdGhpcy5tcGgrKHRbZV0+PjE1KSp0aGlzLm1wbCZ0aGlzLnVtKTw8MTUpJnQuRE07Zm9yKHRbcj1lK3RoaXMubS50XSs9dGhpcy5tLmFtKDAsaSx0LGUsMCx0aGlzLm0udCk7dFtyXT49dC5EVjspdFtyXS09dC5EVix0Wysrcl0rK310LmNsYW1wKCksdC5kclNoaWZ0VG8odGhpcy5tLnQsdCksdC5jb21wYXJlVG8odGhpcy5tKT49MCYmdC5zdWJUbyh0aGlzLm0sdCl9LHQucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxyKXt0Lm11bHRpcGx5VG8oZSxyKSx0aGlzLnJlZHVjZShyKX0sdC5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSx0fSgpO2Z1bmN0aW9uIGgodCl7dmFyIGU9YSgpO3JldHVybiBlLmZyb21IZXhTdHJpbmcodC50b1N0cmluZygpKSxlfWUubmJ2PWgscy5aRVJPPWgoMCkscy5PTkU9aCgxKSwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyIj09bmF2aWdhdG9yLmFwcE5hbWU/KHMucHJvdG90eXBlLmFtPXMucHJvdG90eXBlLmFtMixpPTMwKToiTmV0c2NhcGUiIT1uYXZpZ2F0b3IuYXBwTmFtZT8ocy5wcm90b3R5cGUuYW09cy5wcm90b3R5cGUuYW0xLGk9MjYpOihzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTMsaT0yOCkscy5wcm90b3R5cGUuREI9aSxzLnByb3RvdHlwZS5ETT0oMTw8aSktMSxzLnByb3RvdHlwZS5EVj0xPDxpO3MucHJvdG90eXBlLkZWPU1hdGgucG93KDIsNTIpLHMucHJvdG90eXBlLkYxPTUyLWkscy5wcm90b3R5cGUuRjI9MippLTUyfSw3MjpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuaGFzaD1mdW5jdGlvbihlKXtlPXQudXRmOEVuY29kZShlfHwiIik7Zm9yKHZhciByPVsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdLGk9WzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XSxzPShlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyOCkpLmxlbmd0aC80KzIsYT1NYXRoLmNlaWwocy8xNiksXz1uZXcgQXJyYXkoYSksbz0wO288YTtvKyspe19bb109bmV3IEFycmF5KDE2KTtmb3IodmFyIG49MDtuPDE2O24rKylfW29dW25dPWUuY2hhckNvZGVBdCg2NCpvKzQqbik8PDI0fGUuY2hhckNvZGVBdCg2NCpvKzQqbisxKTw8MTZ8ZS5jaGFyQ29kZUF0KDY0Km8rNCpuKzIpPDw4fGUuY2hhckNvZGVBdCg2NCpvKzQqbiszKTw8MH12YXIgYz04KihlLmxlbmd0aC0xKS9NYXRoLnBvdygyLDMyKSxwPTgqKGUubGVuZ3RoLTEpPj4+MDtfW2EtMV1bMTRdPU1hdGguZmxvb3IoYyksX1thLTFdWzE1XT1wO2ZvcihvPTA7bzxhO28rKyl7Zm9yKHZhciBkPW5ldyBBcnJheSg2NCksdT0wO3U8MTY7dSsrKWRbdV09X1tvXVt1XTtmb3IodT0xNjt1PDY0O3UrKylkW3VdPXQucTEoZFt1LTJdKStkW3UtN10rdC5xMChkW3UtMTVdKStkW3UtMTZdPj4+MDt2YXIgbD1pWzBdLGg9aVsxXSxmPWlbMl0sRT1pWzNdLHY9aVs0XSxtPWlbNV0sVD1pWzZdLGI9aVs3XTtmb3IodT0wO3U8NjQ7dSsrKXt2YXIgRD1iK3QuejEodikrdC5DaCh2LG0sVCkrclt1XStkW3VdLHk9dC56MChsKSt0Lk1haihsLGgsZik7Yj1ULFQ9bSxtPXYsdj1FK0Q+Pj4wLEU9ZixmPWgsaD1sLGw9RCt5Pj4+MH1pWzBdPWlbMF0rbD4+PjAsaVsxXT1pWzFdK2g+Pj4wLGlbMl09aVsyXStmPj4+MCxpWzNdPWlbM10rRT4+PjAsaVs0XT1pWzRdK3Y+Pj4wLGlbNV09aVs1XSttPj4+MCxpWzZdPWlbNl0rVD4+PjAsaVs3XT1pWzddK2I+Pj4wfXZhciBQPW5ldyBBcnJheShpLmxlbmd0aCk7Zm9yKGI9MDtiPGkubGVuZ3RoO2IrKylQW2JdPSgiMDAwMDAwMDAiK2lbYl0udG9TdHJpbmcoMTYpKS5zbGljZSgtOCk7cmV0dXJuIFAuam9pbigiIil9LHQudXRmOEVuY29kZT1mdW5jdGlvbih0KXt0cnl7cmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKHQpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtTdHJpbmcuZnJvbUNoYXJDb2RlKGUpfSksIiIpfWNhdGNoKGUpe3JldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpfX0sdC5ST1RSPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU+Pj50fGU8PDMyLXR9LHQuejA9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUigyLGUpXnQuUk9UUigxMyxlKV50LlJPVFIoMjIsZSl9LHQuejE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUig2LGUpXnQuUk9UUigxMSxlKV50LlJPVFIoMjUsZSl9LHQucTA9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUig3LGUpXnQuUk9UUigxOCxlKV5lPj4+M30sdC5xMT1mdW5jdGlvbihlKXtyZXR1cm4gdC5ST1RSKDE3LGUpXnQuUk9UUigxOSxlKV5lPj4+MTB9LHQuQ2g9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0JmVefnQmcn0sdC5NYWo9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0JmVedCZyXmUmcn0sdH0oKTtlLlNoYTI1Nj1pfX0sWzM2NF0pOwp1cGJqc0NodW5rKFsyNjZdLHszNjg6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDM2OSl9LDM2OTpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwiY3VycmVuY3lTdXBwb3J0RW5hYmxlZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKHIsImN1cnJlbmN5UmF0ZXMiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLHIuc2V0Q29uZmlnPW0sci5hZGRCaWRSZXNwb25zZUhvb2s9Tzt2YXIgbz1uKDE0KSxjPW4oNDIpLHQ9big1KSxpPShuLm4odCksbig0KSksYT1uKDApLHU9bigzKSxzPW4oMTApO2Z1bmN0aW9uIGYoZSl7cmV0dXJuKGY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgZCxsPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvcHJlYmlkL2N1cnJlbmN5LWZpbGVAMS9sYXRlc3QuanNvbj9kYXRlPSQkVE9EQVkkJCIseT1bXSxnPXt9LHY9ITEscD0hMCxiPSJVU0QiLGg9ITEsQz17fSxTPXt9O2Z1bmN0aW9uIG0oZSl7dmFyIHI9bDtpZigib2JqZWN0Ij09PWYoZS5yYXRlcykmJihDLmNvbnZlcnNpb25zPWUucmF0ZXMsdj0hMCxwPSExKSwib2JqZWN0Ij09PWYoZS5kZWZhdWx0UmF0ZXMpJiYoZD1lLmRlZmF1bHRSYXRlcyxDLmNvbnZlcnNpb25zPWQsdj0hMCksInN0cmluZyI9PXR5cGVvZiBlLmFkU2VydmVyQ3VycmVuY3kpe2EubG9nSW5mbygiZW5hYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIsYXJndW1lbnRzKSxiPWUuYWRTZXJ2ZXJDdXJyZW5jeSxlLmNvbnZlcnNpb25SYXRlRmlsZSYmKGEubG9nSW5mbygiY3VycmVuY3kgdXNpbmcgb3ZlcnJpZGUgY29udmVyc2lvblJhdGVGaWxlOiIsZS5jb252ZXJzaW9uUmF0ZUZpbGUpLHI9ZS5jb252ZXJzaW9uUmF0ZUZpbGUpO3ZhciBuPXIuaW5kZXhPZigiJCRUT0RBWSQkIik7aWYoLTEhPT1uKXt2YXIgbz1uZXcgRGF0ZSxjPSIiLmNvbmNhdChvLmdldE1vbnRoKCkrMSksdD0iIi5jb25jYXQoby5nZXREYXRlKCkpO2MubGVuZ3RoPDImJihjPSIwIi5jb25jYXQoYykpLHQubGVuZ3RoPDImJih0PSIwIi5jb25jYXQodCkpO3ZhciBpPSIiLmNvbmNhdChvLmdldEZ1bGxZZWFyKCkpLmNvbmNhdChjKS5jb25jYXQodCk7cj0iIi5jb25jYXQoci5zdWJzdHJpbmcoMCxuKSkuY29uY2F0KGkpLmNvbmNhdChyLnN1YnN0cmluZyhuKzksci5sZW5ndGgpKX1EKHIpfWVsc2UgYS5sb2dJbmZvKCJkaXNhYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIpLEkoKTsib2JqZWN0Ij09PWYoZS5iaWRkZXJDdXJyZW5jeURlZmF1bHQpJiYoUz1lLmJpZGRlckN1cnJlbmN5RGVmYXVsdCl9ZnVuY3Rpb24gUihlKXtkPyhhLmxvZ1dhcm4oZSksYS5sb2dXYXJuKCJDdXJyZW5jeSBmYWlsZWQgbG9hZGluZyByYXRlcywgZmFsbGluZyBiYWNrIHRvIGN1cnJlbmN5LmRlZmF1bHRSYXRlcyIpKTphLmxvZ0Vycm9yKGUpfWZ1bmN0aW9uIEQoZSl7Zz17fSxoPSEwLGEubG9nSW5mbygiSW5zdGFsbGluZyBhZGRCaWRSZXNwb25zZSBkZWNvcmF0b3IgZm9yIGN1cnJlbmN5IG1vZHVsZSIsYXJndW1lbnRzKSxPYmplY3Qoby5hKSgpLmNvbnZlcnRDdXJyZW5jeT1mdW5jdGlvbihlLHIsbil7cmV0dXJuIHBhcnNlRmxvYXQoZSkqdyhyLG4pfSxPYmplY3Qocy5hKSgiYWRkQmlkUmVzcG9uc2UiKS5iZWZvcmUoTywxMDApLHAmJihwPSExLE9iamVjdChpLmEpKGUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dHJ5e0M9SlNPTi5wYXJzZShlKSxhLmxvZ0luZm8oImN1cnJlbmN5UmF0ZXMgc2V0IHRvICIrSlNPTi5zdHJpbmdpZnkoQykpLHY9ITAsaigpfWNhdGNoKHIpe1IoIkZhaWxlZCB0byBwYXJzZSBjdXJyZW5jeVJhdGVzIHJlc3BvbnNlOiAiK2UpfX0sZXJyb3I6Un0pKX1mdW5jdGlvbiBJKCl7YS5sb2dJbmZvKCJVbmluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KHMuYSkoImFkZEJpZFJlc3BvbnNlIikuZ2V0SG9va3Moe2hvb2s6T30pLnJlbW92ZSgpLGRlbGV0ZSBPYmplY3Qoby5hKSgpLmNvbnZlcnRDdXJyZW5jeSxiPSJVU0QiLGc9e30saD0hMSx2PSExLHA9ITAsQz17fSxTPXt9fWZ1bmN0aW9uIE8oZSxyLG4pe2lmKCFuKXJldHVybiBlLmNhbGwodGhpcyxyKTt2YXIgbz1uLmJpZGRlckNvZGV8fG4uYmlkZGVyO2lmKFNbb10pe3ZhciBpPVNbb107bi5jdXJyZW5jeSYmaSE9PW4uY3VycmVuY3k/YS5sb2dXYXJuKCJDdXJyZW5jeSBkZWZhdWx0ICciLmNvbmNhdChvLCI6ICIpLmNvbmNhdChpLCInIGlnbm9yZWQuIGFkYXB0ZXIgc3BlY2lmaWVkICciKS5jb25jYXQobi5jdXJyZW5jeSwiJyIpKTpuLmN1cnJlbmN5PWl9aWYobi5jdXJyZW5jeXx8KGEubG9nV2FybignQ3VycmVuY3kgbm90IHNwZWNpZmllZCBvbiBiaWQuICBEZWZhdWx0ZWQgdG8gIlVTRCInKSxuLmN1cnJlbmN5PSJVU0QiKSxuLmdldENwbUluTmV3Q3VycmVuY3k9ZnVuY3Rpb24oZSl7cmV0dXJuKHBhcnNlRmxvYXQodGhpcy5jcG0pKncodGhpcy5jdXJyZW5jeSxlKSkudG9GaXhlZCgzKX0sbi5jdXJyZW5jeT09PWIpcmV0dXJuIGUuY2FsbCh0aGlzLHIsbik7eS5wdXNoKGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbz1uWzFdO2lmKHZvaWQgMCE9PW8mJiJjdXJyZW5jeSJpbiBvJiYiY3BtImluIG8pe3ZhciBpPW8uY3VycmVuY3k7dHJ5e3ZhciB1PXcoaSk7MSE9PXUmJihvLmNwbT0ocGFyc2VGbG9hdChvLmNwbSkqdSkudG9GaXhlZCg0KSxvLmN1cnJlbmN5PWIpfWNhdGNoKGUpe2EubG9nV2FybigiUmV0dXJuaW5nIE5PX0JJRCwgZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHRocmV3IGVycm9yOiAiLGUpLG5bMV09T2JqZWN0KGMuYSkodC5TVEFUVVMuTk9fQklELHtiaWRkZXI6by5iaWRkZXJDb2RlfHxvLmJpZGRlcixiaWRJZDpvLnJlcXVlc3RJZH0pfX1yZXR1cm4gZS5hcHBseShyLG4pfX0oZSx0aGlzLFtyLG5dKSksaCYmIXZ8fGooKX1mdW5jdGlvbiBqKCl7Zm9yKDt5Lmxlbmd0aD4wOyl5LnNoaWZ0KCkoKX1mdW5jdGlvbiB3KGUpe3ZhciByLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmIsbz1udWxsLGM9IiIuY29uY2F0KGUsIi0+IikuY29uY2F0KG4pO2lmKGMgaW4gZylvPWdbY10sYS5sb2dNZXNzYWdlKCJVc2luZyBjb252ZXJzaW9uQ2FjaGUgdmFsdWUgIitvKyIgZm9yICIrYyk7ZWxzZSBpZighMT09PWgpe2lmKCJVU0QiIT09ZSl0aHJvdyBuZXcgRXJyb3IoIlByZWJpZCBjdXJyZW5jeSBzdXBwb3J0IGhhcyBub3QgYmVlbiBlbmFibGVkIGFuZCBmcm9tQ3VycmVuY3kgaXMgbm90IFVTRCIpO289MX1lbHNlIGlmKGU9PT1uKW89MTtlbHNlIGlmKGUgaW4gQy5jb252ZXJzaW9ucyl7aWYoIShuIGluKHI9Qy5jb252ZXJzaW9uc1tlXSkpKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGFkU2VydmVyQ3VycmVuY3kgaW4gY29uZmlnICciK24rIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7bz1yW25dLGEubG9nSW5mbygiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIGRpcmVjdCAiK2UrIiB0byAiK24rIiBjb252ZXJzaW9uUmF0ZSAiK28pfWVsc2UgaWYobiBpbiBDLmNvbnZlcnNpb25zKXtpZighKGUgaW4ocj1DLmNvbnZlcnNpb25zW25dKSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgZnJvbUN1cnJlbmN5ICciK2UrIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7bz1GKDEvcltlXSw0KSxhLmxvZ0luZm8oImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyByZWNpcHJvY2FsICIrZSsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrbyl9ZWxzZXt2YXIgdD1PYmplY3Qua2V5cyhDLmNvbnZlcnNpb25zKVswXTtpZighKGUgaW4gQy5jb252ZXJzaW9uc1t0XSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgZnJvbUN1cnJlbmN5ICciK2UrIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7dmFyIGk9MS9DLmNvbnZlcnNpb25zW3RdW2VdO2lmKCEobiBpbiBDLmNvbnZlcnNpb25zW3RdKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBhZFNlcnZlckN1cnJlbmN5IGluIGNvbmZpZyAnIituKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO3ZhciB1PUMuY29udmVyc2lvbnNbdF1bbl07bz1GKGkqdSw0KSxhLmxvZ0luZm8oImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyBpbnRlcm1lZGlhdGUgIitlKyIgdGhydSAiK3QrIiB0byAiK24rIiBjb252ZXJzaW9uUmF0ZSAiK28pfXJldHVybiBjIGluIGd8fChhLmxvZ01lc3NhZ2UoIkFkZGluZyBjb252ZXJzaW9uQ2FjaGUgdmFsdWUgIitvKyIgZm9yICIrYyksZ1tjXT1vKSxvfWZ1bmN0aW9uIEYoZSxyKXtmb3IodmFyIG49MSxvPTA7bzxyO28rKyluKz0iMCI7cmV0dXJuIE1hdGgucm91bmQoZSpuKS9ufXUuYi5nZXRDb25maWcoImN1cnJlbmN5IiwoZnVuY3Rpb24oZSl7cmV0dXJuIG0oZS5jdXJyZW5jeSl9KSl9fSxbMzY4XSk7CnVwYmpzQ2h1bmsoWzI2MF0sezM4MjpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoMzgzKX0sMzgzOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxyLmdldEZsb29yPWgsci5jbGVhblNpemVzPXYsci5zaHVmZmxlPUEsci5yZW1vdmVEdXBsaWNhdGU9SSxyLnVwdG81PVMsci5tYXRjaFJlcXVlc3Q9eCxyLmNoZWNrRGVlcEFycmF5PU8sci5kZWZhdWx0U2l6ZT13LHIuYmluZFVzZXJJZD1ULHIuZ2V0QXBpPXosci5nZXRQbGF5YmFja21ldGhvZD1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wKXJldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIucGxheWJhY2tfbWV0aG9kW2VdfSkpO3JldHVyblsyXX0sci5nZXRQcm90b2NvbHM9aixyLmNsZWFuVmFzdD1fO3ZhciBuPXQoMCksaT10KDEpLG89dCgzKSxzPXQoMik7ZnVuY3Rpb24gYShlLHIpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSxyKXt2YXIgdD1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXQpcmV0dXJuO3ZhciBuLGksbz1bXSxzPSEwLGE9ITE7dHJ5e2Zvcih0PXQuY2FsbChlKTshKHM9KG49dC5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKG4udmFsdWUpLCFyfHxvLmxlbmd0aCE9PXIpO3M9ITApO31jYXRjaChlKXthPSEwLGk9ZX1maW5hbGx5e3RyeXtzfHxudWxsPT10LnJldHVybnx8dC5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgaX19cmV0dXJuIG99KGUscil8fHUoZSxyKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGQoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHx1KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSxyKXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGQoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09dHx8IlNldCI9PT10P0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KT9kKGUscik6dm9pZCAwfX1mdW5jdGlvbiBkKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59ZnVuY3Rpb24gcChlKXtyZXR1cm4ocD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGwoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihuPW4uZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLHQucHVzaC5hcHBseSh0LG4pfXJldHVybiB0fWZ1bmN0aW9uIG0oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/bChPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe2YoZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOmwoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gZihlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9dmFyIHk9Imh0dHBzOi8vZG14LmRpc3RyaWN0bS5pby9iL3YxIixiPXtwbGF5YmFja19tZXRob2Q6e2F1dG9fcGxheV9zb3VuZF9vbjoxLGF1dG9fcGxheV9zb3VuZF9vZmY6MixjbGlja190b19wbGF5OjMsbW91c2Vfb3Zlcjo0LHZpZXdwb3J0X3NvdW5kX29uOjUsdmlld3BvcnRfc291bmRfb2ZmOjZ9fSxnPXtjb2RlOiJkaXN0cmljdG1ETVgiLGd2bGlkOjE0NCxhbGlhc2VzOlsiZG14Il0sc3VwcG9ydGVkRm9ybWF0OltzLmIscy5kXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltzLmQscy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLm1lbWJlcmlkfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3JldHVybihlPWUuYm9keXx8e30pLnNlYXRiaWQmJm4uaXNBcnJheShlLnNlYXRiaWQpP2Uuc2VhdGJpZC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49dC5iaWQucmVkdWNlKChmdW5jdGlvbihlLHQpe2lmKGUucHJpY2U8dC5wcmljZSl7dmFyIG49eCh0LmltcGlkLHIpLGk9dyhuKSxvPWkud2lkdGgscz1pLmhlaWdodDtyZXR1cm4gdC5jcG09cGFyc2VGbG9hdCh0LnByaWNlKS50b0ZpeGVkKDIpLHQuYmlkSWQ9dC5pbXBpZCx0LnJlcXVlc3RJZD10LmltcGlkLHQud2lkdGg9dC53fHxvLHQuaGVpZ2h0PXQuaHx8cyx0LnR0bD0zMDAsdC5tZWRpYVR5cGU9bi5tZWRpYVR5cGVzJiZuLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiYmFubmVyIiwidmlkZW8iPT09dC5tZWRpYVR5cGUmJih0LnZhc3RYbWw9Xyh0LmFkbSx0Lm51cmwpLHQudHRsPTM2MDApLHQuZGVhbGlkJiYodC5kZWFsSWQ9dC5kZWFsaWQpLHQudXVpZD10LmJpZElkLHQuYWQ9dC5hZG0sdC5uZXRSZXZlbnVlPSEwLHQuY3JlYXRpdmVJZD10LmNyaWQsdC5jdXJyZW5jeT0iVVNEIix0Lm1ldGE9dC5tZXRhfHx7fSx0LmFkb21haW4mJnQuYWRvbWFpbi5sZW5ndGg+MCYmKHQubWV0YS5hZHZlcnRpc2VyRG9tYWlucz10LmFkb21haW4pLHR9cmV0dXJuIGUuY3BtPWUucHJpY2UsZX0pLHtwcmljZTowfSk7cmV0dXJuIG4uYWRtJiZlLnB1c2gobiksZX0pLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5iaWRJZH0pKTpbXX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PW8uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxpPW51bGwscz17aWQ6bi5nZW5lcmF0ZVVVSUQoKSxjdXI6WyJVU0QiXSx0bWF4OnQtMzAwLHRlc3Q6dGhpcy50ZXN0KCl8fDAsc2l0ZTp7cHVibGlzaGVyOntpZDpTdHJpbmcoZVswXS5wYXJhbXMubWVtYmVyaWQpfHxudWxsfX19O3RyeXt2YXIgYT1vLmIuZ2V0Q29uZmlnKCJkbXgiKTtzLnVzZXI9YS51c2VyfHx7fTt2YXIgYz1hLnNpdGV8fHt9O3Muc2l0ZT1tKG0oe30scy5zaXRlKSxjKX1jYXRjaChlKXt9dmFyIHU9W107ZVswXSYmZVswXS51c2VySWQmJihUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5pZGxfZW52IiksImxpdmVyYW1wLmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuaWQ1aWQudWlkIiksImlkNS1zeW5jLmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQucHViY2lkIiksInB1YmNpZC5vcmciLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLnRkaWQiKSwiYWRzZXJ2ZXIub3JnIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5jcml0ZW9JZCIpLCJjcml0ZW8uY29tIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5icml0ZXBvb2xpZCIpLCJicml0ZXBvb2wuY29tIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5saXBiLmxpcGJpZCIpLCJsaXZlaW50ZW50LmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuaW50ZW50aXFpZCIpLCJpbnRlbnRpcS5jb20iLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmxvdGFtZVBhbm9yYW1hSWQiKSwibG90YW1lLmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQucGFycmFibGVJZCIpLCJwYXJyYWJsZS5jb20iLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLm5ldElkIiksIm5ldGlkLmRlIiwxKSxzLnVzZXI9cy51c2VyfHx7fSxzLnVzZXIuZXh0PXMudXNlci5leHR8fHt9LHMudXNlci5leHQuZWlkcz11KSxzLnRlc3R8fGRlbGV0ZSBzLnRlc3Qsci5nZHByQ29uc2VudCYmKHMucmVncz17fSxzLnJlZ3MuZXh0PXt9LHMucmVncy5leHQuZ2Rwcj0hMD09PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowLCEwPT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHMudXNlcj17fSxzLnVzZXIuZXh0PXt9LHMudXNlci5leHQuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxzLnJlZ3M9cy5yZWdzfHx7fSxzLnJlZ3MuY29wcGE9ITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpPzE6MCxyJiZyLnVzcENvbnNlbnQmJihzLnJlZ3M9cy5yZWdzfHx7fSxzLnJlZ3MuZXh0PXMucmVncy5leHR8fHt9LHMucmVncy5leHQudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpO3RyeXtpPWVbMF0uc2NoYWluLHMuc291cmNlPXt9LHMuc291cmNlLmV4dD17fSxzLnNvdXJjZS5leHQuc2NoYWluPWl8fHt9fWNhdGNoKGUpe312YXIgZD1lLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIHIuaWQ9ZS5iaWRJZCxyLnRhZ2lkPVN0cmluZyhlLnBhcmFtcy5kbXhpZHx8ZS5hZFVuaXRDb2RlKSxyLnNlY3VyZT0xLHIuYmlkZmxvb3I9aChlKSxlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbz9yLnZpZGVvPXt0b3BmcmFtZToxLHNraXA6ZS5tZWRpYVR5cGVzLnZpZGVvLnNraXB8fDAsbGluZWFyaXR5OmUubWVkaWFUeXBlcy52aWRlby5saW5lYXJpdHl8fDEsbWluZHVyYXRpb246ZS5tZWRpYVR5cGVzLnZpZGVvLm1pbmR1cmF0aW9ufHw1LG1heGR1cmF0aW9uOmUubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbnx8NjAscGxheWJhY2ttZXRob2Q6ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kfHxbMl0sYXBpOnooZS5tZWRpYVR5cGVzLnZpZGVvKSxtaW1lczplLm1lZGlhVHlwZXMudmlkZW8ubWltZXN8fFsidmlkZW8vbXA0Il0scHJvdG9jb2xzOmooZS5tZWRpYVR5cGVzLnZpZGVvKSxoOmUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdLHc6ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF19OnIuYmFubmVyPXt0b3BmcmFtZToxLHc6dihlLnNpemVzLCJ3IiksaDp2KGUuc2l6ZXMsImgiKSxmb3JtYXQ6dihlLnNpemVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZS53JiYibnVtYmVyIj09dHlwZW9mIGUuaH0pKX0scn0pKTtyZXR1cm4gZC5sZW5ndGg8PTU/KHMuaW1wPWQse21ldGhvZDoiUE9TVCIsdXJsOnksZGF0YTpKU09OLnN0cmluZ2lmeShzKSxiaWRkZXJSZXF1ZXN0OnJ9KTpTKGQscyxyLHkpfSx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuLTEhPT13aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJkbVRlc3Q9dHJ1ZSIpPzE6MH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe3ZhciBpPVtdLG89Imh0dHBzOi8vY2RuLmRpc3RyaWN0bS5pby9pZHMvaW5kZXguaHRtbCI7aWYodCYmdC5nZHByQXBwbGllcyYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJmkucHVzaChbImdkcHIiLHQuY29uc2VudFN0cmluZ10pLG4mJmkucHVzaChbImNjcGEiLG5dKSxpLmxlbmd0aD4wJiYobys9Ij8iK2kubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCI9Iil9KSkuam9pbigiJiIpKSxlLmlmcmFtZUVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDpvfV19fTtmdW5jdGlvbiBoKGUpe3ZhciByPW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTplLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiYmFubmVyIixzaXplOmUuc2l6ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9KTsib2JqZWN0IiE9PXAodCl8fCJVU0QiIT09dC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdCh0LmZsb29yKSl8fChyPXBhcnNlRmxvYXQodC5mbG9vcikpfXJldHVybiBudWxsIT09cj9yOmUucGFyYW1zLmZsb29yfWZ1bmN0aW9uIHYoZSxyKXt2YXIgdD1BKGUsW3tzaXplOlszMDAsMjUwXSxzOjEwMH0se3NpemU6WzcyOCw5MF0sczo5NX0se3NpemU6WzMyMCw1MF0sczo5MH0se3NpemU6WzE2MCw2MDBdLHM6ODh9LHtzaXplOlszMDAsNjAwXSxzOjg1fSx7c2l6ZTpbMzAwLDUwXSxzOjgwfSx7c2l6ZTpbOTcwLDI1MF0sczo3NX0se3NpemU6Wzk3MCw5MF0sczo2MH1dKTtzd2l0Y2gocil7Y2FzZSJ3IjpyZXR1cm4gdFswXVswXXx8MDtjYXNlImgiOnJldHVybiB0WzBdWzFdfHwwO2Nhc2Uic2l6ZSI6ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gQShlLHIpe3ZhciB0PWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZS5zaXplWzBdLCJ4IikuY29uY2F0KGUuc2l6ZVsxXSl9KSkuaW5kZXhPZigiIi5jb25jYXQoZVswXSwieCIpLmNvbmNhdChlWzFdKSl9KSksbj1lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PWUubGVuZ3RoPyhlLnB1c2godCksZSk6KGUucHVzaCh0KSwoZT0oZT1yLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuLTEhPT1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGVbMF0sIngiKS5jb25jYXQoZVsxXSl9KSkuaW5kZXhPZigiIi5jb25jYXQoci5zaXplWzBdLCJ4IikuY29uY2F0KHIuc2l6ZVsxXSkpfSkpKS5zb3J0KChmdW5jdGlvbihlLHIpe3JldHVybiByLnMtZS5zfSkpKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNpemV9KSkpfSksW10pO3JldHVybiBJKFtdLmNvbmNhdChjKG4pLGModCkpKX1mdW5jdGlvbiBJKGUpe3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24ocix0KXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlWzBdLCJ4IikuY29uY2F0KGVbMV0pfSkpLmluZGV4T2YoIiIuY29uY2F0KHJbMF0sIngiKS5jb25jYXQoclsxXSkpPT09dH0pKX1mdW5jdGlvbiBTKGUscix0LG4pe2Zvcih2YXIgaT1bXTswIT09ZS5sZW5ndGg7KWUubGVuZ3RoPj01P2kucHVzaChlLnNwbGljZSgwLDUpKTppLnB1c2goZS5zcGxpY2UoMCxlLmxlbmd0aCkpO3JldHVybiBpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaW1wPWUse21ldGhvZDoiUE9TVCIsdXJsOm4sZGF0YTpKU09OLnN0cmluZ2lmeShyKSxiaWRkZXJSZXF1ZXN0OnR9fSkpfWZ1bmN0aW9uIHgoZSxyKXtyZXR1cm4gYShyLmJpZGRlclJlcXVlc3QuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLmJpZElkPT09ZX0pKSwxKVswXX1mdW5jdGlvbiBPKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KGVbMF0pP2VbMF06ZX1mdW5jdGlvbiB3KGUpe3ZhciByPWUuc2l6ZXMsdD17fTtyZXR1cm4gdC53aWR0aD1PKHIpWzBdLHQuaGVpZ2h0PU8ocilbMV0sdH1mdW5jdGlvbiBUKGUscix0LGkpe24uaXNTdHIocikmJkFycmF5LmlzQXJyYXkoZSkmJmUucHVzaCh7c291cmNlOnQsdWlkczpbe2lkOnIsYXR5cGU6aX1dfSl9ZnVuY3Rpb24geihlKXt2YXIgcj1lLmFwaTtyZXR1cm4gciYmQXJyYXkuaXNBcnJheShyKSYmci5sZW5ndGg+MD9yOlsyXX1mdW5jdGlvbiBqKGUpe3ZhciByPWUucHJvdG9jb2xzO3JldHVybiByJiZBcnJheS5pc0FycmF5KHIpJiZyLmxlbmd0aD4wP3I6WzIsMyw1LDYsNyw4XX1mdW5jdGlvbiBfKGUscil7dHJ5e3ZhciB0PS88aW1nXHNbXj5dKj9zcmNccyo9XHMqWydcIl0oW14nXCJdKj8pWydcIl1bXj5dKj8+LyxuPWEoZS5tYXRjaCh0KSwyKSxpPW5bMF0sbz1uWzFdO2lmKGU9ZS5yZXBsYWNlKHQsIiIpLGkmJm8pe3ZhciBzPSI8SW1wcmVzc2lvbj48IVtDREFUQVsiLmNvbmNhdChvLCJdXT48L0ltcHJlc3Npb24+Iik7ZT1lLnJlcGxhY2UoIjwvSW1wcmVzc2lvbj4iLCI8L0ltcHJlc3Npb24+Ii5jb25jYXQocykpfXJldHVybiBlfWNhdGNoKHQpe2lmKCFyKXJldHVybiBlO3ZhciBjPSI8SW1wcmVzc2lvbj48IVtDREFUQVsiLmNvbmNhdChyLCJdXT48L0ltcHJlc3Npb24+Iik7cmV0dXJuIGU9ZS5yZXBsYWNlKCI8L0ltcHJlc3Npb24+IiwiPC9JbXByZXNzaW9uPiIuY29uY2F0KGMpKX19T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGcpfX0sWzM4Ml0pOwp1cGJqc0NodW5rKFsyNTVdLHszOTI6ZnVuY3Rpb24oZSxyLGkpe2UuZXhwb3J0cz1pKDM5Myl9LDM5MzpmdW5jdGlvbihlLHIsaSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxpLmQociwiZW14QWRhcHRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksaS5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB5fSkpO3ZhciB0PWkoMCksbj1pKDEpLGE9aSgyKSxkPWkoMTMpLG89aSgxMikscz1pLm4obyksdT1pKDExKSxjPWkubih1KTtmdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIGk9YXJndW1lbnRzW3JdO2Zvcih2YXIgdCBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLHQpJiYoZVt0XT1pW3RdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbD0iZW14X2RpZ2l0YWwiLGc9Imh0dHBzOi8vanMuYnJlYWx0aW1lLmNvbS9vdXRzdHJlYW0vMS4zMC4wL2J1bmRsZS5qcyIsbT0iVVNEIixmPVt7a2V5OiJpZGxfZW52Iixzb3VyY2U6ImxpdmVyYW1wLmNvbSIscnRpUGFydG5lcjoiaWRsIixxdWVyeVBhcmFtOiJpZGwifSx7a2V5OiJ1aWQyLmlkIixzb3VyY2U6InVpZGFwaS5jb20iLHJ0aVBhcnRuZXI6IlVJRDIiLHF1ZXJ5UGFyYW06InVpZDIifV0sdj17dmFsaWRhdGVTaXplczpmdW5jdGlvbihlKXtyZXR1cm4gdC5pc0FycmF5KGUpJiZ2b2lkIDAhPT1lWzBdP2UuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aH0pKToodC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogU2l6ZXMgc2hvdWxkIGJlIGFuIGFycmF5IiksITEpfSxjaGVja1ZpZGVvQ29udGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYoImluc3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fHwib3V0c3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0KX0sYnVpbGRCYW5uZXI6ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIHI9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcyx2LnZhbGlkYXRlU2l6ZXMocil8fCh0LmxvZ1dhcm4oImVteF9kaWdpdGFsOiBjb3VsZCBub3QgZGV0ZWN0IG1lZGlhVHlwZSBiYW5uZXIgc2l6ZXMuIEFzc2lnbmluZyB0byBiaWQgc2l6ZXMgaW5zdGVhZCIpLHI9ZS5zaXplcykse2Zvcm1hdDpyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpLHc6clswXVswXSxoOnJbMF1bMV19fSxmb3JtYXRWaWRlb1Jlc3BvbnNlOmZ1bmN0aW9uKGUscixpKXsoZS52YXN0WG1sPXIuYWRtLGkuYmlkZGVyUmVxdWVzdCYmaS5iaWRkZXJSZXF1ZXN0LmJpZHMmJmkuYmlkZGVyUmVxdWVzdC5iaWRzLmxlbmd0aD4wKSYmKGMoKShpLmJpZGRlclJlcXVlc3QuYmlkcywoZnVuY3Rpb24ocil7cmV0dXJuIGUucmVxdWVzdElkJiZyLmJpZElkJiZlLnJlcXVlc3RJZD09PXIuYmlkSWQmJnIubWVkaWFUeXBlcyYmci5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIj09PXIubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fSkpJiYoZS5yZW5kZXJlcj12LmNyZWF0ZVJlbmRlcmVyKGUse2lkOnIuaWQsdXJsOmd9KSkpO3JldHVybiBlfSxpc01vYmlsZTpmdW5jdGlvbigpe3JldHVybi8oaW9zfGlwb2R8aXBhZHxpcGhvbmV8YW5kcm9pZCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxpc0Nvbm5lY3RlZFRWOmZ1bmN0aW9uKCl7cmV0dXJuLyhzbWFydFstXT90dnxoYmJ0dnxhcHBsZXR2fGdvb2dsZXR2fGhkbWl8bmV0Y2FzdFwudHZ8dmllcmF8bmV0dHZ8cm9rdXxcYmR0dlxifHNvbnlkdHZ8aW5ldHR2YnJvd3NlcnxcYnR2XGIpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sZ2V0RGV2aWNlOmZ1bmN0aW9uKCl7cmV0dXJue3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxkZXZpY2V0eXBlOnYuaXNNb2JpbGUoKT8xOnYuaXNDb25uZWN0ZWRUVigpPzM6MixsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZX19LGNsZWFuUHJvdG9jb2xzOmZ1bmN0aW9uKGUpe3JldHVybiBlLnByb3RvY29scyYmcygpKGUucHJvdG9jb2xzLDcpJiYodC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogVkFTVCA0LjAgaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuIFRoaXMgcHJvdG9jb2wgaGFzIGJlZW4gZmlsdGVyZWQgb3V0IG9mIHRoZSByZXF1ZXN0LiIpLGUucHJvdG9jb2xzPWUucHJvdG9jb2xzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDchPT1lfSkpKSxlfSxvdXRzdHJlYW1SZW5kZXI6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3ZhciByPWUmJmUucGFyYW1zJiZlLnBhcmFtc1swXSYmZS5wYXJhbXNbMF0udmlkZW8/ZS5wYXJhbXNbMF0udmlkZW86e307d2luZG93LmVteFZpZGVvUXVldWU9d2luZG93LmVteFZpZGVvUXVldWV8fFtdLHdpbmRvdy5xdWV1ZUVteFZpZGVvKHtpZDplLmFkVW5pdENvZGUsYWRzUmVzcG9uc2VzOmUudmFzdFhtbCxvcHRpb25zOnJ9KSx3aW5kb3cuZW14VmlkZW9SZWFkeSYmd2luZG93LnZpZGVvanMmJndpbmRvdy5lbXhWaWRlb1JlYWR5KCl9KSl9LGNyZWF0ZVJlbmRlcmVyOmZ1bmN0aW9uKGUscil7dmFyIGk9ZC5hLmluc3RhbGwoe2lkOnIuaWQsdXJsOmcsbG9hZGVkOiExfSk7dHJ5e2kuc2V0UmVuZGVyKHYub3V0c3RyZWFtUmVuZGVyKX1jYXRjaChlKXt0LmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIGl9LGJ1aWxkVmlkZW86ZnVuY3Rpb24oZSl7dmFyIHI9cChlLm1lZGlhVHlwZXMudmlkZW8sZS5wYXJhbXMudmlkZW8pO3JldHVybiB0LmlzQXJyYXkoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pPyhyLnc9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF0sci5oPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdKTooci53PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdLHIuaD1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVsxXSksdi5jbGVhblByb3RvY29scyhyKX0scGFyc2VSZXNwb25zZTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlLnJlcGxhY2UoLyUoPyFbMC05XVswLTlhLWZBLUZdKykvZywiJTI1IikpfWNhdGNoKGUpe3QubG9nRXJyb3IoImVteF9kaWdpdGFsQmlkQWRhcHRlciIsImVycm9yIixlKX19LGdldFJlZmVycmVyOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cudG9wLmRvY3VtZW50LnJlZmVycmVyfWNhdGNoKGUpe3JldHVybiBkb2N1bWVudC5yZWZlcnJlcn19LGdldFNpdGU6ZnVuY3Rpb24oZSl7cmV0dXJue2RvbWFpbjp0LnBhcnNlVXJsKGUucmVmZXJlcikuaG9zdG5hbWUscGFnZTplLnJlZmVyZXIscmVmOnYuZ2V0UmVmZXJyZXIoKX19LGdldEdkcHI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5nZHByQ29uc2VudCYmKHIucmVncz17ZXh0OntnZHByOiEwPT09ZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjB9fSksZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIudXNlcj17ZXh0Ontjb25zZW50OmUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ319KSxyfSxnZXRTdXBwbHlDaGFpbjpmdW5jdGlvbihlLHIpe3JldHVybiBlLmJpZHNbMF0mJmUuYmlkc1swXS5zY2hhaW4mJihyLnNvdXJjZT17ZXh0OntzY2hhaW46ZS5iaWRzWzBdLnNjaGFpbn19KSxyfSxnZXRFaWRzOmZ1bmN0aW9uKGUpe3JldHVybiBmLm1hcCh2LmdldFVzZXJJZChlKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX0sZ2V0VXNlcklkOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1yLmtleSxuPXIuc291cmNlLGE9ci5ydGlQYXJ0bmVyLGQ9dC5kZWVwQWNjZXNzKGUsInVzZXJJZC4iLmNvbmNhdChpKSk7cmV0dXJuIGQ/di5mb3JtYXRFaWQoZCxuLGEpOm51bGx9fSxmb3JtYXRFaWQ6ZnVuY3Rpb24oZSxyLGkpe3JldHVybntzb3VyY2U6cix1aWRzOlt7aWQ6ZSxleHQ6e3J0aVBhcnRuZXI6aX19XX19fSx5PXtjb2RlOmwsZ3ZsaWQ6MTgzLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5wYXJhbXMpcmV0dXJuIHQubG9nV2FybigiZW14X2RpZ2l0YWw6IE1pc3NpbmcgYmlkIG9yIGJpZCBwYXJhbXMuIiksITE7aWYoZS5iaWRkZXIhPT1sKXJldHVybiB0LmxvZ1dhcm4oJ2VteF9kaWdpdGFsOiBNdXN0IHVzZSAiZW14X2RpZ2l0YWwiIGFzIGJpZGRlciBjb2RlLicpLCExO2lmKCFlLnBhcmFtcy50YWdpZHx8IXQuaXNTdHIoZS5wYXJhbXMudGFnaWQpKXJldHVybiB0LmxvZ1dhcm4oImVteF9kaWdpdGFsOiBNaXNzaW5nIHRhZ2lkIHBhcmFtIG9yIHRhZ2lkIHByZXNlbnQgYW5kIG5vdCB0eXBlIFN0cmluZy4iKSwhMTt2YXIgcjtpZihlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXIpe2lmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXMsIXYudmFsaWRhdGVTaXplcyhyKSlyZXR1cm4gdC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogTWlzc2luZyBzaXplcyBpbiBiaWQiKSwhMX1lbHNlIGlmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvKXtpZighdi5jaGVja1ZpZGVvQ29udGV4dChlKSlyZXR1cm4gdC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogTWlzc2luZyB2aWRlbyBjb250ZXh0OiBpbnN0cmVhbSBvciBvdXRzdHJlYW0iKSwhMTtpZighZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUpcmV0dXJuIHQubG9nV2FybigiZW14X2RpZ2l0YWw6IE1pc3NpbmcgdmlkZW8gcGxheWVyU2l6ZSIpLCExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIGk9W10sbj0iaHR0cHM6Ly9oYi5lbXhkZ3QuY29tP3Q9Iisoci50aW1lb3V0fHwiIikrIiZ0cz0iK0RhdGUubm93KCkrIiZzcmM9cGJqcyIsYT1sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCJodHRwcyIpPi0xPzE6MCxkPXYuZ2V0RGV2aWNlKCksbz12LmdldFNpdGUoci5yZWZlcmVySW5mbyk7dC5fZWFjaChlLChmdW5jdGlvbihlKXt2YXIgcj10LmdldEJpZElkUGFyYW1ldGVyKCJ0YWdpZCIsZS5wYXJhbXMpLG49cGFyc2VGbG9hdChmdW5jdGlvbihlKXtpZighdC5pc0ZuKGUuZ2V0Rmxvb3IpKXJldHVybiBwYXJzZUZsb2F0KHQuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZGZsb29yIixlLnBhcmFtcykpO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5Om0sbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKHQuaXNQbGFpbk9iamVjdChyKSYmIWlzTmFOKHIuZmxvb3IpJiYiVVNEIj09PXIuY3VycmVuY3kpcmV0dXJuIHIuZmxvb3I7cmV0dXJuIG51bGx9KGUpKXx8MCxkPSEhZS5tZWRpYVR5cGVzLnZpZGVvLG89cCh7aWQ6ZS5iaWRJZCx0aWQ6ZS50cmFuc2FjdGlvbklkLHRhZ2lkOnIsc2VjdXJlOmF9LGQ/e3ZpZGVvOnYuYnVpbGRWaWRlbyhlKX06e2Jhbm5lcjp2LmJ1aWxkQmFubmVyKGUpfSxuPjA/e2JpZGZsb29yOm4sYmlkZmxvb3JjdXI6bX06e30pO2kucHVzaChvKX0pKTt2YXIgcz17aWQ6ci5hdWN0aW9uSWQsaW1wOmksZGV2aWNlOmQsc2l0ZTpvLGN1cjptLHZlcnNpb246IjEuNS4xIn07aWYocz12LmdldEdkcHIocixwKHt9LHMpKSxzPXYuZ2V0U3VwcGx5Q2hhaW4ocixwKHt9LHMpKSxyJiZyLnVzcENvbnNlbnQmJihzLnVzX3ByaXZhY3k9ci51c3BDb25zZW50KSxyLnVzZXJJZCl7dmFyIHU9di5nZXRFaWRzKHIpO3UubGVuZ3RoPjAmJihzLnVzZXImJnMudXNlci5leHQ/cy51c2VyLmV4dC5laWRzPXU6cy51c2VyPXtleHQ6e2VpZHM6dX19KX1yZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6bixkYXRhOkpTT04uc3RyaW5naWZ5KHMpLG9wdGlvbnM6e3dpdGhDcmVkZW50aWFsczohMH0sYmlkZGVyUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgaT1bXSx0PWUuYm9keXx8e307cmV0dXJuIHQuc2VhdGJpZCYmdC5zZWF0YmlkLmxlbmd0aD4wJiZ0LnNlYXRiaWRbMF0uYmlkJiZ0LnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZT1lLmJpZFswXTt2YXIgdD0hMSxuPXYucGFyc2VSZXNwb25zZShlLmFkbSl8fCIiLGQ9e3JlcXVlc3RJZDplLmlkLGNwbTplLnByaWNlLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDplLnR0bCxhZDpufTtlLmFkbSYmZS5hZG0uaW5kZXhPZigiPD94bWwgdmVyc2lvbj0iKT4tMSYmKHQ9ITAsZD12LmZvcm1hdFZpZGVvUmVzcG9uc2UoZCxwKHt9LGUpLHIpKSxkLm1lZGlhVHlwZT10P2EuZDphLmIsZS5hZG9tYWluJiZlLmFkb21haW4ubGVuZ3RoJiYoZC5tZXRhPXthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW59KSxpLnB1c2goZCl9KSksaX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscixpLHQpe3ZhciBuPVtdO2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIGE9Imh0dHBzOi8vYmlkZHIuYnJlYWx0aW1lLmNvbS9jaGVjay5odG1sIjtpJiYic3RyaW5nIj09dHlwZW9mIGkuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIGkuZ2RwckFwcGxpZXM/YSs9Ij9nZHByPSIuY29uY2F0KE51bWJlcihpLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoaS5jb25zZW50U3RyaW5nKTphKz0iP2dkcHJfY29uc2VudD0iLmNvbmNhdChpLmNvbnNlbnRTdHJpbmcpKSxuLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOmF9KX1yZXR1cm4gbn19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKSh5KX19LFszOTJdKTsKdXBianNDaHVuayhbMjI4XSx7NDUwOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big0NTEpfSw0NTE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7bi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBDfSkpO3ZhciByPW4oMCksaT1uKDIpLG89bigzKSxhPW4oNyksYz1uKDEyKSx1PW4ubihjKSxkPW4oMSk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9wKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZihlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6cChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBmKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBtKGUpe3JldHVybihtPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4geShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4geShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciB2PU9iamVjdChhLmIpKCksZz17dDowLHJxOjgscGJ2OiI1LjExLjAifSxoPVtpLmIsaS5kXSxJPXt9LHc9e30sUz1udWxsO2Z1bmN0aW9uIE8odCl7dmFyIG4saSxvLGEsYyx1LGQscztpZih3LnZ3KXJldHVybiB3O3RyeXtpPShuPWUudG9wKS5zY3JlZW4sbz10fHwiIn1jYXRjaChlKXtyZXR1cm4gci5sb2dFcnJvcihlKSx3fXJldHVybiB3PXt2dzpuLmlubmVyV2lkdGgsdmg6bi5pbm5lckhlaWdodCxzdzppLndpZHRoLHNoOmkuaGVpZ2h0LHB1Om8sY2U6di5jb29raWVzQXJlRW5hYmxlZCgpLGRwcjpuLmRldmljZVBpeGVsUmF0aW98fDEsamNzaTpKU09OLnN0cmluZ2lmeShnKSxvZ3U6KHU9KGRvY3VtZW50JiZkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKS5xdWVyeVNlbGVjdG9yKCJtZXRhW3Byb3BlcnR5PSdvZzp1cmwnXSIpLHU/dS5jb250ZW50Om51bGwpfSxkPXdpbmRvdy5uYXZpZ2F0b3ImJih3aW5kb3cubmF2aWdhdG9yLmNvbm5lY3Rpb258fHdpbmRvdy5uYXZpZ2F0b3IubW96Q29ubmVjdGlvbnx8d2luZG93Lm5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uKSwoYz0ocz1kJiYoZC5kb3dubGlua3x8ZC5iYW5kd2lkdGgpKT9NYXRoLnJvdW5kKDEwMjQqcyk6bnVsbCkmJih3Lm5zPWMpLChhPShvLm1hdGNoKC8jZ2dhZD0oXHcrKSQvKXx8WzAsMF0pWzFdKSYmKHdbaXNOYU4oYSk/ImVBZEJ1eUlkIjoiYWRCdXlJZCJdPWEpLHd9ZnVuY3Rpb24gaihlLHQpe3JldHVybiBlLnJlcGxhY2UoIkFEX0pTT04iLHdpbmRvdy5idG9hKEpTT04uc3RyaW5naWZ5KHQpKSl9ZnVuY3Rpb24geChlKXt2YXIgdD1lLmRpZ2l0cnVzdGlkJiZlLmRpZ2l0cnVzdGlkLmRhdGE7cmV0dXJuIXR8fHQucHJpdmFjeSYmdC5wcml2YWN5Lm9wdG91dD97fTp7ZHQ6dC5pZH19ZnVuY3Rpb24gUChlKXt2YXIgdD0wLG49MCxyPTA7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9YihlLDIpLG89aVswXSxhPWlbMV0sYz1vPmE/bzphOyhjPnJ8fGM9PT1yJiZvPj10JiZhPj1uKSYmKHI9Yyx0PW8sbj1hKX0pKSxbdCxuXX12YXIgQz17Y29kZToiZ3VtZ3VtIixhbGlhc2VzOlsiZ2ciXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcyxuPWUuYWRVbml0Q29kZSxpPXQuaW5TY3JlZW58fHQuaW5TY3JlZW5QdWJJRHx8dC5pblNsb3R8fHQuSUNWfHx0LnZpZGVvfHx0LmluVmlkZW98fHQuc2xvdHx8dC5uYXRpdmV8fHQuem9uZXx8dC5wdWJJRDtpZihJW2ldKXJldHVybiByLmxvZ1dhcm4oIltHdW1HdW1dIFBsZWFzZSBjaGVjayB0aGUgaW1wbGVtZW50YXRpb24gZm9yICIuY29uY2F0KGksIiBmb3IgdGhlIHBsYWNlbWVudCAiKS5jb25jYXQobikpLCExO3N3aXRjaCghMCl7Y2FzZSEhdC56b25lOmNhc2UhIXQucHViSWQ6Y2FzZSEhdC5pblNjcmVlbjpjYXNlISF0LmluU2NyZWVuUHViSUQ6Y2FzZSEhdC5pblNsb3Q6Y2FzZSEhdC5JQ1Y6Y2FzZSEhdC52aWRlbzpjYXNlISF0LmluVmlkZW86Y2FzZSEhdC52aWRlb1B1YklEOmJyZWFrO2RlZmF1bHQ6cmV0dXJuIHIubG9nV2FybigiW0d1bUd1bV0gTm8gcHJvZHVjdCBzZWxlY3RlZCBmb3IgdGhlIHBsYWNlbWVudCAiLmNvbmNhdChuLCIsIHBsZWFzZSBjaGVjayB5b3VyIGltcGxlbWVudGF0aW9uLiIpKSwhMX1yZXR1cm4hKHQuYmlkZmxvb3ImJigibnVtYmVyIiE9dHlwZW9mIHQuYmlkZmxvb3J8fCFpc0Zpbml0ZSh0LmJpZGZsb29yKSkpfHwoci5sb2dXYXJuKCJbR3VtR3VtXSBiaWRmbG9vciBtdXN0IGJlIGEgTnVtYmVyIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10saT10JiZ0LmdkcHJDb25zZW50LGE9dCYmdC51c3BDb25zZW50LGM9by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLHU9dCYmdC5yZWZlcmVySW5mbyYmdC5yZWZlcmVySW5mby5yZWZlcmVyO3JldHVybiByLl9lYWNoKGUsKGZ1bmN0aW9uKGUpe3ZhciB0LG8sZD1lLmJpZElkLHA9ZS5tZWRpYVR5cGVzLGY9dm9pZCAwPT09cD97fTpwLHk9ZS5wYXJhbXMsdj12b2lkIDA9PT15P3t9OnksZz1lLnNjaGFpbixoPWUudHJhbnNhY3Rpb25JZCxJPWUudXNlcklkLHc9dm9pZCAwPT09ST97fTpJLGo9ZS5vcnRiMkltcCxDPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1PYmplY3Qua2V5cyhlKVswXXx8ImJhbm5lciIsaT17Zmxvb3I6MCxjdXJyZW5jeToiVVNEIn07aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4uZ2V0Rmxvb3Ipe3ZhciBvPW4uZ2V0Rmxvb3Ioe21lZGlhVHlwZTpyLHNpemU6IioifSksYT1vLmN1cnJlbmN5LGM9by5mbG9vcjtjJiYoaS5mbG9vcj1jKSxhJiYoaS5jdXJyZW5jeT1hKSx0JiZjJiYiVVNEIj09PWEmJihpLmZsb29yPU1hdGgubWF4KHQscGFyc2VGbG9hdChjKSkpfWVsc2UgdCYmKGkuZmxvb3I9dCk7cmV0dXJuIGl9KGYsdi5iaWRmbG9vcixlKSxEPUMuY3VycmVuY3ksej1DLmZsb29yLGs9ZnVuY3Rpb24oZSl7dmFyIHQ9WyJ1aWQiLCJlaWQiLCJsaXBiaWQiXTtyZXR1cm4gT2JqZWN0LmtleXMoZSkucmVkdWNlKChmdW5jdGlvbihuLHIpe3ZhciBpPWVbcl07c3dpdGNoKG0oaSkpe2Nhc2Uic3RyaW5nIjpuW3JdPWk7YnJlYWs7Y2FzZSJvYmplY3QiOnZhciBvPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5oYXNPd25Qcm9wZXJ0eShlKX0pKTtvLmxlbmd0aCYmKG5bcl09aVtvWzBdXSl9cmV0dXJuIG59KSx7fSl9KHcpLEE9WzEsMV0sVD17fSxSPSIiO2Zvcih2YXIgVSBpbiBrKVRbVV09a1tVXTtpZihyLmRlZXBBY2Nlc3MoaiwiZXh0LmRhdGEuYWRzZXJ2ZXIubmFtZSIpJiYoUj1qLmV4dC5kYXRhLmFkc2VydmVyLmFkc2xvdCksZi5iYW5uZXI/QT1mLmJhbm5lci5zaXplczpmLnZpZGVvJiYoQT1mLnZpZGVvLnBsYXllclNpemUsVD1mdW5jdGlvbihlKXt2YXIgdD1lLm1pbmR1cmF0aW9uLG49ZS5tYXhkdXJhdGlvbixpPWUubGluZWFyaXR5LG89ZS5zdGFydGRlbGF5LGE9ZS5wbGFjZW1lbnQsYz1lLnByb3RvY29scyx1PXZvaWQgMD09PWM/W106YyxkPWUucGxheWVyU2l6ZSxzPXZvaWQgMD09PWQ/W106ZCxwPXIucGFyc2VTaXplc0lucHV0KHMpLGw9YihwWzBdJiZwWzBdLnNwbGl0KCJ4IiksMiksZj1sWzBdLG09bFsxXSx5PSIiO3JldHVybiB1Lmxlbmd0aCYmKHk9dS5qb2luKCIsIikpLHttaW5kOnQsbWF4ZDpuLGxpOmksc2Q6byxwdDphLHByOnksdml3OmYsdmloOm19fShmLnZpZGVvKSksUyYmKFQucHY9UykseiYmKFQuZnA9eixULmZwYz1EKSx2LmlyaXNjYXQmJiJzdHJpbmciPT10eXBlb2Ygdi5pcmlzY2F0JiYoVC5pcmlzY2F0PXYuaXJpc2NhdCksdi5pcmlzaWQmJiJzdHJpbmciPT10eXBlb2Ygdi5pcmlzaWQmJihULmlyaXNpZD12LmlyaXNpZCksdi56b25lfHx2LnB1YklkKWlmKHYuem9uZT9ULnQ9di56b25lOlQucHViSWQ9di5wdWJJZCxULnBpPTIsdi5zbG90KXt2YXIgRz1iKFAoQSksMiksVj1HWzBdLEU9R1sxXTtULm1heHc9VixULm1heGg9RSxULnNpPXBhcnNlSW50KHYuc2xvdCwxMCksVC5waT0zLFQuYmY9QS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIiIuY29uY2F0KGUpLmNvbmNhdChlJiYiLCIpLmNvbmNhdCh0WzBdLCJ4IikuY29uY2F0KHRbMV0pfSksIiIpfWVsc2Ugdi5uYXRpdmU/KFQubmk9cGFyc2VJbnQodi5uYXRpdmUsMTApLFQucGk9NSk6Zi52aWRlbyYmKFQucGk9Mj09PWYudmlkZW8ubGluZWFyaXR5PzY6Nyk7ZWxzZSBUPWwobCh7fSxUKSxmdW5jdGlvbihlLHQpe3ZhciBuPXt9O2UuaW5TY3JlZW5QdWJJRCYmKG4ucHViSWQ9ZS5pblNjcmVlblB1YklELG4ucGk9Mik7ZS5pblNjcmVlbiYmKG4udD1lLmluU2NyZWVuLG4ucGk9Mik7aWYoZS5pblNsb3Qpe3ZhciByPWIoUCh0KSwyKSxpPXJbMF0sbz1yWzFdO24ubWF4dz1pLG4ubWF4aD1vLG4uc2k9cGFyc2VJbnQoZS5pblNsb3QsMTApLG4ucGk9MyxuLmJmPXQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiIiLmNvbmNhdChlKS5jb25jYXQoZSYmIiwiKS5jb25jYXQodFswXSwieCIpLmNvbmNhdCh0WzFdKX0pLCIiKX1lLklDViYmKG4ubmk9cGFyc2VJbnQoZS5JQ1YsMTApLG4ucGk9NSk7ZS52aWRlb1B1YklEJiYobi5wdWJJZD1lLnZpZGVvUHViSUQsbi5waT03KTtlLnZpZGVvJiYobi50PWUudmlkZW8sbi5waT03KTtlLmluVmlkZW8mJihuLnQ9ZS5pblZpZGVvLG4ucGk9Nik7cmV0dXJuIG59KHYsQSkpO2kmJihULmdkcHJBcHBsaWVzPWkuZ2RwckFwcGxpZXM/MTowKSxULmdkcHJBcHBsaWVzJiYoVC5nZHByQ29uc2VudD1pLmNvbnNlbnRTdHJpbmcpLGEmJihULnVzcENvbnNlbnQ9YSksZyYmZy5ub2RlcyYmKFQuc2NoYWluPShvPSIiLmNvbmNhdCgodD1nKS52ZXIsIiwiKS5jb25jYXQodC5jb21wbGV0ZSksdC5ub2Rlcy5tYXAoKGZ1bmN0aW9uKGUpe28rPSIhIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuYXNpfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuc2lkfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuaHB8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5yaWR8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5uYW1lfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuZG9tYWlufHwiIikpfSkpLG8pKSxuLnB1c2goe2lkOmQsdG1heDpjLHRJZDpoLHBpOlQucGksc2VsZWN0b3I6di5zZWxlY3RvcixzaXplczpBLHVybDoiaHR0cHM6Ly9nMi5ndW1ndW0uY29tL2hiaWQvaW1wIixtZXRob2Q6IkdFVCIsZGF0YTpzKFQsTyh1KSx4KHcpLHtncGlkOlJ9KX0pfSkpLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10sbz1lLmJvZHk7aWYoIW98fG8uZXJyKXt2YXIgYT10LmRhdGF8fHt9LGM9YS5zaXx8YS5uaXx8YS50fHxhLnB1YklkLGQ9bz9vLmVyci5kcnQ6MThlNTtJW2NdPXtwcm9kdWN0SWQ6YS5waSx0aW1lc3RhbXA6KG5ldyBEYXRlKS5nZXRUaW1lKCl9LHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7SVtjXSYmZGVsZXRlIElbY119KSxkKSxyLmxvZ1dhcm4oIltHdW1HdW1dIFBsZWFzZSBjaGVjayB0aGUgaW1wbGVtZW50YXRpb24gZm9yICIuY29uY2F0KGMpKX12YXIgcD1zKHthZDp7cHJpY2U6MCxpZDowLG1hcmt1cDoiIix3aWR0aDowLGhlaWdodDowfSxwYWc6e3B2aWQ6MH0sbWV0YTp7YWRvbWFpbjpbXSxtZWRpYVR5cGU6IiJ9fSxvKSxmPXAuYWQsbT1mLnByaWNlLHk9Zi5pZCx2PWYubWFya3VwLGg9Zi5jdXIsdz1mLndpZHRoLE89Zi5oZWlnaHQseD1mLm1heHcsUD1mLm1heGgsQz1wLmN3LEQ9cC5wYWcucHZpZCx6PXAuamNzaSxrPXAubWV0YSxBPWsuYWRvbWFpbixUPWsubWVkaWFUeXBlLFI9dC5kYXRhfHx7fSxVPVIucGksRz02PT09VXx8Nz09PVU/aS5kOmkuYixWPTM9PT1VJiY5PT09Ui5zaSxFPXthZHZlcnRpc2VyRG9tYWluczpBfHxbXSxtZWRpYVR5cGU6VHx8R30sTj1yLnBhcnNlU2l6ZXNJbnB1dCh0LnNpemVzKTt4JiZQP049WyIiLmNvbmNhdCh4LCJ4IikuY29uY2F0KFApXTo1PT09VSYmdSgpKE4sIjF4MSIpP049WyIxeDEiXToyPT09VSYmdSgpKE4sIjF4MSIpJiYoTj13JiZPP1siIi5jb25jYXQodywieCIpLmNvbmNhdChPKV06ci5wYXJzZVNpemVzSW5wdXQodC5zaXplcykpO3ZhciBxPWIoTlswXS5zcGxpdCgieCIpLDIpLEI9cVswXSxNPXFbMV07cmV0dXJuIHomJihvLmpjc2k9ZyksUz1ELHkmJm4ucHVzaChsKGwoe2FkOkM/aihDLHMoe30sbyx7YmlkUmVxdWVzdDp0fSkpOnZ9LEc9PT1pLmQmJnthZDp2LHZhc3RYbWw6dn0pLHt9LHttZWRpYVR5cGU6RyxjcG06Vj8uMTptLGNyZWF0aXZlSWQ6eSxjdXJyZW5jeTpofHwiVVNEIixoZWlnaHQ6TSxuZXRSZXZlbnVlOiEwLHJlcXVlc3RJZDp0LmlkLHR0bDo2MCx3aWR0aDpCLG1ldGE6RX0pKSxufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJvZHkmJmUuYm9keS5weHMmJmUuYm9keS5weHMuc2NyfHxbXX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSksW10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ImYiPT09ZS50PyJpZnJhbWUiOiJpbWFnZSIsdXJsOmUudX19KSl9LHN1cHBvcnRlZE1lZGlhVHlwZXM6aH07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKEMpfS5jYWxsKHQsbigzOSkpfX0sWzQ1MF0pOwp1cGJqc0NodW5rKFs0N10sezE4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7ci5iPWZ1bmN0aW9uKGUpe3ZhciByPVtdO2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpaWYoInB1YlByb3ZpZGVkSWQiPT09dClyPXIuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgaT1uKGVbdF0sdCk7aSYmci5wdXNoKGkpfXJldHVybiByfSxyLmE9ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5kZWVwQWNjZXNzKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJmkuZGVlcEFjY2VzcyhhLHQrIi5zb3VyY2UiKSYmci5wdXNoKHtzb3VyY2U6YVt0XS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSkscn07dmFyIGk9dCgwKSxhPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHI9aS5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gcn19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX19O2Z1bmN0aW9uIG4oZSxyKXt2YXIgdD1hW3JdO2lmKHQmJmUpe3ZhciBuPXt9O24uc291cmNlPXQuc291cmNlO3ZhciBzPWkuaXNGbih0LmdldFZhbHVlKT90LmdldFZhbHVlKGUpOmU7aWYoaS5pc1N0cihzKSl7dmFyIGQ9e2lkOnMsYXR5cGU6dC5hdHlwZX07aWYoaS5pc0ZuKHQuZ2V0VWlkRXh0KSl7dmFyIGM9dC5nZXRVaWRFeHQoZSk7YyYmKGQuZXh0PWMpfWlmKG4udWlkcz1bZF0saS5pc0ZuKHQuZ2V0RWlkRXh0KSl7dmFyIG89dC5nZXRFaWRFeHQoZSk7byYmKG4uZXh0PW8pfXJldHVybiBufX1yZXR1cm4gbnVsbH19LDQ3NjpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNDc3KX0sNDc3OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxyLkltcHJvdmVEaWdpdGFsQWRTZXJ2ZXJKU0NsaWVudD12O3ZhciBpPXQoMCksYT10KDEpLG49dCgzKSxzPXQoMiksZD10KDEzKSxjPXQoMTgpLG89dCgxMiksdT10Lm4obyk7ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGkgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSYmKGVbaV09dFtpXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGw9Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vdmlkZW8vb3V0c3RyZWFtL0FOT3V0c3RyZWFtVmlkZW8uanMiLG09WyJza2lwIiwic2tpcG1pbiIsInNraXBhZnRlciJdLGY9e3ZlcnNpb246IjcuNC4wIixjb2RlOiJpbXByb3ZlZGlnaXRhbCIsZ3ZsaWQ6MjUzLGFsaWFzZXM6WyJpZCJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3MuYixzLmMscy5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmKGUucGFyYW1zLnBsYWNlbWVudElkfHxlLnBhcmFtcy5wbGFjZW1lbnRLZXkmJmUucGFyYW1zLnB1Ymxpc2hlcklkKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPWkuZ2V0QmlkSWRQYXJhbWV0ZXIoImFkVW5pdENvZGUiLGUpfHxudWxsLHQ9aS5nZXRCaWRJZFBhcmFtZXRlcigicGxhY2VtZW50SWQiLGUucGFyYW1zKXx8bnVsbCxhPW51bGwsZD1udWxsO251bGw9PT10JiYoYT1pLmdldEJpZElkUGFyYW1ldGVyKCJwdWJsaXNoZXJJZCIsZS5wYXJhbXMpfHxudWxsLGQ9aS5nZXRCaWRJZFBhcmFtZXRlcigicGxhY2VtZW50S2V5IixlLnBhcmFtcyl8fG51bGwpO3ZhciBjPWkuZ2V0QmlkSWRQYXJhbWV0ZXIoImtleVZhbHVlcyIsZS5wYXJhbXMpfHxudWxsLG89aS5nZXRCaWRJZFBhcmFtZXRlcigic2l6ZSIsZS5wYXJhbXMpfHxudWxsLHA9aS5nZXRCaWRJZFBhcmFtZXRlcigiYmlkSWQiLGUpLGw9aS5nZXRCaWRJZFBhcmFtZXRlcigidHJhbnNhY3Rpb25JZCIsZSksZj1uLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5IiksZz17fTt5KGUpJiYoZy5hZFR5cGVzPVtzLmRdKTsoeShlKXx8aChlKSkmJihnLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciByPXt9O3JldHVybiBPYmplY3Qua2V5cyhPYmplY3QoZS5tZWRpYVR5cGVzLnZpZGVvKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdSgpKG0sZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7clt0XT1lLm1lZGlhVHlwZXMudmlkZW9bdF19KSksT2JqZWN0LmtleXMoT2JqZWN0KGUucGFyYW1zLnZpZGVvKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdSgpKG0sZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7clt0XT1lLnBhcmFtcy52aWRlb1t0XX0pKSxyfShlKSk7dD9nLnBsYWNlbWVudElkPXQ6KGEmJihnLnB1Ymxpc2hlcklkPWEpLGQmJihnLnBsYWNlbWVudEtleT1kKSk7YyYmKGcua2V5VmFsdWVzPWMpOyEwPT09bi5iLmdldENvbmZpZygiaW1wcm92ZWRpZ2l0YWwudXNlUHJlYmlkU2l6ZXMiKSYmIXkoZSkmJiFoKGUpJiZlLnNpemVzJiZlLnNpemVzLmxlbmd0aD4wP2cuZm9ybWF0PWUuc2l6ZXM6byYmby53JiZvLmgmJihnLnNpemU9e30sZy5zaXplLmg9by5oLGcuc2l6ZS53PW8udyk7cCYmKGcuaWQ9cCk7ciYmKGcuYWRVbml0SWQ9cik7bCYmKGcudHJhbnNhY3Rpb25JZD1sKTtmJiYoZy5jdXJyZW5jeT1mKTt2YXIgYj1mdW5jdGlvbihlKXtpZighaS5pc0ZuKGUuZ2V0Rmxvb3IpKXJldHVybiBudWxsO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihpLmlzUGxhaW5PYmplY3QocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKSx2PW51bGw7Ynx8KGI9aS5nZXRCaWRJZFBhcmFtZXRlcigiYmlkRmxvb3IiLGUucGFyYW1zKSx2PWkuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZEZsb29yQ3VyIixlLnBhcmFtcykpO2ImJihnLmJpZEZsb29yPWIsZy5iaWRGbG9vckN1cj12P3YudG9VcHBlckNhc2UoKToiVVNEIik7cmV0dXJuIGd9KGUpfSkpLGE9bmV3IHYoImhiIiksZD17c2luZ2xlUmVxdWVzdE1vZGU6ITA9PT1uLmIuZ2V0Q29uZmlnKCJpbXByb3ZlZGlnaXRhbC5zaW5nbGVSZXF1ZXN0IikscmV0dXJuT2JqVHlwZTphLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVCxsaWJWZXJzaW9uOnRoaXMudmVyc2lvbn07aWYociYmci5nZHByQ29uc2VudCYmci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoZC5nZHByPXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksciYmci51c3BDb25zZW50JiYoZC51c1ByaXZhY3k9ci51c3BDb25zZW50KSxyJiZyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnJlZmVyZXImJihkLnJlZmVycmVyPXIucmVmZXJlckluZm8ucmVmZXJlciksZC5zY2hhaW49ZVswXS5zY2hhaW4sZVswXS51c2VySWQpe3ZhciBvPU9iamVjdChjLmIpKGVbMF0udXNlcklkKTtvLmxlbmd0aCYmaS5kZWVwU2V0VmFsdWUoZCwidXNlci5leHQuZWlkcyIsbyl9dmFyIHA9YS5jcmVhdGVSZXF1ZXN0KHQsZCk7cmV0dXJuIHAuZXJyb3JzJiZwLmVycm9ycy5sZW5ndGg+MCYmaS5sb2dFcnJvcigiSUQgV0FSTklORyAweDAxIikscC5yZXF1ZXN0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0PXJ9KSkscC5yZXF1ZXN0c30saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmJpZGRlclJlcXVlc3QsYT1bXTtyZXR1cm4gaS5fZWFjaChlLmJvZHkuYmlkLChmdW5jdGlvbihlKXtpZihlLnByaWNlJiZudWxsIT09ZS5wcmljZSYmIWUuaGFzT3duUHJvcGVydHkoImVycm9yQ29kZSIpJiYoZS5hZG18fGUubmF0aXZlKSl7dmFyIHI9aS5nZXRCaWRSZXF1ZXN0KGUuaWQsW3RdKSxuPXt9O2lmKGUubmF0aXZlKW4ubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciByPXt9O2lmKCFlfHwhaS5pc0FycmF5KGUuYXNzZXRzKSlyZXR1cm4gbnVsbDtlLmFzc2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLnRpdGxlKXIudGl0bGU9ZS50aXRsZS50ZXh0O2Vsc2UgaWYoZS5kYXRhKXN3aXRjaChlLmRhdGEudHlwZSl7Y2FzZSAxOnIuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMjpyLmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMzpyLnJhdGluZz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA0OnIubGlrZXM9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNTpyLmRvd25sb2Fkcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA2OnIucHJpY2U9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNzpyLnNhbGVQcmljZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA4OnIucGhvbmU9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgOTpyLmFkZHJlc3M9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTA6ci5ib2R5Mj1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMTpyLmRpc3BsYXlVcmw9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTI6ci5jdGE9ZS5kYXRhLnZhbHVlfWVsc2UgaWYoZS5pbWcpc3dpdGNoKGUuaW1nLnR5cGUpe2Nhc2UgMjpyLmljb249e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH07YnJlYWs7Y2FzZSAzOnIuaW1hZ2U9e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH19fSkpLGUuZXZlbnR0cmFja2Vycz8oci5pbXByZXNzaW9uVHJhY2tlcnM9W10sZS5ldmVudHRyYWNrZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKDE9PT1lLmV2ZW50KXN3aXRjaChlLm1ldGhvZCl7Y2FzZSAxOnIuaW1wcmVzc2lvblRyYWNrZXJzLnB1c2goZS51cmwpO2JyZWFrO2Nhc2UgMjpyLmphdmFzY3JpcHRUcmFja2Vycz0nPHNjcmlwdCBzcmM9IicuY29uY2F0KGUudXJsLCciPjxcL3NjcmlwdD4nKX19KSkpOihyLmltcHJlc3Npb25UcmFja2Vycz1lLmltcHRyYWNrZXJzfHxbXSxyLmphdmFzY3JpcHRUcmFja2Vycz1lLmpzdHJhY2tlcik7ZS5saW5rJiYoci5jbGlja1VybD1lLmxpbmsudXJsLHIuY2xpY2tUcmFja2Vycz1lLmxpbmsuY2xpY2t0cmFja2Vycyk7ZS5wcml2YWN5JiYoci5wcml2YWN5TGluaz1lLnByaXZhY3kpO3JldHVybiByfShlLm5hdGl2ZSksbi5vcnRiTmF0aXZlPWUubmF0aXZlLGUubnVybCYmbi5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzLnVuc2hpZnQoZS5udXJsKSxuLm1lZGlhVHlwZT1zLmM7ZWxzZSBpZihlLmFkX3R5cGUmJiJ2aWRlbyI9PT1lLmFkX3R5cGUpbi52YXN0WG1sPWUuYWRtLG4ubWVkaWFUeXBlPXMuZCxoKHIpJiYobi5hZFJlc3BvbnNlPXtjb250ZW50Om4udmFzdFhtbCxoZWlnaHQ6ZS5oLHdpZHRoOmUud30sbi5yZW5kZXJlcj1mdW5jdGlvbihlKXt2YXIgcj1kLmEuaW5zdGFsbCh7aWQ6ZS5hZFVuaXRDb2RlLHVybDpsLGxvYWRlZDohMSxjb25maWc6aS5kZWVwQWNjZXNzKGUsInJlbmRlcmVyLm9wdGlvbnMiKSxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pO3RyeXtyLnNldFJlbmRlcihnKX1jYXRjaChlKXtpLmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHJ9KHIpKTtlbHNle3ZhciBjPSIiO2UubnVybCYmZS5udXJsLmxlbmd0aD4wJiYoYz0nPGltZyBzcmM9IicuY29uY2F0KGUubnVybCwnIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iZGlzcGxheTpub25lIj4nKSksbi5hZD0iIi5jb25jYXQoYywiPHNjcmlwdD4iKS5jb25jYXQoZS5hZG0sIjxcL3NjcmlwdD4iKSxuLm1lZGlhVHlwZT1zLmJ9aWYobi5jcG09cGFyc2VGbG9hdChlLnByaWNlKSxuLmNyZWF0aXZlSWQ9ZS5jcmlkLG4uY3VycmVuY3k9ZS5jdXJyZW5jeT9lLmN1cnJlbmN5LnRvVXBwZXJDYXNlKCk6IlVTRCIsaS5pc051bWJlcihlLmxpZCkmJmUuYnV5aW5nX3R5cGUmJiJydGIiIT09ZS5idXlpbmdfdHlwZSluLmRlYWxJZD1lLmxpZDtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZS5saWQpJiZBcnJheS5pc0FycmF5KGUuYnV5aW5nX3R5cGUpJiZlLmxpZC5sZW5ndGg9PT1lLmJ1eWluZ190eXBlLmxlbmd0aCl7dmFyIG89ITE7ZS5idXlpbmdfdHlwZS5mb3JFYWNoKChmdW5jdGlvbihyLHQpe298fHImJiJydGIiIT09ciYmKG89ITAsbi5kZWFsSWQ9ZS5saWRbdF0pfSkpfW4uaGVpZ2h0PWUuaCxuLm5ldFJldmVudWU9ISFlLmlzTmV0JiZlLmlzTmV0LG4ucmVxdWVzdElkPWUuaWQsbi50dGw9MzAwLG4ud2lkdGg9ZS53LG4ud2lkdGgmJm4uaGVpZ2h0fHwobi53aWR0aD0xLG4uaGVpZ2h0PTEpLGUuYWRvbWFpbiYmKG4ubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufSksYS5wdXNoKG4pfX0pKSxhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtpZihlLnBpeGVsRW5hYmxlZCl7dmFyIHQ9W107cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5ib2R5LmJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtpLmlzQXJyYXkoZS5zeW5jKSYmZS5zeW5jLmZvckVhY2goKGZ1bmN0aW9uKGUpey0xPT09dC5pbmRleE9mKGUpJiZ0LnB1c2goZSl9KSl9KSl9KSksdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOiJpbWFnZSIsdXJsOmV9fSkpfXJldHVybltdfX07ZnVuY3Rpb24geShlKXt2YXIgcj1PYmplY3Qua2V5cyhpLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcyIse30pKSx0PWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksYT1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7cmV0dXJuInZpZGVvIj09PWUubWVkaWFUeXBlfHwxPT09ci5sZW5ndGgmJnQmJiJvdXRzdHJlYW0iIT09YX1mdW5jdGlvbiBoKGUpe3ZhciByPWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksdD1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7cmV0dXJuIHImJiJvdXRzdHJlYW0iPT09dH1mdW5jdGlvbiBnKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQU5PdXRzdHJlYW1WaWRlby5yZW5kZXJBZCh7c2l6ZXM6W2Uud2lkdGgsZS5oZWlnaHRdLHRhcmdldElkOmUuYWRVbml0Q29kZSxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZSxyZW5kZXJlck9wdGlvbnM6ZS5yZW5kZXJlci5nZXRDb25maWcoKX0sYi5iaW5kKG51bGwsZSkpfSkpfWZ1bmN0aW9uIGIoZSxyLHQpe2UucmVuZGVyZXIuaGFuZGxlVmlkZW9FdmVudCh7aWQ6cixldmVudE5hbWU6dH0pfWZ1bmN0aW9uIHYoZSl7dGhpcy5DT05TVEFOVFM9e0FEX1NFUlZFUl9CQVNFX1VSTDoiaWNlLjM2MHlpZWxkLmNvbSIsRU5EX1BPSU5UOmV8fCJoYiIsQURfU0VSVkVSX1VSTF9QQVJBTToianNvbnA9IixDTElFTlRfVkVSU0lPTjoiSlMtNi40LjAiLE1BWF9VUkxfTEVOR1RIOjIwODMsRVJST1JfQ09ERVM6e01JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUzoyLExJQl9WRVJTSU9OX01JU1NJTkc6M30sUkVUVVJOX09CSl9UWVBFOntERUZBVUxUOjAsVVJMX1BBUkFNU19TUExJVDoxfX0sdGhpcy5nZXRFcnJvclJldHVybj1mdW5jdGlvbihlKXtyZXR1cm57aWRNYXBwaW5nczp7fSxyZXF1ZXN0czp7fSxlcnJvckNvZGU6ZX19LHRoaXMuY3JlYXRlUmVxdWVzdD1mdW5jdGlvbihlLHIsdCl7aWYoIXIubGliVmVyc2lvbilyZXR1cm4gdGhpcy5nZXRFcnJvclJldHVybih0aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5MSUJfVkVSU0lPTl9NSVNTSU5HKTtyLnJldHVybk9ialR5cGU9ci5yZXR1cm5PYmpUeXBlfHx0aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuREVGQVVMVCxyLmFkU2VydmVyQmFzZVVybD0iaHR0cHM6Ly8iKyhyLmFkU2VydmVyQmFzZVVybHx8dGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX0JBU0VfVVJMKTt2YXIgYSxuPVtdO2lmKGkuaXNBcnJheShlKSlmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKylhPXRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdChlW3NdKSxuLnB1c2goYSk7ZWxzZSBhPXRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdChlKSxuLnB1c2goYSk7dmFyIGQ9ITA7ci5yZXR1cm5PYmpUeXBlPT09dGhpcy5DT05TVEFOVFMuUkVUVVJOX09CSl9UWVBFLlVSTF9QQVJBTVNfU1BMSVQmJihkPSExKTt2YXIgYz17cmVxdWVzdHM6W119O2QmJihjLmlkTWFwcGluZ3M9W10pO2Zvcih2YXIgbz1udWxsLHU9IiIuY29uY2F0KHIuYWRTZXJ2ZXJCYXNlVXJsLCIvIikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkVORF9QT0lOVCwiPyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfVVJMX1BBUkFNKSxwPXtiaWRfcmVxdWVzdDp0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdChyLHQpfSxsPTA7bDxuLmxlbmd0aDtsKyspaWYoKGE9bltsXSkuZXJyb3JDb2RlKShvPW98fFtdKS5wdXNoKHtlcnJvckNvZGU6YS5lcnJvckNvZGUsYWRVbml0SWQ6YS5hZFVuaXRJZH0pO2Vsc2V7ZCYmYy5pZE1hcHBpbmdzLnB1c2goe2FkVW5pdElkOmEuYWRVbml0SWQsaWQ6YS5pbXByZXNzaW9uT2JqZWN0LmlkfSkscC5iaWRfcmVxdWVzdC5pbXA9cC5iaWRfcmVxdWVzdC5pbXB8fFtdLHAuYmlkX3JlcXVlc3QuaW1wLnB1c2goYS5pbXByZXNzaW9uT2JqZWN0KTt2YXIgbT0hMTsodStlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocCkpKS5sZW5ndGg+dGhpcy5DT05TVEFOVFMuTUFYX1VSTF9MRU5HVEgmJihtPSEwLHAuYmlkX3JlcXVlc3QuaW1wLmxlbmd0aD4xJiYocC5iaWRfcmVxdWVzdC5pbXAucG9wKCksZCYmYy5pZE1hcHBpbmdzLnBvcCgpLGwtLSkpLCFtJiZyLnNpbmdsZVJlcXVlc3RNb2RlJiZsIT09bi5sZW5ndGgtMXx8KGMucmVxdWVzdHMucHVzaCh0aGlzLmZvcm1hdFJlcXVlc3QocixwKSkscD17YmlkX3JlcXVlc3Q6dGhpcy5jcmVhdGVCYXNpY0JpZFJlcXVlc3RPYmplY3Qocix0KX0pfXJldHVybiBvJiYoYy5lcnJvcnM9byksY30sdGhpcy5mb3JtYXRSZXF1ZXN0PWZ1bmN0aW9uKGUscil7c3dpdGNoKGUucmV0dXJuT2JqVHlwZSl7Y2FzZSB0aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVDpyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiIi5jb25jYXQoZS5hZFNlcnZlckJhc2VVcmwsIi8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5UKSxkYXRhOiIiLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfVVJMX1BBUkFNKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSl9O2RlZmF1bHQ6cmV0dXJue3VybDoiIi5jb25jYXQoZS5hZFNlcnZlckJhc2VVcmwsIi8iKSsiIi5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5ULCI/IikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyKSl9fX0sdGhpcy5jcmVhdGVCYXNpY0JpZFJlcXVlc3RPYmplY3Q9ZnVuY3Rpb24oZSxyKXt2YXIgdD17c2VjdXJlOjF9O2lmKGUucmVxdWVzdElkP3QuaWQ9ZS5yZXF1ZXN0SWQ6dC5pZD1pLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxlLmRvbWFpbiYmKHQuZG9tYWluPWUuZG9tYWluKSxlLnBhZ2UmJih0LnBhZ2U9ZS5wYWdlKSxlLnJlZiYmKHQucmVmPWUucmVmKSxlLmNhbGxiYWNrJiYodC5jYWxsYmFjaz1lLmNhbGxiYWNrKSxlLmxpYlZlcnNpb24mJih0LnZlcnNpb249ZS5saWJWZXJzaW9uKyItIit0aGlzLkNPTlNUQU5UUy5DTElFTlRfVkVSU0lPTiksZS5yZWZlcnJlciYmKHQucmVmZXJyZXI9ZS5yZWZlcnJlciksKGUuZ2Rwcnx8MD09PWUuZ2RwcikmJih0LmdkcHI9ZS5nZHByKSxlLnVzUHJpdmFjeSYmKHQudXNfcHJpdmFjeT1lLnVzUHJpdmFjeSksZS5zY2hhaW4mJih0LnNjaGFpbj1lLnNjaGFpbiksZS51c2VyJiYodC51c2VyPWUudXNlcikscilmb3IodmFyIGEgaW4gcil0W2FdPXJbYV07cmV0dXJuIHR9LHRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdD1mdW5jdGlvbihlKXt2YXIgcj17fSx0PXt9O2lmKHIuaW1wcmVzc2lvbk9iamVjdD10LGUuaWQ/dC5pZD1lLmlkOnQuaWQ9aS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksZS5hZFR5cGVzJiYodC5hZF90eXBlcz1lLmFkVHlwZXMpLGUuYWRVbml0SWQmJihyLmFkVW5pdElkPWUuYWRVbml0SWQpLGUuY3VycmVuY3kmJih0LmN1cnJlbmN5PWUuY3VycmVuY3kudG9VcHBlckNhc2UoKSksZS5iaWRGbG9vciYmKHQuYmlkZmxvb3I9ZS5iaWRGbG9vciksZS5iaWRGbG9vckN1ciYmKHQuYmlkZmxvb3JjdXI9ZS5iaWRGbG9vckN1ci50b1VwcGVyQ2FzZSgpKSxlLnBsYWNlbWVudElkJiYodC5waWQ9ZS5wbGFjZW1lbnRJZCksZS5wdWJsaXNoZXJJZCYmKHQucHViaWQ9ZS5wdWJsaXNoZXJJZCksZS5wbGFjZW1lbnRLZXkmJih0LnBrZXk9ZS5wbGFjZW1lbnRLZXkpLGUudHJhbnNhY3Rpb25JZCYmKHQudGlkPWUudHJhbnNhY3Rpb25JZCksIWkuaXNFbXB0eShlLnZpZGVvKSl7dmFyIGE9cCh7fSxlLnZpZGVvKTsxIT09YS5za2lwJiYoZGVsZXRlIGEuc2tpcG1pbixkZWxldGUgYS5za2lwYWZ0ZXIsMCE9PWEuc2tpcCYmKGkubG9nV2FybigidmlkZW8uc2tpcDogaW52YWxpZCB2YWx1ZSAnIi5jb25jYXQoYS5za2lwLCInLiBFeHBlY3RlZCAwIG9yIDEiKSksZGVsZXRlIGEuc2tpcCkpLGkuaXNFbXB0eShhKXx8KHQudmlkZW89YSl9aWYoZS5rZXlWYWx1ZXMpZm9yKHZhciBuIGluIGUua2V5VmFsdWVzKWZvcih2YXIgcz0wO3M8ZS5rZXlWYWx1ZXNbbl0ubGVuZ3RoO3MrKyl0Lmt2dz10Lmt2d3x8e30sdC5rdndbbl09dC5rdndbbl18fFtdLHQua3Z3W25dLnB1c2goZS5rZXlWYWx1ZXNbbl1bc10pO2lmKHQuYmFubmVyPXt9LGUuc2l6ZSYmZS5zaXplLncmJmUuc2l6ZS5oJiYodC5iYW5uZXIudz1lLnNpemUudyx0LmJhbm5lci5oPWUuc2l6ZS5oKSxlLmZvcm1hdCYmaS5pc0FycmF5KGUuZm9ybWF0KSl7dmFyIGQ9ZS5mb3JtYXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMj09PWUubGVuZ3RoJiZpLmlzSW50ZWdlcihlWzBdKSYmaS5pc0ludGVnZXIoZVsxXSkmJmVbMF0+PTAmJmVbMV0+PTB9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSk7ZC5sZW5ndGg+MCYmKHQuYmFubmVyLmZvcm1hdD1kKX1yZXR1cm4gdC5waWR8fHQucHViaWR8fHQucGtleXx8dC5iYW5uZXImJnQuYmFubmVyLncmJnQuYmFubmVyLmh8fChyLmltcHJlc3Npb25PYmplY3Q9bnVsbCxyLmVycm9yQ29kZT10aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5NSVNTSU5HX1BMQUNFTUVOVF9QQVJBTVMpLHJ9fU9iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShmKX19LFs0NzZdKTsKdXBianNDaHVuayhbMjA2XSx7NTA0OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg1MDUpfSw1MDU6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBWfSkpO3ZhciBpPXQoMCksbj10KDIpLGE9dCgzKSxvPXQoMTEpLHM9dC5uKG8pLGQ9dCgxKSxjPXQoMjIpO2Z1bmN0aW9uIHAoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxiKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihpPWkuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLHQucHVzaC5hcHBseSh0LGkpfXJldHVybiB0fWZ1bmN0aW9uIG0oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/dShPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe2woZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOnUoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gbChlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gZihlKXtyZXR1cm4oZj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHkoZSxyKXt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYoIXQpe2lmKEFycmF5LmlzQXJyYXkoZSl8fCh0PWIoZSkpfHxyJiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXt0JiYoZT10KTt2YXIgaT0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiBpPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtpKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgYSxvPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXt0PXQuY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPXQubmV4dCgpO3JldHVybiBvPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe3M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e298fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBhfX19fWZ1bmN0aW9uIGIoZSxyKXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09dHx8IlNldCI9PT10P0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KT92KGUscik6dm9pZCAwfX1mdW5jdGlvbiB2KGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsaT1uZXcgQXJyYXkocik7dDxyO3QrKylpW3RdPWVbdF07cmV0dXJuIGl9dmFyIGc9InJvdW5kZWwiLGg9W24uYixuLmRdLHg9OGUzLEk9e0pQWToxfSxPPSJwIix3PSJ4IixBPXtTSVRFOlsiaWQiLCJuYW1lIiwiZG9tYWluIiwiY2F0Iiwic2VjdGlvbmNhdCIsInBhZ2VjYXQiLCJwYWdlIiwicmVmIiwic2VhcmNoIiwibW9iaWxlIiwicHJpdmFjeXBvbGljeSIsInB1Ymxpc2hlciIsImNvbnRlbnQiLCJrZXl3b3JkcyIsImV4dCJdLFVTRVI6WyJpZCIsImJ1eWVydWlkIiwieW9iIiwiZ2VuZGVyIiwia2V5d29yZHMiLCJjdXN0b21kYXRhIiwiZ2VvIiwiZGF0YSIsImV4dCJdfSxTPXsibGl2ZXJhbXAuY29tIjoiaWRsIiwibmV0aWQuZGUiOiJORVRJRCIsIm5ldXN0YXIuYml6IjoiZmFicmlja0lkIiwiemVvdGFwLmNvbSI6Inplb3RhcElkUGx1cyIsInVpZGFwaS5jb20iOiJVSUQyIiwiYWRzZXJ2ZXIub3JnIjoiVERJRCJ9LFA9WyJicml0ZXBvb2xpZCIsImlkNWlkIiwibGlwYmlkIiwiaGFsb0lkIiwiY3JpdGVvSWQiLCJsb3RhbWVQYW5vcmFtYUlkIiwibWVya2xlSWQiLCJwYXJyYWJsZUlkIiwiY29ubmVjdGlkIiwidGFwYWRJZCIsInF1YW50Y2FzdElkIiwicHViY2lkIiwiVERJRCIsImZsb2NJZCJdLHo9WyJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iXSxUPVsibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwicHJvdG9jb2xzIiwicHJvdG9jb2wiLCJzdGFydGRlbGF5IiwicGxhY2VtZW50IiwibGluZWFyaXR5Iiwic2tpcCIsInNraXBtaW4iLCJza2lwYWZ0ZXIiLCJzZXF1ZW5jZSIsImJhdHRyIiwibWF4ZXh0ZW5kZWQiLCJtaW5iaXRyYXRlIiwibWF4Yml0cmF0ZSIsImJveGluZ2FsbG93ZWQiLCJwbGF5YmFja21ldGhvZCIsInBsYXliYWNrZW5kIiwiZGVsaXZlcnkiLCJwb3MiLCJjb21wYW5pb25hZCIsImFwaSIsImNvbXBhbmlvbnR5cGUiLCJleHQiLCJwbGF5ZXJTaXplIiwidyIsImgiXTtmdW5jdGlvbiBqKGUpe3ZhciByPWsoZSk7ci5iYW5uZXI9e307dmFyIHQ9aS5kZWVwQWNjZXNzKGUsInBhcmFtcy5zaXplIik7cmV0dXJuIHQmJihyLmJhbm5lci53PXRbMF0sci5iYW5uZXIuaD10WzFdLGkuZGVlcEFjY2VzcyhyLCJleHQuc2lkIil8fChyLmV4dC5zaWQ9aS5wYXJzZUdQVFNpbmdsZVNpemVBcnJheSh0KSkpLHIuYmFubmVyLnRvcGZyYW1lPWkuaW5JZnJhbWUoKT8wOjEsRShlLHIsbi5iKSxyfWZ1bmN0aW9uIEMoZSl7dmFyIHI9ayhlKSx0PWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksYT1pLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIik7aWYoIXEoZSx0LGEpKXJldHVybnt9O2Zvcih2YXIgbyBpbiByLnZpZGVvPWE/aS5kZWVwQ2xvbmUoZS5wYXJhbXMudmlkZW8pOnt9LHQpLTE9PT1ULmluZGV4T2Yobyl8fHIudmlkZW8uaGFzT3duUHJvcGVydHkobyl8fChyLnZpZGVvW29dPXRbb10pO2lmKHIudmlkZW8ubWluZHVyYXRpb24+ci52aWRlby5tYXhkdXJhdGlvbilyZXR1cm4gaS5sb2dFcnJvcigiSVggQmlkIEFkYXB0ZXI6IHZpZGVvIG1pbmR1cmF0aW9uIFsiLmNvbmNhdChyLnZpZGVvLm1pbmR1cmF0aW9uLCJdIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gdmlkZW8gbWF4ZHVyYXRpb24gWyIpLmNvbmNhdChyLnZpZGVvLm1heGR1cmF0aW9uLCJdIikpLHt9O3ZhciBzPWEmJmEuY29udGV4dHx8dCYmdC5jb250ZXh0O2lmKHMmJiFyLnZpZGVvLmhhc093blByb3BlcnR5KCJwbGFjZW1lbnQiKSYmKHM9PT1jLmE/ci52aWRlby5wbGFjZW1lbnQ9MTpzPT09Yy5iP3IudmlkZW8ucGxhY2VtZW50PTQ6aS5sb2dXYXJuKCJJWCBCaWQgQWRhcHRlcjogVmlkZW8gY29udGV4dCAnIi5jb25jYXQocywiJyBpcyBub3Qgc3VwcG9ydGVkIikpKSwhci52aWRlby53fHwhci52aWRlby5oKXt2YXIgZD1VKGkuZGVlcEFjY2VzcyhyLCJ2aWRlby5wbGF5ZXJTaXplIikpfHxVKGkuZGVlcEFjY2VzcyhlLCJwYXJhbXMuc2l6ZSIpKTtpZighZClyZXR1cm4gaS5sb2dXYXJuKCJJWCBCaWQgQWRhcHRlcjogVmlkZW8gc2l6ZSBpcyBtaXNzaW5nIGluIFttZWRpYVR5cGVzLnZpZGVvXSBtaXNzaW5nIikse307ci52aWRlby53PWRbMF0sci52aWRlby5oPWRbMV0saS5kZWVwQWNjZXNzKHIsImV4dC5zaWQiKXx8KHIuZXh0LnNpZD1pLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KGQpKX1yZXR1cm4gRShlLHIsbi5kKSxyfWZ1bmN0aW9uIGsoZSl7dmFyIHI9e307ci5pZD1lLmJpZElkLHIuZXh0PXt9LHIuZXh0LnNpdGVJRD1lLnBhcmFtcy5zaXRlSWQsIWUucGFyYW1zLmhhc093blByb3BlcnR5KCJpZCIpfHwic3RyaW5nIiE9dHlwZW9mIGUucGFyYW1zLmlkJiYibnVtYmVyIiE9dHlwZW9mIGUucGFyYW1zLmlkfHwoci5leHQuc2lkPVN0cmluZyhlLnBhcmFtcy5pZCkpO3ZhciB0PWkuZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQuZGF0YS5hZHNlcnZlci5hZHNsb3QiKTtyZXR1cm4gdCYmKHIuZXh0LmRmcF9hZF91bml0X2NvZGU9dCkscn1mdW5jdGlvbiBFKGUscix0KXt2YXIgbj1udWxsLGE9bnVsbDtpZihlLnBhcmFtcy5iaWRGbG9vciYmZS5wYXJhbXMuYmlkRmxvb3JDdXImJihuPXtmbG9vcjplLnBhcmFtcy5iaWRGbG9vcixjdXJyZW5jeTplLnBhcmFtcy5iaWRGbG9vckN1cn0pLGkuaXNGbihlLmdldEZsb29yKSl7dmFyIG89IioiLHM9IioiO2lmKHQmJmkuY29udGFpbnMoaCx0KSl7dmFyIGQ9clt0XTtvPXQscz1bZC53LGQuaF19dHJ5e2E9ZS5nZXRGbG9vcih7bWVkaWFUeXBlOm8sc2l6ZTpzfSl9Y2F0Y2goZSl7aS5sb2dXYXJuKCJwcmljZUZsb29ycyBtb2R1bGUgY2FsbCBnZXRGbG9vciBmYWlsZWQsIGVycm9yIDogIixlKX19YT8oci5iaWRmbG9vcj1hLmZsb29yLHIuYmlkZmxvb3JjdXI9YS5jdXJyZW5jeSxyLmV4dC5mbD1PKTpuJiYoci5iaWRmbG9vcj1uLmZsb29yLHIuYmlkZmxvb3JjdXI9bi5jdXJyZW5jeSxyLmV4dC5mbD13KX1mdW5jdGlvbiBEKGUscix0KXt2YXIgYT17fSxvPSEoIWkuZGVlcEFjY2VzcyhlLCJleHAiKXx8IWkuaXNJbnRlZ2VyKGUuZXhwKSkscz1pLmRlZXBBY2Nlc3MoZSwiZGVhbGlkIil8fGkuZGVlcEFjY2VzcyhlLCJleHQuZGVhbGlkIik7cmV0dXJuIEkuaGFzT3duUHJvcGVydHkocik/YS5jcG09ZS5wcmljZS9JW3JdOmEuY3BtPWUucHJpY2UvMTAwLGEucmVxdWVzdElkPWUuaW1waWQscyYmKGEuZGVhbElkPXMpLGEubmV0UmV2ZW51ZT10cnVlLGEuY3VycmVuY3k9cixhLmNyZWF0aXZlSWQ9ZS5oYXNPd25Qcm9wZXJ0eSgiY3JpZCIpP2UuY3JpZDoiLSIsaS5kZWVwQWNjZXNzKGUsImV4dC52YXN0dXJsIik/KGEudmFzdFVybD1lLmV4dC52YXN0dXJsLGEud2lkdGg9dC52aWRlby53LGEuaGVpZ2h0PXQudmlkZW8uaCxhLm1lZGlhVHlwZT1uLmQsYS50dGw9bz9lLmV4cDozNjAwKTooYS5hZD1lLmFkbSxhLndpZHRoPWUudyxhLmhlaWdodD1lLmgsYS5tZWRpYVR5cGU9bi5iLGEudHRsPW8/ZS5leHA6MzAwKSxhLm1ldGE9e30sYS5tZXRhLm5ldHdvcmtJZD1pLmRlZXBBY2Nlc3MoZSwiZXh0LmRzcGlkIiksYS5tZXRhLmJyYW5kSWQ9aS5kZWVwQWNjZXNzKGUsImV4dC5hZHZicmFuZGlkIiksYS5tZXRhLmJyYW5kTmFtZT1pLmRlZXBBY2Nlc3MoZSwiZXh0LmFkdmJyYW5kIiksZS5hZG9tYWluJiZlLmFkb21haW4ubGVuZ3RoPjAmJihhLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ZS5hZG9tYWluKSxhfWZ1bmN0aW9uIEYoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmaS5pc0ludGVnZXIoZVswXSkmJmkuaXNJbnRlZ2VyKGVbMV0pfWZ1bmN0aW9uIFIoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10scj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtpZihGKGUpKXJldHVybiBlWzBdPT09clswXSYmZVsxXT09PXJbMV07Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XVswXT09PXJbMF0mJmVbdF1bMV09PT1yWzFdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHEoZSxyLHQpe3ZhciBuPSEwO3J8fGkubG9nV2FybigiSVggQmlkIEFkYXB0ZXI6IG1lZGlhVHlwZXMudmlkZW8gaXMgdGhlIHByZWZlcnJlZCBsb2NhdGlvbiBmb3IgdmlkZW8gcGFyYW1zIGluIGFkIHVuaXQiKTt2YXIgYSxvPXkoeik7dHJ5e2ZvcihvLnMoKTshKGE9by5uKCkpLmRvbmU7KXt2YXIgcz1hLnZhbHVlLGQ9ciYmci5oYXNPd25Qcm9wZXJ0eShzKSxjPXQmJnQuaGFzT3duUHJvcGVydHkocyk7ZHx8Y3x8KGkubG9nRXJyb3IoIklYIEJpZCBBZGFwdGVyOiAiLmNvbmNhdChzLCIgaXMgbm90IGluY2x1ZGVkIGluIGVpdGhlciB0aGUgYWR1bml0IG9yIHBhcmFtcyBsZXZlbCIpKSxuPSExKX19Y2F0Y2goZSl7by5lKGUpfWZpbmFsbHl7by5mKCl9aWYoIW4pcmV0dXJuITE7dmFyIHA9ciYmci5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2wiKSx1PXImJnIuaGFzT3duUHJvcGVydHkoInByb3RvY29scyIpLG09dCYmdC5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2wiKSxsPXQmJnQuaGFzT3duUHJvcGVydHkoInByb3RvY29scyIpO3JldHVybiBwfHx1fHxtfHxsfWZ1bmN0aW9uIFUoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W107cmV0dXJuIEYoZSk/ZTohIUYoZVswXSkmJmVbMF19ZnVuY3Rpb24gQihlLHIpe2lmKGUpcmV0dXJuIHMoKShyLChmdW5jdGlvbihyKXtyZXR1cm4gci5pZD09PWV9KSl9ZnVuY3Rpb24gTihlLHIsdCxvKXt2YXIgcz0iaHR0cHM6Ly9odGxiLmNhc2FsZW1lZGlhLmNvbS9jeWdudXMiLGQ9ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPXt9O2lmKGkuaXNBcnJheShlKSl7dmFyIGEsbz15KGUpO3RyeXtmb3Ioby5zKCk7IShhPW8ubigpKS5kb25lOyl7dmFyIHM9YS52YWx1ZTtTW3Muc291cmNlXSYmaS5kZWVwQWNjZXNzKHMsInVpZHMuMCIpJiYobltzLnNvdXJjZV09ITAscy51aWRzWzBdLmV4dD17cnRpUGFydG5lcjpTW3Muc291cmNlXX0sZGVsZXRlIHMudWlkc1swXS5hdHlwZSx0LnB1c2gocykpfX1jYXRjaChlKXtvLmUoZSl9ZmluYWxseXtvLmYoKX19aWYociYmci5pZCYmci52ZXJzaW9uKXt2YXIgZD17c291cmNlOiJjaHJvbWUuY29tIix1aWRzOlt7aWQ6ci5pZCxleHQ6e3J0aVBhcnRuZXI6ImZsb2NJZCIsdmVyOnIudmVyc2lvbn19XX07dC5wdXNoKGQpLG5bImNocm9tZS5jb20iXT0hMH1yZXR1cm57dG9TZW5kOnQsc2VlblNvdXJjZXM6bn19KGkuZGVlcEFjY2VzcyhlLCIwLnVzZXJJZEFzRWlkcyIpLGkuZGVlcEFjY2VzcyhlLCIwLnVzZXJJZC5mbG9jSWQiKSksYz1kLnRvU2VuZDtpZih3aW5kb3cuaGVhZGVydGFnJiYiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LmhlYWRlcnRhZy5nZXRJZGVudGl0eUluZm8pe3ZhciB1PXdpbmRvdy5oZWFkZXJ0YWcuZ2V0SWRlbnRpdHlJbmZvKCk7aWYodSYmIm9iamVjdCI9PT1mKHUpKWZvcih2YXIgbCBpbiB1KWlmKHUuaGFzT3duUHJvcGVydHkobCkpe3ZhciBiPXVbbF07IWIucmVzcG9uc2VQZW5kaW5nJiZiLmRhdGEmJiJvYmplY3QiPT09ZihiLmRhdGEpJiZPYmplY3Qua2V5cyhiLmRhdGEpLmxlbmd0aCYmIWQuc2VlblNvdXJjZXNbYi5kYXRhLnNvdXJjZV0mJmMucHVzaChiLmRhdGEpfX1pZihyJiZyLmJpZGRlckNvZGU9PT1nJiYhZC5zZWVuU291cmNlc1sibGl2ZXJhbXAuY29tIl0pcmV0dXJuW107dmFyIHY9e307di5pZD1lWzBdLmJpZGRlclJlcXVlc3RJZC50b1N0cmluZygpLHYuc2l0ZT17fSx2LmV4dD17fSx2LmV4dC5zb3VyY2U9InByZWJpZCIsdi5leHQuaXhkaWFnPXt9LHYuZXh0Lml4ZGlhZy5tc2Q9MCx2LmV4dC5peGRpYWcubXNpPTAsdi5pbXA9W107dmFyIGg9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkfSkpLmZpbHRlcigoZnVuY3Rpb24oZSxyLHQpe3JldHVybiB0LmluZGV4T2YoZSk9PT1yfSkpLHQ9e21mdTowLGJ1OjAsaXU6MCxudTowLG91OjAsYWxsdTowLHJlbjohMSx2ZXJzaW9uOiI1LjExLjAiLHVzZXJJZHM6XyhlWzBdKX0sbj1mdW5jdGlvbihuKXtpZihvPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkPT09cltuXX0pKVswXSxpLmRlZXBBY2Nlc3MobywibWVkaWFUeXBlcyIpKXtpZihPYmplY3Qua2V5cyhvLm1lZGlhVHlwZXMpLmxlbmd0aD4xJiZ0Lm1mdSsrLGkuZGVlcEFjY2VzcyhvLCJtZWRpYVR5cGVzLm5hdGl2ZSIpJiZ0Lm51KyssaS5kZWVwQWNjZXNzKG8sIm1lZGlhVHlwZXMuYmFubmVyIikmJnQuYnUrKywib3V0c3RyZWFtIj09PWkuZGVlcEFjY2VzcyhvLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSl7dC5vdSsrO3ZhciBhPSJvYmplY3QiPT09ZihpLmRlZXBBY2Nlc3MobywicmVuZGVyZXIiKXx8aS5kZWVwQWNjZXNzKG8sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSk7dC5yZW49dC5yZW4mJmE/aS5kZWVwQWNjZXNzKHQsInJlbiIpOmF9Imluc3RyZWFtIj09PWkuZGVlcEFjY2VzcyhvLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmdC5pdSsrLHQuYWxsdSsrfX0sYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbztuKGEpfXJldHVybiB0fShlKTtmb3IodmFyIEkgaW4gaCl2LmV4dC5peGRpYWdbSV09aFtJXTtpZihlWzBdLnNjaGFpbiYmKHYuc291cmNlPXtleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19KSxjLmxlbmd0aD4wJiYodi51c2VyPXt9LHYudXNlci5laWRzPWMpLGRvY3VtZW50LnJlZmVycmVyJiYiIiE9PWRvY3VtZW50LnJlZmVycmVyJiYodi5zaXRlLnJlZj1kb2N1bWVudC5yZWZlcnJlcikscil7aWYoci5nZHByQ29uc2VudCl7dmFyIE89ci5nZHByQ29uc2VudDtPLmhhc093blByb3BlcnR5KCJnZHByQXBwbGllcyIpJiYodi5yZWdzPXtleHQ6e2dkcHI6Ty5nZHByQXBwbGllcz8xOjB9fSksTy5oYXNPd25Qcm9wZXJ0eSgiY29uc2VudFN0cmluZyIpJiYodi51c2VyPXYudXNlcnx8e30sdi51c2VyLmV4dD17Y29uc2VudDpPLmNvbnNlbnRTdHJpbmd8fCIifSxPLmhhc093blByb3BlcnR5KCJhZGR0bENvbnNlbnQiKSYmTy5hZGR0bENvbnNlbnQmJih2LnVzZXIuZXh0LmNvbnNlbnRlZF9wcm92aWRlcnNfc2V0dGluZ3M9e2NvbnNlbnRlZF9wcm92aWRlcnM6Ty5hZGR0bENvbnNlbnR9KSl9ci51c3BDb25zZW50JiZpLmRlZXBTZXRWYWx1ZSh2LCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLHIucmVmZXJlckluZm8mJih2LnNpdGUucGFnZT1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpfWEuYi5nZXRDb25maWcoImNvcHBhIikmJmkuZGVlcFNldFZhbHVlKHYsInJlZ3MuY29wcGEiLDEpO3ZhciB3PXt9O3cucz1lWzBdLnBhcmFtcy5zaXRlSWQsdy52PW8sdy5hYz0iaiIsdy5zZD0xLDguMT09PW8mJih3Lm5mPTEpO3ZhciBQPXImJnIuYmlkZGVyQ29kZXx8Iml4Iix6PWEuYi5nZXRDb25maWcoUCksVD1bXSxqPTAsQz1PYmplY3Qua2V5cyh0KSxrPSIiLmNvbmNhdChzKS5jb25jYXQoaS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycyhtKG0oe30sdykse30se3I6SlNPTi5zdHJpbmdpZnkodil9KSkpLmxlbmd0aDtpZihrPngpcmV0dXJuIGkubG9nRXJyb3IoIml4IGJpZGRlcjogQmFzZSByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpLFQ7dmFyIEU9ayxEPTAsRj0hMTtpZih6KXtpZigib2JqZWN0Ij09PWYoei5maXJzdFBhcnR5RGF0YSkpe3ZhciBSPXouZmlyc3RQYXJ0eURhdGEscT0iPyI7Zm9yKHZhciBVIGluIFIpUi5oYXNPd25Qcm9wZXJ0eShVKSYmKHErPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoVSksIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KFJbVV0pLCImIikpO3E9cS5zbGljZSgwLC0xKSwoRD1lbmNvZGVVUklDb21wb25lbnQocSkubGVuZ3RoKTx4PygicGFnZSJpbiB2LnNpdGU/di5zaXRlLnBhZ2UrPXE6di5zaXRlLnBhZ2U9cSxFKz1EKTppLmxvZ0Vycm9yKCJpeCBiaWRkZXI6IElYIGNvbmZpZyBGUEQgcmVxdWVzdCBzaXplIGhhcyBleGNlZWRlZCBtYXhpbXVtIHJlcXVlc3Qgc2l6ZS4iKX0ibnVtYmVyIj09dHlwZW9mIHoudGltZW91dCYmKHcudD16LnRpbWVvdXQpLCJib29sZWFuIj09dHlwZW9mIHouZGV0ZWN0TWlzc2luZ1NpemVzP3YuZXh0Lml4ZGlhZy5kbXM9ei5kZXRlY3RNaXNzaW5nU2l6ZXM6di5leHQuaXhkaWFnLmRtcz0hMH1mb3IodmFyIEI9ZnVuY3Rpb24oZSl7aWYoRT49eHx8VC5sZW5ndGg+PTQpcmV0dXJuImJyZWFrIjtmb3IodmFyIHI9dFtDW2VdXSxvPXIubWlzc2luZ0NvdW50LGQ9dm9pZCAwPT09bz8wOm8sYz1yLm1pc3NpbmdJbXBzLHU9dm9pZCAwPT09Yz9bXTpjLGw9ci5peEltcHMsZj0hMSx5PXgtRSxiPXtpeEltcHM6dm9pZCAwPT09bD9bXTpsLG1pc3NpbmdCYW5uZXJJbXByZXNzaW9uczp1fSxnPU9iamVjdC5rZXlzKGIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGJbZV19KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuY29uY2F0LmFwcGx5KGUscChyKSl9KSxbXSksaD1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe2ltcHJlc3Npb25PYmplY3RzOmd9KSkubGVuZ3RoO2g+eTspZj0hMCxnLnBvcCgpLGg9ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHtpbXByZXNzaW9uT2JqZWN0czpnfSkpLmxlbmd0aDtpZihnLmxlbmd0aCYmbi5iIGluIGdbMF0pe3ZhciBJPWdbMF0sTz17aWQ6SS5pZCxiYW5uZXI6e3RvcGZyYW1lOkkuYmFubmVyLnRvcGZyYW1lLGZvcm1hdDpnLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5iYW5uZXI7cmV0dXJue3c6ci53LGg6ci5oLGV4dDplLmV4dH19KSl9fTsiYmlkZmxvb3IiaW4gZ1swXSYmKE8uYmlkZmxvb3I9Z1swXS5iaWRmbG9vciksImJpZGZsb29yY3VyImluIGdbMF0mJihPLmJpZGZsb29yY3VyPWdbMF0uYmlkZmxvb3JjdXIpLHYuaW1wLnB1c2goTyksdi5leHQuaXhkaWFnLm1zZCs9ZCx2LmV4dC5peGRpYWcubXNpKz11Lmxlbmd0aH1lbHNle3ZhciBTOyhTPXYuaW1wKS5wdXNoLmFwcGx5KFMscChnKSl9RSs9aDt2YXIgUD1hLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fTtpZighaS5pc0VtcHR5KFApJiYhRil7di5leHQuaXhkaWFnLmZwZD0hMDt2YXIgej1tKHt9LFAuc2l0ZXx8UC5jb250ZXh0KTtPYmplY3Qua2V5cyh6KS5mb3JFYWNoKChmdW5jdGlvbihlKXstMT09PUEuU0lURS5pbmRleE9mKGUpJiZkZWxldGUgeltlXX0pKTt2YXIgRD1tKHt9LFAudXNlcik7T2JqZWN0LmtleXMoRCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT1BLlVTRVIuaW5kZXhPZihlKSYmZGVsZXRlIERbZV19KSk7dmFyIFI9aS5kZWVwQ2xvbmUodik7aWYoUi5zaXRlPWkubWVyZ2VEZWVwKHt9LFIuc2l0ZSx6KSxSLnVzZXI9aS5tZXJnZURlZXAoe30sUi51c2VyLEQpLCIiLmNvbmNhdChzKS5jb25jYXQoaS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycyhtKG0oe30sdykse30se3I6SlNPTi5zdHJpbmdpZnkoUil9KSkpLmxlbmd0aDx4KXt2LnNpdGU9aS5tZXJnZURlZXAoe30sdi5zaXRlLHopLHYudXNlcj1pLm1lcmdlRGVlcCh7fSx2LnVzZXIsRCksRj0hMDt2YXIgcT1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkobShtKHt9LHopLEQpKSkubGVuZ3RoO0UrPXF9ZWxzZSBpLmxvZ0Vycm9yKCJpeCBiaWRkZXI6IEZQRCByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpfXZhciBVPWU9PT1DLmxlbmd0aC0xO2lmKGZ8fFUpe3ZhciBCPWkuZGVlcENsb25lKHcpO1UmJiFqfHwodi5leHQuaXhkaWFnLnNuPWosQi5zbj1qKSxqKyssQi5yPUpTT04uc3RyaW5naWZ5KHYpLFQucHVzaCh7bWV0aG9kOiJHRVQiLHVybDpzLGRhdGE6Qn0pLEU9ayx2LmltcD1bXSx2LmV4dC5peGRpYWcubXNkPTAsdi5leHQuaXhkaWFnLm1zaT0wLEY9ITF9fSxOPTA7TjxDLmxlbmd0aDtOKyspe2lmKCJicmVhayI9PT1CKE4pKWJyZWFrfXJldHVybiBUfWZ1bmN0aW9uIF8oZSl7dmFyIHI9ZS51c2VySWR8fHt9O3JldHVybiBQLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHJbZV19KSl9ZnVuY3Rpb24gSihlLHIpe2lmKHIpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBpPWVbdF07aWYoclswXT09PWlbMF0mJnJbMV09PT1pWzFdKXtlLnNwbGljZSh0LDEpO2JyZWFrfX19ZnVuY3Rpb24gTShlLHIsdCl7dmFyIG49ZS50cmFuc2FjdGlvbklkO2lmKHIuaGFzT3duUHJvcGVydHkobikpe3ZhciBhPVtdO3Jbbl0uaGFzT3duUHJvcGVydHkoIm1pc3NpbmdTaXplcyIpJiYoYT1yW25dLm1pc3NpbmdTaXplcyksSihhLGUucGFyYW1zLnNpemUpLHJbbl0ubWlzc2luZ1NpemVzPWF9ZWxzZSBpZihpLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSl7dmFyIG89aS5kZWVwQ2xvbmUoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk7SihvLGUucGFyYW1zLnNpemUpO3ZhciBzPXttaXNzaW5nU2l6ZXM6byxpbXByZXNzaW9uOnR9O3Jbbl09c319ZnVuY3Rpb24gWChlLHIsdCl7dmFyIGE9aS5kZWVwQ2xvbmUocik7cmV0dXJuIGEuZXh0LnNpZD1pLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KHQpLGEuYmFubmVyLnc9dFswXSxhLmJhbm5lci5oPXRbMV0sRShlLGEsbi5iKSxhfXZhciBWPXtjb2RlOiJpeCIsZ3ZsaWQ6MTAsYWxpYXNlczpbe2NvZGU6ZyxndmxpZDoxMCxza2lwUGJzQWxpYXNpbmc6ITF9XSxzdXBwb3J0ZWRNZWRpYVR5cGVzOmgsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHIsdCxuPWkuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKSxhPWkuZGVlcEFjY2VzcyhlLCJwYXJhbXMuc2l6ZSIpLG89aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikscz1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpLGQ9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpLGM9ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJpZEZsb29yIikscD1lLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3JDdXIiKTtpZihlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGUiKSYmIWkuY29udGFpbnMoaCxlLm1lZGlhVHlwZSkpcmV0dXJuITE7aWYoaS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJiFvKXJldHVybiExO2lmKGEpe3ZhciB1PVUoYSk7aWYoIXUpcmV0dXJuIGkubG9nRXJyb3IoIml4IGJpZGRlciBwYXJhbXM6IHNpemUgaGFzIGludmFsaWQgZm9ybWF0LiIpLCExO2lmKCFSKGUuc2l6ZXMsdSkmJiFSKGQsdSkmJiFSKG8sdSkpcmV0dXJuIGkubG9nRXJyb3IoIml4IGJpZGRlciBwYXJhbXM6IGJpZCBzaXplIGlzIG5vdCBpbmNsdWRlZCBpbiBhZCB1bml0IHNpemVzIG9yIHBsYXllciBzaXplLiIpLCExfXJldHVybiJzdHJpbmciIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkJiYibnVtYmVyIiE9dHlwZW9mIGUucGFyYW1zLnNpdGVJZD8oaS5sb2dFcnJvcigiaXggYmlkZGVyIHBhcmFtczogc2l0ZUlkIG11c3QgYmUgc3RyaW5nIG9yIG51bWJlciB2YWx1ZS4iKSwhMSk6IWMmJiFwfHxjJiZwJiYocj1lLnBhcmFtcy5iaWRGbG9vcix0PWUucGFyYW1zLmJpZEZsb29yQ3VyLEJvb2xlYW4oIm51bWJlciI9PXR5cGVvZiByJiYic3RyaW5nIj09dHlwZW9mIHQmJnQubWF0Y2goL15bQS1aXXszfSQvKSkpPyEoIW8mJihzfHxuKSl8fHEoMCxzLG4pOihpLmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWRGbG9vciAvIGJpZEZsb29yQ3VyIHBhcmFtZXRlciBoYXMgaW52YWxpZCBmb3JtYXQuIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7Zm9yKHZhciB0PVtdLG89e30scz17fSxkPW51bGwsYz17fSx1PW0obSh7fSx7ZGV0ZWN0TWlzc2luZ1NpemVzOiEwfSksYS5iLmdldENvbmZpZygiaXgiKSksbD0wO2w8ZS5sZW5ndGg7bCsrKXtkPWVbbF07dmFyIGY9aS5kZWVwQWNjZXNzKGQsIm1lZGlhVHlwZXMudmlkZW8iKSx5PWkuZGVlcEFjY2VzcyhkLCJwYXJhbXMudmlkZW8iKTtpZigoZC5tZWRpYVR5cGU9PT1uLmR8fGZ8fHkpJiYhcy5oYXNPd25Qcm9wZXJ0eShkLnRyYW5zYWN0aW9uSWQpKXt2YXIgYj1DKGQpOzAhPU9iamVjdC5rZXlzKGIpLmxlbmd0aCYmKHNbZC50cmFuc2FjdGlvbklkXT17fSxzW2QudHJhbnNhY3Rpb25JZF0uaXhJbXBzPVtdLHNbZC50cmFuc2FjdGlvbklkXS5peEltcHMucHVzaChiKSl9aWYoZC5tZWRpYVR5cGU9PT1uLmJ8fGkuZGVlcEFjY2VzcyhkLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpfHwhZC5tZWRpYVR5cGUmJiFkLm1lZGlhVHlwZXMpe3ZhciB2PWooZCk7aS5kZWVwQWNjZXNzKGQsInBhcmFtcy5zaXplIikmJihvLmhhc093blByb3BlcnR5KGQudHJhbnNhY3Rpb25JZCl8fChvW2QudHJhbnNhY3Rpb25JZF09e30pLG9bZC50cmFuc2FjdGlvbklkXS5oYXNPd25Qcm9wZXJ0eSgiaXhJbXBzIil8fChvW2QudHJhbnNhY3Rpb25JZF0uaXhJbXBzPVtdKSxvW2QudHJhbnNhY3Rpb25JZF0uaXhJbXBzLnB1c2godikpLHUuaGFzT3duUHJvcGVydHkoImRldGVjdE1pc3NpbmdTaXplcyIpJiZ1LmRldGVjdE1pc3NpbmdTaXplcyYmTShkLGMsdil9fWZvcih2YXIgZyBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoZykpe3ZhciBoPWNbZ10ubWlzc2luZ1NpemVzO28uaGFzT3duUHJvcGVydHkoZyl8fChvW2ddPXt9KSxvW2ddLmhhc093blByb3BlcnR5KCJtaXNzaW5nSW1wcyIpfHwob1tnXS5taXNzaW5nSW1wcz1bXSxvW2ddLm1pc3NpbmdDb3VudD0wKTtmb3IodmFyIHg9Y1tnXS5pbXByZXNzaW9uLEk9MDtJPGgubGVuZ3RoO0krKyl7dmFyIE89WChkLHgsaFtJXSk7b1tnXS5taXNzaW5nSW1wcy5wdXNoKE8pLG9bZ10ubWlzc2luZ0NvdW50Kyt9fXJldHVybiBPYmplY3Qua2V5cyhvKS5sZW5ndGg+MCYmdC5wdXNoLmFwcGx5KHQscChOKGUscixvLDcuMikpKSxPYmplY3Qua2V5cyhzKS5sZW5ndGg+MCYmdC5wdXNoLmFwcGx5KHQscChOKGUscixzLDguMSkpKSx0fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9bnVsbDtpZighZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpfHwhZS5ib2R5Lmhhc093blByb3BlcnR5KCJzZWF0YmlkIikpcmV0dXJuIHQ7Zm9yKHZhciBuPWUuYm9keSxhPW4uc2VhdGJpZCxvPTA7bzxhLmxlbmd0aDtvKyspaWYoYVtvXS5oYXNPd25Qcm9wZXJ0eSgiYmlkIikpZm9yKHZhciBzPWFbb10uYmlkLGQ9SlNPTi5wYXJzZShyLmRhdGEuciksYz0wO2M8cy5sZW5ndGg7YysrKXt2YXIgcD1CKHNbY10uaW1waWQsZC5pbXApO2k9RChzW2NdLG4uY3VyLHApLHQucHVzaChpKX1yZXR1cm4gdH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIGkuY29udmVydFR5cGVzKHtzaXRlSUQ6Im51bWJlciJ9LGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vanMtc2VjLmluZGV4d3cuY29tL3VtL2l4bWF0Y2guaHRtbCJ9XTpbXX19O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKShWKX19LFs1MDRdKTsKdXBianNDaHVuayhbMTk0XSx7NTQwOmZ1bmN0aW9uKGUsbixyKXtlLmV4cG9ydHM9cig1NDEpfSw1NDE6ZnVuY3Rpb24oZSxuLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKG4sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciB0PXIoMCksZD1yKDIpLGk9cigxKSxzPXtjb2RlOiJsb2NrZXJkb21lIixzdXBwb3J0ZWRNZWRpYVR5cGVzOltkLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMuYWRVbml0SWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXt2YXIgcixkPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2hhaW4mJihyPXJ8fGUuc2NoYWluKSx7cmVxdWVzdElkOmUuYmlkSWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGUsYWRVbml0SWQ6dC5nZXRCaWRJZFBhcmFtZXRlcigiYWRVbml0SWQiLGUucGFyYW1zKSxzaXplczplLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN9fSkpLGk9biYmbi5yZWZlcmVySW5mbyYmbi5yZWZlcmVySW5mby5jYW5vbmljYWxVcmx8fCIiLHM9biYmbi5yZWZlcmVySW5mbyYmbi5yZWZlcmVySW5mby5yZWZlcmVyfHwiIixhPXtiaWRSZXF1ZXN0czpkLHVybDplbmNvZGVVUklDb21wb25lbnQoaSkscmVmZXJyZXI6ZW5jb2RlVVJJQ29tcG9uZW50KHMpfTtyZXR1cm4gciYmKGEuc2NoYWluPXIpLG4mJihuLmdkcHJDb25zZW50JiYoYS5nZHByPXthcHBsaWVzOm4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMsY29uc2VudDpuLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmd9KSxuLnVzcENvbnNlbnQmJihhLnVzX3ByaXZhY3k9e2NvbnNlbnQ6bi51c3BDb25zZW50fSkpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9sb2NrZXJkb21lLmNvbS9sYWRiaWQvcHJlYmlkIixkYXRhOkpTT04uc3RyaW5naWZ5KGEpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZSYmZS5ib2R5JiZlLmJvZHkuYmlkcz9lLmJvZHkuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntyZXF1ZXN0SWQ6ZS5yZXF1ZXN0SWQsY3BtOmUuY3BtLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZUlkLGN1cnJlbmN5OmUuY3VycmVuY3ksbmV0UmV2ZW51ZTplLm5ldFJldmVudWUsYWQ6ZS5hZCx0dGw6ZS50dGwsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWluJiZBcnJheS5pc0FycmF5KGUuYWRvbWFpbik/ZS5hZG9tYWluOltdfX19KSk6W119fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikocyl9fSxbNTQwXSk7CnVwYmpzQ2h1bmsoWzE4Ml0sezU3MjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNTczKX0sNTczOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKTt2YXIgcj1uKDEpLGk9bigwKSxhPW4oMyksbz1uKDIpLGQ9bigyMCkscz1uKDEzKTtmdW5jdGlvbiBjKCl7cmV0dXJuKGM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdT0ibWVkaWFuZXQiLHA9Imh0dHBzOi8vcHJlYmlkLm1lZGlhLm5ldC92aWRlby9idW5kbGUuanMiLGw9MCxmPTEsbT0yLGc9ImNsaWVudF90aW1lb3V0IixiPSJjbGllbnRfYmlkX3dvbiIseT1PYmplY3QoZC5hKSgpLGg9e307ZnVuY3Rpb24gdigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fWZ1bmN0aW9uIHcoZSl7cmV0dXJuIGMoe2RvbWFpbjooZT1lfHx7fSkuZG9tYWlufHxoLnVybERhdGEuZG9tYWluLHBhZ2U6ZS5wYWdlfHxoLnVybERhdGEucGFnZSxyZWY6ZS5yZWZ8fHYoKSxpc1RvcDplLmlzVG9wfHxoLnVybERhdGEuaXNUb3B9LGZ1bmN0aW9uKCl7aWYoaC5wYWdlTWV0YSlyZXR1cm4gaC5wYWdlTWV0YTt2YXIgZT14KCdsaW5rW3JlbD0iY2Fub25pY2FsIl0nLCJocmVmIiksdD14KCdtZXRhW3Byb3BlcnR5PSJvZzp1cmwiXScsImNvbnRlbnQiKSxuPXgoJ21ldGFbbmFtZT0idHdpdHRlcjp1cmwiXScsImNvbnRlbnQiKTtyZXR1cm4gaC5wYWdlTWV0YT1jKHt9LGUmJntjYW5vbmljYWxfdXJsOmV9LHQmJntvZ191cmw6dH0sbiYme3R3aXR0ZXJfdXJsOm59KSxoLnBhZ2VNZXRhfSgpKX1mdW5jdGlvbiB4KGUsdCl7dmFyIG4scixhPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciBuPWkuZ2V0V2luZG93VG9wKCkuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtpZihudWxsIT09biYmblt0XSlyZXR1cm4gblt0XX1jYXRjaChlKXt9fShlLHQpO3JldHVybiBhJiYobj1hLChyPWkuZ2V0V2luZG93VG9wKCkuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPW4sci5ocmVmKX1mdW5jdGlvbiBfKGUsdCl7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09dH0pKX1mdW5jdGlvbiBBKGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0sMTApLGg6cGFyc2VJbnQoZVsxXSwxMCl9fWZ1bmN0aW9uIFQoZSx0KXt2YXIgbj1pLmRlZXBBY2Nlc3MoZSwicGFyYW1zIikscj1pLmRlZXBBY2Nlc3ModCwiZ2RwckNvbnNlbnQiKSxvPWkuZGVlcEFjY2Vzcyh0LCJ1c3BDb25zZW50IiksZD1pLmRlZXBBY2Nlc3MoZSwidXNlcklkIikscz1pLmRlZXBBY2Nlc3MoZSwic2NoYWluIil8fHt9LHU9VS5nZXRXaW5kb3dTaXplKCkscD0hKCFyfHwhci5nZHByQXBwbGllcyksbD0hIW8sZj0hIWEuYi5nZXRDb25maWcoImNvcHBhIik7cmV0dXJuIGMoe30se2N1c3RvbWVyX2lkOm4uY2lkfSx7cHJlYmlkX3ZlcnNpb246dXBianMudmVyc2lvbn0se2dkcHJfYXBwbGllczpwfSxwJiZ7Z2Rwcl9jb25zZW50X3N0cmluZzpyLmNvbnNlbnRTdHJpbmd8fCIifSx7dXNwX2FwcGxpZXM6bH0sbCYme3VzcF9jb25zZW50X3N0cmluZzpvfHwiIn0se2NvcHBhX2FwcGxpZXM6Zn0sLTEhPT11LncmJi0xIT09dS5oJiZ7c2NyZWVuOnV9LGQmJnt1c2VyX2lkOmR9LHVwYmpzLm1lZGlhbmV0R2xvYmFscy5hbmFseXRpY3NFbmFibGVkJiZ7YW5hbHl0aWNzOiEwfSwhaS5pc0VtcHR5KHMpJiZ7c2NoYWluOnN9KX1mdW5jdGlvbiBqKGUpe3ZhciB0LG49e2lkOmUuYmlkSWQsZXh0OntkZnBfaWQ6ZS5hZFVuaXRDb2RlLGRpc3BsYXlfY291bnQ6ZS5iaWRSZXF1ZXN0c0NvdW50fSxhbGw6ZS5wYXJhbXN9LHI9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fFtdLGE9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e30sZD1jKHt9LGkuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKXx8e30sYSk7aWYoaS5pc0VtcHR5KGQpfHwobi52aWRlbz1kKSxyLmxlbmd0aD4wJiYobi5iYW5uZXI9KHQ9cixpLmlzQXJyYXkodCkmJjI9PT10Lmxlbmd0aCYmIWkuaXNBcnJheSh0WzBdKT9bQSh0KV06dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBBKGUpfSkpKSksZS5uYXRpdmVQYXJhbXMpdHJ5e24ubmF0aXZlPUpTT04uc3RyaW5naWZ5KGUubmF0aXZlUGFyYW1zKX1jYXRjaChlKXtpLmxvZ0Vycm9yKCIiLmNvbmNhdCh1LCIgOiBJbmNvcnJlY3QgSlNPTiA6IGJpZFJlcXVlc3QubmF0aXZlUGFyYW1zIikpfWUucGFyYW1zLmNyaWQmJihuLnRhZ2lkPWUucGFyYW1zLmNyaWQudG9TdHJpbmcoKSk7dmFyIHM9cGFyc2VGbG9hdChlLnBhcmFtcy5iaWRmbG9vcnx8ZS5wYXJhbXMuYmlkRmxvb3IpO3MmJihuLmJpZGZsb29yPXMpO3ZhciBwPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO2lmKCF0JiYtMSE9PWUuaW5kZXhPZigiLyIpKXt2YXIgbj1pLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZShlKS5kaXZJZDtpLmlzU3RyKG4pJiYodD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKSl9aWYodCYmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciByPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT17fTtyZXR1cm4gYS50b3BfbGVmdD17eTpyLnRvcCx4OnIubGVmdH0sYS5ib3R0b21fcmlnaHQ9e3k6ci5ib3R0b20seDpyLnJpZ2h0fSxhfXJldHVybiBudWxsfShlLmFkVW5pdENvZGUpO2lmKHAmJm4uYmFubmVyJiYwIT09bi5iYW5uZXIubGVuZ3RoKXt2YXIgZz1mdW5jdGlvbihlKXtyZXR1cm57dG9wX2xlZnQ6e3g6ZS50b3BfbGVmdC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmUudG9wX2xlZnQueSt3aW5kb3cucGFnZVlPZmZzZXR9LGJvdHRvbV9yaWdodDp7eDplLmJvdHRvbV9yaWdodC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmUuYm90dG9tX3JpZ2h0Lnkrd2luZG93LnBhZ2VZT2Zmc2V0fX19KHApO24uZXh0LmNvb3JkaW5hdGVzPWcsbi5leHQudmlld2FiaWxpdHk9SShwLnRvcF9sZWZ0LEUobi5iYW5uZXIpKSxJKGcudG9wX2xlZnQsRShuLmJhbm5lcikpPi41P24uZXh0LnZpc2liaWxpdHk9ZjpuLmV4dC52aXNpYmlsaXR5PW19ZWxzZSBuLmV4dC52aXNpYmlsaXR5PWw7dmFyIGI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107ImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3ImJltvLmIsby5kLG8uY10uZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4pJiYobj09by5iP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMuZm9yRWFjaCgoZnVuY3Rpb24ocil7UyhlLG4scix0KX0pKTpTKGUsbiwiKiIsdCkpfSkpO3JldHVybiB0fShlKTtyZXR1cm4gYiYmYi5sZW5ndGg+MCYmKG4uYmlkZmxvb3JzPWIpLG59ZnVuY3Rpb24gUyhlLHQsbixyKXt2YXIgaT1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6dCxzaXplOm59KTtuLmxlbmd0aD4xJiYoaS5zaXplPW4pLGkubWVkaWFUeXBlPXQsci5wdXNoKGkpfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0LmgqdC53PGUuaCplLnc/dDplfSkpfWZ1bmN0aW9uIEkoZSx0KXt2YXIgbj10LncqdC5oLHI9VS5nZXRXaW5kb3dTaXplKCksaT17eDplLngrdC53LHk6ZS55K3QuaH07cmV0dXJuIDA9PT1ufHwtMT09PXIud3x8LTE9PT1yLmg/MDpmdW5jdGlvbihlLHQsbixyKXtpZihlLng+ci54fHx0Lng8bi54fHxlLnk+ci55fHx0Lnk8bi55KXJldHVybiAwO3JldHVybihNYXRoLm1pbih0Lngsci54KS1NYXRoLm1heChlLngsbi54KSkqKE1hdGgubWluKHQueSxyLnkpLU1hdGgubWF4KGUueSxuLnkpKX0oZSxpLHt4OjAseTowfSx7eDpyLncseTpyLmh9KS9ufWZ1bmN0aW9uIE8oZSx0KXt0PWkuaXNBcnJheSh0KSYmdHx8W107dmFyIG49e2xvZ2lkOiJrZmsiLGV2dGlkOiJwcm9qZWN0ZXZlbnRzIixwcm9qZWN0OiJwcmViaWQifTtyZXR1cm4gbi5hY2lkPWkuZGVlcEFjY2Vzcyh0LCIwLmF1Y3Rpb25JZCIpfHwiIixuLmNpZD11cGJqcy5tZWRpYW5ldEdsb2JhbHMuY2lkfHwiIixuLmNyaWQ9dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmRlZXBBY2Nlc3MoZSwicGFyYW1zLjAuY3JpZCIpfHxlLmFkVW5pdENvZGV9KSkuam9pbigifCIpLG4uYWR1bml0X2NvdW50PXQubGVuZ3RofHwwLG4uZG49aC51cmxEYXRhLmRvbWFpbnx8IiIsbi5yZXF1cmw9aC51cmxEYXRhLnBhZ2V8fCIiLG4uaXN0b3A9aC51cmxEYXRhLmlzVG9wfHwiIixuLmV2ZW50PWUubmFtZXx8IiIsbi52YWx1ZT1lLnZhbHVlfHwiIixuLnJkPWUucmVsYXRlZF9kYXRhfHwiIixufWZ1bmN0aW9uIEMoZSx0KXt2YXIgbj17cHJvdG9jb2w6Imh0dHBzIixob3N0bmFtZToicXNlYXJjaC1hLmFrYW1haWhkLm5ldC9sb2ciLHNlYXJjaDpPKGUsdCl9O2kudHJpZ2dlclBpeGVsKGkuYnVpbGRVcmwobikpfWZ1bmN0aW9uIE0oZSl7dmFyIHQsbj1pLmRlZXBBY2Nlc3MoZSwiY29udGV4dCIpfHwiIixyPWkuZGVlcEFjY2VzcyhlLCJ2dG8iKTsib3V0c3RyZWFtIj09biYmciYmKGUucmVuZGVyZXI9KCh0PXMuYS5pbnN0YWxsKHt1cmw6cH0pKS5zZXRSZW5kZXIoKGZ1bmN0aW9uKGUpe3dpbmRvdy5tbmV0LnF1ZXVlLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHQ9e3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHZhc3RUaW1lb3V0OmUudnRvLG1heEFsbG93ZWRWYXN0VGFnUmVkaXJlY3RzOmUubWF2dHIsYWxsb3dWcGFpZDplLmF2cCxhdXRvUGxheTplLmFwLHByZWxvYWQ6ZS5wbCxtdXRlOmUubXR9LG49ZS5kZnBfaWQscj1pLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZShuKS5kaXZJZHx8bjt3aW5kb3cubW5ldC5tZWRpYU5ldG91dHN0cmVhbVBsYXllcihlLHIsdCl9KSl9KSksdCkpfXdpbmRvdy5tbmV0PXdpbmRvdy5tbmV0fHx7fSx3aW5kb3cubW5ldC5xdWV1ZT13aW5kb3cubW5ldC5xdWV1ZXx8W10saC51cmxEYXRhPXtkb21haW46aS5wYXJzZVVybCh5LnJlZmVyZXIpLmhvc3RuYW1lLHBhZ2U6eS5yZWZlcmVyLGlzVG9wOnkucmVhY2hlZFRvcH0sdXBianMubWVkaWFuZXRHbG9iYWxzPXVwYmpzLm1lZGlhbmV0R2xvYmFsc3x8e307dmFyIFU9e2NvZGU6dSxndmxpZDoxNDIsc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uYyxvLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcz9lLnBhcmFtcy5jaWQmJmkuaXNTdHIoZS5wYXJhbXMuY2lkKSYmIWkuaXNFbXB0eVN0cihlLnBhcmFtcy5jaWQpPyhjKHVwYmpzLm1lZGlhbmV0R2xvYmFscywhdXBianMubWVkaWFuZXRHbG9iYWxzLmNpZCYme2NpZDplLnBhcmFtcy5jaWR9KSwhMCk6KGkubG9nRXJyb3IoIiIuY29uY2F0KHUsIiA6IGNpZCBzaG91bGQgYmUgYSBzdHJpbmciKSksITEpOihpLmxvZ0Vycm9yKCIiLmNvbmNhdCh1LCIgOiBNaXNzaW5nIGJpZCBwYXJhbWV0ZXJzIikpLCExKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm57c2l0ZTp3KGVbMF0ucGFyYW1zLnNpdGUpLGV4dDpUKGVbMF0sdCksaWQ6ZVswXS5hdWN0aW9uSWQsaW1wOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaihlKX0pKSx0bWF4OnQudGltZW91dHx8YS5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfX0oZSx0KTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6KG49ci5leHQuY3VzdG9tZXJfaWQsImh0dHBzOi8vcHJlYmlkLm1lZGlhLm5ldC9ydGIvcHJlYmlkP2NpZD0iK2VuY29kZVVSSUNvbXBvbmVudChuKSksZGF0YTpKU09OLnN0cmluZ2lmeShyKX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W107aWYoIWV8fCFlLmJvZHkpcmV0dXJuIGkubG9nSW5mbygiIi5jb25jYXQodSwiIDogcmVzcG9uc2UgaXMgZW1wdHkiKSksbjt2YXIgcj1lLmJvZHkuYmlkTGlzdDtyZXR1cm4gaS5pc0FycmF5KHIpJiYwIT09ci5sZW5ndGg/KChuPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1lLm5vX2JpZCYmcGFyc2VGbG9hdChlLmNwbSk+MH0oZSl9KSkpLmZvckVhY2goTSksbik6KGkubG9nSW5mbygiIi5jb25jYXQodSwiIDogbm8gYmlkcyIpKSxuKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0obj10LCFpLmlzRW1wdHkobikmJm5bMF0uYm9keSYmblswXS5ib2R5LmV4dCYmaS5pc0FycmF5KG5bMF0uYm9keS5leHQuY3NVcmwpP25bMF0uYm9keS5leHQuY3NVcmw6W10pO3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/XyhyLCJpZnJhbWUiKTplLnBpeGVsRW5hYmxlZD9fKHIsImltYWdlIik6dm9pZCAwfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7dHJ5e0Moe25hbWU6Zyx2YWx1ZTplLmxlbmd0aCxyZWxhdGVkX2RhdGE6ZVswXS50aW1lb3V0fHxhLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9LGUpfWNhdGNoKGUpe319LG9uQmlkV29uOmZ1bmN0aW9uKGUpe3RyeXtDKHtuYW1lOmIsdmFsdWU6ZS5jcG19LFtlXSl9Y2F0Y2goZSl7fX0sY2xlYXJNbkRhdGE6ZnVuY3Rpb24oKXtoPXt9fSxnZXRXaW5kb3dTaXplOmZ1bmN0aW9uKCl7cmV0dXJue3c6d2luZG93LnNjcmVlbi53aWR0aHx8LTEsaDp3aW5kb3cuc2NyZWVuLmhlaWdodHx8LTF9fX07T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKFUpfX0sWzU3Ml0pOwp1cGJqc0NodW5rKFsxNjldLHs1OTg6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDU5OSl9LDU5OTpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQobiwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSk7dmFyIGk9dCgwKSxyPXQoMyksbz10KDEpLGQ9dCgyKSxhPXQoNykscz0ibm9iaWQiLHU9T2JqZWN0KGEuYikoODE2LHMpO2Z1bmN0aW9uIGMoZSxuKXtpLmxvZ0luZm8oIi1Ob0JpZC0gIitlLG4pfWZ1bmN0aW9uIHAoZSxuKXtmdW5jdGlvbiB0KGUsbil7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdLmQ9PT1lKXJldHVybiBuW3RdO3JldHVybiExfShlLmRpdixuKXx8e307cmV0dXJuIGUuYWNjb3VudCYmKHQucz1lLmFjY291bnQpLGUuc2l6ZXMmJih0Lno9ZS5zaXplcyksZS5kaXYmJih0LmQ9ZS5kaXYpLGUudGFyZ2V0aW5nP3QuZz1lLnRhcmdldGluZzp0Lmc9e30sZS5kaXYmJmZ1bmN0aW9uKGUsbix0KXtmb3IodmFyIGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIHI9ZVtpXTtyW25dJiZyW25dPT09dCYmZS5zcGxpY2UoaSwxKX19KG4sImQiLGUuZGl2KSxlLnNpemVNYXBwaW5nJiYodC5zbT1lLnNpemVNYXBwaW5nKSxlLnNpdGVJZCYmKHQuc2lkPWUuc2l0ZUlkKSxlLnBsYWNlbWVudElkJiYodC5waWQ9ZS5wbGFjZW1lbnRJZCksZS5hZF90eXBlJiYodC5hdD1lLmFkX3R5cGUpLGUucGFyYW1zJiYodC5wYXJhbXM9ZS5wYXJhbXMpLG4ucHVzaCh0KSxufWlmKHZvaWQgMCE9PXdpbmRvdy5ub2JpZC5yZWZyZXNoTGltaXQmJndpbmRvdy5ub2JpZC5yZWZyZXNoTGltaXQ8d2luZG93Lm5vYmlkLnJlZnJlc2hDb3VudClyZXR1cm4hMTt2YXIgbyxhPShvPSJfdWJsb2NrIix1LmdldENvb2tpZShvKSk7aWYoYSlyZXR1cm4gYygiUmVxdWVzdCBibG9ja2VkIGZvciB1c2VyLiBob3VyczogIixhKSwhMTtmb3IodmFyIHM9W10scD0wLGw9W10sZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgZj1lW2ddLGI9Zi5hZFVuaXRDb2RlO3MucHVzaChiKTt2YXIgdj1mLnNpemVzO3A9dm9pZCAwIT09Zi5wYXJhbXMuc2l0ZUlkJiZmLnBhcmFtcy5zaXRlSWQ/Zi5wYXJhbXMuc2l0ZUlkOnA7dmFyIG09Zi5wYXJhbXMucGxhY2VtZW50SWQsdz0iYmFubmVyIixoPWkuZGVlcEFjY2VzcyhmLCJtZWRpYVR5cGVzLnZpZGVvIikseT1pLmRlZXBBY2Nlc3MoZiwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7KGYubWVkaWFUeXBlPT09ZC5kfHxoJiYoImluc3RyZWFtIj09PXl8fCJvdXRzdHJlYW0iPT09eSkpJiYodz0idmlkZW8iKSxwJiZ0KHtkaXY6YixzaXplczp2LHNpdGVJZDpwLHBsYWNlbWVudElkOm0sYWRfdHlwZTp3LHBhcmFtczpmLnBhcmFtc30sbCl9cmV0dXJuISFwJiZmdW5jdGlvbih0LG8sZCl7dmFyIGEscyx1LGMscCxsLGcsZixiPXt9O2Iuc2lkPW8sYi5sPWZ1bmN0aW9uKGUpe3ZhciBuPSIiO3JldHVybiBuPWUmJmUucmVmZXJlckluZm8mJmUucmVmZXJlckluZm8ucmVmZXJlcj9lLnJlZmVyZXJJbmZvLnJlZmVyZXI6d2luZG93LmNvbnRleHQmJndpbmRvdy5jb250ZXh0LmxvY2F0aW9uJiZ3aW5kb3cuY29udGV4dC5sb2NhdGlvbi5ocmVmP3dpbmRvdy5jb250ZXh0LmxvY2F0aW9uLmhyZWY6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixlbmNvZGVVUklDb21wb25lbnQobi5yZXBsYWNlKC9cJS9nLCIiKSl9KG4pLGIudHQ9ZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LnRpdGxlKSxiLnR0PWIudHQucmVwbGFjZSgvJ3w7fHF1b3Q7fDM5O3wmYW1wO3wmfCN8XHJcbnxccnxcbnxcdHxcZnxcJTBBfFwifFwlMjJ8XCU1Q3xcJTIzfFwlMjZ8XCUyNnxcJTA5L2dtLCIiKSxiLmE9ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXTtpZihlJiZlLmxlbmd0aCl7aWYobil7dmFyIGk9W107ZSBpbnN0YW5jZW9mIEFycmF5P2k9ZTppLnB1c2goZSk7Zm9yKHZhciByPTAsbz1uLmxlbmd0aDtyPG87cisrKXt2YXIgZD1uW3JdO2QmJmQuZCYmaS5pbmRleE9mKGQuZCk+LTEmJnQucHVzaChkKX19fWVsc2UgdD1uO3JldHVybiB0fSh0LGR8fFtdKSxiLnQ9KGE9bmV3IERhdGUscz1mdW5jdGlvbihlKXtyZXR1cm4gZTw9OT8iMCIrZToiIitlfSx1PWEuZ2V0RGF0ZSgpLGM9YS5nZXRGdWxsWWVhcigpLHA9YS5nZXRNb250aCgpKzEsbD1hLmdldEhvdXJzKCksZz1hLmdldE1pbnV0ZXMoKSxmPWEuZ2V0U2Vjb25kcygpLGMrIi0iK3MocCkrIi0iK3ModSkrIiAiK3MobCkrIjoiK3MoZykrIjoiK3MoZikpLGIudHo9TWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkpLGIucj1mdW5jdGlvbigpe3RyeXt2YXIgZT1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApLG49TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApO3JldHVybiIiLmNvbmNhdChlLCJ4IikuY29uY2F0KG4pfWNhdGNoKGUpe2kubG9nV2FybigiQ291bGQgbm90IHBhcnNlIHNjcmVlbiBkaW1lbnNpb25zLCBlcnJvciBkZXRhaWxzOiIsZSl9fSgpLGIubGFuZz1uYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHxuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UsYi5yZWY9ZG9jdW1lbnQucmVmZXJyZXIsYi5nZHByPWZ1bmN0aW9uKGUpe3ZhciBuPXt9O3JldHVybiBlJiZlLmdkcHJDb25zZW50JiYobj17Y29uc2VudFN0cmluZzplLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudFJlcXVpcmVkOiJib29sZWFuIj09dHlwZW9mIGUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN9KSxufShuKSxiLnVzcD1mdW5jdGlvbihlKXt2YXIgbj0iIjtyZXR1cm4gZSYmZS51c3BDb25zZW50JiYobj1lLnVzcENvbnNlbnQpLG59KG4pLGIucGpiZHI9biYmbi5iaWRkZXJDb2RlP24uYmlkZGVyQ29kZToibm9iaWQiO3ZhciB2PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmxlbmd0aD4wP2VbMF0uc2NoYWluOm51bGx9KGUpO3YmJihiLnNjaGFpbj12KTt2YXIgbT0hMD09PXIuYi5nZXRDb25maWcoImNvcHBhIik/e2NvcHBhOiEwfTplJiZlLmxlbmd0aD4wP2VbMF0uY29wcGE6bnVsbDttJiYoYi5jb3BwYT1tKTt2YXIgdz1mdW5jdGlvbihlKXtpZihpLmlzQXJyYXkoZSkmJmUubGVuZ3RoPjApe3ZhciBuPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2UudWlkcyYmZS51aWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QucHVzaCh7aWQ6ZS5pZCsiIn0pfSkpLGUuc291cmNlJiZ0Lmxlbmd0aD4wJiZuLnB1c2goe3NvdXJjZTplLnNvdXJjZSx1aWRzOnR9KX0pKSxufX0oaS5kZWVwQWNjZXNzKGUsIjAudXNlcklkQXNFaWRzIikpO3JldHVybiB3JiZ3Lmxlbmd0aD4wJiYoYi5laWRzPXcpLGJ9KHMscCxsKX1mdW5jdGlvbiBsKGUsbil7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdLmFkVW5pdENvZGU9PWUpcmV0dXJuIG5bdF07cmV0dXJuITF9OyFmdW5jdGlvbihlKXtlJiZ2b2lkIDAhPT1lLnJsaW1pdCYmKHdpbmRvdy5ub2JpZC5yZWZyZXNoTGltaXQ9ZS5ybGltaXQpfShlKSxmdW5jdGlvbihlKXtlJiZ2b2lkIDAhPT1lLnVibG9jayYmZnVuY3Rpb24oZSxuLHQpe3ZhciBpPW5ldyBEYXRlO2kuc2V0VGltZShpLmdldFRpbWUoKSs2MCp0KjYwKjFlMyk7dmFyIHI9ImV4cGlyZXM9IitpLnRvVVRDU3RyaW5nKCk7dS5zZXRDb29raWUoZSxuLHIpfSgiX3VibG9jayIsIjEiLGUudWJsb2NrKX0oZSk7Zm9yKHZhciBpPVtdLHI9MDtlLmJpZHMmJnI8ZS5iaWRzLmxlbmd0aDtyKyspe3ZhciBvPWUuYmlkc1tyXTtpZighKG8uYmRyaWQ8MTAwKSYmbiYmbi5iaWRkZXJSZXF1ZXN0JiZuLmJpZGRlclJlcXVlc3QuYmlkcyl7d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc1siIitvLmlkXT1vO3ZhciBhPXQoby5kaXZpZCxuLmJpZGRlclJlcXVlc3QuYmlkcyk7aWYoYSl7dmFyIHM9e3JlcXVlc3RJZDphLmJpZElkLGNwbToxKihvLnByaWNlP28ucHJpY2U6by5idWNrZXQ/by5idWNrZXQ6MCksd2lkdGg6by5zaXplLncsaGVpZ2h0Om8uc2l6ZS5oLGNyZWF0aXZlSWQ6by5jcmVhdGl2ZWlkfHwiIixkZWFsSWQ6by5kZWFsaWR8fCIiLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjMwMCxhZDpvLmFkbSxtZWRpYVR5cGU6by5hdHlwZXx8ZC5ifTtvLnZhc3RVcmwmJihzLnZhc3RVcmw9by52YXN0VXJsKSxvLnZhc3RYbWwmJihzLnZhc3RYbWw9by52YXN0WG1sKSxvLnZpZGVvQ2FjaGVLZXkmJihzLnZpZGVvQ2FjaGVLZXk9by52aWRlb0NhY2hlS2V5KSxvLm1ldGEmJihzLm1ldGE9by5tZXRhKSxpLnB1c2gocyl9fX1yZXR1cm4gaX13aW5kb3cubm9iaWRWZXJzaW9uPSIxLjMuMSIsd2luZG93Lm5vYmlkPXdpbmRvdy5ub2JpZHx8e30sd2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlcz13aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzfHx7fSx3aW5kb3cubm9iaWQudGltZW91dFRvdGFsPTAsd2luZG93Lm5vYmlkLmJpZFdvblRvdGFsPTAsd2luZG93Lm5vYmlkLnJlZnJlc2hDb3VudD0wLHdpbmRvdy5ub2JpZC5yZW5kZXJUYWc9ZnVuY3Rpb24oZSxuLHQpe2MoIm5vYmlkLnJlbmRlclRhZygpIixuKTt2YXIgaT13aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzWyIiK25dO2lmKGkmJmkuYWRtMil7Yygibm9iaWQucmVuZGVyVGFnKCkgZm91bmQgdGFnIixuKTt2YXIgcj1pLmFkbTI7cmV0dXJuIGUud3JpdGUociksdm9pZCBlLmNsb3NlKCl9Yygibm9iaWQucmVuZGVyVGFnKCkgdGFnIE5PVCBGT1VORCAqRVJST1IqIixuKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbihlKXt2YXIgbj0iIitlW2UubWVzc2FnZT8ibWVzc2FnZSI6ImRhdGEiXTtpZigibmJUYWdSZW5kZXJlci5yZXF1ZXN0QWRNYXJrdXB8Ij09PW4uc3Vic3RyaW5nKDAsIm5iVGFnUmVuZGVyZXIucmVxdWVzdEFkTWFya3VwfCIubGVuZ3RoKSl7YygiUHJlYmlkIHJlY2VpdmVkIG5iVGFnUmVuZGVyZXIucmVxdWVzdEFkTWFya3VwIGV2ZW50Iik7dmFyIHQ9bi5zdWJzdHJpbmcobi5pbmRleE9mKCJ8IikrMSk7aWYod2luZG93Lm5vYmlkJiZ3aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzKXt2YXIgaT13aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzWyIiK3RdO2lmKGkmJmkuYWRtMil7dmFyIHI9aS5hZG0yO3ImJmUuc291cmNlLnBvc3RNZXNzYWdlKCJuYlRhZ1JlbmRlcmVyLnJlbmRlckFkSW5TYWZlRnJhbWV8IityLCIqIil9fX19KSwhMSk7dmFyIGc9e2NvZGU6cyxndmxpZDo4MTYsYWxpYXNlczpbe2NvZGU6ImR1cmF0aW9uIixndmxpZDo2NzR9XSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltkLmIsZC5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gYygiaXNCaWRSZXF1ZXN0VmFsaWQiLGUpLCEhZS5wYXJhbXMuc2l0ZUlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsbil7aWYoYygidmFsaWRCaWRSZXF1ZXN0cyIsZSksIWV8fGUubGVuZ3RoPD0wKWMoIkVtcHR5IHZhbGlkQmlkUmVxdWVzdHMiKTtlbHNle3ZhciB0PXAoZSxuKTtpZih0KXt3aW5kb3cubm9iaWQucmVmcmVzaENvdW50Kys7dmFyIHIsbyxkPUpTT04uc3RyaW5naWZ5KHQpLnJlcGxhY2UoLyd8JnwjL2csIiIpLGE9KHI9Imh0dHBzOi8vYWRzLnNlcnZlbm9iaWQuY29tLyIsKG89ImZ1bmN0aW9uIj09dHlwZW9mIGkuZ2V0UGFyYW1ldGVyQnlOYW1lJiZpLmdldFBhcmFtZXRlckJ5TmFtZSgibm9iaWQtZW52IikpPyJiZXRhIj09bz9yPSJodHRwczovL2JldGEuc2VydmVub2JpZC5jb20vIjoiZGV2Ij09bz9yPSIvL2xvY2FsaG9zdDo4MjgyLyI6InFhIj09byYmKHI9Imh0dHBzOi8vcWEtYWRzLm5vYmlkLmNvbS8iKTpyPSJodHRwczovL2Fkcy5zZXJ2ZW5vYmlkLmNvbS8iLHIrImFkcmVxP2NiPSIrTWF0aC5mbG9vcigxMWUzKk1hdGgucmFuZG9tKCkpKSxzPXt9O3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj0hMDtyZXR1cm4gZSYmZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmMj09PWUuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbiYmKG49ISghMCE9PWkuZGVlcEFjY2VzcyhlLmdkcHJDb25zZW50LCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKSksbn0obil8fChzPXt3aXRoQ3JlZGVudGlhbHM6ITF9KSx7bWV0aG9kOiJQT1NUIix1cmw6YSxkYXRhOmQsYmlkZGVyUmVxdWVzdDpuLG9wdGlvbnM6c319fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYygiaW50ZXJwcmV0UmVzcG9uc2UgLT4gc2VydmVyUmVzcG9uc2UiLGUpLGMoImludGVycHJldFJlc3BvbnNlIC0+IGJpZFJlcXVlc3QiLG4pLGwoZS5ib2R5LG4pfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxuLHQscil7aWYoZS5pZnJhbWVFbmFibGVkKXt2YXIgbz0iIjtyZXR1cm4gdCYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzP28rPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIodC5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHQuY29uc2VudFN0cmluZyk6bys9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQodC5jb25zZW50U3RyaW5nKSksciYmKG8ubGVuZ3RoPjA/bys9IiYiOm8rPSI/IixvKz0idXNwX2NvbnNlbnQ9IityKSxbe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL3B1YmxpYy5zZXJ2ZW5vYmlkLmNvbS9zeW5jLmh0bWwiK299XX1pZihlLnBpeGVsRW5hYmxlZCYmbi5sZW5ndGg+MCl7dmFyIGQ9W107cmV0dXJuIG5bMF0uYm9keS5zeW5jcyYmblswXS5ib2R5LnN5bmNzLmxlbmd0aD4wJiZuWzBdLmJvZHkuc3luY3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZC5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmV9KX0pKSxkfXJldHVybiBpLmxvZ1dhcm4oIi1Ob0JpZC0gUGxlYXNlIGVuYWJsZSBpZnJhbWUgYmFzZWQgdXNlciBzeW5jLiIsZSksW119LG9uVGltZW91dDpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93Lm5vYmlkLnRpbWVvdXRUb3RhbCsrLGMoIlRpbWVvdXQgdG90YWw6ICIrd2luZG93Lm5vYmlkLnRpbWVvdXRUb3RhbCxlKSx3aW5kb3cubm9iaWQudGltZW91dFRvdGFsfSxvbkJpZFdvbjpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93Lm5vYmlkLmJpZFdvblRvdGFsKyssYygiQmlkV29uIHRvdGFsOiAiK3dpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbCxlKSx3aW5kb3cubm9iaWQuYmlkV29uVG90YWx9fTtPYmplY3Qoby5yZWdpc3RlckJpZGRlcikoZyl9fSxbNTk4XSk7CnVwYmpzQ2h1bmsoWzE2M10sezYxNjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNjE3KX0sNjE3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJVU0VSX0lEX0NPREVfVE9fUVVFUllfQVJHIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSk7dmFyIHI9bigzKSxhPW4oMSksaT1uKDApLG89bigyKSxkPW4oMTIpLHM9bi5uKGQpO2Z1bmN0aW9uIGMoZSl7cmV0dXJuKGM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsYSxpPVtdLG89ITAsZD0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEobz0ocj1uLm5leHQoKSkuZG9uZSkmJihpLnB1c2goci52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7bz0hMCk7fWNhdGNoKGUpe2Q9ITAsYT1lfWZpbmFsbHl7dHJ5e298fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoZCl0aHJvdyBhfX1yZXR1cm4gaX0oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiB1KGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiB1KGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIG09W28uYixvLmRdLGw9WyJzdGFydGRlbGF5IiwibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwic3RhcnRkZWxheSIsInNraXBwYWJsZSIsInBsYXliYWNrbWV0aG9kIiwiYXBpIiwicHJvdG9jb2xzIiwiYm94aW5nYWxsb3dlZCIsImxpbmVhcml0eSIsImRlbGl2ZXJ5IiwicHJvdG9jb2wiLCJwbGFjZW1lbnQiLCJtaW5iaXRyYXRlIiwibWF4Yml0cmF0ZSJdLGY9e2JyaXRlcG9vbGlkOiJicml0ZXBvb2xpZCIsY3JpdGVvSWQ6ImNyaXRlb2lkIixmYWJyaWNrSWQ6Im51ZXN0YXJpZCIsaGFsb0lkOiJhdWRpZ2VudGlkIixpZDVpZDoiaWQ1aWQiLGlkbF9lbnY6ImxyZSIsSURQOiJ6ZW90YXBpZCIsaWR4SWQ6ImlkeGlkIixpbnRlbnRJcUlkOiJpbnRlbnRpcWlkIixsaXBiOiJsaXBiaWQiLGxvdGFtZVBhbm9yYW1hSWQ6ImxvdGFtZWlkIixtZXJrbGVJZDoibWVya2xlaWQiLG5ldElkOiJuZXRpZCIscGFycmFibGVJZDoicGFycmFibGVpZCIscHViY2lkOiJwdWJjaWQiLHF1YW50Y2FzdElkOiJxdWFudGNhc3RpZCIsdGFwYWRJZDoidGFwYWRpZCIsdGRpZDoidHRkdXVpZCIsdWlkMjoidWlkMiIsZmxvY0lkOiJmbG9jIixhZG1peGVySWQ6ImFkbWl4ZXJpZCIsZGVlcGludGVudElkOiJkZWVwaW50ZW50aWQiLGRtZElkOiJkbWRpZCIsbmV4dHJvbGxJZDoibmV4dHJvbGxpZCIsbm92YXRpcToibm92YXRpcWlkIixtd09wZW5MaW5rSWQ6Im13b3BlbmxpbmtpZCIsZGFwSWQ6ImRhcGlkIixhbXhJZDoiYW14aWQifSxiPXtjb2RlOiJvcGVueCIsZ3ZsaWQ6Njksc3VwcG9ydGVkTWVkaWFUeXBlczptLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zLmRlbERvbWFpbnx8ZS5wYXJhbXMucGxhdGZvcm07cmV0dXJuIGkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiZ0PyEhZS5wYXJhbXMudW5pdHx8aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aCIpPjA6ISghZS5wYXJhbXMudW5pdHx8IXQpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7aWYoMD09PWUubGVuZ3RoKXJldHVybltdO3ZhciBuPVtdLGE9cChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG49dCxpLmRlZXBBY2Nlc3MobiwibWVkaWFUeXBlcy52aWRlbyIpJiYhaS5kZWVwQWNjZXNzKG4sIm1lZGlhVHlwZXMuYmFubmVyIil8fG4ubWVkaWFUeXBlPT09by5kP2VbMF0ucHVzaCh0KTplWzFdLnB1c2godCksZX0pLFtbXSxbXV0pfShlKSwyKSxkPWFbMF0sYz1hWzFdO3JldHVybiBjLmxlbmd0aD4wJiZuLnB1c2goZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxhPSExLGQ9dihlLHQpLHM9aS5fbWFwKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy51bml0fSkpO2QuYXVzPWkuX21hcChlLChmdW5jdGlvbihlKXtyZXR1cm4gaS5wYXJzZVNpemVzSW5wdXQoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcykuam9pbigiLCIpfSkpLmpvaW4oInwiKSxkLmRpdmlkcz1pLl9tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlLmFkVW5pdENvZGUpfSkpLmpvaW4oIiwiKSxkLmF1Y3M9aS5fbWFwKGUsKGZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodHx8IiIpfSkpLmpvaW4oIiwiKSxzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpJiYoZC5hdWlkPXMuam9pbigiLCIpKTtlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5kb05vdFRyYWNrfSkpJiYoZC5ucz0xKTsoITA9PT1yLmIuZ2V0Q29uZmlnKCJjb3BwYSIpfHxlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5jb3BwYX0pKSkmJihkLnRmY2Q9MSk7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLnBhcmFtcy5jdXN0b21QYXJhbXMpe3ZhciB0PWkuX21hcChPYmplY3Qua2V5cyhlLnBhcmFtcy5jdXN0b21QYXJhbXMpLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj10W2VdO2kuaXNBcnJheShuKSYmKG49bi5qb2luKCIsIikpO3JldHVybihlLnRvTG93ZXJDYXNlKCkrIj0iK24udG9Mb3dlckNhc2UoKSkucmVwbGFjZSgiKyIsIi4iKS5yZXBsYWNlKCIvIiwiXyIpfSh0LGUucGFyYW1zLmN1c3RvbVBhcmFtcyl9KSkscj13aW5kb3cuYnRvYSh0LmpvaW4oIiYiKSk7YT0hMCxuLnB1c2gocil9ZWxzZSBuLnB1c2goIiIpfSkpLGEmJihkLnRwcz1uLmpvaW4oIiwiKSk7cmV0dXJuIHkoZCxvLmIsZSkse21ldGhvZDoiR0VUIix1cmw6ZC5waD8iaHR0cHM6Ly91Lm9wZW54Lm5ldC93LzEuMC9hcmoiOiJodHRwczovLyIuY29uY2F0KGVbMF0ucGFyYW1zLmRlbERvbWFpbiwiL3cvMS4wL2FyaiIpLGRhdGE6ZCxwYXlsb2FkOntiaWRzOmUsc3RhcnRUaW1lOm5ldyBEYXRlfX19KGMsdCkpLGQubGVuZ3RoPjAmJmQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5wdXNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGE9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxkPXYoW2VdLHQpLGM9aS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIpfHx7fSxwPWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSx1PWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKTtpLmlzQXJyYXkoZS5zaXplcykmJjI9PT1lLnNpemVzLmxlbmd0aCYmIWkuaXNBcnJheShlLnNpemVzWzBdKT8obj1wYXJzZUludChlLnNpemVzWzBdLDEwKSxyPXBhcnNlSW50KGUuc2l6ZXNbMV0sMTApKTppLmlzQXJyYXkoZS5zaXplcykmJmkuaXNBcnJheShlLnNpemVzWzBdKSYmMj09PWUuc2l6ZXNbMF0ubGVuZ3RoPyhuPXBhcnNlSW50KGUuc2l6ZXNbMF1bMF0sMTApLHI9cGFyc2VJbnQoZS5zaXplc1swXVsxXSwxMCkpOmkuaXNBcnJheSh1KSYmMj09PXUubGVuZ3RoJiYobj1wYXJzZUludCh1WzBdLDEwKSxyPXBhcnNlSW50KHVbMV0sMTApKTt2YXIgbT17dzpuLGg6cn0sZj1lLnBhcmFtcy52aWRlb3x8ZS5wYXJhbXMub3BlbnJ0Ynx8e307Zi5vcGVucnRiJiYoZj1mLm9wZW5ydGIpO2kuaXNBcnJheShmLmltcCkmJihmPWYuaW1wWzBdLnZpZGVvKTtPYmplY3Qua2V5cyhmKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBzKCkobCxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbVtlXT1mW2VdfSkpLE9iamVjdC5rZXlzKGEpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHMoKShsLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBtW2VdPWFbZV19KSk7dmFyIGI9e2ltcDpbe3ZpZGVvOm19XX07ZC5vcGVucnRiPUpTT04uc3RyaW5naWZ5KGIpLGQuYXVpZD1lLnBhcmFtcy51bml0LGQudndkPW58fGMudndkLGQudmh0PXJ8fGMudmh0LCJvdXRzdHJlYW0iPT09cCYmKGQudm9zPSIxMDEiKTtjLm1pbWVzJiYoZC52bWltZXM9Yy5taW1lcyk7ZS5wYXJhbXMudGVzdCYmKGQudnRlc3Q9MSk7dmFyIGg9aS5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iik7aCYmKGQuYXVjcz1lbmNvZGVVUklDb21wb25lbnQoaCkpO3JldHVybiB5KGQsby5kLFtlXSksZH0oZSx0KTtyZXR1cm57bWV0aG9kOiJHRVQiLHVybDpuLnBoPyJodHRwczovL3Uub3BlbngubmV0L3YvMS4wL2F2anAiOiJodHRwczovLyIuY29uY2F0KGUucGFyYW1zLmRlbERvbWFpbiwiL3YvMS4wL2F2anAiKSxkYXRhOm4scGF5bG9hZDp7YmlkOmUsc3RhcnRUaW1lOm5ldyBEYXRlfX19KGUsdCkpfSkpLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5ib2R5O3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4vYXZqcCQvLnRlc3QoZS51cmwpP28uZDpvLmJ9KHQpPT09by5kP2Z1bmN0aW9uKGUsdCl7dmFyIG49dC5iaWQscj0odC5zdGFydFRpbWUsW10pO2lmKHZvaWQgMCE9PWUmJiIiIT09ZS52YXN0VXJsJiZlLnB1Yl9yZXY+MCl7dmFyIGE9aS5wYXJzZVVybChlLnZhc3RVcmwpLnNlYXJjaHx8e30sZD17fTtkLnJlcXVlc3RJZD1uLmJpZElkLGUuZGVhbF9pZCYmKGQuZGVhbElkPWUuZGVhbF9pZCksZC50dGw9MzAwLGQubmV0UmV2ZW51ZT0hMCxkLmN1cnJlbmN5PWUuY3VycmVuY3ksZC5jcG09cGFyc2VJbnQoZS5wdWJfcmV2LDEwKS8xZTMsZC53aWR0aD1wYXJzZUludChlLndpZHRoLDEwKSxkLmhlaWdodD1wYXJzZUludChlLmhlaWdodCwxMCksZC5jcmVhdGl2ZUlkPWUuYWRpZCxkLnZhc3RVcmw9ZS52YXN0VXJsLGQubWVkaWFUeXBlPW8uZCxlLnBoPWEucGgsZS5jb2xvPWEuY29sbyxlLnRzPWEudHMsci5wdXNoKGQpfXJldHVybiByfShuLHQucGF5bG9hZCk6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5iaWRzLHI9KHQuc3RhcnRUaW1lLGUuYWRzLmFkKSxhPVtdLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIG89cltpXSxkPXBhcnNlSW50KG8uaWR4LDEwKSxzPXt9O2lmKHMucmVxdWVzdElkPW5bZF0uYmlkSWQsby5wdWJfcmV2KXtzLmNwbT1OdW1iZXIoby5wdWJfcmV2KS8xZTM7dmFyIGM9by5jcmVhdGl2ZVswXTtjJiYocy53aWR0aD1jLndpZHRoLHMuaGVpZ2h0PWMuaGVpZ2h0KSxzLmNyZWF0aXZlSWQ9Yy5pZCxzLmFkPW8uaHRtbCxvLmRlYWxfaWQmJihzLmRlYWxJZD1vLmRlYWxfaWQpLHMudHRsPTMwMCxzLm5ldFJldmVudWU9ITAscy5jdXJyZW5jeT1vLmN1cnJlbmN5LG8udGJkJiYocy50YmQ9by50YmQpLHMudHM9by50cyxzLm1ldGE9e30sby5icmFuZF9pZCYmKHMubWV0YS5icmFuZElkPW8uYnJhbmRfaWQpLG8uYWRvbWFpbiYmbGVuZ3RoKG8uYWRvbWFpbik+MD9zLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9by5hZG9tYWluOnMubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1bXSxvLmFkdl9pZCYmKHMubWV0YS5kc3BpZD1vLmFkdl9pZCksYS5wdXNoKHMpfX1yZXR1cm4gYX0obix0LnBheWxvYWQpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LG4scil7aWYoZS5pZnJhbWVFbmFibGVkfHxlLnBpeGVsRW5hYmxlZClyZXR1cm5be3R5cGU6ZS5pZnJhbWVFbmFibGVkPyJpZnJhbWUiOiJpbWFnZSIsdXJsOmkuZGVlcEFjY2Vzcyh0LCIwLmJvZHkuYWRzLnBpeGVscyIpfHxpLmRlZXBBY2Nlc3ModCwiMC5ib2R5LnBpeGVscyIpfHxmdW5jdGlvbihlLHQpe3ZhciBuPSJodHRwczovL3Uub3BlbngubmV0L3cvMS4wL3BkIixyPVtdO2UmJihyLnB1c2goImdkcHI9IisoZS5nZHByQXBwbGllcz8xOjApKSxyLnB1c2goImdkcHJfY29uc2VudD0iK2VuY29kZVVSSUNvbXBvbmVudChlLmNvbnNlbnRTdHJpbmd8fCIiKSkpO3QmJnIucHVzaCgidXNfcHJpdmFjeT0iK2VuY29kZVVSSUNvbXBvbmVudCh0KSk7cmV0dXJuIiIuY29uY2F0KG4pLmNvbmNhdChyLmxlbmd0aD4wPyI/IityLmpvaW4oIiYiKToiIil9KG4scil9XX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuY29udmVydFR5cGVzKHt1bml0OiJzdHJpbmciLGN1c3RvbUZsb29yOiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIGgoZSl7dmFyIHQsbixyLGE9d2luZG93LGk9ZG9jdW1lbnQsbz1pLmRvY3VtZW50RWxlbWVudDtpZihlKXt0cnl7YT13aW5kb3cudG9wLGk9d2luZG93LnRvcC5kb2N1bWVudH1jYXRjaChlKXtyZXR1cm59bz1pLmRvY3VtZW50RWxlbWVudCxyPWkuYm9keSx0PWEuaW5uZXJXaWR0aHx8by5jbGllbnRXaWR0aHx8ci5jbGllbnRXaWR0aCxuPWEuaW5uZXJIZWlnaHR8fG8uY2xpZW50SGVpZ2h0fHxyLmNsaWVudEhlaWdodH1lbHNlIG89aS5kb2N1bWVudEVsZW1lbnQsdD1hLmlubmVyV2lkdGh8fG8uY2xpZW50V2lkdGgsbj1hLmlubmVySGVpZ2h0fHxvLmNsaWVudEhlaWdodDtyZXR1cm4iIi5jb25jYXQodCwieCIpLmNvbmNhdChuKX1mdW5jdGlvbiB2KGUsdCl7dmFyIG4sYT1pLmluSWZyYW1lKCk7bj17anU6ci5iLmdldENvbmZpZygicGFnZVVybCIpfHx0LnJlZmVyZXJJbmZvLnJlZmVyZXIsY2g6ZG9jdW1lbnQuY2hhclNldHx8ZG9jdW1lbnQuY2hhcmFjdGVyU2V0LHJlczoiIi5jb25jYXQoc2NyZWVuLndpZHRoLCJ4IikuY29uY2F0KHNjcmVlbi5oZWlnaHQsIngiKS5jb25jYXQoc2NyZWVuLmNvbG9yRGVwdGgpLGlmcjphLHR6OihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSx0d3M6aChhKSxiZToxLGJjOmVbMF0ucGFyYW1zLmJjfHwiIi5jb25jYXQoImhiX3BiIiwiXyIpLmNvbmNhdCgiMy4wLjMiKSxkZGRpZDppLl9tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhbnNhY3Rpb25JZH0pKS5qb2luKCIsIiksbm9jYWNoZToobmV3IERhdGUpLmdldFRpbWUoKX07dmFyIG8sZCxzLHAsdSxtPXIuYi5nZXRDb25maWcoIm9ydGIyLnVzZXIuZGF0YSIpO2lmKEFycmF5LmlzQXJyYXkobSkmJm0ubGVuZ3RoPjApe3ZhciBsPW0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlLnNlZ21lbnQpJiZlLnNlZ21lbnQubGVuZ3RoPjAmJnZvaWQgMCE9PWUubmFtZSYmZS5uYW1lLmxlbmd0aD4wfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj0ib2JqZWN0Ij09PWModC5leHQpJiZ0LmV4dC5zZWd0YXg/IiIuY29uY2F0KHQubmFtZSwiLyIpLmNvbmNhdCh0LmV4dC5zZWd0YXgpOnQubmFtZTtyZXR1cm4gZVtuXT0oZVtuXXx8W10pLmNvbmNhdCh0LnNlZ21lbnQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKSksZX0pLHt9KSxiPU9iamVjdC5rZXlzKGwpLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsiOiIrbFtlXS5qb2luKCJ8Iil9KSkuam9pbigiLCIpO2IubGVuZ3RoPjAmJihuLnNtPWVuY29kZVVSSUNvbXBvbmVudChiKSl9aWYoZVswXS5wYXJhbXMucGxhdGZvcm0mJihuLnBoPWVbMF0ucGFyYW1zLnBsYXRmb3JtKSx0LmdkcHJDb25zZW50KXt2YXIgdj10LmdkcHJDb25zZW50O3ZvaWQgMCE9PXYuY29uc2VudFN0cmluZyYmKG4uZ2Rwcl9jb25zZW50PXYuY29uc2VudFN0cmluZyksdm9pZCAwIT09di5nZHByQXBwbGllcyYmKG4uZ2Rwcj12LmdkcHJBcHBsaWVzPzE6MCksImlhYiI9PT1yLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudC5jbXBBcGkiKSYmKG4ueF9nZHByX2Y9MSl9cmV0dXJuIHQmJnQudXNwQ29uc2VudCYmKG4udXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLGkuZGVlcEFjY2VzcyhlWzBdLCJjcnVtYnMucHViY2lkIikmJmkuZGVlcFNldFZhbHVlKGVbMF0sInVzZXJJZC5wdWJjaWQiLGkuZGVlcEFjY2VzcyhlWzBdLCJjcnVtYnMucHViY2lkIikpLG89bixkPWVbMF0udXNlcklkLGkuX2VhY2goZCwoZnVuY3Rpb24oZSx0KXt2YXIgbj1mW3RdO2lmKGYuaGFzT3duUHJvcGVydHkodCkpc3dpdGNoKHQpe2Nhc2UiZmxvY0lkIjpjYXNlInVpZDIiOm9bbl09ZS5pZDticmVhaztjYXNlImxpcGIiOmlmKG9bbl09ZS5saXBiaWQsQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGg+MCl7dmFyIHI9ImxpdmVpbnRlbnQ6IitlLnNlZ21lbnRzLmpvaW4oInwiKTtvLnNtPSIiLmNvbmNhdChvLnNtP28uc20rZW5jb2RlVVJJQ29tcG9uZW50KCIsIik6IiIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocikpfWJyZWFrO2Nhc2UicGFycmFibGVJZCI6b1tuXT1lLmVpZDticmVhaztjYXNlImlkNWlkIjpvW25dPWUudWlkO2JyZWFrO2Nhc2Uibm92YXRpcSI6b1tuXT1lLnNub3dmbGFrZTticmVhaztkZWZhdWx0Om9bbl09ZX19KSksbj1vLGVbMF0uc2NoYWluJiYobi5zY2hhaW49KHM9ZVswXS5zY2hhaW4sIiIuY29uY2F0KHMudmVyLCIsIikuY29uY2F0KHMuY29tcGxldGUsIiEiKS5jb25jYXQoKHA9cy5ub2Rlcyx1PVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl0scC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB1Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF18fCIifSkpLmpvaW4oIiwiKX0pKS5qb2luKCIhIikpKSkpLG59ZnVuY3Rpb24geShlLHQsbil7dmFyIGE9W10saT0hMTtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG49e30sYT1yLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iil8fCJVU0QiOyJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yJiYobj1lLmdldEZsb29yKHtjdXJyZW5jeTphLG1lZGlhVHlwZTp0LHNpemU6IioifSkpO3ZhciBpPW4uZmxvb3J8fGUucGFyYW1zLmN1c3RvbUZsb29yfHwwO3JldHVybiBNYXRoLnJvdW5kKDFlMyppKX0oZSx0KTtuPyhhLnB1c2gobiksaT0hMCk6YS5wdXNoKDApfSkpLGkmJihlLmF1bWZzPWEuam9pbigiLCIpKX1PYmplY3QoYS5yZWdpc3RlckJpZGRlcikoYil9fSxbNjE2XSk7CnVwYmpzQ2h1bmsoWzMzXSx7NjQwOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg2NDEpfSw2NDE6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5yZXNldFN5bmNlZFN0YXR1cz1mdW5jdGlvbigpe1U9MH0sci5yZXNldFd1cmxNYXA9ZnVuY3Rpb24oKXtYPXt9fSxyLlByZWJpZFNlcnZlcj0kO3ZhciBuPXQoNzcpLGk9dCg0Mikscz10KDApLG89dCg1KSxhPXQubihvKSxjPXQoOCksZD10KDMpLHA9dCgyKSx1PXQoMzYpLGw9dCgxKSxiPXQoOSksZj10Lm4oYiksdj10KDEyKSxnPXQubih2KSx5PXQoNjQyKSxtPXQoNCksaD10KDExKSxDPXQubihoKTtmdW5jdGlvbiBTKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYobj1uLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSx0LnB1c2guYXBwbHkodCxuKX1yZXR1cm4gdH1mdW5jdGlvbiB4KGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP1MoT2JqZWN0KHQpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPKGUscix0W3JdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKTpTKE9iamVjdCh0KSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikpfSkpfXJldHVybiBlfWZ1bmN0aW9uIE8oZSxyLHQpe3JldHVybiByIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09dCxlfWZ1bmN0aW9uIGooZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUscil7dmFyIHQ9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT10KXJldHVybjt2YXIgbixpLHM9W10sbz0hMCxhPSExO3RyeXtmb3IodD10LmNhbGwoZSk7IShvPShuPXQubmV4dCgpKS5kb25lKSYmKHMucHVzaChuLnZhbHVlKSwhcnx8cy5sZW5ndGghPT1yKTtvPSEwKTt9Y2F0Y2goZSl7YT0hMCxpPWV9ZmluYWxseXt0cnl7b3x8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IGl9fXJldHVybiBzfShlLHIpfHxmdW5jdGlvbihlLHIpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIEEoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIEEoZSxyKX0oZSxyKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIEEoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn1mdW5jdGlvbiBFKCl7cmV0dXJuKEU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB3KGUpe3JldHVybih3PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIFAsayxfPWQuYi5nZXRDb25maWcsST1hLmEuUzJTLlNSQyxVPTAsQj17dGltZW91dDoxZTMsbWF4QmlkczoxLGFkYXB0ZXI6InByZWJpZFNlcnZlciIsYWRhcHRlck9wdGlvbnM6e30sc3luY1VybE1vZGlmaWVyOnt9LGJpZGRlcnM6W119O2Z1bmN0aW9uIFQoZSl7aWYoZSl7dmFyIHI9QXJyYXkuaXNBcnJheShlKT9lOltlXSx0PVtdO3JldHVybiByLmV2ZXJ5KChmdW5jdGlvbihyLG4saSl7aWYoKGZ1bmN0aW9uKGUpe1siZW5kcG9pbnQiLCJzeW5jRW5kcG9pbnQiXS5mb3JFYWNoKChmdW5jdGlvbihyKXtpZihzLmlzU3RyKGVbcl0pKXt2YXIgdD1lW3JdO2Vbcl09e3AxQ29uc2VudDp0LG5vUDFDb25zZW50OnR9fSFzLmlzUGxhaW5PYmplY3QoZVtyXSl8fGVbcl0ucDFDb25zZW50JiZlW3JdLm5vUDFDb25zZW50fHxbInAxQ29uc2VudCIsIm5vUDFDb25zZW50Il0uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVtyXVt0XXx8cy5sb2dXYXJuKCJzMnNDb25maWcuIi5jb25jYXQociwiLiIpLmNvbmNhdCh0LCIgbm90IGRlZmluZWQuICBQQlMgcmVxdWVzdCB3aWxsIGJlIHNraXBwZWQgaW4gc29tZSBQMSBzY2VuYXJpb3MuIikpfSkpfSkpfShlKSwhMSE9PWZ1bmN0aW9uKGUpe2lmKGUuZGVmYXVsdFZlbmRvcil7dmFyIHI9ZS5kZWZhdWx0VmVuZG9yLHQ9T2JqZWN0LmtleXMoZSk7aWYoIXkuYVtyXSlyZXR1cm4gcy5sb2dFcnJvcigiSW5jb3JyZWN0IG9yIHVuYXZhaWxhYmxlIHByZWJpZCBzZXJ2ZXIgZGVmYXVsdCB2ZW5kb3Igb3B0aW9uOiAiK3IpLCExO09iamVjdC5rZXlzKHkuYVtyXSkuZm9yRWFjaCgoZnVuY3Rpb24obil7QltuXSE9PWVbbl0mJmcoKSh0LG4pfHwoZVtuXT15LmFbcl1bbl0pfSkpfXJldHVybiBlLmVuYWJsZWQ9ImJvb2xlYW4iPT10eXBlb2YgZS5lbmFibGVkJiZlLmVuYWJsZWR9KHIpKSYmITEhPT1mdW5jdGlvbihlKXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihbImFjY291bnRJZCIsImJpZGRlcnMiLCJlbmRwb2ludCJdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWcoKShyLGUpJiYocy5sb2dFcnJvcihlKyIgbWlzc2luZyBpbiBzZXJ2ZXIgdG8gc2VydmVyIGNvbmZpZyIpLCEwKX0pKS5sZW5ndGg+MClyZXR1cm4hMX0ocikpcmV0dXJuIEFycmF5LmlzQXJyYXkoci5iaWRkZXJzKSYmKGlbbl0uYmlkZGVycz1yLmJpZGRlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PXQuaW5kZXhPZihlKSYmKHQucHVzaChlKSwhMCl9KSkpLCEwO3JldHVybiBzLmxvZ1dhcm4oInByZWJpZFNlcnZlcjogczJzIGNvbmZpZyBpcyBkaXNhYmxlZCIpLCExfSkpP1A9cjp2b2lkIDB9fWZ1bmN0aW9uIFIoZSxyLHQsbil7aWYoUC5sZW5ndGghPT1VKXtVKys7dmFyIGk9e3V1aWQ6cy5nZW5lcmF0ZVVVSUQoKSxiaWRkZXJzOmUsYWNjb3VudDpuLmFjY291bnRJZH0sbz1uLnVzZXJTeW5jTGltaXQ7cy5pc051bWJlcihvKSYmbz4wJiYoaS5saW1pdD1vKSxyJiYoaS5nZHByPXIuZ2RwckFwcGxpZXM/MTowLCExIT09ci5nZHByQXBwbGllcyYmKGkuZ2Rwcl9jb25zZW50PXIuY29uc2VudFN0cmluZykpLHQmJihpLnVzX3ByaXZhY3k9dCksImJvb2xlYW4iPT10eXBlb2Ygbi5jb29wU3luYyYmKGkuY29vcFN5bmM9bi5jb29wU3luYyk7dmFyIGE9SlNPTi5zdHJpbmdpZnkoaSk7T2JqZWN0KG0uYSkoSyhuLnN5bmNFbmRwb2ludCxyKSwoZnVuY3Rpb24oZSl7dHJ5e0QoKGU9SlNPTi5wYXJzZShlKSkuYmlkZGVyX3N0YXR1cyxuKX1jYXRjaChlKXtzLmxvZ0Vycm9yKGUpfX0pLGEse2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KX19ZnVuY3Rpb24gRChlLHIpe2lmKDAhPT1lLmxlbmd0aCl7dmFyIHQ9ZS5zaGlmdCgpO3Qubm9fY29va2llP2Z1bmN0aW9uKGUscix0LG4saSl7aWYoaS5zeW5jVXJsTW9kaWZpZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBpLnN5bmNVcmxNb2RpZmllclt0XSl7cShlLGkuc3luY1VybE1vZGlmaWVyW3RdKGUscix0KSx0LG4pfWVsc2UgcShlLHIsdCxuKX0odC51c2Vyc3luYy50eXBlLHQudXNlcnN5bmMudXJsLHQuYmlkZGVyLHMuYmluZC5jYWxsKEQsbnVsbCxlLHIpLHIpOkQoZSxyKX19ZnVuY3Rpb24gcShlLHIsdCxuKXtyPyJpbWFnZSI9PT1lfHwicmVkaXJlY3QiPT09ZT8ocy5sb2dNZXNzYWdlKCdJbnZva2luZyBpbWFnZSBwaXhlbCB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIicuY29uY2F0KHQsJyInKSkscy50cmlnZ2VyUGl4ZWwocixuKSk6ImlmcmFtZSI9PWU/KHMubG9nTWVzc2FnZSgnSW52b2tpbmcgaWZyYW1lIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiJy5jb25jYXQodCwnIicpKSxzLmluc2VydFVzZXJTeW5jSWZyYW1lKHIsbikpOihzLmxvZ0Vycm9yKCdVc2VyIHN5bmMgdHlwZSAiJy5jb25jYXQoZSwnIiBub3Qgc3VwcG9ydGVkIGZvciBiaWRkZXI6ICInKS5jb25jYXQodCwnIicpKSxuKCkpOihzLmxvZ0Vycm9yKCdObyBzeW5jIHVybCBmb3IgYmlkZGVyICInLmNvbmNhdCh0LCciOiAnKS5jb25jYXQocikpLG4oKSl9ZC5iLnNldERlZmF1bHRzKHtzMnNDb25maWc6Qn0pLF8oInMyc0NvbmZpZyIsKGZ1bmN0aW9uKGUpe3JldHVybiBUKGUuczJzQ29uZmlnKX0pKTt2YXIgVj17c3BvbnNvcmVkQnk6MSxib2R5OjIscmF0aW5nOjMsbGlrZXM6NCxkb3dubG9hZHM6NSxwcmljZTo2LHNhbGVQcmljZTo3LHBob25lOjgsYWRkcmVzczo5LGJvZHkyOjEwLGN0YToxMn0sTj1PYmplY3Qua2V5cyhWKSx6PXtpY29uOjEsaW1hZ2U6M30sTT17aW1nOjEsanM6Mn07W1Yseix7aW1wcmVzc2lvbjoxLCJ2aWV3YWJsZS1tcmM1MCI6Miwidmlld2FibGUtbXJjMTAwIjozLCJ2aWV3YWJsZS12aWRlbzUwIjo0fSxNXS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihyKXtlW2Vbcl1dPXJ9KSl9KSk7dmFyIFc9e30sSj17fSxYPXt9O3ZhciBGPWZ1bmN0aW9uKGUscix0LG4saSl7dmFyIG89W10sYT17fSxwPXJbMF0sbD1uZXcgU2V0O2lmKHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuY29kZSxpPTE7bC5oYXModCk7KWkrKyx0PSIiLmNvbmNhdChlLmNvZGUsIi0iKS5jb25jYXQoaSk7bC5hZGQodCk7dmFyIGIsZj1PYmplY3QodS5oKShzLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5uYXRpdmUiKSk7aWYoZil0cnl7Yj1KW3RdPU9iamVjdC5rZXlzKGYpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgdD1mW3JdO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIEUoe3JlcXVpcmVkOnQucmVxdWlyZWQ/MTowfSxlP3MuY2xlYW5PYmooZSk6e30pfXN3aXRjaChyKXtjYXNlImltYWdlIjpjYXNlImljb24iOnZhciBpPXpbcl0sbz1zLmNsZWFuT2JqKHt0eXBlOmksdzpzLmRlZXBBY2Nlc3ModCwic2l6ZXMuMCIpLGg6cy5kZWVwQWNjZXNzKHQsInNpemVzLjEiKSx3bWluOnMuZGVlcEFjY2Vzcyh0LCJhc3BlY3RfcmF0aW9zLjAubWluX3dpZHRoIiksaG1pbjpzLmRlZXBBY2Nlc3ModCwiYXNwZWN0X3JhdGlvcy4wLm1pbl9oZWlnaHQiKX0pO2lmKCEoby53JiZvLmh8fG8uaG1pbiYmby53bWluKSl0aHJvdyJpbnZhbGlkIGltZyBzaXplcyAobXVzdCBwcm92aWRlIHNpemVzIG9yIG1pbl9oZWlnaHQgJiBtaW5fd2lkdGggaWYgdXNpbmcgYXNwZWN0X3JhdGlvcykiO0FycmF5LmlzQXJyYXkodC5hc3BlY3RfcmF0aW9zKSYmKG8uZXh0PXthc3BlY3RyYXRpb3M6dC5hc3BlY3RfcmF0aW9zLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGUucmF0aW9fd2lkdGgsIjoiKS5jb25jYXQoZS5yYXRpb19oZWlnaHQpfSkpfSksZS5wdXNoKG4oe2ltZzpvfSkpO2JyZWFrO2Nhc2UidGl0bGUiOmlmKCF0Lmxlbil0aHJvdyJpbnZhbGlkIHRpdGxlLmxlbiI7ZS5wdXNoKG4oe3RpdGxlOntsZW46dC5sZW59fSkpO2JyZWFrO2RlZmF1bHQ6dmFyIGE9VltyXTthJiZlLnB1c2gobih7ZGF0YTp7dHlwZTphLGxlbjp0Lmxlbn19KSl9cmV0dXJuIGV9KSxbXSl9Y2F0Y2goZSl7cy5sb2dFcnJvcigiZXJyb3IgY3JlYXRpbmcgbmF0aXZlIHJlcXVlc3Q6ICIrU3RyaW5nKGUpKX12YXIgdj1zLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpLGc9cy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIik7ZS5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKFdbIiIuY29uY2F0KHQpLmNvbmNhdChlLmJpZGRlcildPWUuYmlkX2lkLGMuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2UuYmlkZGVyXSl7dmFyIHI9Yy5kZWZhdWx0LmJpZGRlclJlZ2lzdHJ5W2UuYmlkZGVyXTtyJiYhci5nZXRTcGVjKCkuc2tpcFBic0FsaWFzaW5nJiYoYVtlLmJpZGRlcl09Yy5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZS5iaWRkZXJdKX19KSk7dmFyIHk9e307aWYoZyYmZy5zaXplcyl7dmFyIG09cy5wYXJzZVNpemVzSW5wdXQoZy5zaXplcykubWFwKChmdW5jdGlvbihlKXt2YXIgcj1qKGUuc3BsaXQoIngiKSwyKSx0PXJbMF0sbj1yWzFdO3JldHVybnt3OnBhcnNlSW50KHQsMTApLGg6cGFyc2VJbnQobiwxMCl9fSkpO3kuYmFubmVyPXtmb3JtYXQ6bX0sZy5wb3MmJih5LmJhbm5lci5wb3M9Zy5wb3MpfWlmKHMuaXNFbXB0eSh2KXx8KCJvdXRzdHJlYW0iIT09di5jb250ZXh0fHx2LnJlbmRlcmVyfHxlLnJlbmRlcmVyPygiaW5zdHJlYW0iIT09di5jb250ZXh0fHx2Lmhhc093blByb3BlcnR5KCJwbGFjZW1lbnQiKXx8KHYucGxhY2VtZW50PTEpLHkudmlkZW89T2JqZWN0LmtleXModikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iY29udGV4dCIhPT1lfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4icGxheWVyU2l6ZSI9PT1yPyhlLnc9cy5kZWVwQWNjZXNzKHYsIiIuY29uY2F0KHIsIi4wLjAiKSksZS5oPXMuZGVlcEFjY2Vzcyh2LCIiLmNvbmNhdChyLCIuMC4xIikpKTplW3JdPXZbcl0sZX0pLHt9KSk6cy5sb2dFcnJvcigiT3V0c3RyZWFtIGJpZCB3aXRob3V0IHJlbmRlcmVyIGNhbm5vdCBiZSBzZW50IHRvIFByZWJpZCBTZXJ2ZXIuIikpLGIpdHJ5e3kubmF0aXZlPXtyZXF1ZXN0OkpTT04uc3RyaW5naWZ5KHtjb250ZXh0OjEscGxjbXR0eXBlOjEsZXZlbnR0cmFja2Vyczpbe2V2ZW50OjEsbWV0aG9kczpbMV19XSxhc3NldHM6Yn0pLHZlcjoiMS4yIn19Y2F0Y2goZSl7cy5sb2dFcnJvcigiZXJyb3IgY3JlYXRpbmcgbmF0aXZlIHJlcXVlc3Q6ICIrU3RyaW5nKGUpKX12YXIgaD1lLmJpZHMucmVkdWNlKChmdW5jdGlvbih0LGkpe3ZhciBzPWMuZGVmYXVsdC5iaWRkZXJSZWdpc3RyeVtpLmJpZGRlcl07cmV0dXJuIHMmJnMuZ2V0U3BlYygpLnRyYW5zZm9ybUJpZFBhcmFtcyYmKGkucGFyYW1zPXMuZ2V0U3BlYygpLnRyYW5zZm9ybUJpZFBhcmFtcyhpLnBhcmFtcywhMCxlLHIpKSx0W2kuYmlkZGVyXT1uLmFkYXB0ZXJPcHRpb25zJiZuLmFkYXB0ZXJPcHRpb25zW2kuYmlkZGVyXT9FKHt9LGkucGFyYW1zLG4uYWRhcHRlck9wdGlvbnNbaS5iaWRkZXJdKTppLnBhcmFtcyx0fSkseCh7fSxzLmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0IikpKSxTPXtpZDp0LGV4dDpoLHNlY3VyZTpuLnNlY3VyZX0sTz14KHt9LHMuZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQuZGF0YSIpKTtPYmplY3Qua2V5cyhPKS5mb3JFYWNoKChmdW5jdGlvbihlKXsicGJhZHNsb3QiPT09ZT8ic3RyaW5nIj09dHlwZW9mIE9bZV0mJk9bZV0/cy5kZWVwU2V0VmFsdWUoUywiZXh0LmRhdGEucGJhZHNsb3QiLE9bZV0pOmRlbGV0ZSBTLmV4dC5kYXRhLnBiYWRzbG90OiJhZHNlcnZlciI9PT1lP1sibmFtZSIsImFkc2xvdCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPXMuZGVlcEFjY2VzcyhPLCJhZHNlcnZlci4iLmNvbmNhdChlKSk7InN0cmluZyI9PXR5cGVvZiByJiZyJiZzLmRlZXBTZXRWYWx1ZShTLCJleHQuZGF0YS5hZHNlcnZlci4iLmNvbmNhdChlLnRvTG93ZXJDYXNlKCkpLHIpfSkpOnMuZGVlcFNldFZhbHVlKFMsImV4dC5kYXRhLiIuY29uY2F0KGUpLE9bZV0pfSkpLEUoUyx5KTt2YXIgQT1DKCkocC5iaWRzLChmdW5jdGlvbihyKXtyZXR1cm4gci5hZFVuaXRDb2RlPT09ZS5jb2RlJiZyLnN0b3JlZEF1Y3Rpb25SZXNwb25zZX0pKTtBJiZzLmRlZXBTZXRWYWx1ZShTLCJleHQucHJlYmlkLnN0b3JlZGF1Y3Rpb25yZXNwb25zZS5pZCIsQS5zdG9yZWRBdWN0aW9uUmVzcG9uc2UudG9TdHJpbmcoKSk7dmFyIHc9QygpKHAuYmlkcywoZnVuY3Rpb24ocil7cmV0dXJuIHIuYWRVbml0Q29kZT09PWUuY29kZSYmImZ1bmN0aW9uIj09dHlwZW9mIHIuZ2V0Rmxvb3J9KSk7aWYodyl7dmFyIFA7dHJ5e1A9dy5nZXRGbG9vcih7Y3VycmVuY3k6ZC5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpfHwiVVNEIn0pfWNhdGNoKGUpe3MubG9nRXJyb3IoIlBCUzogZ2V0Rmxvb3IgdGhyZXcgYW4gZXJyb3I6ICIsZSl9UCYmUC5jdXJyZW5jeSYmIWlzTmFOKHBhcnNlRmxvYXQoUC5mbG9vcikpJiYoUy5iaWRmbG9vcj1wYXJzZUZsb2F0KFAuZmxvb3IpLFMuYmlkZmxvb3JjdXI9UC5jdXJyZW5jeSl9KFMuYmFubmVyfHxTLnZpZGVvfHxTLm5hdGl2ZSkmJm8ucHVzaChTKX0pKSxvLmxlbmd0aCl7dmFyIGI9e2lkOmUudGlkLHNvdXJjZTp7dGlkOmUudGlkfSx0bWF4Om4udGltZW91dCxpbXA6byx0ZXN0Om4udGVzdHx8MCxleHQ6e3ByZWJpZDp7YXVjdGlvbnRpbWVzdGFtcDpwLmF1Y3Rpb25TdGFydCx0YXJnZXRpbmc6e2luY2x1ZGV3aW5uZXJzOiEwLGluY2x1ZGViaWRkZXJrZXlzOiExfX19fTtiLmV4dC5wcmViaWQ9RShiLmV4dC5wcmViaWQse2NoYW5uZWw6e25hbWU6InBianMiLHZlcnNpb246dXBianMudmVyc2lvbn19KSxfKCJkZWJ1ZyIpJiYoYi5leHQucHJlYmlkPUUoYi5leHQucHJlYmlkLHtkZWJ1ZzohMH0pKSxuLmV4dFByZWJpZCYmIm9iamVjdCI9PT13KG4uZXh0UHJlYmlkKSYmKGIuZXh0LnByZWJpZD1FKGIuZXh0LnByZWJpZCxuLmV4dFByZWJpZCkpO3ZhciBmPWQuYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKTtmJiYic3RyaW5nIj09dHlwZW9mIGY/Yi5jdXI9W2ZdOkFycmF5LmlzQXJyYXkoZikmJmYubGVuZ3RoJiYoYi5jdXI9W2ZbMF1dKSxmdW5jdGlvbihlLHIsdCl7ZSYmKCJvYmplY3QiPT09dyhkLmIuZ2V0Q29uZmlnKCJhcHAiKSk/KGUuYXBwPWQuYi5nZXRDb25maWcoImFwcCIpLGUuYXBwLnB1Ymxpc2hlcj17aWQ6dH0pOihlLnNpdGU9e30scy5pc1BsYWluT2JqZWN0KGQuYi5nZXRDb25maWcoInNpdGUiKSkmJihlLnNpdGU9ZC5iLmdldENvbmZpZygic2l0ZSIpKSxzLmRlZXBBY2Nlc3MoZS5zaXRlLCJwdWJsaXNoZXIuaWQiKXx8cy5kZWVwU2V0VmFsdWUoZS5zaXRlLCJwdWJsaXNoZXIuaWQiLHQpLGUuc2l0ZS5wYWdlfHwoZS5zaXRlLnBhZ2U9cikpLCJvYmplY3QiPT09dyhkLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihlLmRldmljZT1kLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSksZS5kZXZpY2V8fChlLmRldmljZT17fSksZS5kZXZpY2Uud3x8KGUuZGV2aWNlLnc9d2luZG93LmlubmVyV2lkdGgpLGUuZGV2aWNlLmh8fChlLmRldmljZS5oPXdpbmRvdy5pbm5lckhlaWdodCkpfShiLHJbMF0ucmVmZXJlckluZm8ucmVmZXJlcixuLmFjY291bnRJZCk7dmFyIHY9cy5kZWVwQWNjZXNzKHIsIjAuYmlkcy4wLnNjaGFpbiIpO3YmJihiLnNvdXJjZS5leHQ9e3NjaGFpbjp2fSkscy5pc0VtcHR5KGEpfHwoYi5leHQucHJlYmlkLmFsaWFzZXM9eCh4KHt9LGIuZXh0LnByZWJpZC5hbGlhc2VzKSxhKSk7dmFyIGc9cy5kZWVwQWNjZXNzKHIsIjAuYmlkcy4wLnVzZXJJZEFzRWlkcyIpO3MuaXNBcnJheShnKSYmZy5sZW5ndGg+MCYmcy5kZWVwU2V0VmFsdWUoYiwidXNlci5leHQuZWlkcyIsZykscy5pc0FycmF5KGspJiZrLmxlbmd0aD4wJiYoaSYmcy5pc0FycmF5KGkpJiZrLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkZGVycyYmKGUuYmlkZGVycz1lLmJpZGRlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5pbmNsdWRlcyhlKX0pKSl9KSkscy5kZWVwU2V0VmFsdWUoYiwiZXh0LnByZWJpZC5kYXRhLmVpZHBlcm1pc3Npb25zIixrKSk7dmFyIHk9ZC5iLmdldENvbmZpZygibXVsdGliaWQiKTtpZih5JiZzLmRlZXBTZXRWYWx1ZShiLCJleHQucHJlYmlkLm11bHRpYmlkIix5LnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlLnRvTG93ZXJDYXNlKCldPXJbZV19KSksZS5wdXNoKHQpLGV9KSxbXSkpLHIpe3ZhciBtO2lmKHAuZ2RwckNvbnNlbnQpImJvb2xlYW4iPT10eXBlb2YgcC5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKG09cC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLHMuZGVlcFNldFZhbHVlKGIsInJlZ3MuZXh0LmdkcHIiLG0pLHMuZGVlcFNldFZhbHVlKGIsInVzZXIuZXh0LmNvbnNlbnQiLHAuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykscC5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQmJiJzdHJpbmciPT10eXBlb2YgcC5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQmJnMuZGVlcFNldFZhbHVlKGIsInVzZXIuZXh0LkNvbnNlbnRlZFByb3ZpZGVyc1NldHRpbmdzLmNvbnNlbnRlZF9wcm92aWRlcnMiLHAuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50KTtwLnVzcENvbnNlbnQmJnMuZGVlcFNldFZhbHVlKGIsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHAudXNwQ29uc2VudCl9ITA9PT1fKCJjb3BwYSIpJiZzLmRlZXBTZXRWYWx1ZShiLCJyZWdzLmNvcHBhIiwxKTt2YXIgaD1fKCJvcnRiMiIpfHx7fTtyZXR1cm4gaC5zaXRlJiZzLm1lcmdlRGVlcChiLHtzaXRlOmguc2l0ZX0pLGgudXNlciYmcy5tZXJnZURlZXAoYix7dXNlcjpoLnVzZXJ9KSxmdW5jdGlvbihlKXt2YXIgcj1kLmIuZ2V0QmlkZGVyQ29uZmlnKCksdD1PYmplY3Qua2V5cyhyKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49clt0XTtpZihuLm9ydGIyKXt2YXIgaT17fTtuLm9ydGIyLnNpdGUmJihpLnNpdGU9bi5vcnRiMi5zaXRlKSxuLm9ydGIyLnVzZXImJihpLnVzZXI9bi5vcnRiMi51c2VyKSxlLnB1c2goe2JpZGRlcnM6W3RdLGNvbmZpZzp7b3J0YjI6aX19KX1yZXR1cm4gZX0pLFtdKTt0Lmxlbmd0aCYmcy5kZWVwU2V0VmFsdWUoZSwiZXh0LnByZWJpZC5iaWRkZXJjb25maWciLHQpfShiKSxifXMubG9nRXJyb3IoIlJlcXVlc3QgdG8gUHJlYmlkIFNlcnZlciByZWplY3RlZCBkdWUgdG8gaW52YWxpZCBtZWRpYSB0eXBlKHMpIGluIGFkVW5pdC4iKX0sSD1mdW5jdGlvbihlLHIsdCl7dmFyIG49W10sbz1zLmRlZXBBY2Nlc3MoZSwiZXh0LnJlc3BvbnNldGltZW1pbGxpcyIpLGM9ci5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJDb2RlfSkpO3JldHVybiBjJiZvJiZPYmplY3Qua2V5cyhvKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1zLmRlZXBDbG9uZShjKTt0LmlzRHluYW1pYz0hMCx0LmJpZGRlckNvZGU9ZSx0LmJpZGRlclJlcXVlc3RJZD1zLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSx0LmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24ocil7ci5iaWRkZXI9ZSxyLmJpZGRlclJlcXVlc3RJZD10LmJpZGRlclJlcXVlc3RJZCxyLmJpZF9pZD1zLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxyLmJpZElkPXIuYmlkX2lkLFdbIiIuY29uY2F0KHIuYWRVbml0Q29kZSkuY29uY2F0KGUpXT1yLmJpZF9pZH0pKSxyLnB1c2godCl9KSksW1siZXJyb3JzIiwic2VydmVyRXJyb3JzIl0sWyJyZXNwb25zZXRpbWVtaWxsaXMiLCJzZXJ2ZXJSZXNwb25zZVRpbWVNcyJdXS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxyLHQsbil7dmFyIGk9cy5kZWVwQWNjZXNzKHIsImV4dC4iLmNvbmNhdCh0KSk7aSYmT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIHQ9QygpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlckNvZGU9PT1yfSkpO3QmJih0W25dPWlbcl0pfSkpfShyLGUsdFswXSx0WzFdKX0pKSxlLnNlYXRiaWQmJmUuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihvKXsoby5iaWR8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihjKXt2YXIgZCx1PSIiLmNvbmNhdChjLmltcGlkKS5jb25jYXQoby5zZWF0KTtXW3VdJiYoZD1zLmdldEJpZFJlcXVlc3QoV1t1XSxyKSk7dmFyIGw9Yy5wcmljZSxiPTAhPT1sP2EuYS5TVEFUVVMuR09PRDphLmEuU1RBVFVTLk5PX0JJRCxmPU9iamVjdChpLmEpKGIsZHx8e2JpZGRlcjpvLnNlYXQsc3JjOkl9KTtmLmNwbT1sO3ZhciB2PXMuZGVlcEFjY2VzcyhlLFsiZXh0IiwicmVzcG9uc2V0aW1lbWlsbGlzIixvLnNlYXRdLmpvaW4oIi4iKSk7ZCYmdiYmKGQuc2VydmVyUmVzcG9uc2VUaW1lTXM9dik7dmFyIGcseSxtLGg9cy5kZWVwQWNjZXNzKGMsImV4dC5wcmViaWQuYmlkaWQiKTtzLmlzU3RyKGgpJiYoZi5wYnNCaWRJZD1oKSxzLmlzU3RyKHMuZGVlcEFjY2VzcyhjLCJleHQucHJlYmlkLmV2ZW50cy53aW4iKSkmJihnPWQuYXVjdGlvbklkLHk9Zi5hZElkLG09cy5kZWVwQWNjZXNzKGMsImV4dC5wcmViaWQuZXZlbnRzLndpbiIpLFtnLHldLmV2ZXJ5KHMuaXNTdHIpJiYoWFsiIi5jb25jYXQoZykuY29uY2F0KHkpXT1tKSk7dmFyIEM9cy5kZWVwQWNjZXNzKGMsImV4dC5wcmViaWQudGFyZ2V0aW5nIik7aWYocy5pc1BsYWluT2JqZWN0KEMpJiYocy5pc1N0cihzLmRlZXBBY2Nlc3MoYywiZXh0LnByZWJpZC5ldmVudHMud2luIikpJiYoQz1zLmdldERlZmluZWRQYXJhbXMoQyxPYmplY3Qua2V5cyhDKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09ZS5pbmRleE9mKCJoYl93aW51cmwiKSYmLTE9PT1lLmluZGV4T2YoImhiX2JpZGlkIil9KSkpKSxmLmFkc2VydmVyVGFyZ2V0aW5nPUMpLGYuc2VhdEJpZElkPWMuaWQscy5kZWVwQWNjZXNzKGMsImV4dC5wcmViaWQudHlwZSIpPT09cC5kKXtmLm1lZGlhVHlwZT1wLmQ7dmFyIFM9ZC5zaXplcyYmZC5zaXplc1swXTtmLnBsYXllcldpZHRoPVNbMF0sZi5wbGF5ZXJIZWlnaHQ9U1sxXSxjLmV4dC5wcmViaWQuY2FjaGUmJiJvYmplY3QiPT09dyhjLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbCkmJmMuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQmJmMuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybD8oZi52aWRlb0NhY2hlS2V5PWMuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQsZi52YXN0VXJsPWMuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybCk6QyYmQy5oYl91dWlkJiZDLmhiX2NhY2hlX2hvc3QmJkMuaGJfY2FjaGVfcGF0aCYmKGYudmlkZW9DYWNoZUtleT1DLmhiX3V1aWQsZi52YXN0VXJsPSJodHRwczovLyIuY29uY2F0KEMuaGJfY2FjaGVfaG9zdCkuY29uY2F0KEMuaGJfY2FjaGVfcGF0aCwiP3V1aWQ9IikuY29uY2F0KEMuaGJfdXVpZCkpLGMuYWRtJiYoZi52YXN0WG1sPWMuYWRtKSwhZi52YXN0VXJsJiZjLm51cmwmJihmLnZhc3RVcmw9Yy5udXJsKX1lbHNlIGlmKHMuZGVlcEFjY2VzcyhjLCJleHQucHJlYmlkLnR5cGUiKT09PXAuYyl7dmFyIHgsajtmLm1lZGlhVHlwZT1wLmMsaj0ic3RyaW5nIj09dHlwZW9mIGMuYWRtP2YuYWRtPUpTT04ucGFyc2UoYy5hZG0pOmYuYWRtPWMuYWRtO3ZhciBBPShPKHg9e30sTS5pbWcsai5pbXB0cmFja2Vyc3x8W10pLE8oeCxNLmpzLGouanN0cmFja2VyP1tqLmpzdHJhY2tlcl06W10pLHgpO2lmKGouZXZlbnR0cmFja2VycyYmai5ldmVudHRyYWNrZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlLm1ldGhvZCl7Y2FzZSBNLmltZzpBW00uaW1nXS5wdXNoKGUudXJsKTticmVhaztjYXNlIE0uanM6QVtNLmpzXS5wdXNoKGUudXJsKX19KSkscy5pc1BsYWluT2JqZWN0KGopJiZBcnJheS5pc0FycmF5KGouYXNzZXRzKSl7dmFyIEU9SltjLmltcGlkXTtmLm5hdGl2ZT1zLmNsZWFuT2JqKGouYXNzZXRzLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgdD1FW3IuaWRdO3JldHVybiBzLmlzUGxhaW5PYmplY3Qoci5pbWcpP2VbdC5pbWcudHlwZT96W3QuaW1nLnR5cGVdOiJpbWFnZSJdPXMucGljayhyLmltZyxbInVybCIsIncgYXMgd2lkdGgiLCJoIGFzIGhlaWdodCJdKTpzLmlzUGxhaW5PYmplY3Qoci50aXRsZSk/ZS50aXRsZT1yLnRpdGxlLnRleHQ6cy5pc1BsYWluT2JqZWN0KHIuZGF0YSkmJk4uZm9yRWFjaCgoZnVuY3Rpb24obil7VltuXT09PXQuZGF0YS50eXBlJiYoZVtuXT1yLmRhdGEudmFsdWUpfSkpLGV9KSxzLmNsZWFuT2JqKHtjbGlja1VybDpqLmxpbmssY2xpY2tUcmFja2VyczpzLmRlZXBBY2Nlc3MoaiwibGluay5jbGlja3RyYWNrZXJzIiksaW1wcmVzc2lvblRyYWNrZXJzOkFbTS5pbWddLGphdmFzY3JpcHRUcmFja2VyczpBW00uanNdfSkpKX1lbHNlIHMubG9nRXJyb3IoInByZWJpZCBzZXJ2ZXIgbmF0aXZlIHJlc3BvbnNlIGNvbnRhaW5lZCBubyBhc3NldHMiKX1lbHNlIGMuYWRtJiZjLm51cmw/KGYuYWQ9Yy5hZG0sZi5hZCs9cy5jcmVhdGVUcmFja1BpeGVsSHRtbChkZWNvZGVVUklDb21wb25lbnQoYy5udXJsKSkpOmMuYWRtP2YuYWQ9Yy5hZG06Yy5udXJsJiYoZi5hZFVybD1jLm51cmwpO2Yud2lkdGg9Yy53LGYuaGVpZ2h0PWMuaCxjLmRlYWxpZCYmKGYuZGVhbElkPWMuZGVhbGlkKSxmLnJlcXVlc3RJZD1kLmJpZElkfHxkLmJpZF9JZCxmLmNyZWF0aXZlX2lkPWMuY3JpZCxmLmNyZWF0aXZlSWQ9Yy5jcmlkLGMuYnVybCYmKGYuYnVybD1jLmJ1cmwpLGYuY3VycmVuY3k9ZS5jdXI/ZS5jdXI6IlVTRCIsZi5tZXRhPXt9O3ZhciBQPXMuZGVlcEFjY2VzcyhjLCJleHQucHJlYmlkLm1ldGEiKTtQJiZzLmlzUGxhaW5PYmplY3QoUCkmJihmLm1ldGE9cy5kZWVwQ2xvbmUoUCkpLGMuYWRvbWFpbiYmKGYubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1jLmFkb21haW4pO3ZhciBrPXQuZGVmYXVsdFR0bHx8NjA7Zi50dGw9Yy5leHA/Yy5leHA6ayxmLm5ldFJldmVudWU9IWMubmV0UmV2ZW51ZXx8Yy5uZXRSZXZlbnVlLG4ucHVzaCh7YWRVbml0OmQuYWRVbml0Q29kZSxiaWQ6Zn0pfSkpfSkpLG59O2Z1bmN0aW9uIEwoZSl7dmFyIHIsdCxuPWZ1bmN0aW9uKGUscil7aWYoW2Uscl0uZXZlcnkocy5pc1N0cikpcmV0dXJuIFhbIiIuY29uY2F0KGUpLmNvbmNhdChyKV19KGUuYXVjdGlvbklkLGUuYWRJZCk7cy5pc1N0cihuKSYmKHMubG9nTWVzc2FnZSgnSW52b2tpbmcgaW1hZ2UgcGl4ZWwgZm9yIHd1cmwgb24gQklEX1dJTjogIicuY29uY2F0KG4sJyInKSkscy50cmlnZ2VyUGl4ZWwobikscj1lLmF1Y3Rpb25JZCx0PWUuYWRJZCxbcix0XS5ldmVyeShzLmlzU3RyKSYmKFhbIiIuY29uY2F0KHIpLmNvbmNhdCh0KV09dm9pZCAwKSl9ZnVuY3Rpb24gSyhlLHIpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj0hMDtyZXR1cm4gZSYmZS5nZHByQXBwbGllcyYmMj09PWUuYXBpVmVyc2lvbiYmKHI9ISghMCE9PXMuZGVlcEFjY2VzcyhlLCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKSkscn0ocik/ZS5wMUNvbnNlbnQ6ZS5ub1AxQ29uc2VudH1mdW5jdGlvbiBHKGUpe3ZhciByLHQ7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjAmJihyPWVbMF0uZ2RwckNvbnNlbnQsdD1lWzBdLnVzcENvbnNlbnQpLHtnZHByQ29uc2VudDpyLHVzcENvbnNlbnQ6dH19ZnVuY3Rpb24gJCgpe3ZhciBlPW5ldyBuLmEoInByZWJpZFNlcnZlciIpO3JldHVybiBlLmNhbGxCaWRzPWZ1bmN0aW9uKGUscix0LG4saSl7dmFyIG89cy5kZWVwQ2xvbmUoZS5hZF91bml0cykscD1HKHIpLHU9cC5nZHByQ29uc2VudCxiPXAudXNwQ29uc2VudCx2PW8uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5tZWRpYVR5cGVzJiYoZS5tZWRpYVR5cGVzLm5hdGl2ZXx8ZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5tZWRpYVR5cGVzLnZpZGVvJiZlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSl9KSkseT12Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKS5maWx0ZXIocy51bmlxdWVzKX0pKS5yZWR1Y2Uocy5mbGF0dGVuKS5maWx0ZXIocy51bmlxdWVzKTtpZihBcnJheS5pc0FycmF5KFApKXtpZighci5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJDb2RlfSkpJiZlLnMyc0NvbmZpZyYmZS5zMnNDb25maWcuc3luY0VuZHBvaW50JiZLKGUuczJzQ29uZmlnLnN5bmNFbmRwb2ludCx1KSlSKGUuczJzQ29uZmlnLmJpZGRlcnMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYy5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZV18fGV9KSkuZmlsdGVyKChmdW5jdGlvbihlLHIsdCl7cmV0dXJuIHQuaW5kZXhPZihlKT09PXJ9KSksdSxiLGUuczJzQ29uZmlnKTt2YXIgbT1GKGUscix2LGUuczJzQ29uZmlnLHkpLGg9bSYmSlNPTi5zdHJpbmdpZnkobSk7cy5sb2dJbmZvKCJCaWRSZXF1ZXN0OiAiK2gpO3ZhciBDPUsoZS5zMnNDb25maWcuZW5kcG9pbnQsdSk7bSYmaCYmQz9pKEMse3N1Y2Nlc3M6ZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKGUscix0LG4saSxvKXt2YXIgcCx1PVtdLGI9Ryh0KSx2PWIuZ2RwckNvbnNlbnQseT1iLnVzcENvbnNlbnQ7dHJ5e2lmKHA9SlNPTi5wYXJzZShlKSx1PUgocCx0LG8pLHI9ci5jb25jYXQodC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlckNvZGV9KSkpLmZpbHRlcihzLnVuaXF1ZXMpLHQuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyQ29kZX0pKSlpZihvJiZvLnN5bmNFbmRwb2ludCYmSyhvLnN5bmNFbmRwb2ludCx2KSlSKHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYy5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZS5iaWRkZXJDb2RlXXx8ZS5iaWRkZXJDb2RlfSkpLmZpbHRlcigoZnVuY3Rpb24oZSxyLHQpe3JldHVybiB0LmluZGV4T2YoZSk9PT1yfSkpLHYseSxvKTt0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNEeW5hbWljfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24obnVsbCx7YmlkZGVyQ29kZTplLmJpZGRlckNvZGUsYWRkUmVxdWVzdE9ubHk6ITB9KX0pKSx1LmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWUuYWRVbml0LGk9ZS5iaWQ7T2JqZWN0KGwuaXNWYWxpZCkocixpLHQpJiZuKHIsaSl9KSksdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciIhPT1lLmJpZGRlckNvZGV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGYuYS5lbWl0KGEuYS5FVkVOVFMuQklEREVSX0RPTkUsZSl9KSl9Y2F0Y2goZSl7cy5sb2dFcnJvcihlKX0oIXB8fHAuc3RhdHVzJiZnKCkocC5zdGF0dXMsIkVycm9yIikpJiZzLmxvZ0Vycm9yKCJlcnJvciBwYXJzaW5nIHJlc3BvbnNlOiAiLHAuc3RhdHVzKTtpKCksZnVuY3Rpb24oZSxyLHQpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49Yy5kZWZhdWx0LmdldEJpZEFkYXB0ZXIoZSk7biYmbi5yZWdpc3RlclN5bmNzJiZkLmIucnVuV2l0aEJpZGRlcihlLHMuYmluZC5jYWxsKG4ucmVnaXN0ZXJTeW5jcyxuLFtdLHIsdCkpfSkpfShyLHYseSl9KGkseSxyLHQsbixlLnMyc0NvbmZpZyl9LGVycm9yOm59LGgse2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KTpzLmxvZ0Vycm9yKCJQQlMgcmVxdWVzdCBub3QgbWFkZS4gIENoZWNrIGVuZHBvaW50cy4iKX19LGYuYS5vbihhLmEuRVZFTlRTLkJJRF9XT04sTCksRSh0aGlzLHtjYWxsQmlkczplLmNhbGxCaWRzLHNldEJpZGRlckNvZGU6ZS5zZXRCaWRkZXJDb2RlLHR5cGU6SX0pfU9iamVjdChzLmdldFByZWJpZEludGVybmFsKSgpLnNldEVpZFBlcm1pc3Npb25zPWZ1bmN0aW9uKGUpe2s9ZX0sYy5kZWZhdWx0LnJlZ2lzdGVyQmlkQWRhcHRlcihuZXcgJCwicHJlYmlkU2VydmVyIil9LDY0MjpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO3QuZChyLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKTt2YXIgbj17YXBwbmV4dXM6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5hZG54cy5jb20vcGJzL3YxL29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC5hZG54cy1zaW1wbGUuY29tL3Bicy92MS9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLmNvbS9wYnMvdjEvY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC5hZG54cy1zaW1wbGUuY29tL3Bicy92MS9jb29raWVfc3luYyJ9LHRpbWVvdXQ6MWUzfSxhcHBuZXh1c3BzcDp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vaWIuYWRueHMuY29tL29wZW5ydGIyL3ByZWJpZCIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vaWIuYWRueHMtc2ltcGxlLmNvbS9vcGVucnRiMi9wcmViaWQifSx0aW1lb3V0OjFlM30scnViaWNvbjp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vb3BlbnJ0YjIvYXVjdGlvbiIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vb3BlbnJ0YjIvYXVjdGlvbiJ9LHN5bmNFbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL2Nvb2tpZV9zeW5jIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9jb29raWVfc3luYyJ9LHRpbWVvdXQ6NTAwfSxvcGVueDp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQub3BlbngubmV0L29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQub3BlbngubmV0L2Nvb2tpZV9zeW5jIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQub3BlbngubmV0L2Nvb2tpZV9zeW5jIn0sdGltZW91dDoxZTN9LHNuaWdlbDp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vYWRzZXJ2LnNuaWdlbHdlYi5jb20vYnAvdjEvb3BlbnJ0YjIvYXVjdGlvbiIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vYWRzZXJ2LnNuaWdlbHdlYi5jb20vYnAvdjEvb3BlbnJ0YjIvYXVjdGlvbiJ9LHN5bmNFbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL2Nvb2tpZV9zeW5jIixub1AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9jb29raWVfc3luYyJ9LHRpbWVvdXQ6NDAwfX19fSxbNjQwXSk7CnVwYmpzQ2h1bmsoWzE0OV0sezY1MTpmdW5jdGlvbihlLGQsbil7ZS5leHBvcnRzPW4oNjUyKX0sNjUyOmZ1bmN0aW9uKGUsZCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChkLCJwdWJQcm92aWRlZElkU3VibW9kdWxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgbz1uKDEwKSx1PW4oMCksaT17bmFtZToicHViUHJvdmlkZWRJZCIsZGVjb2RlOmZ1bmN0aW9uKGUpe3ZhciBkPWU/e3B1YlByb3ZpZGVkSWQ6ZX06dm9pZCAwO3JldHVybiB1LmxvZ0luZm8oIlB1YlByb3ZpZGVkSWQ6IERlY29kZWQgdmFsdWUgIitKU09OLnN0cmluZ2lmeShkKSksZH0sZ2V0SWQ6ZnVuY3Rpb24oZSl7dmFyIGQ9ZSYmZS5wYXJhbXN8fHt9LG49W107cmV0dXJuIHUuaXNBcnJheShkLmVpZHMpJiYobj1uLmNvbmNhdChkLmVpZHMpKSwiZnVuY3Rpb24iPT10eXBlb2YgZC5laWRzRnVuY3Rpb24mJihuPW4uY29uY2F0KGQuZWlkc0Z1bmN0aW9uKCkpKSx7aWQ6bn19fTtPYmplY3Qoby5lKSgidXNlcklkIixpKX19LFs2NTFdKTsKdXBianNDaHVuayhbMTQ3XSx7NjU3OmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSg2NTgpfSw2NTg6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBGfSkpO3ZhciB0PWEoMCksaT1hKDEpLG49YSgyKSxzPWEoMyksbz1hKDEzKTtmdW5jdGlvbiBkKCl7cmV0dXJuKGQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIGE9YXJndW1lbnRzW3JdO2Zvcih2YXIgdCBpbiBhKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLHQpJiYoZVt0XT1hW3RdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBwKGUscil7dmFyIGE9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHQ9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYodD10LmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSxhLnB1c2guYXBwbHkoYSx0KX1yZXR1cm4gYX1mdW5jdGlvbiBjKGUscixhKXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOmEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPWEsZX1mdW5jdGlvbiB1KGUpe3JldHVybih1PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGw9InB1Ym1hdGljIixtPSJQdWJNYXRpYzogIixnPSJVU0QiLGI9dm9pZCAwLGg9Imh0dHBzOi8vcHVibWF0aWMuYmJ2bXMuY29tL3IvIi5jb25jYXQoIiRSRU5ERVJFUiIsIi5qcyIpLGY9e2thZHBhZ2V1cmw6IiIsZ2VuZGVyOiIiLHlvYjoiIixsYXQ6IiIsbG9uOiIiLHdpaWQ6IiIscHJvZklkOiIiLHZlcklkOiIifSx5PSJudW1iZXIiLHY9InN0cmluZyIsRT0iYm9vbGVhbiIsST0iYXJyYXkiLHc9e21pbWVzOkksbWluZHVyYXRpb246eSxtYXhkdXJhdGlvbjp5LHN0YXJ0ZGVsYXk6eSxwbGF5YmFja21ldGhvZDpJLGFwaTpJLHByb3RvY29sczpJLHc6eSxoOnksYmF0dHI6SSxsaW5lYXJpdHk6eSxwbGFjZW1lbnQ6eSxtaW5iaXRyYXRlOnksbWF4Yml0cmF0ZTp5LHNraXA6eX0sUD17VElUTEU6e0lEOjEsS0VZOiJ0aXRsZSIsVFlQRTowfSxJTUFHRTp7SUQ6MixLRVk6ImltYWdlIixUWVBFOjB9LElDT046e0lEOjMsS0VZOiJpY29uIixUWVBFOjB9LFNQT05TT1JFREJZOntJRDo0LEtFWToic3BvbnNvcmVkQnkiLFRZUEU6MX0sQk9EWTp7SUQ6NSxLRVk6ImJvZHkiLFRZUEU6Mn0sQ0xJQ0tVUkw6e0lEOjYsS0VZOiJjbGlja1VybCIsVFlQRTowfSxWSURFTzp7SUQ6NyxLRVk6InZpZGVvIixUWVBFOjB9LEVYVDp7SUQ6OCxLRVk6ImV4dCIsVFlQRTowfSxEQVRBOntJRDo5LEtFWToiZGF0YSIsVFlQRTowfSxMT0dPOntJRDoxMCxLRVk6ImxvZ28iLFRZUEU6MH0sU1BPTlNPUkVEOntJRDoxMSxLRVk6InNwb25zb3JlZCIsVFlQRToxfSxERVNDOntJRDoxMixLRVk6ImRhdGEiLFRZUEU6Mn0sUkFUSU5HOntJRDoxMyxLRVk6InJhdGluZyIsVFlQRTozfSxMSUtFUzp7SUQ6MTQsS0VZOiJsaWtlcyIsVFlQRTo0fSxET1dOTE9BRFM6e0lEOjE1LEtFWToiZG93bmxvYWRzIixUWVBFOjV9LFBSSUNFOntJRDoxNixLRVk6InByaWNlIixUWVBFOjZ9LFNBTEVQUklDRTp7SUQ6MTcsS0VZOiJzYWxlcHJpY2UiLFRZUEU6N30sUEhPTkU6e0lEOjE4LEtFWToicGhvbmUiLFRZUEU6OH0sQUREUkVTUzp7SUQ6MTksS0VZOiJhZGRyZXNzIixUWVBFOjl9LERFU0MyOntJRDoyMCxLRVk6ImRlc2MyIixUWVBFOjEwfSxESVNQTEFZVVJMOntJRDoyMSxLRVk6ImRpc3BsYXl1cmwiLFRZUEU6MTF9LENUQTp7SUQ6MjIsS0VZOiJjdGEiLFRZUEU6MTJ9fSxPPTEsVD0yLFM9MyxEPVt7aWQ6UC5TUE9OU09SRURCWS5JRCxyZXF1aXJlZDohMCxkYXRhOnt0eXBlOjF9fSx7aWQ6UC5USVRMRS5JRCxyZXF1aXJlZDohMH0se2lkOlAuSU1BR0UuSUQscmVxdWlyZWQ6ITB9XSxZPXsxOiJQTVAiLDU6IlBSRUYiLDY6IlBNUEcifSx4PTEsUj0yLGs9e2Jvb3RzdHJhcFBsYXllcjpmdW5jdGlvbihlKXt2YXIgcj17Y29kZTplLmFkVW5pdENvZGV9O2lmKGUudmFzdFhtbD9yLnZhc3RYbWw9ZS52YXN0WG1sOmUudmFzdFVybCYmKHIudmFzdFVybD1lLnZhc3RVcmwpLGUudmFzdFhtbHx8ZS52YXN0VXJsKXtmb3IodmFyIGEsaT1rLmdldFJlbmRlcmVySWQoInB1Ym1hdGljIixlLnJlbmRlcmVyQ29kZSksbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmFkVW5pdENvZGUpLHM9MDtzPHdpbmRvdy5ibHVlYmlsbHl3aWcucmVuZGVyZXJzLmxlbmd0aDtzKyspaWYod2luZG93LmJsdWViaWxseXdpZy5yZW5kZXJlcnNbc10uX2lkPT09aSl7YT13aW5kb3cuYmx1ZWJpbGx5d2lnLnJlbmRlcmVyc1tzXTticmVha31hP2EuYm9vdHN0cmFwKHIsbik6dC5sb2dXYXJuKCIiLmNvbmNhdChtLCI6IENvdWxkbid0IGZpbmQgYSByZW5kZXJlciB3aXRoICIpLmNvbmNhdChpKSl9ZWxzZSB0LmxvZ1dhcm4oIiIuY29uY2F0KG0sIjogTm8gdmFzdFhtbCBvciB2YXN0VXJsIG9uIGJpZCwgYmFpbGluZy4uLiIpKX0sbmV3UmVuZGVyZXI6ZnVuY3Rpb24oZSxyKXt2YXIgYT1oLnJlcGxhY2UoIiRSRU5ERVJFUiIsZSksaT1vLmEuaW5zdGFsbCh7dXJsOmEsbG9hZGVkOiExLGFkVW5pdENvZGU6cn0pO3RyeXtpLnNldFJlbmRlcihrLm91dHN0cmVhbVJlbmRlcil9Y2F0Y2goZSl7dC5sb2dXYXJuKCIiLmNvbmNhdChtLCI6IEVycm9yIHR5aW5nIHRvIHNldFJlbmRlciBvbiByZW5kZXJlciIpLGUpfXJldHVybiBpfSxvdXRzdHJlYW1SZW5kZXI6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe2suYm9vdHN0cmFwUGxheWVyKGUpfSkpfSxnZXRSZW5kZXJlcklkOmZ1bmN0aW9uKGUscil7cmV0dXJuIiIuY29uY2F0KGUsIi0iKS5jb25jYXQocil9fSxBPVtuLmIsbi5kLG4uY10sQz0wLHo9ITEsSz17fSxOPXt9O2Z1bmN0aW9uIFUoZSxyKXtpZighdC5pc1N0cihyKSlyZXR1cm4gciYmdC5sb2dXYXJuKCJQdWJNYXRpYzogSWdub3JpbmcgcGFyYW0ga2V5OiAiK2UrIiwgZXhwZWN0cyBzdHJpbmctdmFsdWUsIGZvdW5kICIrdShyKSksYjtzd2l0Y2goZSl7Y2FzZSJwbXpvbmVpZCI6cmV0dXJuIHIuc3BsaXQoIiwiKS5zbGljZSgwLDUwKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pKS5qb2luKCk7Y2FzZSJrYWRmbG9vciI6Y2FzZSJsYXQiOmNhc2UibG9uIjpyZXR1cm4gcGFyc2VGbG9hdChyKXx8YjtjYXNlInlvYiI6cmV0dXJuIHBhcnNlSW50KHIpfHxiO2RlZmF1bHQ6cmV0dXJuIHJ9fWZ1bmN0aW9uIHEoZSl7dmFyIHI7ZS5wYXJhbXMuYWRVbml0PSIiLGUucGFyYW1zLmFkVW5pdEluZGV4PSIwIixlLnBhcmFtcy53aWR0aD0wLGUucGFyYW1zLmhlaWdodD0wLGUucGFyYW1zLmFkU2xvdD0ocj1lLnBhcmFtcy5hZFNsb3QsdC5pc1N0cihyKT9yLnJlcGxhY2UoL15ccysvZywiIikucmVwbGFjZSgvXHMrJC9nLCIiKToociYmdC5sb2dXYXJuKCJwdWJtYXRpYzogYWRTbG90IG11c3QgYmUgYSBzdHJpbmcuIElnbm9yaW5nIGFkU2xvdCIpLCIiKSk7dmFyIGE9ZS5wYXJhbXMuYWRTbG90LGk9YS5zcGxpdCgiOiIpO2lmKGE9aVswXSwyPT1pLmxlbmd0aCYmKGUucGFyYW1zLmFkVW5pdEluZGV4PWlbMV0pLGk9YS5zcGxpdCgiQCIpLGUucGFyYW1zLmFkVW5pdD1pWzBdLGkubGVuZ3RoPjEpe2lmKDIhPShpPWlbMV0uc3BsaXQoIngiKSkubGVuZ3RoKXJldHVybiB2b2lkIHQubG9nV2FybigiUHViTWF0aWM6IEFkU2xvdCBFcnJvcjogYWRTbG90IG5vdCBpbiByZXF1aXJlZCBmb3JtYXQiKTtlLnBhcmFtcy53aWR0aD1wYXJzZUludChpWzBdLDEwKSxlLnBhcmFtcy5oZWlnaHQ9cGFyc2VJbnQoaVsxXSwxMCl9ZWxzZSBpZihlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikmJmUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmIpJiZlLm1lZGlhVHlwZXMuYmFubmVyLmhhc093blByb3BlcnR5KCJzaXplcyIpKXtmb3IodmFyIHM9MCxvPVtdO3M8ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGg7cysrKTI9PT1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzW3NdLmxlbmd0aCYmby5wdXNoKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXNbc10pO2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM9byxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aD49MSYmKGUucGFyYW1zLndpZHRoPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXNbMF1bMF0sZS5wYXJhbXMuaGVpZ2h0PWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXNbMF1bMV0sZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLnNwbGljZSgxLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoLTEpKX19ZnVuY3Rpb24gTShlLHIsYSl7dmFyIGksbj0iSWdub3JpbmcgcGFyYW0ga2V5OiAiK2UrIiwgZXhwZWN0cyAiK2ErIiwgZm91bmQgIit1KHIpO3N3aXRjaChhKXtjYXNlIEU6aT10LmlzQm9vbGVhbjticmVhaztjYXNlIHk6aT10LmlzTnVtYmVyO2JyZWFrO2Nhc2UgdjppPXQuaXNTdHI7YnJlYWs7Y2FzZSBJOmk9dC5pc0FycmF5fXJldHVybiBpKHIpP3I6KHQubG9nV2FybihtK24pLGIpfWZ1bmN0aW9uIGooZSxyKXt2YXIgYT1lLktFWTtyZXR1cm57aWQ6ZS5JRCxyZXF1aXJlZDpyW2FdLnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOmUuVFlQRSxsZW46clthXS5sZW4sZXh0OnJbYV0uZXh0fX19ZnVuY3Rpb24gTChlKXt2YXIgcj17YXNzZXRzOltdfTtmb3IodmFyIGEgaW4gZSl7aWYoZS5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIGk9e307aWYoIShyLmFzc2V0cyYmci5hc3NldHMubGVuZ3RoPjAmJnIuYXNzZXRzLmhhc093blByb3BlcnR5KGEpKSlzd2l0Y2goYSl7Y2FzZSBQLlRJVExFLktFWTplW2FdLmxlbnx8ZVthXS5sZW5ndGg/aT17aWQ6UC5USVRMRS5JRCxyZXF1aXJlZDplW2FdLnJlcXVpcmVkPzE6MCx0aXRsZTp7bGVuOmVbYV0ubGVufHxlW2FdLmxlbmd0aCxleHQ6ZVthXS5leHR9fTp0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogVGl0bGUgTGVuZ3RoIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgUC5JTUFHRS5LRVk6ZVthXS5zaXplcyYmZVthXS5zaXplcy5sZW5ndGg+MD9pPXtpZDpQLklNQUdFLklELHJlcXVpcmVkOmVbYV0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpTLHc6ZVthXS53fHxlW2FdLndpZHRofHwoZVthXS5zaXplcz9lW2FdLnNpemVzWzBdOmIpLGg6ZVthXS5ofHxlW2FdLmhlaWdodHx8KGVbYV0uc2l6ZXM/ZVthXS5zaXplc1sxXTpiKSx3bWluOmVbYV0ud21pbnx8ZVthXS5taW5pbXVtV2lkdGh8fChlW2FdLm1pbnNpemVzP2VbYV0ubWluc2l6ZXNbMF06YiksaG1pbjplW2FdLmhtaW58fGVbYV0ubWluaW11bUhlaWdodHx8KGVbYV0ubWluc2l6ZXM/ZVthXS5taW5zaXplc1sxXTpiKSxtaW1lczplW2FdLm1pbWVzLGV4dDplW2FdLmV4dH19OnQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBJbWFnZSBzaXplcyBpcyByZXF1aXJlZCBmb3IgbmF0aXZlIGFkOiAiK0pTT04uc3RyaW5naWZ5KGUpKTticmVhaztjYXNlIFAuSUNPTi5LRVk6ZVthXS5zaXplcyYmZVthXS5zaXplcy5sZW5ndGg+MD9pPXtpZDpQLklDT04uSUQscmVxdWlyZWQ6ZVthXS5yZXF1aXJlZD8xOjAsaW1nOnt0eXBlOk8sdzplW2FdLnd8fGVbYV0ud2lkdGh8fChlW2FdLnNpemVzP2VbYV0uc2l6ZXNbMF06YiksaDplW2FdLmh8fGVbYV0uaGVpZ2h0fHwoZVthXS5zaXplcz9lW2FdLnNpemVzWzFdOmIpfX06dC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IEljb24gc2l6ZXMgaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSBQLlZJREVPLktFWTppPXtpZDpQLlZJREVPLklELHJlcXVpcmVkOmVbYV0ucmVxdWlyZWQ/MTowLHZpZGVvOnttaW5kdXJhdGlvbjplW2FdLm1pbmR1cmF0aW9uLG1heGR1cmF0aW9uOmVbYV0ubWF4ZHVyYXRpb24scHJvdG9jb2xzOmVbYV0ucHJvdG9jb2xzLG1pbWVzOmVbYV0ubWltZXMsZXh0OmVbYV0uZXh0fX07YnJlYWs7Y2FzZSBQLkVYVC5LRVk6aT17aWQ6UC5FWFQuSUQscmVxdWlyZWQ6ZVthXS5yZXF1aXJlZD8xOjB9O2JyZWFrO2Nhc2UgUC5MT0dPLktFWTppPXtpZDpQLkxPR08uSUQscmVxdWlyZWQ6ZVthXS5yZXF1aXJlZD8xOjAsaW1nOnt0eXBlOlQsdzplW2FdLnd8fGVbYV0ud2lkdGh8fChlW2FdLnNpemVzP2VbYV0uc2l6ZXNbMF06YiksaDplW2FdLmh8fGVbYV0uaGVpZ2h0fHwoZVthXS5zaXplcz9lW2FdLnNpemVzWzFdOmIpfX07YnJlYWs7Y2FzZSBQLlNQT05TT1JFREJZLktFWTpjYXNlIFAuQk9EWS5LRVk6Y2FzZSBQLlJBVElORy5LRVk6Y2FzZSBQLkxJS0VTLktFWTpjYXNlIFAuRE9XTkxPQURTLktFWTpjYXNlIFAuUFJJQ0UuS0VZOmNhc2UgUC5TQUxFUFJJQ0UuS0VZOmNhc2UgUC5QSE9ORS5LRVk6Y2FzZSBQLkFERFJFU1MuS0VZOmNhc2UgUC5ERVNDMi5LRVk6Y2FzZSBQLkRJU1BMQVlVUkwuS0VZOmNhc2UgUC5DVEEuS0VZOmk9aihOW2FdLGUpfX1pJiZpLmlkJiYoci5hc3NldHNbci5hc3NldHMubGVuZ3RoXT1pKX12YXIgbj1ELmxlbmd0aCxzPTA7cmV0dXJuIEQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciBhPXIuYXNzZXRzLmxlbmd0aCx0PTA7dDxhO3QrKylpZihlLmlkPT1yLmFzc2V0c1t0XS5pZCl7cysrO2JyZWFrfX0pKSx6PW4hPXMscn1mdW5jdGlvbiBXKGUpe3ZhciByLGE9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyxpPVtdO2lmKGEhPT1iJiZ0LmlzQXJyYXkoYSkpe2lmKHI9e30sZS5wYXJhbXMud2lkdGh8fGUucGFyYW1zLmhlaWdodClyLnc9ZS5wYXJhbXMud2lkdGgsci5oPWUucGFyYW1zLmhlaWdodDtlbHNle2lmKDA9PT1hLmxlbmd0aClyZXR1cm4gcj1iLHQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBtZWRpYVR5cGVzLmJhbm5lci5zaXplIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIi4gSWdub3JpbmcgdGhlIGJhbm5lciBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIikscjtyLnc9cGFyc2VJbnQoYVswXVswXSwxMCksci5oPXBhcnNlSW50KGFbMF1bMV0sMTApLGE9YS5zcGxpY2UoMSxhLmxlbmd0aC0xKX1hLmxlbmd0aD4wJiYoaT1bXSxhLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubGVuZ3RoPjEmJmkucHVzaCh7dzplWzBdLGg6ZVsxXX0pfSkpLGkubGVuZ3RoPjAmJihyLmZvcm1hdD1pKSksci5wb3M9MCxyLnRvcGZyYW1lPXQuaW5JZnJhbWUoKT8wOjF9ZWxzZSB0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZSBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBiYW5uZXIgaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpLHI9YjtyZXR1cm4gcn1mdW5jdGlvbiBfKGUpe3ZhciByLGE9dC5tZXJnZURlZXAodC5kZWVwQWNjZXNzKGUubWVkaWFUeXBlcywidmlkZW8iKSxlLnBhcmFtcy52aWRlbyk7aWYoYSE9PWIpe2Zvcih2YXIgaSBpbiByPXt9LHcpYS5oYXNPd25Qcm9wZXJ0eShpKSYmKHJbaV09TShpLGFbaV0sd1tpXSkpO3QuaXNBcnJheShlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk/KHIudz1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXSwxMCksci5oPXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdLDEwKSk6dC5pc051bWJlcihlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSkmJihyLnc9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0sMTApLHIuaD1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVsxXSwxMCkpfWVsc2Ugcj1iLHQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBWaWRlbyBjb25maWcgcGFyYW1zIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIiB3aXRoIG1lZGlhVHlwZSBzZXQgYXMgdmlkZW8uIElnbm9yaW5nIHZpZGVvIGltcHJlc3Npb24gaW4gdGhlIGFkdW5pdC4iKTtyZXR1cm4gcn1mdW5jdGlvbiBCKGUscil7dmFyIGEsaSxvPXt9LGQ9e30sbD1lLmhhc093blByb3BlcnR5KCJzaXplcyIpP2Uuc2l6ZXM6W10sbT0iIixoPVtdO2lmKGZ1bmN0aW9uKGUscil7ci5wYXJhbXMuZGVhbHMmJih0LmlzQXJyYXkoci5wYXJhbXMuZGVhbHMpP3IucGFyYW1zLmRlYWxzLmZvckVhY2goKGZ1bmN0aW9uKHIpe3QuaXNTdHIocikmJnIubGVuZ3RoPjM/KGUucG1wfHwoZS5wbXA9e3ByaXZhdGVfYXVjdGlvbjowLGRlYWxzOltdfSksZS5wbXAuZGVhbHMucHVzaCh7aWQ6cn0pKTp0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogZGVhbC1pZCBwcmVzZW50IGluIGFycmF5IGJpZC5wYXJhbXMuZGVhbHMgc2hvdWxkIGJlIGEgc3RyaW5ncyB3aXRoIG1vcmUgdGhhbiAzIGNoYXJhdGVycyBsZW5ndGgsIGRlYWwtaWQgaWdub3JlZDogIityKX0pKTp0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogYmlkLnBhcmFtcy5kZWFscyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKSl9KG89e2lkOmUuYmlkSWQsdGFnaWQ6ZS5wYXJhbXMuYWRVbml0fHx2b2lkIDAsYmlkZmxvb3I6VSgia2FkZmxvb3IiLGUucGFyYW1zLmthZGZsb29yKSxzZWN1cmU6MSxleHQ6e3BtWm9uZUlkOlUoInBtem9uZWlkIixlLnBhcmFtcy5wbXpvbmVpZCl9LGJpZGZsb29yY3VyOmUucGFyYW1zLmN1cnJlbmN5P1UoImN1cnJlbmN5IixlLnBhcmFtcy5jdXJyZW5jeSk6Z30sZSksZnVuY3Rpb24oZSxyKXt2YXIgYSxpPSIiO2lmKHIucGFyYW1zLmRjdHIpaWYoaT1yLnBhcmFtcy5kY3RyLHQuaXNTdHIoaSkmJmkubGVuZ3RoPjApe3ZhciBuPWkuc3BsaXQoInwiKTtpPSIiLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7aSs9ZS5sZW5ndGg+MD9lLnRyaW0oKSsifCI6IiJ9KSksYT1pLmxlbmd0aCwifCI9PT1pLnN1YnN0cmluZyhhLGEtMSkmJihpPWkuc3Vic3RyaW5nKDAsYS0xKSksZS5leHQua2V5X3ZhbD1pLnRyaW0oKX1lbHNlIHQubG9nV2FybigiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIDogZGN0ciB3aXRoIHZhbHVlIDogIitpKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCBlbXB0eSBvciBub24tc3RyaW5nIHZhbHVlIil9KG8sZSksZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpKWZvcihtIGluIGUubWVkaWFUeXBlcylzd2l0Y2gobSl7Y2FzZSBuLmI6KGE9VyhlKSkhPT1iJiYoby5iYW5uZXI9YSk7YnJlYWs7Y2FzZSBuLmM6ZC5yZXF1ZXN0PUpTT04uc3RyaW5naWZ5KEwoZS5uYXRpdmVQYXJhbXMpKSx6P3QubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBFcnJvciBpbiBOYXRpdmUgYWR1bml0ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBhZHVuaXQuIFJlZmVyIHRvIGh0dHA6Ly9wcmViaWQub3JnL2Rldi1kb2NzL3Nob3ctbmF0aXZlLWFkcy5odG1sIGZvciBtb3JlIGRldGFpbHMuIik6by5uYXRpdmU9ZDticmVhaztjYXNlIG4uZDooaT1fKGUpKSE9PWImJihvLnZpZGVvPWkpfWVsc2UgYT17cG9zOjAsdzplLnBhcmFtcy53aWR0aCxoOmUucGFyYW1zLmhlaWdodCx0b3BmcmFtZTp0LmluSWZyYW1lKCk/MDoxfSx0LmlzQXJyYXkobCkmJmwubGVuZ3RoPjEmJigobD1sLnNwbGljZSgxLGwubGVuZ3RoLTEpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtoLnB1c2goe3c6ZVswXSxoOmVbMV19KX0pKSxhLmZvcm1hdD1oKSxvLmJhbm5lcj1hO3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciBhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBhPW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP3AoT2JqZWN0KGEpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihyKXtjKGUscixhW3JdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGEpKTpwKE9iamVjdChhKSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEscikpfSkpfXJldHVybiBlfSh7fSx0LmRlZXBBY2Nlc3Mociwib3J0YjJJbXAuZXh0LmRhdGEiKSk7T2JqZWN0LmtleXMoYSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7InBiYWRzbG90Ij09PXI/InN0cmluZyI9PXR5cGVvZiBhW3JdJiZhW3JdJiZ0LmRlZXBTZXRWYWx1ZShlLCJleHQuZGF0YS5wYmFkc2xvdCIsYVtyXSk6ImFkc2VydmVyIj09PXI/WyJuYW1lIiwiYWRzbG90Il0uZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9dC5kZWVwQWNjZXNzKGEsImFkc2VydmVyLiIuY29uY2F0KHIpKTsic3RyaW5nIj09dHlwZW9mIGkmJmkmJih0LmRlZXBTZXRWYWx1ZShlLCJleHQuZGF0YS5hZHNlcnZlci4iLmNvbmNhdChyLnRvTG93ZXJDYXNlKCkpLGkpLCJhZHNsb3QiPT09ciYmdC5kZWVwU2V0VmFsdWUoZSwiZXh0LmRmcF9hZF91bml0X2NvZGUiLGkpKX0pKTp0LmRlZXBTZXRWYWx1ZShlLCJleHQuZGF0YS4iLmNvbmNhdChyKSxhW3JdKX0pKX0obyxlKSxmdW5jdGlvbihlLHIpe3ZhciBhPS0xOyJmdW5jdGlvbiIhPXR5cGVvZiByLmdldEZsb29yfHxzLmIuZ2V0Q29uZmlnKCJwdWJtYXRpYy5kaXNhYmxlRmxvb3JzIil8fFtuLmIsbi5kLG4uY10uZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGk9ci5nZXRGbG9vcih7Y3VycmVuY3k6ZS5iaWRmbG9vcmN1cixtZWRpYVR5cGU6dCxzaXplOiIqIn0pO2lmKCJvYmplY3QiPT09dShpKSYmaS5jdXJyZW5jeT09PWUuYmlkZmxvb3JjdXImJiFpc05hTihwYXJzZUludChpLmZsb29yKSkpe3ZhciBuPXBhcnNlRmxvYXQoaS5mbG9vcik7YT0tMT09YT9uOk1hdGgubWluKG4sYSl9fX0pKTtlLmJpZGZsb29yJiYoYT1NYXRoLm1heChhLGUuYmlkZmxvb3IpKTtlLmJpZGZsb29yPSFpc05hTihhKSYmYT4wP2E6Yn0obyxlKSxvLmhhc093blByb3BlcnR5KG4uYil8fG8uaGFzT3duUHJvcGVydHkobi5jKXx8by5oYXNPd25Qcm9wZXJ0eShuLmQpP286Yn1mdW5jdGlvbiBWKGUscil7dmFyIGE9bnVsbCxpPXQuZGVlcEFjY2VzcyhlLCIwLnVzZXJJZC5mbG9jSWQiKTtpZihpJiZpLmlkKXN3aXRjaChyKXtjYXNlIFI6YT17aWQ6IkZMT0MiLG5hbWU6IkZMT0MiLGV4dDp7dmVyOmkudmVyc2lvbn0sc2VnbWVudDpbe2lkOmkuaWQsbmFtZToiY2hyb21lLmNvbSIsdmFsdWU6aS5pZC50b1N0cmluZygpfV19O2JyZWFrO2Nhc2UgeDpkZWZhdWx0OmE9e3NvdXJjZToiY2hyb21lLmNvbSIsdWlkczpbe2F0eXBlOjEsaWQ6aS5pZCxleHQ6e3ZlcjppLnZlcnNpb259fV19fXJldHVybiBhfWZ1bmN0aW9uIEcoZSl7cmV0dXJuITA9PT10LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjB9dC5fZWFjaChQLChmdW5jdGlvbihlKXtLW2UuSURdPWUuS0VZfSkpLHQuX2VhY2goUCwoZnVuY3Rpb24oZSl7TltlLktFWV09ZX0pKTt2YXIgRj17Y29kZTpsLGd2bGlkOjc2LHN1cHBvcnRlZE1lZGlhVHlwZXM6W24uYixuLmQsbi5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZihlJiZlLnBhcmFtcyl7aWYoIXQuaXNTdHIoZS5wYXJhbXMucHVibGlzaGVySWQpKXJldHVybiB0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogcHVibGlzaGVySWQgaXMgbWFuZGF0b3J5IGFuZCBjYW5ub3QgYmUgbnVtZXJpYyAod3JhcCBpdCBpbiBxdW90ZXMgaW4geW91ciBjb25maWcpLiBDYWxsIHRvIE9wZW5CaWQgd2lsbCBub3QgYmUgc2VudCBmb3IgYWQgdW5pdDogIitKU09OLnN0cmluZ2lmeShlKSksITE7aWYoZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5kKSl7dmFyIHI9dC5kZWVwQWNjZXNzKGUubWVkaWFUeXBlcywidmlkZW8ubWltZXMiKSxhPXQuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8ubWltZXMiKTtpZighMT09PUcocikmJiExPT09RyhhKSlyZXR1cm4gdC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IEZvciB2aWRlbyBhZHMsIGJpZC5tZWRpYVR5cGVzLnZpZGVvLm1pbWVzIE9SIGJpZC5wYXJhbXMudmlkZW8ubWltZXMgc2hvdWxkIGJlIHByZXNlbnQgYW5kIG11c3QgYmUgYSBub24tZW1wdHkgYXJyYXkuIENhbGwgdG8gT3BlbkJpZCB3aWxsIG5vdCBiZSBzZW50IGZvciBhZCB1bml0OiIrSlNPTi5zdHJpbmdpZnkoZSkpLCExO2lmKCFlLm1lZGlhVHlwZXNbbi5kXS5oYXNPd25Qcm9wZXJ0eSgiY29udGV4dCIpKXJldHVybiB0LmxvZ0Vycm9yKCIiLmNvbmNhdChtLCI6IG5vIGNvbnRleHQgc3BlY2lmaWVkIGluIGJpZC4gUmVqZWN0aW5nIGJpZDogIiksZSksITE7aWYoIm91dHN0cmVhbSI9PT1lLm1lZGlhVHlwZXNbbi5kXS5jb250ZXh0JiYhdC5pc1N0cihlLnBhcmFtcy5vdXRzdHJlYW1BVSkmJiFlLmhhc093blByb3BlcnR5KCJyZW5kZXJlciIpJiYhZS5tZWRpYVR5cGVzW24uZF0uaGFzT3duUHJvcGVydHkoInJlbmRlcmVyIikpcmV0dXJuIGUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmIpfHxlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5jKT8oZGVsZXRlIGUubWVkaWFUeXBlc1tuLmRdLHQubG9nV2FybigiIi5jb25jYXQobSwnOiBmb3IgIm91dHN0cmVhbSIgYmlkcyBlaXRoZXIgb3V0c3RyZWFtQVUgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgb3IgYWQgdW5pdCBzdXBwbGllZCByZW5kZXJlciBpcyByZXF1aXJlZC4gUmVqZWN0aW5nIG1lZGlhdHlwZSBWaWRlbyBvZiBiaWQ6ICcpLGUpLCEwKToodC5sb2dFcnJvcigiIi5jb25jYXQobSwnOiBmb3IgIm91dHN0cmVhbSIgYmlkcyBlaXRoZXIgb3V0c3RyZWFtQVUgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgb3IgYWQgdW5pdCBzdXBwbGllZCByZW5kZXJlciBpcyByZXF1aXJlZC4gUmVqZWN0aW5nIGJpZDogJyksZSksITEpfXJldHVybiEwfXJldHVybiExfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIGE7ciYmci5yZWZlcmVySW5mbyYmKGE9ci5yZWZlcmVySW5mbyk7dmFyIGksbz1mdW5jdGlvbihlKXtyZXR1cm57cGFnZVVSTDplJiZlLnJlZmVyZXI/ZS5yZWZlcmVyOndpbmRvdy5sb2NhdGlvbi5ocmVmLHJlZlVSTDp3aW5kb3cuZG9jdW1lbnQucmVmZXJyZXJ9fShhKSxwPWZ1bmN0aW9uKGUpe3JldHVybntpZDoiIisobmV3IERhdGUpLmdldFRpbWUoKSxhdDoxLGN1cjpbZ10saW1wOltdLHNpdGU6e3BhZ2U6ZS5wYWdlVVJMLHJlZjplLnJlZlVSTCxwdWJsaXNoZXI6e319LGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxqczoxLGRudDoieWVzIj09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09bmF2aWdhdG9yLm1zRG9Ob3RUcmFjaz8xOjAsaDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZX0sdXNlcjp7fSxleHQ6e319fShvKSxjPSIiLGw9W10sbT1bXTtpZihlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKChpPXQuZGVlcENsb25lKGUpKS5wYXJhbXMuYWRTbG90PWkucGFyYW1zLmFkU2xvdHx8IiIscShpKSxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSk7ZWxzZSBpZighKGkuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmaS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYyl8fDAhPT1pLnBhcmFtcy53aWR0aHx8MCE9PWkucGFyYW1zLmhlaWdodCkpcmV0dXJuIHZvaWQgdC5sb2dXYXJuKCJQdWJNYXRpYzogU2tpcHBpbmcgdGhlIG5vbi1zdGFuZGFyZCBhZHNsb3Q6ICIsaS5wYXJhbXMuYWRTbG90LEpTT04uc3RyaW5naWZ5KGkpKTtvLnB1YklkPW8ucHViSWR8fGkucGFyYW1zLnB1Ymxpc2hlcklkLChvPWZ1bmN0aW9uKGUscil7dmFyIGEsaSxuO2ZvcihhIGluIHIua2FkcGFnZXVybHx8KHIua2FkcGFnZXVybD1yLnBhZ2VVUkwpLGYpZi5oYXNPd25Qcm9wZXJ0eShhKSYmKGk9ZVthXSkmJigib2JqZWN0Ij09PXUobj1mW2FdKSYmKGk9bi5mKGkscikpLHQuaXNTdHIoaSk/clthXT1pOnQubG9nV2FybigiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIDogIithKyIgd2l0aCB2YWx1ZSA6ICIrZlthXSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIit1KGkpKSk7cmV0dXJuIHJ9KGkucGFyYW1zLG8pKS50cmFuc2FjdGlvbklkPWkudHJhbnNhY3Rpb25JZCwiIj09PWM/Yz1pLnBhcmFtcy5jdXJyZW5jeXx8YjppLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiY3VycmVuY3kiKSYmYyE9PWkucGFyYW1zLmN1cnJlbmN5JiZ0LmxvZ1dhcm4oIlB1Yk1hdGljOiBDdXJyZW5jeSBzcGVjaWZpZXIgaWdub3JlZC4gT25seSBvbmUgY3VycmVuY3kgcGVybWl0dGVkLiIpLGkucGFyYW1zLmN1cnJlbmN5PWMsaS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImRjdHIiKSYmdC5pc1N0cihpLnBhcmFtcy5kY3RyKSYmbC5wdXNoKGkucGFyYW1zLmRjdHIpLGkucGFyYW1zLmhhc093blByb3BlcnR5KCJiY2F0IikmJnQuaXNBcnJheShpLnBhcmFtcy5iY2F0KSYmKG09bS5jb25jYXQoaS5wYXJhbXMuYmNhdCkpO3ZhciByPUIoaSk7ciYmcC5pbXAucHVzaChyKX0pKSwwIT1wLmltcC5sZW5ndGgpe3ZhciBoLHk7cC5zaXRlLnB1Ymxpc2hlci5pZD1vLnB1YklkLnRyaW0oKSxDPW8ucHViSWQudHJpbSgpLHAuZXh0LndyYXBwZXI9e30scC5leHQud3JhcHBlci5wcm9maWxlPXBhcnNlSW50KG8ucHJvZklkKXx8YixwLmV4dC53cmFwcGVyLnZlcnNpb249cGFyc2VJbnQoby52ZXJJZCl8fGIscC5leHQud3JhcHBlci53aWlkPW8ud2lpZHx8ci5hdWN0aW9uSWQscC5leHQud3JhcHBlci53dj0icHJlYmlkX3ByZWJpZF81LjExLjAiLHAuZXh0LndyYXBwZXIudHJhbnNhY3Rpb25JZD1vLnRyYW5zYWN0aW9uSWQscC5leHQud3JhcHBlci53cD0icGJqcyIscC51c2VyLmdlbmRlcj1vLmdlbmRlcj9vLmdlbmRlci50cmltKCk6YixwLnVzZXIuZ2VvPXt9LHAudXNlci5nZW8ubGF0PVUoImxhdCIsby5sYXQpLHAudXNlci5nZW8ubG9uPVUoImxvbiIsby5sb24pLHAudXNlci55b2I9VSgieW9iIixvLnlvYikscC5kZXZpY2UuZ2VvPXAudXNlci5nZW8scC5zaXRlLnBhZ2U9by5rYWRwYWdldXJsLnRyaW0oKXx8cC5zaXRlLnBhZ2UudHJpbSgpLHAuc2l0ZS5kb21haW49KGg9cC5zaXRlLnBhZ2UsKHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPWgseS5ob3N0bmFtZSksIm9iamVjdCI9PT11KHMuYi5nZXRDb25maWcoImNvbnRlbnQiKSkmJihwLnNpdGUuY29udGVudD1zLmIuZ2V0Q29uZmlnKCJjb250ZW50IikpLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihwLmRldmljZT1kKHAuZGV2aWNlLHMuYi5nZXRDb25maWcoImRldmljZSIpKSksdC5kZWVwU2V0VmFsdWUocCwic291cmNlLnRpZCIsby50cmFuc2FjdGlvbklkKSwtMSE9PXdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoInB1Ym1hdGljVGVzdD10cnVlIikmJihwLnRlc3Q9MSksZVswXS5zY2hhaW4mJnQuZGVlcFNldFZhbHVlKHAsInNvdXJjZS5leHQuc2NoYWluIixlWzBdLnNjaGFpbiksciYmci5nZHByQ29uc2VudCYmKHQuZGVlcFNldFZhbHVlKHAsInVzZXIuZXh0LmNvbnNlbnQiLHIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksdC5kZWVwU2V0VmFsdWUocCwicmVncy5leHQuZ2RwciIsci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApKSxyJiZyLnVzcENvbnNlbnQmJnQuZGVlcFNldFZhbHVlKHAsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksITA9PT1zLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZ0LmRlZXBTZXRWYWx1ZShwLCJyZWdzLmNvcHBhIiwxKSxmdW5jdGlvbihlLHIpe3ZhciBhPXQuZGVlcEFjY2VzcyhyLCIwLnVzZXJJZEFzRWlkcyIpLGk9VihyLHgpO2kmJihhfHwoYT1bXSksYS5wdXNoKGkpKSx0LmlzQXJyYXkoYSkmJmEubGVuZ3RoPjAmJnQuZGVlcFNldFZhbHVlKGUsInVzZXIuZWlkcyIsYSl9KHAsZSksZnVuY3Rpb24oZSxyKXsocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfHwodC5sb2dXYXJuKCJQdWJNYXRpYzogYmNhdDogRWFjaCBjYXRlZ29yeSBzaG91bGQgYmUgYSBzdHJpbmcsIGlnbm9yaW5nIGNhdGVnb3J5OiAiK2UpLCExKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUscixhKXtpZihlLmxlbmd0aD4zKXJldHVybiBhLmluZGV4T2YoZSk9PT1yO3QubG9nV2FybigiUHViTWF0aWM6IGJjYXQ6IEVhY2ggY2F0ZWdvcnkgc2hvdWxkIGhhdmUgYSB2YWx1ZSBvZiBhIGxlbmd0aCBvZiBtb3JlIHRoYW4gMyBjaGFyYWN0ZXJzLCBpZ25vcmluZyBjYXRlZ29yeTogIitlKX0pKSkubGVuZ3RoPjAmJih0LmxvZ1dhcm4oIlB1Yk1hdGljOiBiY2F0OiBTZWxlY3RlZDogIixyKSxlLmJjYXQ9cil9KHAsbSksZnVuY3Rpb24oZSxyKXt2YXIgYT1WKHIsUik7YSYmKGUudXNlcnx8KGUudXNlcj17fSksZS51c2VyLmRhdGF8fChlLnVzZXIuZGF0YT1bXSksZS51c2VyLmRhdGEucHVzaChhKSl9KHAsZSk7dmFyIHY9cy5iLmdldENvbmZpZygib3J0YjIiKXx8e307cmV0dXJuIHYuc2l0ZSYmdC5tZXJnZURlZXAocCx7c2l0ZTp2LnNpdGV9KSx2LnVzZXImJnQubWVyZ2VEZWVwKHAse3VzZXI6di51c2VyfSksIm9iamVjdCI9PT11KHMuYi5nZXRDb25maWcoImFwcCIpKSYmKHAuYXBwPXMuYi5nZXRDb25maWcoImFwcCIpLHAuYXBwLnB1Ymxpc2hlcj1wLnNpdGUucHVibGlzaGVyLHAuYXBwLmV4dD1wLnNpdGUuZXh0fHxiLCJvYmplY3QiIT09dShwLmFwcC5jb250ZW50KSYmKHAuYXBwLmNvbnRlbnQ9cC5zaXRlLmNvbnRlbnR8fGIpLGRlbGV0ZSBwLnNpdGUpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9oYm9wZW5iaWQucHVibWF0aWMuY29tL3RyYW5zbGF0b3I/c291cmNlPXByZWJpZC1jbGllbnQiLGRhdGE6SlNPTi5zdHJpbmdpZnkocCksYmlkZGVyUmVxdWVzdDpyfX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIGE9W10saT1nLHM9SlNPTi5wYXJzZShyLmRhdGEpLG89cy5zaXRlJiZzLnNpdGUucmVmP3Muc2l0ZS5yZWY6IiI7dHJ5e2UuYm9keSYmZS5ib2R5LnNlYXRiaWQmJnQuaXNBcnJheShlLmJvZHkuc2VhdGJpZCkmJihpPWUuYm9keS5jdXJ8fGksZS5ib2R5LnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWQmJnQuaXNBcnJheShlLmJpZCkmJmUuYmlkLmZvckVhY2goKGZ1bmN0aW9uKGQpe3ZhciBwPXtyZXF1ZXN0SWQ6ZC5pbXBpZCxjcG06KHBhcnNlRmxvYXQoZC5wcmljZSl8fDApLnRvRml4ZWQoMiksd2lkdGg6ZC53LGhlaWdodDpkLmgsY3JlYXRpdmVJZDpkLmNyaWR8fGQuaWQsZGVhbElkOmQuZGVhbGlkLGN1cnJlbmN5OmksbmV0UmV2ZW51ZTp0cnVlLHR0bDozMDAscmVmZXJyZXI6byxhZDpkLmFkbSxwbV9zZWF0OmUuc2VhdHx8bnVsbCxwbV9kc3BpZDpkLmV4dCYmZC5leHQuZHNwaWQ/ZC5leHQuZHNwaWQ6bnVsbCxwYXJ0bmVySW1wSWQ6ZC5pZHx8IiJ9O3MuaW1wJiZzLmltcC5sZW5ndGg+MCYmcy5pbXAuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZC5pbXBpZD09PWUuaWQpc3dpdGNoKGZ1bmN0aW9uKGUscil7aWYoZS5leHQmJm51bGwhPWUuZXh0LkJpZFR5cGUpci5tZWRpYVR5cGU9QVtlLmV4dC5CaWRUeXBlXTtlbHNle3QubG9nSW5mbygiUHViTWF0aWM6IGJpZC5leHQuQmlkVHlwZSBkb2VzIG5vdCBleGlzdCwgY2hlY2tpbmcgYWx0ZXJuYXRpdmVseSBmb3IgbWVkaWFUeXBlIik7dmFyIGE9ZS5hZG0saT0iIixzPW5ldyBSZWdFeHAoL1ZBU1Rccyt2ZXJzaW9uLyk7aWYoYS5pbmRleE9mKCdzcGFuIGNsYXNzPSJQdWJBUElBZCInKT49MClyLm1lZGlhVHlwZT1uLmI7ZWxzZSBpZihzLnRlc3QoYSkpci5tZWRpYVR5cGU9bi5kO2Vsc2UgdHJ5eyhpPUpTT04ucGFyc2UoYS5yZXBsYWNlKC9cXC9nLCIiKSkpJiZpLm5hdGl2ZSYmKHIubWVkaWFUeXBlPW4uYyl9Y2F0Y2goZSl7dC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IENhbm5vdCBwYXJzZSBuYXRpdmUgcmVwb25zZSBmb3IgYWQgcmVzcG9uc2U6ICIrYSl9fX0oZCxwKSxwLm1lZGlhVHlwZSl7Y2FzZSBuLmI6YnJlYWs7Y2FzZSBuLmQ6cC53aWR0aD1kLmhhc093blByb3BlcnR5KCJ3Iik/ZC53OmUudmlkZW8udyxwLmhlaWdodD1kLmhhc093blByb3BlcnR5KCJoIik/ZC5oOmUudmlkZW8uaCxwLnZhc3RYbWw9ZC5hZG0sZnVuY3Rpb24oZSxyKXt2YXIgYSx0LGk7aWYoci5iaWRkZXJSZXF1ZXN0JiZyLmJpZGRlclJlcXVlc3QuYmlkcyl7Zm9yKHZhciBzPTA7czxyLmJpZGRlclJlcXVlc3QuYmlkcy5sZW5ndGg7cysrKXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLmJpZElkPT09ZS5yZXF1ZXN0SWQmJihhPXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLnBhcmFtcyx0PXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLm1lZGlhVHlwZXNbbi5kXS5jb250ZXh0LGk9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10uYWRVbml0Q29kZSk7dCYmIm91dHN0cmVhbSI9PT10JiZhJiZhLm91dHN0cmVhbUFVJiZpJiYoZS5yZW5kZXJlckNvZGU9YS5vdXRzdHJlYW1BVSxlLnJlbmRlcmVyPWsubmV3UmVuZGVyZXIoZS5yZW5kZXJlckNvZGUsaSkpfX0ocCxyKTticmVhaztjYXNlIG4uYzohZnVuY3Rpb24oZSxyKXtpZihyLm5hdGl2ZT17fSxlLmhhc093blByb3BlcnR5KCJhZG0iKSl7dmFyIGE9IiI7dHJ5e2E9SlNPTi5wYXJzZShlLmFkbS5yZXBsYWNlKC9cXC9nLCIiKSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IENhbm5vdCBwYXJzZSBuYXRpdmUgcmVwb25zZSBmb3IgYWQgcmVzcG9uc2U6ICIrci5hZG0pfWlmKGEmJmEubmF0aXZlJiZhLm5hdGl2ZS5hc3NldHMmJmEubmF0aXZlLmFzc2V0cy5sZW5ndGg+MCl7ci5tZWRpYVR5cGU9bi5jO2Zvcih2YXIgaT0wLHM9YS5uYXRpdmUuYXNzZXRzLmxlbmd0aDtpPHM7aSsrKXN3aXRjaChhLm5hdGl2ZS5hc3NldHNbaV0uaWQpe2Nhc2UgUC5USVRMRS5JRDpyLm5hdGl2ZS50aXRsZT1hLm5hdGl2ZS5hc3NldHNbaV0udGl0bGUmJmEubmF0aXZlLmFzc2V0c1tpXS50aXRsZS50ZXh0O2JyZWFrO2Nhc2UgUC5JTUFHRS5JRDpyLm5hdGl2ZS5pbWFnZT17dXJsOmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcudXJsLGhlaWdodDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLmgsd2lkdGg6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy53fTticmVhaztjYXNlIFAuSUNPTi5JRDpyLm5hdGl2ZS5pY29uPXt1cmw6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy51cmwsaGVpZ2h0OmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcuaCx3aWR0aDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLnd9O2JyZWFrO2Nhc2UgUC5TUE9OU09SRURCWS5JRDpjYXNlIFAuQk9EWS5JRDpjYXNlIFAuTElLRVMuSUQ6Y2FzZSBQLkRPV05MT0FEUy5JRDpjYXNlIFAuUFJJQ0U6Y2FzZSBQLlNBTEVQUklDRS5JRDpjYXNlIFAuUEhPTkUuSUQ6Y2FzZSBQLkFERFJFU1MuSUQ6Y2FzZSBQLkRFU0MyLklEOmNhc2UgUC5DVEEuSUQ6Y2FzZSBQLlJBVElORy5JRDpjYXNlIFAuRElTUExBWVVSTC5JRDpyLm5hdGl2ZVtLW2EubmF0aXZlLmFzc2V0c1tpXS5pZF1dPWEubmF0aXZlLmFzc2V0c1tpXS5kYXRhJiZhLm5hdGl2ZS5hc3NldHNbaV0uZGF0YS52YWx1ZX1yLm5hdGl2ZS5jbGlja1VybD1hLm5hdGl2ZS5saW5rJiZhLm5hdGl2ZS5saW5rLnVybCxyLm5hdGl2ZS5jbGlja1RyYWNrZXJzPWEubmF0aXZlLmxpbmsmJmEubmF0aXZlLmxpbmsuY2xpY2t0cmFja2Vyc3x8W10sci5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzPWEubmF0aXZlLmltcHRyYWNrZXJzfHxbXSxyLm5hdGl2ZS5qc3RyYWNrZXI9YS5uYXRpdmUuanN0cmFja2VyfHxbXSxyLndpZHRofHwoci53aWR0aD0wKSxyLmhlaWdodHx8KHIuaGVpZ2h0PTApfX19KGQscCl9fSkpLGQuZXh0JiZkLmV4dC5kZWFsX2NoYW5uZWwmJihwLmRlYWxDaGFubmVsPVlbZC5leHQuZGVhbF9jaGFubmVsXXx8bnVsbCkscC5tZXRhPXt9LGQuZXh0JiZkLmV4dC5kc3BpZCYmKHAubWV0YS5uZXR3b3JrSWQ9ZC5leHQuZHNwaWQpLGQuZXh0JiZkLmV4dC5hZHZpZCYmKHAubWV0YS5idXllcklkPWQuZXh0LmFkdmlkKSxkLmFkb21haW4mJmQuYWRvbWFpbi5sZW5ndGg+MCYmKHAubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1kLmFkb21haW4scC5tZXRhLmNsaWNrVXJsPWQuYWRvbWFpblswXSksZS5leHQmJmUuZXh0LmJ1eWlkJiYocC5hZHNlcnZlclRhcmdldGluZz17aGJfYnV5aWRfcHVibWF0aWM6ZS5leHQuYnV5aWR9KSxhLnB1c2gocCl9KSl9KSkpfWNhdGNoKGUpe3QubG9nRXJyb3IoZSl9cmV0dXJuIGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsYSx0KXt2YXIgaT0iIitDO3JldHVybiBhJiYoaSs9IiZnZHByPSIrKGEuZ2RwckFwcGxpZXM/MTowKSxpKz0iJmdkcHJfY29uc2VudD0iK2VuY29kZVVSSUNvbXBvbmVudChhLmNvbnNlbnRTdHJpbmd8fCIiKSksdCYmKGkrPSImdXNfcHJpdmFjeT0iK2VuY29kZVVSSUNvbXBvbmVudCh0KSksITA9PT1zLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYoaSs9IiZjb3BwYT0xIiksZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYWRzLnB1Ym1hdGljLmNvbS9BZFNlcnZlci9qcy91c2VyX3N5bmMuaHRtbD9rZG50dWlkPTEmcD0iK2l9XTpbe3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8vaW1hZ2U4LnB1Ym1hdGljLmNvbS9BZFNlcnZlci9JbWdTeW5jP3A9IitpfV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiB0LmNvbnZlcnRUeXBlcyh7cHVibGlzaGVySWQ6InN0cmluZyIsYWRTbG90OiJzdHJpbmcifSxlKX19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShGKX19LFs2NTddKTsKdXBianNDaHVuayhbMjldLHs2OmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7bi5hPWZ1bmN0aW9uKGUpe3ZhciBuLHQ9ZS51cmwscj1lLmFuYWx5dGljc1R5cGUsdT1lLmdsb2JhbCxsPWUuaGFuZGxlcixPPVtdLG09MCxVPSEwOyhmdW5jdGlvbigpe2lmKFUpe2Zvcih2YXIgZT0wO2U8Ty5sZW5ndGg7ZSsrKU9bZV0oKTtPLnB1c2g9ZnVuY3Rpb24oZSl7ZSgpfSxVPSExfXMubG9nTWVzc2FnZSgiZXZlbnQgY291bnQgc2VudCB0byAiLmNvbmNhdCh1LCI6ICIpLmNvbmNhdChtKSl9KSgpO3JldHVybnt0cmFjazpmdW5jdGlvbihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJnczt0aGlzLmdldEFkYXB0ZXJUeXBlKCk9PT1TJiZ3aW5kb3dbdV0obCxuLHQpO3RoaXMuZ2V0QWRhcHRlclR5cGUoKT09PU4mJkIuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LGVucXVldWU6UixlbmFibGVBbmFseXRpY3M6aixkaXNhYmxlQW5hbHl0aWNzOmZ1bmN0aW9uKCl7cy5fZWFjaChuLChmdW5jdGlvbihlLG4pe2Mub2ZmKG4sZSl9KSksdGhpcy5lbmFibGVBbmFseXRpY3M9dGhpcy5fb2xkRW5hYmxlP3RoaXMuX29sZEVuYWJsZTpqfSxnZXRBZGFwdGVyVHlwZTpmdW5jdGlvbigpe3JldHVybiByfSxnZXRHbG9iYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdX0sZ2V0SGFuZGxlcjpmdW5jdGlvbigpe3JldHVybiBsfSxnZXRVcmw6ZnVuY3Rpb24oKXtyZXR1cm4gdH19O2Z1bmN0aW9uIEIoZSl7dmFyIG49ZS5ldmVudFR5cGUscj1lLmFyZ3MsdT1lLmNhbGxiYWNrO09iamVjdChhLmEpKHQsdSxKU09OLnN0cmluZ2lmeSh7ZXZlbnRUeXBlOm4sYXJnczpyfSkpfWZ1bmN0aW9uIFIoZSl7dmFyIG49ZS5ldmVudFR5cGUsdD1lLmFyZ3Mscj10aGlzO3UmJndpbmRvd1t1XSYmbiYmdD90aGlzLnRyYWNrKHtldmVudFR5cGU6bixhcmdzOnR9KTpPLnB1c2goKGZ1bmN0aW9uKCl7bSsrLHIudHJhY2soe2V2ZW50VHlwZTpuLGFyZ3M6dH0pfSkpfWZ1bmN0aW9uIGooZSl7dmFyIHQscj10aGlzLGE9dGhpczsib2JqZWN0IiE9PWkoZSl8fCJvYmplY3QiIT09aShlLm9wdGlvbnMpfHwodm9pZCAwPT09ZS5vcHRpb25zLnNhbXBsaW5nfHxNYXRoLnJhbmRvbSgpPHBhcnNlRmxvYXQoZS5vcHRpb25zLnNhbXBsaW5nKSk/KGMuZ2V0RXZlbnRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIG49ZS5ldmVudFR5cGUsdD1lLmFyZ3M7biE9PVQmJlIuY2FsbChhLHtldmVudFR5cGU6bixhcmdzOnR9KX19KSksbyh0PXt9LHksKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTp5LGFyZ3M6ZX0pfSkpLG8odCxnLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6ZyxhcmdzOmV9KX0pKSxvKHQsdiwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnYsYXJnczplfSl9KSksbyh0LGIsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpiLGFyZ3M6ZX0pfSkpLG8odCxULChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6VCxhcmdzOmV9KX0pKSxvKHQsZCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOmQsYXJnczplfSl9KSksbyh0LEUsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpFLGFyZ3M6ZX0pfSkpLG8odCxfLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6XyxhcmdzOmV9KX0pKSxvKHQsQSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkEsYXJnczplfSl9KSksbyh0LHAsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpwLGFyZ3M6ZX0pfSkpLG8odCxELChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6RCxhcmdzOmV9KX0pKSxvKHQsaCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOmgsYXJnczplfSl9KSksbyh0LEksKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpJLGFyZ3M6ZX0pfSkpLG8odCxxLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6cSxhcmdzOmV9KX0pKSxvKHQsZiwoZnVuY3Rpb24obil7bi5jb25maWc9Im9iamVjdCI9PT1pKGUpJiZlLm9wdGlvbnN8fHt9LHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOmYsYXJnczpufSl9KSksbj10LHMuX2VhY2gobiwoZnVuY3Rpb24oZSxuKXtjLm9uKG4sZSl9KSkpOnMubG9nTWVzc2FnZSgnQW5hbHl0aWNzIGFkYXB0ZXIgZm9yICInLmNvbmNhdCh1LCciIGRpc2FibGVkIGJ5IHNhbXBsaW5nJykpO3RoaXMuX29sZEVuYWJsZT10aGlzLmVuYWJsZUFuYWx5dGljcyx0aGlzLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbigpe3JldHVybiBzLmxvZ01lc3NhZ2UoJ0FuYWx5dGljcyBhZGFwdGVyIGZvciAiJy5jb25jYXQodSwnIiBhbHJlYWR5IGVuYWJsZWQsIHVubmVjZXNzYXJ5IGNhbGwgdG8gYGVuYWJsZUFuYWx5dGljc2AuJykpfX19O3ZhciByPXQoNSksdT10Lm4ociksYT10KDQpO2Z1bmN0aW9uIG8oZSxuLHQpe3JldHVybiBuIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbbl09dCxlfWZ1bmN0aW9uIGkoZSl7cmV0dXJuKGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgYz10KDkpLHM9dCgwKSxsPXUuYS5FVkVOVFMsZj1sLkFVQ1RJT05fSU5JVCxwPWwuQVVDVElPTl9FTkQseT1sLlJFUVVFU1RfQklEUyxnPWwuQklEX1JFUVVFU1RFRCxUPWwuQklEX1RJTUVPVVQsdj1sLkJJRF9SRVNQT05TRSxiPWwuTk9fQklELGQ9bC5CSURfV09OLEU9bC5CSURfQURKVVNUTUVOVCxfPWwuQklEREVSX0RPTkUsQT1sLlNFVF9UQVJHRVRJTkcsRD1sLkFEX1JFTkRFUl9GQUlMRUQsaD1sLkFEX1JFTkRFUl9TVUNDRUVERUQsST1sLkFVQ1RJT05fREVCVUcscT1sLkFERF9BRF9VTklUUyxOPSJlbmRwb2ludCIsUz0iYnVuZGxlIn0sNjYxOmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg2NjIpfSw2NjI6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9dCg2KSx1PXQoOCksYT1PYmplY3Qoci5hKSh7Z2xvYmFsOiJQdWJzdGFja0FuYWx5dGljcyIsaGFuZGxlcjoib24iLGFuYWx5dGljc1R5cGU6ImJ1bmRsZSJ9KTt1LmRlZmF1bHQucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyKHthZGFwdGVyOmEsY29kZToicHVic3RhY2sifSksbi5kZWZhdWx0PWF9fSxbNjYxXSk7CnVwYmpzQ2h1bmsoWzE0NF0sezY3MzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNjc0KX0sNjc0OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgbj10KDApLGk9dCgxKSxhPXQoMTMpO2Z1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBzPTEwMCx1PTIwMCxvPTUwLGM9MTUwLHA9NTAsbD0iVVNEIixmPVsiY3AiLCJjdCIsImNmIiwidmlkZW8iLCJiYXR0ciIsImJjYXQiLCJiYWR2IiwiYmlkZmxvb3IiXSxtPXtjb2RlOiJwdWxzZXBvaW50IixndmxpZDo4MSxhbGlhc2VzOlsicHVsc2VMaXRlIiwicHVsc2Vwb2ludExpdGUiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmZS5wYXJhbXMuY3AmJmUucGFyYW1zLmN0KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9iaWQuY29udGV4dHdlYi5jb20vaGVhZGVyL29ydGI/c3JjPXByZWJpZCIsZGF0YTp7aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUuYmlkSWQsYmFubmVyOnYoZSksbmF0aXZlOmgoZSksdGFnaWQ6ZS5wYXJhbXMuY3QudG9TdHJpbmcoKSx2aWRlbzpiKGUpLGJpZGZsb29yOmsoZSksZXh0OmcoZSl9fShlKX0pKSxzaXRlOk8oZSxyKSxhcHA6VChlKSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2V9LGJjYXQ6ZVswXS5wYXJhbXMuYmNhdCxiYWR2OmVbMF0ucGFyYW1zLmJhZHYsdXNlcjp4KGVbMF0scikscmVnczpDKHIpLHNvdXJjZTpQKGVbMF0uc2NoYWluKX0sYmlkZGVyUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgdD17fSxpPXt9LGQ9e30scz1yLmJvZHk7ZS5kYXRhLmltcC5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2UuaWRdPWV9KSkscyYmcy5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtpW2UuaW1waWRdPWV9KSl9KSk7ZS5iaWRkZXJSZXF1ZXN0JiZlLmJpZGRlclJlcXVlc3QuYmlkcyYmZS5iaWRkZXJSZXF1ZXN0LmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZFtlLmJpZElkXT1lfSkpO3ZhciB1PVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihpW2VdKXt2YXIgcj17cmVxdWVzdElkOmUsY3BtOmlbZV0ucHJpY2UsY3JlYXRpdmVfaWQ6aVtlXS5jcmlkLGNyZWF0aXZlSWQ6aVtlXS5jcmlkLGFkSWQ6ZSx0dGw6aVtlXS5leHB8fDIwLG5ldFJldmVudWU6dHJ1ZSxjdXJyZW5jeTpzLmN1cnx8bCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczppW2VdLmFkb21haW58fFtdfX07dFtlXS52aWRlbz8oZFtlXSYmIm91dHN0cmVhbSI9PT1uLmRlZXBBY2Nlc3MoZFtlXSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJihyLnJlbmRlcmVyPShvPW4uZGVlcEFjY2VzcyhkW2VdLCJyZW5kZXJlci5vcHRpb25zIiksYz1uLmRlZXBBY2Nlc3MoaVtlXSwiZXh0Lm91dHN0cmVhbSIpLChwPWEuYS5pbnN0YWxsKHt1cmw6Yy5yZW5kZXJlclVybCxjb25maWc6e2RlZmF1bHRPcHRpb25zOmMuY29uZmlnLHJlbmRlcmVyT3B0aW9uczpvLHR5cGU6Yy50eXBlfSxsb2FkZWQ6ITF9KSkuc2V0UmVuZGVyKChmdW5jdGlvbihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHI9ZS5yZW5kZXJlci5nZXRDb25maWcoKTsobmV3IHdpbmRvdy5QdWxzZVBvaW50T3V0c3RyZWFtUmVuZGVyZXIpLnJlbmRlcih7YWRVbml0Q29kZTplLmFkVW5pdENvZGUsdmFzdFhtbDplLnZhc3RYbWwsdHlwZTpyLnR5cGUsZGVmYXVsdE9wdGlvbnM6ci5kZWZhdWx0T3B0aW9ucyxyZW5kZXJlck9wdGlvbnM6b30pfSkpfSkpLHApKSxyLnZhc3RYbWw9aVtlXS5hZG0sci5tZWRpYVR5cGU9InZpZGVvIixyLndpZHRoPWlbZV0udyxyLmhlaWdodD1pW2VdLmgpOnRbZV0uYmFubmVyPyhyLmFkPWlbZV0uYWRtLHIud2lkdGg9aVtlXS53fHx0W2VdLmJhbm5lci53LHIuaGVpZ2h0PWlbZV0uaHx8dFtlXS5iYW5uZXIuaCk6dFtlXS5uYXRpdmUmJihyLm5hdGl2ZT1mdW5jdGlvbihlLHIpe2lmKGUubmF0aXZlKXt2YXIgdD1mdW5jdGlvbihlKXt0cnl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXtuLmxvZ0Vycm9yKCJwdWxzZXBvaW50TGl0ZS5zYWZlUGFyc2UiLCJFUlJPUiIsZSl9cmV0dXJuIG51bGx9KHIuYWRtKSxpPXt9O2lmKHQmJnQubmF0aXZlJiZ0Lm5hdGl2ZS5hc3NldHMpcmV0dXJuIHQubmF0aXZlLmFzc2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtpLnRpdGxlPWUudGl0bGU/ZS50aXRsZS50ZXh0OmkudGl0bGUsaS5ib2R5PWUuZGF0YSYmMj09PWUuZGF0YS50eXBlP2UuZGF0YS52YWx1ZTppLmJvZHksaS5zcG9uc29yZWRCeT1lLmRhdGEmJjE9PT1lLmRhdGEudHlwZT9lLmRhdGEudmFsdWU6aS5zcG9uc29yZWRCeSxpLmltYWdlPWUuaW1nJiYzPT09ZS5pbWcudHlwZT9lLmltZy51cmw6aS5pbWFnZSxpLmljb249ZS5pbWcmJjE9PT1lLmltZy50eXBlP2UuaW1nLnVybDppLmljb259KSksdC5uYXRpdmUubGluayYmKGkuY2xpY2tVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KHQubmF0aXZlLmxpbmsudXJsKSksaS5pbXByZXNzaW9uVHJhY2tlcnM9dC5uYXRpdmUuaW1wdHJhY2tlcnMsaX1yZXR1cm4gbnVsbH0odFtlXSxpW2VdKSxyLm1lZGlhVHlwZT0ibmF0aXZlIiksdS5wdXNoKHIpfXZhciBvLGMscH0pKSx1fShyLGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2JoLmNvbnRleHR3ZWIuY29tL3Zpc2l0b3JtYXRjaCJ9XTplLnBpeGVsRW5hYmxlZD9be3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8vYmguY29udGV4dHdlYi5jb20vdmlzaXRvcm1hdGNoL3ByZWJpZCJ9XTp2b2lkIDB9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBuLmNvbnZlcnRUeXBlcyh7Y2Y6InN0cmluZyIsY3A6Im51bWJlciIsY3Q6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gdihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcj1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKTtpZihyJiZuLmlzQXJyYXkocikpcmV0dXJuIHIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbi5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGh9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSk7cmV0dXJuIG51bGx9KGUpLHQ9ZnVuY3Rpb24oZSxyKXtpZihlLnBhcmFtcy5jZil7dmFyIHQ9ZS5wYXJhbXMuY2YudG9VcHBlckNhc2UoKS5zcGxpdCgiWCIpO3JldHVybltwYXJzZUludChlLnBhcmFtcy5jd3x8dFswXSwxMCkscGFyc2VJbnQoZS5wYXJhbXMuY2h8fHRbMV0sMTApXX1pZihyJiZyLmxlbmd0aD4wKXJldHVybltyWzBdLncsclswXS5oXTtyZXR1cm5bMSwxXX0oZSxyKTtyZXR1cm4gZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyP3t3OnRbMF0saDp0WzFdLGJhdHRyOmUucGFyYW1zLmJhdHRyLGZvcm1hdDpyfTpudWxsfWZ1bmN0aW9uIGIoZSl7cmV0dXJuIGUucGFyYW1zLnZpZGVvP2Qoe30sZS5wYXJhbXMudmlkZW8sZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8/ZS5tZWRpYVR5cGVzLnZpZGVvOnt9LHtiYXR0cjplLnBhcmFtcy5iYXR0cn0pOm51bGx9ZnVuY3Rpb24gZyhlKXt2YXIgcj17fSx0PXt9O3JldHVybiBmLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdPTF9KSksT2JqZWN0LmtleXMoZS5wYXJhbXMpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3Rbbl18fChyW25dPWUucGFyYW1zW25dKX0pKSxPYmplY3Qua2V5cyhyKS5sZW5ndGg+MD97cHJlYmlkOnJ9Om51bGx9ZnVuY3Rpb24gaChlKXtpZihlLm5hdGl2ZVBhcmFtcyl7dmFyIHI9W107cmV0dXJuIHkocixmdW5jdGlvbihlLHIsdCl7aWYocilyZXR1cm57aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCx0aXRsZTp7bGVuOnIubGVufHx0fX07cmV0dXJuIG51bGx9KHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMudGl0bGUscykpLHkocix3KHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuYm9keSwyLHUpKSx5KHIsdyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLnNwb25zb3JlZEJ5LDEsbykpLHkocixJKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuaWNvbiwxLHAscCkpLHkocixJKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuaW1hZ2UsMyxjLGMpKSx7cmVxdWVzdDpKU09OLnN0cmluZ2lmeSh7YXNzZXRzOnJ9KSx2ZXI6IjEuMSIsYmF0dHI6ZS5wYXJhbXMuYmF0dHJ9fXJldHVybiBudWxsfWZ1bmN0aW9uIHkoZSxyKXtyJiZlLnB1c2gocil9ZnVuY3Rpb24gSShlLHIsdCxuLGkpe3JldHVybiByP3tpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLGltZzp7dHlwZTp0LHdtaW46ci53bWlufHxuLGhtaW46ci5obWlufHxpfX06bnVsbH1mdW5jdGlvbiB3KGUscix0LG4pe3JldHVybiByP3tpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLGRhdGE6e3R5cGU6dCxsZW46ci5sZW58fG59fTpudWxsfWZ1bmN0aW9uIE8oZSxyKXt2YXIgdD1lJiZlLmxlbmd0aD4wP2VbMF0ucGFyYW1zLmNwOiIwIjtyZXR1cm4gZVswXS5wYXJhbXMuYXBwP251bGw6e3B1Ymxpc2hlcjp7aWQ6dC50b1N0cmluZygpfSxyZWY6cSgpLHBhZ2U6ciYmci5yZWZlcmVySW5mbz9yLnJlZmVyZXJJbmZvLnJlZmVyZXI6IiJ9fWZ1bmN0aW9uIFQoZSl7dmFyIHI9ZSYmZS5sZW5ndGg+MD9lWzBdLnBhcmFtcy5jcDoiMCIsdD1lWzBdLnBhcmFtcy5hcHA7cmV0dXJuIHQ/e3B1Ymxpc2hlcjp7aWQ6ci50b1N0cmluZygpfSxidW5kbGU6dC5idW5kbGUsc3RvcmV1cmw6dC5zdG9yZVVybCxkb21haW46dC5kb21haW59Om51bGx9ZnVuY3Rpb24gcSgpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fWZ1bmN0aW9uIHgoZSxyKXt2YXIgdD17fTtpZihyJiZyLmdkcHJDb25zZW50JiYodC5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksZSYmZS51c2VySWQpe3QuZWlkcz1bXSxSKHQuZWlkcyxlLnVzZXJJZC5wdWJjaWQsInB1YmNvbW1vbiIpLFIodC5laWRzLGUudXNlcklkLmJyaXRlcG9vbGlkLCJicml0ZXBvb2wuY29tIiksUih0LmVpZHMsZS51c2VySWQuY3JpdGVvSWQsImNyaXRlbyIpLFIodC5laWRzLGUudXNlcklkLmlkbF9lbnYsImlkZW50aXR5TGluayIpLFIodC5laWRzLG4uZGVlcEFjY2VzcyhlLCJ1c2VySWQuaWQ1aWQudWlkIiksImlkNS1zeW5jLmNvbSIsbi5kZWVwQWNjZXNzKGUsInVzZXJJZC5pZDVpZC5leHQiKSksUih0LmVpZHMsbi5kZWVwQWNjZXNzKGUsInVzZXJJZC5wYXJyYWJsZUlkLmVpZCIpLCJwYXJyYWJsZS5jb20iKSxlLnVzZXJJZC5saXBiJiZlLnVzZXJJZC5saXBiLmxpcGJpZCYmUih0LmVpZHMsZS51c2VySWQubGlwYi5saXBiaWQsImxpdmVpbnRlbnQuY29tIiksUih0LmVpZHMsZS51c2VySWQudGRpZCwiYWRzZXJ2ZXIub3JnIix7cnRpUGFydG5lcjoiVERJRCJ9KTt2YXIgaT1lLnVzZXJJZC5kaWdpdHJ1c3RpZDtpZihpJiZpLmRhdGEpe3ZhciBhPXt9O2kuZGF0YS5pZCYmKGEuaWQ9aS5kYXRhLmlkKSxpLmRhdGEua2V5diYmKGEua2V5dj1pLmRhdGEua2V5diksdC5kaWdpdHJ1c3Q9YX19cmV0dXJue2V4dDp0fX1mdW5jdGlvbiBSKGUscix0LG4pe2lmKHIpe3ZhciBpPXtpZDpyfTtuJiYoaS5leHQ9biksZS5wdXNoKHtzb3VyY2U6dCx1aWRzOltpXX0pfX1mdW5jdGlvbiBDKGUpe2lmKGUuZ2RwckNvbnNlbnR8fGUudXNwQ29uc2VudCl7dmFyIHI9e307cmV0dXJuIGUuZ2RwckNvbnNlbnQmJihyLmdkcHI9ZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLGUudXNwQ29uc2VudCYmKHIudXNfcHJpdmFjeT1lLnVzcENvbnNlbnQpLHtleHQ6cn19cmV0dXJuIG51bGx9ZnVuY3Rpb24gUChlKXtyZXR1cm4gZT97ZXh0OntzY2hhaW46ZX19Om51bGx9ZnVuY3Rpb24gayhlKXt2YXIgcj1lLnBhcmFtcy5iaWRmbG9vcjtpZihuLmlzRm4oZS5nZXRGbG9vcikpe3ZhciB0PWUuZ2V0Rmxvb3Ioe21lZGlhVHlwZTplLm1lZGlhVHlwZXMuYmFubmVyPyJiYW5uZXIiOmUubWVkaWFUeXBlcy52aWRlbz8idmlkZW8iOiJOYXRpdmUiLHNpemU6IioiLGN1cnJlbmN5Omx9KTt0JiZ0LmZsb29yJiYocj10LmZsb29yKX1yZXR1cm4gcn1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikobSl9fSxbNjczXSk7CnVwYmpzQ2h1bmsoWzEzMl0sezcwMTpmdW5jdGlvbihlLHIsYSl7ZS5leHBvcnRzPWEoNzAyKX0sNzAyOmZ1bmN0aW9uKGUscixhKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGEuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKTt2YXIgaT1hKDApLHQ9YSgxKSxzPWEoMik7dmFyIG49bmV3IGZ1bmN0aW9uKCl7dGhpcy5jb2RlPSJyaHl0aG1vbmUiLHRoaXMuc3VwcG9ydGVkTWVkaWFUeXBlcz1bcy5kLHMuYl07dmFyIGU9WzIsMyw1LDZdLHI9WyJ2aWRlby9tcDQiXSxhPVsxLDIsMyw0XSx0PVsxXSxuPVsxLDIsNV0sZD17fSxwPXRoaXM7ZnVuY3Rpb24gbyhlLHIpe3ZhciBhLHQ9W10scz0wO2lmKHImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8uc3RhY2subGVuZ3RoKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7bi5ocmVmPXIucmVmZXJlckluZm8uc3RhY2tbMF0scz0iaHR0cHM6Ij09bi5wcm90b2NvbD8xOjB9Zm9yKHZhciBwPTA7cDxlLmxlbmd0aDtwKyspe2RbZVtwXS5hZFVuaXRDb2RlXT1lW3BdO3ZhciBvPXt9O2lmKG8uaWQ9ZVtwXS5hZFVuaXRDb2RlLG8uYmlkZmxvb3I9MCxvLnNlY3VyZT1zLGkuZGVlcEFjY2VzcyhlW3BdLCJtZWRpYVR5cGVzLmJhbm5lciIpfHwiYmFubmVyIj09PWkuZGVlcEFjY2VzcyhlW3BdLCJtZWRpYVR5cGUiKSl7dmFyIGM9dihlW3BdKTtjJiYoby5iYW5uZXI9Yyl9KGkuZGVlcEFjY2VzcyhlW3BdLCJtZWRpYVR5cGVzLnZpZGVvIil8fCJ2aWRlbyI9PT1pLmRlZXBBY2Nlc3MoZVtwXSwibWVkaWFUeXBlIikpJiYoby52aWRlbz11KGVbcF0pKSwoby5iYW5uZXJ8fG8udmlkZW8pJiYoby5leHQ9e2JpZGRlcjp7cGxhY2VtZW50SWQ6KGE9ZVtwXSkucGFyYW1zLnBsYWNlbWVudElkLHpvbmU6YS5wYXJhbXMmJmEucGFyYW1zLnpvbmU/YS5wYXJhbXMuem9uZToiMXIiLHBhdGg6YS5wYXJhbXMmJmEucGFyYW1zLnBhdGg/YS5wYXJhbXMucGF0aDoibXZvIn19LHQucHVzaChvKSl9cmV0dXJuIHR9ZnVuY3Rpb24gYyhlKXt2YXIgcj17ZG9tYWluOiIiLHBhZ2U6IiIscmVmOiIifTtpZihlJiZlLnJlZmVyZXJJbmZvKXt2YXIgYT1lLnJlZmVyZXJJbmZvO2lmKHIucmVmPWEucmVmZXJlcixhLnN0YWNrLmxlbmd0aCl7ci5wYWdlPWEuc3RhY2tbYS5zdGFjay5sZW5ndGgtMV07dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2kuaHJlZj1hLnN0YWNrWzBdLHIuZG9tYWluPWkuaG9zdG5hbWV9fXJldHVybiByfWZ1bmN0aW9uIG0oZSl7dmFyIHI9cGFyc2VJbnQoZVswXSksYT1wYXJzZUludChlWzFdKTtyZXR1cm4gcj09ciYmYT09YSYmW3IsYV19ZnVuY3Rpb24gdihlKXt2YXIgcj1lLnNpemVzO2UubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk7dmFyIGE9aS5wYXJzZVNpemVzSW5wdXQociksdD1bXTtyZXR1cm4gYS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlKXt2YXIgcj1tKGUuc3BsaXQoIngiKSk7ciYmdC5wdXNoKHt3OnJbMF0saDpyWzFdfSl9fSkpLCEhdC5sZW5ndGgmJntmb3JtYXQ6dH19ZnVuY3Rpb24gdShzKXt2YXIgZD1bXTtpZihpLmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpe3ZhciBwPXMubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplO2kuaXNBcnJheShzLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSkmJihwPXMubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKTt2YXIgbz1tKHApO28mJihkPW8pfXJldHVybnttaW1lczppLmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlby5taW1lcyIpfHxyLHByb3RvY29sczppLmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHMiKXx8ZSx3OmRbMF0saDpkWzFdLHN0YXJ0ZGVsYXk6aS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8uc3RhcnRkZWxheSIpfHwwLHNraXA6aS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8uc2tpcCIpfHwwLHBsYXliYWNrbWV0aG9kOmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kIil8fGEsZGVsaXZlcnk6aS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8uZGVsaXZlcnkiKXx8dCxhcGk6aS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8uYXBpIil8fG59fWZ1bmN0aW9uIGwoZSxyKXtmb3IodmFyIGE9MDthPHIubGVuZ3RoO2ErKylpZihyW2FdLnBhcmFtcyYmclthXS5wYXJhbXNbZV0pcmV0dXJuIHJbYV0ucGFyYW1zW2VdfXRoaXMuaXNCaWRSZXF1ZXN0VmFsaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXN8fCFlLnBhcmFtcy5wbGFjZW1lbnRJZCl9LHRoaXMuZ2V0VXNlclN5bmNzPWZ1bmN0aW9uKGUscixhKXtyZXR1cm5bXX0sdGhpcy5idWlsZFJlcXVlc3RzPWZ1bmN0aW9uKGUscil7dmFyIGE9bCgicGxhY2VtZW50SWQiLGUpO2lmKHZvaWQgMD09PWF8fGUubGVuZ3RoPDEpcmV0dXJuW107dmFyIHQ9bCgiZW5kcG9pbnQiLGUpfHwiaHR0cHM6Ly90YWcuMXJ4LmlvL3JtcC97cGxhY2VtZW50SWR9LzAve3BhdGh9P3o9e3pvbmV9IixzPWwoInpvbmUiLGUpfHwiMXIiLG49bCgicGF0aCIsZSl8fCJtdm8iO3Q9KHQ9KHQ9dC5yZXBsYWNlKC9ce3BsYWNlbWVudElkXH0vaSxhKSkucmVwbGFjZSgvXHt6b25lXH0vaSxzKSkucmVwbGFjZSgvXHtwYXRoXH0vaSxuKTt2YXIgZD0vKF52fChcLjApKyQpL2dpO3QrPSImaGJ2PSIrIjUuMTEuMCIucmVwbGFjZShkLCIiKSsiLCIrIjIuMSIucmVwbGFjZShkLCIiKTt2YXIgcD1mdW5jdGlvbihlLHIpe3ZhciBhPXtpZDplWzBdLmJpZGRlclJlcXVlc3RJZCxpbXA6byhlLHIpLHNpdGU6YyhyKSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsaXA6IiIsZG50OmkuZ2V0RE5UKCk/MTowfSx1c2VyOntleHQ6e2NvbnNlbnQ6aS5kZWVwQWNjZXNzKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIik/ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nOiIifX0sYXQ6MSx0bWF4OjFlMyxyZWdzOntleHQ6e2dkcHI6ISFpLmRlZXBBY2Nlc3MociwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKSYmQm9vbGVhbigxJnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpfX19O3JldHVybiBlWzBdLnNjaGFpbiYmKGEuc291cmNlPXtleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19KSxhfShlLHIpO3JldHVybiBwLmltcC5sZW5ndGg/e21ldGhvZDoiUE9TVCIsdXJsOnQsZGF0YTpKU09OLnN0cmluZ2lmeShwKX06e319LHRoaXMuaW50ZXJwcmV0UmVzcG9uc2U9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5ib2R5fHxbXSxhPVtdLGk9MDtpZihyLnNlYXRiaWQpe3ZhciB0PVtdO2ZvcihpPTA7aTxyLnNlYXRiaWQubGVuZ3RoO2krKylmb3IodmFyIHM9MDtzPHIuc2VhdGJpZFtpXS5iaWQubGVuZ3RoO3MrKyl0LnB1c2goci5zZWF0YmlkW2ldLmJpZFtzXSk7cj10fWZvcihpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBuPXJbaV0sbz1kW24uaW1waWRdLGM9e3JlcXVlc3RJZDpvLmJpZElkLGJpZGRlckNvZGU6cC5jb2RlLGNwbTpwYXJzZUZsb2F0KG4ucHJpY2UpLHdpZHRoOm4udyxoZWlnaHQ6bi5oLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOm4uYWRvbWFpbn0sY3JlYXRpdmVJZDpuLmNyaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzUwfTtvLm1lZGlhVHlwZXMmJm8ubWVkaWFUeXBlcy52aWRlbz8oYy52YXN0VXJsPW4ubnVybCxjLm1lZGlhVHlwZT0idmlkZW8iLGMudHRsPTYwMCk6Yy5hZD1uLmFkbSxhLnB1c2goYyl9cmV0dXJuIGF9fTtPYmplY3QodC5yZWdpc3RlckJpZGRlcikobil9fSxbNzAxXSk7CnVwYmpzQ2h1bmsoWzEyNl0sezcxOTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzIwKX0sNzIwOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxyLmhhc1ZpZGVvTWVkaWFUeXBlPU8sdC5kKHIsInJlc2V0UnViaUNvbmYiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLHIubWFzU2l6ZU9yZGVyaW5nPVIsci5kZXRlcm1pbmVSdWJpY29uVmlkZW9TaXplSWQ9eixyLmdldFByaWNlR3JhbnVsYXJpdHk9VCxyLmhhc1ZhbGlkVmlkZW9QYXJhbXM9RSxyLmhhc1ZhbGlkU3VwcGx5Q2hhaW5QYXJhbXM9VSxyLmVuY29kZVBhcmFtPVAsci5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7Tj0hMX07dmFyIG49dCgwKSxpPXQoMSksbz10KDMpLGE9dCgyKSxzPXQoMTEpLGM9dC5uKHMpLGQ9dCgxMyksdT10KDE0KTtmdW5jdGlvbiBwKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYobj1uLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSx0LnB1c2guYXBwbHkodCxuKX1yZXR1cm4gdH1mdW5jdGlvbiBsKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP3AoT2JqZWN0KHQpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2KGUscix0W3JdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKTpwKE9iamVjdCh0KSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGYoKXtyZXR1cm4oZj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG0oZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUscil7dmFyIHQ9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT10KXJldHVybjt2YXIgbixpLG89W10sYT0hMCxzPSExO3RyeXtmb3IodD10LmNhbGwoZSk7IShhPShuPXQubmV4dCgpKS5kb25lKSYmKG8ucHVzaChuLnZhbHVlKSwhcnx8by5sZW5ndGghPT1yKTthPSEwKTt9Y2F0Y2goZSl7cz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fXJldHVybiBvfShlLHIpfHxmdW5jdGlvbihlLHIpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGcoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIGcoZSxyKX0oZSxyKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGcoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn1mdW5jdGlvbiB2KGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiBiKGUpe3JldHVybihiPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHk9Imh0dHBzOi8vdmlkZW8tb3V0c3RyZWFtLnJ1Ymljb25wcm9qZWN0LmNvbS9hcGV4LTIuMC4wLmpzIix4PXt9O28uYi5nZXRDb25maWcoInJ1Ymljb24iLChmdW5jdGlvbihlKXtuLm1lcmdlRGVlcCh4LGUucnViaWNvbil9KSk7dmFyIGg9ezE6IjQ2OHg2MCIsMjoiNzI4eDkwIiw1OiIxMjB4OTAiLDc6IjEyNXgxMjUiLDg6IjEyMHg2MDAiLDk6IjE2MHg2MDAiLDEwOiIzMDB4NjAwIiwxMzoiMjAweDIwMCIsMTQ6IjI1MHgyNTAiLDE1OiIzMDB4MjUwIiwxNjoiMzM2eDI4MCIsMTc6IjI0MHg0MDAiLDE5OiIzMDB4MTAwIiwzMToiOTgweDEyMCIsMzI6IjI1MHgzNjAiLDMzOiIxODB4NTAwIiwzNToiOTgweDE1MCIsMzc6IjQ2OHg0MDAiLDM4OiI5MzB4MTgwIiwzOToiNzUweDEwMCIsNDA6Ijc1MHgyMDAiLDQxOiI3NTB4MzAwIiw0MjoiMng0Iiw0MzoiMzIweDUwIiw0NDoiMzAweDUwIiw0ODoiMzAweDMwMCIsNTM6IjEwMjR4NzY4Iiw1NDoiMzAweDEwNTAiLDU1OiI5NzB4OTAiLDU3OiI5NzB4MjUwIiw1ODoiMTAwMHg5MCIsNTk6IjMyMHg4MCIsNjA6IjMyMHgxNTAiLDYxOiIxMDAweDEwMDAiLDY0OiI1ODB4NTAwIiw2NToiNjQweDQ4MCIsNjY6IjkzMHg2MDAiLDY3OiIzMjB4NDgwIiw2ODoiMTgwMHgxMDAwIiw3MjoiMzIweDMyMCIsNzM6IjMyMHgxNjAiLDc4OiI5ODB4MjQwIiw3OToiOTgweDMwMCIsODA6Ijk4MHg0MDAiLDgzOiI0ODB4MzAwIiw4NToiMzAweDEyMCIsOTA6IjU0OHgxNTAiLDk0OiI5NzB4MzEwIiw5NToiOTcweDEwMCIsOTY6Ijk3MHgyMTAiLDEwMToiNDgweDMyMCIsMTAyOiI3Njh4MTAyNCIsMTAzOiI0ODB4MjgwIiwxMDU6IjI1MHg4MDAiLDEwODoiMzIweDI0MCIsMTEzOiIxMDAweDMwMCIsMTE3OiIzMjB4MTAwIiwxMjU6IjgwMHgyNTAiLDEyNjoiMjAweDYwMCIsMTQ0OiI5ODB4NjAwIiwxNDU6Ijk4MHgxNTAiLDE1MjoiMTAwMHgyNTAiLDE1NjoiNjQweDMyMCIsMTU5OiIzMjB4MjUwIiwxNzk6IjI1MHg2MDAiLDE5NToiNjAweDMwMCIsMTk4OiI2NDB4MzYwIiwxOTk6IjY0MHgyMDAiLDIxMzoiMTAzMHg1OTAiLDIxNDoiOTgweDM2MCIsMjIxOiIxeDEiLDIyOToiMzIweDE4MCIsMjMwOiIyMDAweDE0MDAiLDIzMjoiNTgweDQwMCIsMjM0OiI2eDYiLDI1MToiMngyIiwyNTY6IjQ4MHg4MjAiLDI1NzoiNDAweDYwMCIsMjU4OiI1MDB4MjAwIiwyNTk6Ijk5OHgyMDAiLDI2NDoiOTcweDEwMDAiLDI2NToiMTkyMHgxMDgwIiwyNzQ6IjE4MDB4MjAwIiwyNzg6IjMyMHg1MDAiLDI4MjoiMzIweDQwMCIsMjg4OiI2NDB4MzgwIiw1NDg6IjUwMHgxMDAwIiw1NTA6Ijk4MHg0ODAiLDU1MjoiMzAweDIwMCIsNTU4OiI2NDB4NjQwIn07bi5fZWFjaChoLChmdW5jdGlvbihlLHIpe3JldHVybiBoW2VdPXJ9KSk7dmFyIF89e2NvZGU6InJ1Ymljb24iLGd2bGlkOjUyLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT09YihlLnBhcmFtcykpcmV0dXJuITE7Zm9yKHZhciByPTAsdD1bImFjY291bnRJZCIsInNpdGVJZCIsInpvbmVJZCJdO3I8dC5sZW5ndGg7cisrKWlmKGUucGFyYW1zW3Rbcl1dPXBhcnNlSW50KGUucGFyYW1zW3Rbcl1dKSxpc05hTihlLnBhcmFtc1t0W3JdXSkpcmV0dXJuIG4ubG9nRXJyb3IoIlJ1Ymljb246IHdyb25nIGZvcm1hdCBvZiBhY2NvdW50SWQgb3Igc2l0ZUlkIG9yIHpvbmVJZC4iKSwhMTt2YXIgaT13KGUsITApO3JldHVybiEhaSYmKCJ2aWRlbyIhPT1pfHxFKGUpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJ2aWRlbyI9PT13KGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHQ9e2lkOmUudHJhbnNhY3Rpb25JZCx0ZXN0Om8uYi5nZXRDb25maWcoImRlYnVnIik/MTowLGN1cjpbIlVTRCJdLHNvdXJjZTp7dGlkOmUudHJhbnNhY3Rpb25JZH0sdG1heDpyLnRpbWVvdXQsaW1wOlt7ZXhwOm8uYi5nZXRDb25maWcoInMyc0NvbmZpZy5kZWZhdWx0VHRsIiksaWQ6ZS5hZFVuaXRDb2RlLHNlY3VyZToxLGV4dDp2KHt9LGUuYmlkZGVyLGUucGFyYW1zKSx2aWRlbzpuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fX1dLGV4dDp7cHJlYmlkOntjaGFubmVsOntuYW1lOiJwYmpzIix2ZXJzaW9uOnVwYmpzLnZlcnNpb259LGNhY2hlOnt2YXN0eG1sOntyZXR1cm5DcmVhdGl2ZTohMD09PXgucmV0dXJuVmFzdH19LHRhcmdldGluZzp7aW5jbHVkZXdpbm5lcnM6ITAsaW5jbHVkZWJpZGRlcmtleXM6ITEscHJpY2VncmFudWxhcml0eTpUKG8uYil9LGJpZGRlcnM6e3J1Ymljb246e2ludGVncmF0aW9uOnguaW50X3R5cGV8fCJwYmpzIn19fX19OyJydWJpY29uIiE9PWUuYmlkZGVyJiYodC5leHQucHJlYmlkLmFsaWFzZXM9dih7fSxlLmJpZGRlciwicnViaWNvbiIpKTt2YXIgaSxzLGM9T2JqZWN0KHUuYSkoKS5pbnN0YWxsZWRNb2R1bGVzO2lmKCFjfHxjLmxlbmd0aCYmLTE9PT1jLmluZGV4T2YoInJ1Ymljb25BbmFseXRpY3NBZGFwdGVyIil8fG4uZGVlcFNldFZhbHVlKHQsImV4dC5wcmViaWQuYW5hbHl0aWNzIix7cnViaWNvbjp7ImNsaWVudC1hbmFseXRpY3MiOiEwfX0pLCJmdW5jdGlvbiIhPXR5cGVvZiBlLmdldEZsb29yfHx4LmRpc2FibGVGbG9vcnMpaT1wYXJzZUZsb2F0KG4uZGVlcEFjY2VzcyhlLCJwYXJhbXMuZmxvb3IiKSk7ZWxzZXt2YXIgZDt0cnl7ZD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6InZpZGVvIixzaXplOlMoZSwidmlkZW8iKX0pfWNhdGNoKGUpe24ubG9nRXJyb3IoIlJ1Ymljb246IGdldEZsb29yIHRocmV3IGFuIGVycm9yOiAiLGUpfWk9Im9iamVjdCIhPT1iKGQpfHwiVVNEIiE9PWQuY3VycmVuY3l8fGlzTmFOKHBhcnNlSW50KGQuZmxvb3IpKT92b2lkIDA6cGFyc2VGbG9hdChkLmZsb29yKX0oaXNOYU4oaSl8fCh0LmltcFswXS5iaWRmbG9vcj1pKSx0LmltcFswXS5leHRbZS5iaWRkZXJdLnZpZGVvLnNpemVfaWQ9eihlKSxmdW5jdGlvbihlLHIsdCl7aWYoIWUpcmV0dXJuOyJvYmplY3QiPT09YihvLmIuZ2V0Q29uZmlnKCJhcHAiKSk/ZS5hcHA9by5iLmdldENvbmZpZygiYXBwIik6ZS5zaXRlPXtwYWdlOkEocix0KX07Im9iamVjdCI9PT1iKG8uYi5nZXRDb25maWcoImRldmljZSIpKSYmKGUuZGV2aWNlPW8uYi5nZXRDb25maWcoImRldmljZSIpKTtyLnBhcmFtcy52aWRlby5sYW5ndWFnZSYmWyJzaXRlIiwiZGV2aWNlIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XSYmKGVbdF0uY29udGVudD1mKHtsYW5ndWFnZTpyLnBhcmFtcy52aWRlby5sYW5ndWFnZX0sZVt0XS5jb250ZW50KSl9KSl9KHQsZSxyKSxmdW5jdGlvbihlLHIpeyJvYmplY3QiPT09YihlLmltcFswXS52aWRlbykmJnZvaWQgMD09PWUuaW1wWzBdLnZpZGVvLnNraXAmJihlLmltcFswXS52aWRlby5za2lwPXIucGFyYW1zLnZpZGVvLnNraXApOyJvYmplY3QiPT09YihlLmltcFswXS52aWRlbykmJnZvaWQgMD09PWUuaW1wWzBdLnZpZGVvLnNraXBhZnRlciYmKGUuaW1wWzBdLnZpZGVvLnNraXBhZnRlcj1yLnBhcmFtcy52aWRlby5za2lwZGVsYXkpOyJvYmplY3QiPT09YihlLmltcFswXS52aWRlbykmJnZvaWQgMD09PWUuaW1wWzBdLnZpZGVvLnBvcyYmKCJhdGYiPT09ci5wYXJhbXMucG9zaXRpb24/ZS5pbXBbMF0udmlkZW8ucG9zPTE6ImJ0ZiI9PT1yLnBhcmFtcy5wb3NpdGlvbiYmKGUuaW1wWzBdLnZpZGVvLnBvcz0zKSk7dmFyIHQ9UyhyLCJ2aWRlbyIpO2UuaW1wWzBdLnZpZGVvLnc9dFswXSxlLmltcFswXS52aWRlby5oPXRbMV19KHQsZSksci5nZHByQ29uc2VudCkmJigiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocz1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCksbi5kZWVwU2V0VmFsdWUodCwicmVncy5leHQuZ2RwciIscyksbi5kZWVwU2V0VmFsdWUodCwidXNlci5leHQuY29uc2VudCIsci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSk7ci51c3BDb25zZW50JiZuLmRlZXBTZXRWYWx1ZSh0LCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpO3ZhciBwPW4uZGVlcEFjY2VzcyhyLCJiaWRzLjAudXNlcklkQXNFaWRzIik7cCYmcC5sZW5ndGgmJm4uZGVlcFNldFZhbHVlKHQsInVzZXIuZXh0LmVpZHMiLHApO3ZhciBsPW8uYi5nZXRDb25maWcoInVzZXIuaWQiKTtsJiZuLmRlZXBTZXRWYWx1ZSh0LCJ1c2VyLmlkIixsKSwhMD09PW8uYi5nZXRDb25maWcoImNvcHBhIikmJm4uZGVlcFNldFZhbHVlKHQsInJlZ3MuY29wcGEiLDEpLGUuc2NoYWluJiZVKGUuc2NoYWluKSYmbi5kZWVwU2V0VmFsdWUodCwic291cmNlLmV4dC5zY2hhaW4iLGUuc2NoYWluKTt2YXIgbT1vLmIuZ2V0Q29uZmlnKCJtdWx0aWJpZCIpO3JldHVybiBtJiZuLmRlZXBTZXRWYWx1ZSh0LCJleHQucHJlYmlkLm11bHRpYmlkIixtLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlLnRvTG93ZXJDYXNlKCldPXJbZV19KSksZS5wdXNoKHQpLGV9KSxbXSkpLEMoZSxhLmQsdCksZS5zdG9yZWRBdWN0aW9uUmVzcG9uc2UmJm4uZGVlcFNldFZhbHVlKHQuaW1wWzBdLCJleHQucHJlYmlkLnN0b3JlZGF1Y3Rpb25yZXNwb25zZS5pZCIsZS5zdG9yZWRBdWN0aW9uUmVzcG9uc2UudG9TdHJpbmcoKSksbi5kZWVwU2V0VmFsdWUodC5pbXBbMF0sImV4dC5wcmViaWQuYXVjdGlvbnRpbWVzdGFtcCIsci5hdWN0aW9uU3RhcnQpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCh4LnZpZGVvSG9zdHx8InByZWJpZC1zZXJ2ZXIiLCIucnViaWNvbnByb2plY3QuY29tL29wZW5ydGIyL2F1Y3Rpb24iKSxkYXRhOnQsYmlkUmVxdWVzdDplfX0pKTtpZighMCE9PXguc2luZ2xlUmVxdWVzdCl0PWkuY29uY2F0KGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIj09PXcoZSl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD1fLmNyZWF0ZVNsb3RQYXJhbXMoZSxyKTtyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCh4LmJhbm5lckhvc3R8fCJmYXN0bGFuZSIsIi5ydWJpY29ucHJvamVjdC5jb20vYS9hcGkvZmFzdGxhbmUuanNvbiIpLGRhdGE6Xy5nZXRPcmRlcmVkUGFyYW1zKHQpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgaT10W3JdO3JldHVybiBuLmlzU3RyKGkpJiYiIiE9PWl8fG4uaXNOdW1iZXIoaSk/IiIuY29uY2F0KGUpLmNvbmNhdChQKHIsaSksIiYiKTplfSksIiIpKyJzbG90cz0xJnJhbmQ9Ii5jb25jYXQoTWF0aC5yYW5kb20oKSksYmlkUmVxdWVzdDplfX0pKSk7ZWxzZXt2YXIgcz1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT13KGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4oZVtyLnBhcmFtcy5zaXRlSWRdPWVbci5wYXJhbXMuc2l0ZUlkXXx8W10pLnB1c2gociksZX0pLHt9KTt0PWkuY29uY2F0KE9iamVjdC5rZXlzKHMpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgaSxvO3JldHVybihpPXNbdF0sbz0xMCxpLm1hcCgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gciVvPT0wP2kuc2xpY2UocixyK28pOm51bGx9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGk9Xy5jb21iaW5lU2xvdFVybFBhcmFtcyh0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIF8uY3JlYXRlU2xvdFBhcmFtcyhlLHIpfSkpKTtlLnB1c2goe21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC5iYW5uZXJIb3N0fHwiZmFzdGxhbmUiLCIucnViaWNvbnByb2plY3QuY29tL2EvYXBpL2Zhc3RsYW5lLmpzb24iKSxkYXRhOl8uZ2V0T3JkZXJlZFBhcmFtcyhpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIHQ9aVtyXTtyZXR1cm4gbi5pc1N0cih0KSYmIiIhPT10fHxuLmlzTnVtYmVyKHQpPyIiLmNvbmNhdChlKS5jb25jYXQoUChyLHQpLCImIik6ZX0pLCIiKSsic2xvdHM9Ii5jb25jYXQodC5sZW5ndGgsIiZyYW5kPSIpLmNvbmNhdChNYXRoLnJhbmRvbSgpKSxiaWRSZXF1ZXN0OnR9KX0pKSxlfSksW10pKX1yZXR1cm4gdH0sZ2V0T3JkZXJlZFBhcmFtczpmdW5jdGlvbihlKXt2YXIgcj0vXnRnX3YvLHQ9L150Z19pLyxuPS9eZWlkX3xedHBpZF8vLGk9WyJhY2NvdW50X2lkIiwic2l0ZV9pZCIsInpvbmVfaWQiLCJzaXplX2lkIiwiYWx0X3NpemVfaWRzIiwicF9wb3MiLCJnZHByIiwiZ2Rwcl9jb25zZW50IiwidXNfcHJpdmFjeSIsInJwX3NjaGFpbiJdLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBuLnRlc3QoZSl9KSkpLmNvbmNhdChbInhfbGl2ZXJhbXBpZGwiLCJwcHVpZCIsInJmIiwicF9nZW8ubGF0aXR1ZGUiLCJwX2dlby5sb25naXR1ZGUiLCJrdyJdKS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gci50ZXN0KGUpfSkpKS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KGUpfSkpKS5jb25jYXQoWyJ0a19mbGludCIsInhfc291cmNlLnRpZCIsInhfc291cmNlLnBjaGFpbiIsInBfc2NyZWVuX3JlcyIsInJwX2Zsb29yIiwicnBfc2VjdXJlIiwidGtfdXNlcl9rZXkiXSk7cmV0dXJuIGkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1pLmluZGV4T2YoZSl9KSkpfSxjb21iaW5lU2xvdFVybFBhcmFtczpmdW5jdGlvbihlKXtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIGVbMF07dmFyIHI9ZS5yZWR1Y2UoKGZ1bmN0aW9uKHIsdCxuKXtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7ci5oYXNPd25Qcm9wZXJ0eShpKXx8KHJbaV09bmV3IEFycmF5KGUubGVuZ3RoKSkscltpXS5zcGxpY2UobiwxLHRbaV0pfSkpLHJ9KSx7fSksdD1uZXcgUmVnRXhwKCJeKFteO10qKSg7XFwxKSskIik7cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXJbZV0uam9pbigiOyIpLGk9bi5tYXRjaCh0KTtyW2VdPWk/aVsxXTpufSkpLHJ9LGNyZWF0ZVNsb3RQYXJhbXM6ZnVuY3Rpb24oZSxyKXtlLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKTt2YXIgdD1lLnBhcmFtcyxpPVMoZSwiYmFubmVyIikscz1tKHQubGF0TG9uZ3x8W10sMiksZD1zWzBdLHU9c1sxXSxwPXthY2NvdW50X2lkOnQuYWNjb3VudElkLHNpdGVfaWQ6dC5zaXRlSWQsem9uZV9pZDp0LnpvbmVJZCxzaXplX2lkOmlbMF0sYWx0X3NpemVfaWRzOmkuc2xpY2UoMSkuam9pbigiLCIpfHx2b2lkIDAscnBfZmxvb3I6KHQuZmxvb3I9cGFyc2VGbG9hdCh0LmZsb29yKSk+PS4wMT90LmZsb29yOnZvaWQgMCxycF9zZWN1cmU6IjEiLHRrX2ZsaW50OiIiLmNvbmNhdCh4LmludF90eXBlfHwicGJqc19saXRlIiwiX3Y1LjExLjAiKSwieF9zb3VyY2UudGlkIjplLnRyYW5zYWN0aW9uSWQsInhfc291cmNlLnBjaGFpbiI6dC5wY2hhaW4scF9zY3JlZW5fcmVzOlt3aW5kb3cuc2NyZWVuLndpZHRoLHdpbmRvdy5zY3JlZW4uaGVpZ2h0XS5qb2luKCJ4IiksdGtfdXNlcl9rZXk6dC51c2VySWQsInBfZ2VvLmxhdGl0dWRlIjppc05hTihwYXJzZUZsb2F0KGQpKT92b2lkIDA6cGFyc2VGbG9hdChkKS50b0ZpeGVkKDQpLCJwX2dlby5sb25naXR1ZGUiOmlzTmFOKHBhcnNlRmxvYXQodSkpP3ZvaWQgMDpwYXJzZUZsb2F0KHUpLnRvRml4ZWQoNCksInRnX2ZsLmVpZCI6ZS5jb2RlLHJmOkEoZSxyKX07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3ImJiF4LmRpc2FibGVGbG9vcnMpe3ZhciBsO3RyeXtsPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiYmFubmVyIixzaXplOiIqIn0pfWNhdGNoKGUpe24ubG9nRXJyb3IoIlJ1Ymljb246IGdldEZsb29yIHRocmV3IGFuIGVycm9yOiAiLGUpfXAucnBfaGFyZF9mbG9vcj0ib2JqZWN0IiE9PWIobCl8fCJVU0QiIT09bC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VJbnQobC5mbG9vcikpP3ZvaWQgMDpsLmZsb29yfXZhciBmPXsxOiJhdGYiLDM6ImJ0ZiJ9W24uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lci5wb3MiKV18fCIiO3AucF9wb3M9ImF0ZiI9PT10LnBvc2l0aW9ufHwiYnRmIj09PXQucG9zaXRpb24/dC5wb3NpdGlvbjpmO3ZhciBnPW8uYi5nZXRDb25maWcoInVzZXIuaWQiKTtyZXR1cm4gZyYmKHAucHB1aWQ9ZyksZS51c2VySWRBc0VpZHMmJmUudXNlcklkQXNFaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RyeXtpZigiYWRzZXJ2ZXIub3JnIj09PWUuc291cmNlPyhwLnRwaWRfdGRpZD1lLnVpZHNbMF0uaWQscFsiZWlkX2Fkc2VydmVyLm9yZyJdPWUudWlkc1swXS5pZCk6ImxpdmVpbnRlbnQuY29tIj09PWUuc291cmNlPyhwWyJ0cGlkX2xpdmVpbnRlbnQuY29tIl09ZS51aWRzWzBdLmlkLHBbImVpZF9saXZlaW50ZW50LmNvbSJdPWUudWlkc1swXS5pZCxlLmV4dCYmQXJyYXkuaXNBcnJheShlLmV4dC5zZWdtZW50cykmJmUuZXh0LnNlZ21lbnRzLmxlbmd0aCYmKHBbInRnX3YuTElzZWciXT1lLmV4dC5zZWdtZW50cy5qb2luKCIsIikpKToibGl2ZXJhbXAuY29tIj09PWUuc291cmNlP3AueF9saXZlcmFtcGlkbD1lLnVpZHNbMF0uaWQ6ImlkNS1zeW5jLmNvbSI9PT1lLnNvdXJjZT9wWyJlaWRfaWQ1LXN5bmMuY29tIl09IiIuY29uY2F0KGUudWlkc1swXS5pZCwiXiIpLmNvbmNhdChlLnVpZHNbMF0uYXR5cGUsIl4iKS5jb25jYXQoZS51aWRzWzBdLmV4dCYmZS51aWRzWzBdLmV4dC5saW5rVHlwZXx8IiIpOnBbImVpZF8iLmNvbmNhdChlLnNvdXJjZSldPSIiLmNvbmNhdChlLnVpZHNbMF0uaWQsIl4iKS5jb25jYXQoZS51aWRzWzBdLmF0eXBlfHwiIiksIXAucHB1aWQpe3ZhciByPWMoKShlLnVpZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmV4dCYmInBwdWlkIj09PWUuZXh0LnN0eXBlfSkpO3ImJnIuaWQmJihwLnBwdWlkPXIuaWQpfX1jYXRjaChyKXtuLmxvZ1dhcm4oIlJ1Ymljb246IGVycm9yIHJlYWRpbmcgZWlkOiIsZSxyKX19KSksci5nZHByQ29uc2VudCYmKCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihwLmdkcHI9TnVtYmVyKHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpKSxwLmdkcHJfY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHIudXNwQ29uc2VudCYmKHAudXNfcHJpdmFjeT1lbmNvZGVVUklDb21wb25lbnQoci51c3BDb25zZW50KSkscC5ycF9tYXhiaWRzPXIuYmlkTGltaXR8fDEsQyhlLGEuYixwKSwhMD09PW8uYi5nZXRDb25maWcoImNvcHBhIikmJihwLmNvcHBhPTEpLGUuc2NoYWluJiZVKGUuc2NoYWluKSYmKHAucnBfc2NoYWluPV8uc2VyaWFsaXplU3VwcGx5Q2hhaW4oZS5zY2hhaW4pKSxwfSxzZXJpYWxpemVTdXBwbHlDaGFpbjpmdW5jdGlvbihlKXtpZighVShlKSlyZXR1cm4iIjt2YXIgcj1lLnZlcix0PWUuY29tcGxldGUsbj1lLm5vZGVzO3JldHVybiIiLmNvbmNhdChyLCIsIikuY29uY2F0KHQsIiEiKS5jb25jYXQoXy5zZXJpYWxpemVTdXBwbHlDaGFpbk5vZGVzKG4pKX0sc2VyaWFsaXplU3VwcGx5Q2hhaW5Ob2RlczpmdW5jdGlvbihlKXt2YXIgcj1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdO3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIubWFwKChmdW5jdGlvbihyKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGVbcl18fCIiKX0pKS5qb2luKCIsIil9KSkuam9pbigiISIpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PXIuYmlkUmVxdWVzdDtpZighKGU9ZS5ib2R5KXx8Im9iamVjdCIhPT1iKGUpKXJldHVybltdO2lmKGUuc2VhdGJpZCl7dmFyIGk9bi5kZWVwQWNjZXNzKGUsImV4dC5lcnJvcnMucnViaWNvbiIpO0FycmF5LmlzQXJyYXkoaSkmJmkubGVuZ3RoPjAmJm4ubG9nV2FybigiUnViaWNvbjogRXJyb3IgaW4gdmlkZW8gcmVzcG9uc2UiKTt2YXIgbz1bXTtyZXR1cm4gZS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKHIpeyhyLmJpZHx8W10pLmZvckVhY2goKGZ1bmN0aW9uKGkpe3ZhciBzPXtyZXF1ZXN0SWQ6dC5iaWRJZCxjdXJyZW5jeTplLmN1cnx8IlVTRCIsY3JlYXRpdmVJZDppLmNyaWQsY3BtOmkucHJpY2V8fDAsYmlkZGVyQ29kZTpyLnNlYXQsdHRsOjMwMCxuZXRSZXZlbnVlOiExIT09eC5uZXRSZXZlbnVlLHdpZHRoOmkud3x8bi5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8udyIpfHxuLmRlZXBBY2Nlc3ModCwicGFyYW1zLnZpZGVvLnBsYXllcldpZHRoIiksaGVpZ2h0OmkuaHx8bi5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8uaCIpfHxuLmRlZXBBY2Nlc3ModCwicGFyYW1zLnZpZGVvLnBsYXllckhlaWdodCIpfTtpLmlkJiYocy5zZWF0QmlkSWQ9aS5pZCksaS5kZWFsaWQmJihzLmRlYWxJZD1pLmRlYWxpZCksaS5hZG9tYWluJiZuLmRlZXBTZXRWYWx1ZShzLCJtZXRhLmFkdmVydGlzZXJEb21haW5zIixBcnJheS5pc0FycmF5KGkuYWRvbWFpbik/aS5hZG9tYWluOltpLmFkb21haW5dKSxuLmRlZXBBY2Nlc3MoaSwiZXh0LmJpZGRlci5ycC5hZHZpZCIpJiZuLmRlZXBTZXRWYWx1ZShzLCJtZXRhLmFkdmVydGlzZXJJZCIsaS5leHQuYmlkZGVyLnJwLmFkdmlkKTt2YXIgYz1uLmRlZXBBY2Nlc3MoZSwiZXh0LnJlc3BvbnNldGltZW1pbGxpcy5ydWJpY29uIik7aWYodCYmYyYmKHQuc2VydmVyUmVzcG9uc2VUaW1lTXM9Yyksbi5kZWVwQWNjZXNzKGksImV4dC5wcmViaWQudHlwZSIpPT09YS5kKXtzLm1lZGlhVHlwZT1hLmQsbi5kZWVwU2V0VmFsdWUocywibWV0YS5tZWRpYVR5cGUiLGEuZCk7dmFyIHU9bi5kZWVwQWNjZXNzKGksImV4dC5wcmViaWQudGFyZ2V0aW5nIik7dSYmIm9iamVjdCI9PT1iKHUpJiYocy5hZHNlcnZlclRhcmdldGluZz11KSxpLmV4dC5wcmViaWQuY2FjaGUmJiJvYmplY3QiPT09YihpLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbCkmJmkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQmJmkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybD8ocy52aWRlb0NhY2hlS2V5PWkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQscy52YXN0VXJsPWkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybCk6dSYmdS5oYl91dWlkJiZ1LmhiX2NhY2hlX2hvc3QmJnUuaGJfY2FjaGVfcGF0aCYmKHMudmlkZW9DYWNoZUtleT11LmhiX3V1aWQscy52YXN0VXJsPSJodHRwczovLyIuY29uY2F0KHUuaGJfY2FjaGVfaG9zdCkuY29uY2F0KHUuaGJfY2FjaGVfcGF0aCwiP3V1aWQ9IikuY29uY2F0KHUuaGJfdXVpZCkpLGkuYWRtJiYocy52YXN0WG1sPWkuYWRtKSxpLm51cmwmJihzLnZhc3RVcmw9aS5udXJsKSwhcy52YXN0VXJsJiZpLm51cmwmJihzLnZhc3RVcmw9aS5udXJsKSwib3V0c3RyZWFtIj09PW4uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKS50b0xvd2VyQ2FzZSgpJiYocy5yZW5kZXJlcj1mdW5jdGlvbihlKXt2YXIgcj1kLmEuaW5zdGFsbCh7aWQ6ZS5hZElkLHVybDp4LnJlbmRlcmVyVXJsfHx5LGNvbmZpZzp4LnJlbmRlcmVyQ29uZmlnfHx7fSxsb2FkZWQ6ITEsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KTt0cnl7ci5zZXRSZW5kZXIoail9Y2F0Y2goZSl7bi5sb2dXYXJuKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiByfShzKSl9ZWxzZSBuLmxvZ1dhcm4oIlJ1Ymljb246IHZpZGVvIHJlc3BvbnNlIHJlY2VpdmVkIG5vbi12aWRlbyBtZWRpYSB0eXBlIik7by5wdXNoKHMpfSkpfSkpLG99dmFyIHMsYz1lLmFkcyx1PTA7cmV0dXJuIm9iamVjdCIhPT1iKHQpfHxBcnJheS5pc0FycmF5KHQpfHwidmlkZW8iIT09dyh0KXx8Im9iamVjdCIhPT1iKGMpfHwoYz1jW3QuYWRVbml0Q29kZV0pLCFBcnJheS5pc0FycmF5KGMpfHxjLmxlbmd0aDwxP1tdOmMucmVkdWNlKChmdW5jdGlvbihyLGksbyl7aWYoaS5pbXByZXNzaW9uX2lkJiZzPT09aS5pbXByZXNzaW9uX2lkP3UrKzpzPWkuaW1wcmVzc2lvbl9pZCwib2siIT09aS5zdGF0dXMpcmV0dXJuIHI7dmFyIGMsZCxwPUFycmF5LmlzQXJyYXkodCk/dFtvLXVdOnQ7aWYocCYmIm9iamVjdCI9PT1iKHApKXt2YXIgbD17cmVxdWVzdElkOnAuYmlkSWQsY3VycmVuY3k6IlVTRCIsY3JlYXRpdmVJZDppLmNyZWF0aXZlX2lkfHwiIi5jb25jYXQoaS5uZXR3b3JrfHwiIiwiLSIpLmNvbmNhdChpLmFkdmVydGlzZXJ8fCIiKSxjcG06aS5jcG18fDAsZGVhbElkOmkuZGVhbCx0dGw6MzAwLG5ldFJldmVudWU6ITEhPT14Lm5ldFJldmVudWUscnViaWNvbjp7YWR2ZXJ0aXNlcklkOmkuYWR2ZXJ0aXNlcixuZXR3b3JrSWQ6aS5uZXR3b3JrfSxtZXRhOnthZHZlcnRpc2VySWQ6aS5hZHZlcnRpc2VyLG5ldHdvcmtJZDppLm5ldHdvcmssbWVkaWFUeXBlOmEuYn19O2lmKGkuY3JlYXRpdmVfdHlwZSYmKGwubWVkaWFUeXBlPWkuY3JlYXRpdmVfdHlwZSksaS5hZG9tYWluJiYobC5tZXRhLmFkdmVydGlzZXJEb21haW5zPUFycmF5LmlzQXJyYXkoaS5hZG9tYWluKT9pLmFkb21haW46W2kuYWRvbWFpbl0pLGkuY3JlYXRpdmVfdHlwZT09PWEuZClsLndpZHRoPXAucGFyYW1zLnZpZGVvLnBsYXllcldpZHRoLGwuaGVpZ2h0PXAucGFyYW1zLnZpZGVvLnBsYXllckhlaWdodCxsLnZhc3RVcmw9aS5jcmVhdGl2ZV9kZXBvdF91cmwsbC5pbXByZXNzaW9uX2lkPWkuaW1wcmVzc2lvbl9pZCxsLnZpZGVvQ2FjaGVLZXk9aS5pbXByZXNzaW9uX2lkO2Vsc2V7bC5hZD0oYz1pLnNjcmlwdCxkPWkuaW1wcmVzc2lvbl9pZCwiPGh0bWw+XG48aGVhZD48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+aW5EYXBJRj10cnVlOzxcL3NjcmlwdD48L2hlYWQ+XG48Ym9keSBzdHlsZT0nbWFyZ2luIDogMDsgcGFkZGluZzogMDsnPlxuXHgzYyEtLSBSdWJpY29uIFByb2plY3QgQWQgVGFnIC0tXHgzZVxuPGRpdiBkYXRhLXJwLWltcHJlc3Npb24taWQ9JyIuY29uY2F0KGQsIic+XG48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+IikuY29uY2F0KGMsIjxcL3NjcmlwdD5cbjwvZGl2PlxuPC9ib2R5PlxuPC9odG1sPiIpKTt2YXIgZj1tKGhbaS5zaXplX2lkXS5zcGxpdCgieCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcihlKX0pKSwyKTtsLndpZHRoPWZbMF0sbC5oZWlnaHQ9ZlsxXX1sLnJ1Ymljb25UYXJnZXRpbmc9KEFycmF5LmlzQXJyYXkoaS50YXJnZXRpbmcpP2kudGFyZ2V0aW5nOltdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGVbci5rZXldPXIudmFsdWVzWzBdLGV9KSx7cnBmbF9lbGVtaWQ6cC5hZFVuaXRDb2RlfSksci5wdXNoKGwpfWVsc2Ugbi5sb2dFcnJvcigiUnViaWNvbjogYmlkUmVxdWVzdCB1bmRlZmluZWQgYXQgaW5kZXggcG9zaXRpb246Ii5jb25jYXQobyksdCxlKTtyZXR1cm4gcn0pLFtdKS5zb3J0KChmdW5jdGlvbihlLHIpe3JldHVybihyLmNwbXx8MCktKGUuY3BtfHwwKX0pKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe2lmKCFOJiZlLmlmcmFtZUVuYWJsZWQpe3ZhciBpPSIiO3JldHVybiB0JiYic3RyaW5nIj09dHlwZW9mIHQuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXM/aSs9Ij9nZHByPSIuY29uY2F0KE51bWJlcih0LmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQodC5jb25zZW50U3RyaW5nKTppKz0iP2dkcHJfY29uc2VudD0iLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpKSxuJiYoaSs9IiIuY29uY2F0KGk/IiYiOiI/IiwidXNfcHJpdmFjeT0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KG4pKSksTj0hMCx7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC5zeW5jSG9zdHx8ImV1cyIsIi5ydWJpY29ucHJvamVjdC5jb20vdXN5bmMuaHRtbCIpK2l9fX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIG4uY29udmVydFR5cGVzKHthY2NvdW50SWQ6Im51bWJlciIsc2l0ZUlkOiJudW1iZXIiLHpvbmVJZDoibnVtYmVyIn0sZSl9fTtmdW5jdGlvbiBBKGUscil7dmFyIHQ9by5iLmdldENvbmZpZygicGFnZVVybCIpO3JldHVybiBlLnBhcmFtcy5yZWZlcnJlcj90PWUucGFyYW1zLnJlZmVycmVyOnR8fCh0PXIucmVmZXJlckluZm8ucmVmZXJlciksZS5wYXJhbXMuc2VjdXJlP3QucmVwbGFjZSgvXmh0dHA6L2ksImh0dHBzOiIpOnR9ZnVuY3Rpb24gaihlKXt2YXIgcix0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuYWRVbml0Q29kZSk7KHI9dC5xdWVyeVNlbGVjdG9yKCJkaXZbaWRePSdnb29nbGVfYWRzJ10iKSkmJnIuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIiksZnVuY3Rpb24oZSl7dmFyIHI9ZS5xdWVyeVNlbGVjdG9yKCJzY3JpcHRbaWRePSdzYXNfc2NyaXB0J10iKSx0PXImJnIubmV4dFNpYmxpbmc7dCYmImlmcmFtZSI9PT10LmxvY2FsTmFtZSYmdC5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsIm5vbmUiKX0odCk7dmFyIG49ZS5yZW5kZXJlci5nZXRDb25maWcoKTtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93Lk1hZ25pdGVBcGV4LnJlbmRlckFkKHt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCx2YXN0VXJsOmUudmFzdFVybCxwbGFjZW1lbnQ6e2F0dGFjaFRvOiIjIi5jb25jYXQoZS5hZFVuaXRDb2RlKSxhbGlnbjpuLmFsaWdufHwiY2VudGVyIixwb3NpdGlvbjpuLnBvc2l0aW9ufHwiYXBwZW5kIn0sY2xvc2VCdXR0b246bi5jbG9zZUJ1dHRvbnx8ITEsbGFiZWw6bi5sYWJlbHx8dm9pZCAwLGNvbGxhcHNlOm4uY29sbGFwc2V8fCEwfSl9KSl9ZnVuY3Rpb24gUyhlLHIpe3ZhciB0PWUucGFyYW1zO2lmKCJ2aWRlbyI9PT1yKXt2YXIgaT1bXTtyZXR1cm4gdC52aWRlbyYmdC52aWRlby5wbGF5ZXJXaWR0aCYmdC52aWRlby5wbGF5ZXJIZWlnaHQ/aT1bdC52aWRlby5wbGF5ZXJXaWR0aCx0LnZpZGVvLnBsYXllckhlaWdodF06QXJyYXkuaXNBcnJheShuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpJiYxPT09ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUubGVuZ3RoP2k9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF06QXJyYXkuaXNBcnJheShlLnNpemVzKSYmZS5zaXplcy5sZW5ndGg+MCYmQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKSYmZS5zaXplc1swXS5sZW5ndGg+MSYmKGk9ZS5zaXplc1swXSksaX12YXIgbz1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0LnNpemVzKT9vPXQuc2l6ZXM6dm9pZCAwIT09bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik/bz1JKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpOkFycmF5LmlzQXJyYXkoZS5zaXplcykmJmUuc2l6ZXMubGVuZ3RoPjA/bz1JKGUuc2l6ZXMpOm4ubG9nV2FybigiUnViaWNvbjogbm8gc2l6ZXMgYXJlIHNldHVwIG9yIGZvdW5kIiksUihvKX1mdW5jdGlvbiBDKGUscix0KXt2YXIgaT17dXNlcjp7ZXh0OntkYXRhOmwoe30sZS5wYXJhbXMudmlzaXRvcil9fSxzaXRlOntleHQ6e2RhdGE6bCh7fSxlLnBhcmFtcy5pbnZlbnRvcnkpfX19O2UucGFyYW1zLmtleXdvcmRzJiYoaS5zaXRlLmtleXdvcmRzPW4uaXNBcnJheShlLnBhcmFtcy5rZXl3b3Jkcyk/ZS5wYXJhbXMua2V5d29yZHMuam9pbigiLCIpOmUucGFyYW1zLmtleXdvcmRzKTt2YXIgcz1uLm1lcmdlRGVlcCh7fSxvLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fSxpKSxjPW4uZGVlcEFjY2VzcyhlLm9ydGIySW1wLCJleHQuZGF0YSIpfHx7fSxkPXt1c2VyOls0XSxzaXRlOlsxLDIsNSw2XX0sdT17dXNlcjoidGdfdi4iLHNpdGU6InRnX2kuIixhZHNlcnZlcjoidGdfaS5kZnBfYWRfdW5pdF9jb2RlIixwYmFkc2xvdDoidGdfaS5wYmFkc2xvdCIsa2V5d29yZHM6Imt3In0scD1mdW5jdGlvbihlLHIsdCl7aWYoImRhdGEiPT09ciYmQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlZ21lbnQmJm4uZGVlcEFjY2VzcyhlLCJleHQuc2VndGF4IikmJmRbdF0mJi0xIT09ZFt0XS5pbmRleE9mKG4uZGVlcEFjY2VzcyhlLCJleHQuc2VndGF4IikpfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5zZWdtZW50LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlLnB1c2goci5pZCksZX0pLFtdKTtpZihyLmxlbmd0aD4wKXJldHVybiByLnRvU3RyaW5nKCl9KSkudG9TdHJpbmcoKTtpZigib2JqZWN0IiE9PWIoZSl8fEFycmF5LmlzQXJyYXkoZSkpe2lmKHZvaWQgMCE9PWUpcmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT09YihlKSYmdm9pZCAwIT09ZSlyZXR1cm4gZS50b1N0cmluZygpO24ubG9nV2FybigiUnViaWNvbjogRmlsdGVyZWQgdmFsdWU6ICIsZSwiZm9yIGtleSIsciwiOiBFeHBlY3RlZCB2YWx1ZSB0byBiZSBzdHJpbmcsIGludGVnZXIsIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MvaW50cyIpfSkpLnRvU3RyaW5nKCk6ZS50b1N0cmluZygpfWVsc2Ugbi5sb2dXYXJuKCJSdWJpY29uOiBGaWx0ZXJlZCBGUEQga2V5OiAiLHIsIjogRXhwZWN0ZWQgdmFsdWUgdG8gYmUgc3RyaW5nLCBpbnRlZ2VyLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzL2ludHMiKX0sZj1mdW5jdGlvbihlLHIsbil7dmFyIGk9IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXSxvPXAoZSxuLHIpLGE9dVtuXSYmaT8iIi5jb25jYXQodVtuXSk6ImRhdGEiPT09bj8iIi5jb25jYXQodVtyXSwiaWFiIik6IiIuY29uY2F0KHVbcl0pLmNvbmNhdChuKTt0W2FdPXRbYV0/dFthXS5jb25jYXQoIiwiLG8pOm99O09iamVjdC5rZXlzKGMpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJhZHNlcnZlciI9PT1lP1sibmFtZSIsImFkc2xvdCJdLmZvckVhY2goKGZ1bmN0aW9uKHIpe2NbZV1bcl0mJihjW2VdW3JdPWNbZV1bcl0udG9TdHJpbmcoKS5yZXBsYWNlKC9eXC8rLywiIikpfSkpOiJwYmFkc2xvdCI9PT1lJiYoY1tlXT1jW2VdLnRvU3RyaW5nKCkucmVwbGFjZSgvXlwvKy8sIiIpKX0pKSxyPT09YS5iPyhbInNpdGUiLCJ1c2VyIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoc1tlXSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7InNpdGUiPT09ZSYmImNvbnRlbnQiPT09ciYmc1tlXVtyXS5kYXRhP2Yoc1tlXVtyXS5kYXRhLGUsImRhdGEiKToiZXh0IiE9PXI/ZihzW2VdW3JdLGUscik6c1tlXVtyXS5kYXRhJiZPYmplY3Qua2V5cyhzW2VdLmV4dC5kYXRhKS5mb3JFYWNoKChmdW5jdGlvbihyKXtmKHNbZV0uZXh0LmRhdGFbcl0sZSxyLCExKX0pKX0pKX0pKSxPYmplY3Qua2V5cyhjKS5mb3JFYWNoKChmdW5jdGlvbihlKXsiYWRzZXJ2ZXIiPT09ZT9mKGNbZV0uYWRzbG90LG5hbWUsZSk6ZihjW2VdLCJzaXRlIixlKX0pKSk6KE9iamVjdC5rZXlzKGMpLmxlbmd0aCYmbi5tZXJnZURlZXAodC5pbXBbMF0uZXh0LHtkYXRhOmN9KSxuLm1lcmdlRGVlcCh0LHMpKX1mdW5jdGlvbiBJKGUpe3JldHVybiBuLnBhcnNlU2l6ZXNJbnB1dChlKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIHQ9cGFyc2VJbnQoaFtyXSwxMCk7cmV0dXJuIHQmJmUucHVzaCh0KSxlfSksW10pfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIm9iamVjdCI9PT1iKG4uZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKSkmJnZvaWQgMCE9PW4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGEuZCkpfWZ1bmN0aW9uIHcoZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtyZXR1cm4gTyhlKT8tMT09PVsib3V0c3RyZWFtIiwiaW5zdHJlYW0iXS5pbmRleE9mKG4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGEuZCwiLmNvbnRleHQiKSkpP3ZvaWQociYmbi5sb2dFcnJvcigiUnViaWNvbjogbWVkaWFUeXBlcy52aWRlby5jb250ZXh0IG11c3QgYmUgb3V0c3RyZWFtIG9yIGluc3RyZWFtIikpOlMoZSwidmlkZW8iKS5sZW5ndGg8Mj92b2lkKHImJm4ubG9nRXJyb3IoIlJ1Ymljb246IGNvdWxkIG5vdCBkZXRlcm1pbmUgdGhlIHBsYXllclNpemUgb2YgdGhlIHZpZGVvIikpOihyJiZuLmxvZ01lc3NhZ2UoIlJ1Ymljb246IG1ha2luZyB2aWRlbyByZXF1ZXN0IGZvciBhZFVuaXQiLGUuYWRVbml0Q29kZSksInZpZGVvIik6MD09PVMoZSwiYmFubmVyIikubGVuZ3RoP3ZvaWQociYmbi5sb2dFcnJvcigiUnViaWNvbjogY291bGQgbm90IGRldGVybWluZSB0aGUgc2l6ZXMgZm9yIGJhbm5lciByZXF1ZXN0IikpOihyJiZuLmxvZ01lc3NhZ2UoIlJ1Ymljb246IG1ha2luZyBiYW5uZXIgcmVxdWVzdCBmb3IgYWRVbml0IixlLmFkVW5pdENvZGUpLCJiYW5uZXIiKX12YXIgaz1mdW5jdGlvbigpe3JldHVybiB4PXt9fTtmdW5jdGlvbiBSKGUpe3ZhciByPVsxNSwyLDldO3JldHVybiBlLnNvcnQoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ci5pbmRleE9mKGUpLGk9ci5pbmRleE9mKHQpO3JldHVybiBuPi0xfHxpPi0xPy0xPT09bj8xOi0xPT09aT8tMTpuLWk6ZS10fSkpfWZ1bmN0aW9uIHooZSl7dmFyIHI9cGFyc2VJbnQobi5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5zaXplX2lkIikpO3JldHVybiBpc05hTihyKT8ib3V0c3RyZWFtIj09PW4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGEuZCwiLmNvbnRleHQiKSk/MjAzOjIwMTpyfWZ1bmN0aW9uIFQoZSl7cmV0dXJue3Jhbmdlczp7bG93Olt7bWF4OjUsaW5jcmVtZW50Oi41fV0sbWVkaXVtOlt7bWF4OjIwLGluY3JlbWVudDouMX1dLGhpZ2g6W3ttYXg6MjAsaW5jcmVtZW50Oi4wMX1dLGF1dG86W3ttYXg6NSxpbmNyZW1lbnQ6LjA1fSx7bWluOjUsbWF4OjEwLGluY3JlbWVudDouMX0se21pbjoxMCxtYXg6MjAsaW5jcmVtZW50Oi41fV0sZGVuc2U6W3ttYXg6MyxpbmNyZW1lbnQ6LjAxfSx7bWluOjMsbWF4OjgsaW5jcmVtZW50Oi4wNX0se21pbjo4LG1heDoyMCxpbmNyZW1lbnQ6LjV9XSxjdXN0b206ZS5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IikmJmUuZ2V0Q29uZmlnKCJjdXN0b21QcmljZUJ1Y2tldCIpLmJ1Y2tldHN9W2UuZ2V0Q29uZmlnKCJwcmljZUdyYW51bGFyaXR5IildfX1mdW5jdGlvbiBFKGUpe3ZhciByPSEwLHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFtdKSxpPXttaW1lczp0LHByb3RvY29sczp0LGxpbmVhcml0eTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoMCksYXBpOnR9O3JldHVybiBPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uIit0KSkhPT1pW3RdJiYocj0hMSxuLmxvZ0Vycm9yKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLiIrdCsiIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIG9mIHR5cGU6ICIraVt0XSkpfSkpLHJ9ZnVuY3Rpb24gVShlKXt2YXIgcj0hMSx0PVsiYXNpIiwic2lkIiwiaHAiXTtyZXR1cm4gZS5ub2Rlcz8oKHI9ZS5ub2Rlcy5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGU/dC5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaGFzT3duUHJvcGVydHkoZSl9KSk6ZX0pLCEwKSl8fG4ubG9nRXJyb3IoIlJ1Ymljb246IHJlcXVpcmVkIHNjaGFpbiBwYXJhbXMgbWlzc2luZyIpLHIpOnJ9ZnVuY3Rpb24gUChlLHIpe3JldHVybiJycF9zY2hhaW4iPT09ZT8icnBfc2NoYWluPSIuY29uY2F0KHIpOiIiLmNvbmNhdChlLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChyKSl9dmFyIE49ITE7T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKF8pfX0sWzcxOV0pOwp1cGJqc0NodW5rKFsxMjRdLHs3MjU6ZnVuY3Rpb24obixpLGUpe24uZXhwb3J0cz1lKDcyNil9LDcyNjpmdW5jdGlvbihuLGksZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxpLmlzU2NoYWluT2JqZWN0VmFsaWQ9aCxpLmlzVmFsaWRTY2hhaW5Db25maWc9dSxpLm1ha2VCaWRSZXF1ZXN0c0hvb2s9TyxpLmluaXQ9bDt2YXIgdD1lKDMpLGM9ZSg4KSxvPWUoMCksYT0iSW52YWxpZCBzY2hhaW4gb2JqZWN0IGZvdW5kOiAiLHM9IiBzaG91bGQgYmUgYSBzdHJpbmciLHI9IiBzaG91bGQgYmUgYW4gSW50ZWdlciIsZj0iIHNob3VsZCBiZSBhbiBvYmplY3QiLGQ9e1NUUklDVDoic3RyaWN0IixSRUxBWEVEOiJyZWxheGVkIixPRkY6Im9mZiJ9LGI9W107ZnVuY3Rpb24gaChuLGkpe3ZhciBlPSJEZXRlY3RlZCBzb21ldGhpbmcgd3Jvbmcgd2l0aGluIGFuIHNjaGFpbiBjb25maWc6Iix0PSIiO2Z1bmN0aW9uIGMobil7dCs9IlxuIitufWZ1bmN0aW9uIGEoKXshMD09PWk/T2JqZWN0KG8ubG9nRXJyb3IpKGUsbix0KTpPYmplY3Qoby5sb2dXYXJuKShlLG4sdCl9aWYoIU9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4pJiYoYygic2NoYWluLmNvbmZpZyIrZiksYSgpLGkpKXJldHVybiExO2lmKE9iamVjdChvLmlzTnVtYmVyKShuLmNvbXBsZXRlKSYmT2JqZWN0KG8uaXNJbnRlZ2VyKShuLmNvbXBsZXRlKXx8Yygic2NoYWluLmNvbmZpZy5jb21wbGV0ZSIrciksT2JqZWN0KG8uaXNTdHIpKG4udmVyKXx8Yygic2NoYWluLmNvbmZpZy52ZXIiK3MpLE9iamVjdChvLmhhc093bikobiwiZXh0IikmJihPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuLmV4dCl8fGMoInNjaGFpbi5jb25maWcuZXh0IitmKSksT2JqZWN0KG8uaXNBcnJheSkobi5ub2Rlcykpbi5ub2Rlcy5mb3JFYWNoKChmdW5jdGlvbihuLGkpe09iamVjdChvLmlzU3RyKShuLmFzaSl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5hc2kiKStzKSxPYmplY3Qoby5pc1N0cikobi5zaWQpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uc2lkIikrcyksT2JqZWN0KG8uaXNOdW1iZXIpKG4uaHApJiZPYmplY3Qoby5pc0ludGVnZXIpKG4uaHApfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uaHAiKStyKSxPYmplY3Qoby5oYXNPd24pKG4sInJpZCIpJiYoT2JqZWN0KG8uaXNTdHIpKG4ucmlkKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLnJpZCIpK3MpKSxPYmplY3Qoby5oYXNPd24pKG4sIm5hbWUiKSYmKE9iamVjdChvLmlzU3RyKShuLm5hbWUpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0ubmFtZSIpK3MpKSxPYmplY3Qoby5oYXNPd24pKG4sImRvbWFpbiIpJiYoT2JqZWN0KG8uaXNTdHIpKG4uZG9tYWluKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmRvbWFpbiIpK3MpKSxPYmplY3Qoby5oYXNPd24pKG4sImV4dCIpJiYoT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobi5leHQpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uZXh0IikrZikpfSkpO2Vsc2UgaWYoYygic2NoYWluLmNvbmZpZy5ub2RlcyBzaG91bGQgYmUgYW4gQXJyYXkiKSxhKCksaSlyZXR1cm4hMTtyZXR1cm4hKHQubGVuZ3RoPjAmJihhKCksaSkpfWZ1bmN0aW9uIHUobil7cmV0dXJuIHZvaWQgMCE9PW4mJighIU9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4pfHwoT2JqZWN0KG8ubG9nRXJyb3IpKGErInRoZSBmb2xsb3dpbmcgc2NoYWluIGNvbmZpZyB3aWxsIG5vdCBiZSB1c2VkIGFzIHNjaGFpbiBpcyBub3QgYW4gb2JqZWN0LiIsbiksITEpKX1mdW5jdGlvbiBPKG4saSl7dmFyIGU9dC5iLmdldENvbmZpZygic2NoYWluIiksYz10LmIuZ2V0QmlkZGVyQ29uZmlnKCk7aS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgaT1uLmJpZGRlckNvZGUsdD1mdW5jdGlvbihuKXtyZXR1cm4gY1tuXSYmY1tuXS5zY2hhaW58fGV9KGkpO24uYmlkcy5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgZT1mdW5jdGlvbihuLGkpe3ZhciBlPWQuU1RSSUNUO2lmKHUobikpe2lmKE9iamVjdChvLmlzU3RyKShuLnZhbGlkYXRpb24pJiYtMSE9Yi5pbmRleE9mKG4udmFsaWRhdGlvbikmJihlPW4udmFsaWRhdGlvbiksZT09PWQuT0ZGKXJldHVybiBuLmNvbmZpZztpZihoKG4uY29uZmlnLCEoZSE9PWQuU1RSSUNUKSkpcmV0dXJuIG4uY29uZmlnO09iamVjdChvLmxvZ0Vycm9yKShhKyJkdWUgdG8gdGhlICdzdHJpY3QnIHZhbGlkYXRpb24gc2V0dGluZywgdGhpcyBzY2hhaW4gY29uZmlnIHdpbGwgbm90IGJlIHBhc3NlZCB0byBiaWRkZXIgJyIuY29uY2F0KGksIicuICBTZWUgYWJvdmUgZXJyb3IgZm9yIGRldGFpbHMuIikpfXJldHVybiBudWxsfSh0LGkpO2UmJihuLnNjaGFpbj1lKX0pKX0pKSxuKGkpfWZ1bmN0aW9uIGwoKXtjLmRlZmF1bHQubWFrZUJpZFJlcXVlc3RzLmFmdGVyKE8pfU9iamVjdChvLl9lYWNoKShkLChmdW5jdGlvbihuKXtyZXR1cm4gYi5wdXNoKG4pfSkpLGwoKX19LFs3MjVdKTsKdXBianNDaHVuayhbMTIxXSx7NzMzOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3MzQpfSw3MzQ6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNoYXJldGhyb3VnaEludGVybmFsIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxyLmQodCwic2hhcmV0aHJvdWdoQWRhcHRlclNwZWMiLChmdW5jdGlvbigpe3JldHVybiBwfSkpO3ZhciBuPXIoMSksaT1yKDApLGE9cigzKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbz0ic2hhcmV0aHJvdWdoIixjPVsxLDFdLGQ9e2I2NEVuY29kZVVuaWNvZGU6bCxoYW5kbGVJZnJhbWU6ZnVuY3Rpb24oKXt2YXIgZT0hMTtpZighd2luZG93LmxvY2tlZEluRnJhbWUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3Quc3JjPSJodHRwczovL25hdGl2ZS5zaGFyZXRocm91Z2guY29tL2Fzc2V0cy9zZnAtc2V0LXRhcmdldGluZy5qcyIsdC50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO3RyeXt3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZCh0KSxlPSEwfWNhdGNoKGUpe2kubG9nRXJyb3IoIlRyb3VibGUgd3JpdGluZyBmcmFtZSBidXN0ZXIgc2NyaXB0LCBlcnJvciBkZXRhaWxzOiIsZSl9fWlmKCEoZT93aW5kb3cudG9wLlNUUiYmd2luZG93LnRvcC5TVFIuVGFnOndpbmRvdy5TVFImJndpbmRvdy5TVFIuVGFnKSl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7ci5zcmM9Imh0dHBzOi8vbmF0aXZlLnNoYXJldGhyb3VnaC5jb20vYXNzZXRzL3NmcC5qcyIsci50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO3RyeXtlP3dpbmRvdy50b3AuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZChyKTp3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZChyKX1jYXRjaChlKXtpLmxvZ0Vycm9yKCJUcm91YmxlIHdyaXRpbmcgc2ZwIHNjcmlwdCwgZXJyb3IgZGV0YWlsczoiLGUpfX19LGlzTG9ja2VkSW5GcmFtZTpmdW5jdGlvbigpe3dpbmRvdy5sb2NrZWRJbkZyYW1lPSExO3RyeXt3aW5kb3cubG9ja2VkSW5GcmFtZT0hd2luZG93LnRvcC5kb2N1bWVudH1jYXRjaChlKXt3aW5kb3cubG9ja2VkSW5GcmFtZT1lIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9ufX0sZ2V0UHJvdG9jb2w6ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x9fSxwPXtjb2RlOm8saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5wa2V5JiZlLmJpZGRlcj09PW99LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPXtwbGFjZW1lbnRfa2V5OmUucGFyYW1zLnBrZXksYmlkSWQ6ZS5iaWRJZCxjb25zZW50X3JlcXVpcmVkOiExLGluc3RhbnRfcGxheV9jYXBhYmxlOmYoKSxoYlNvdXJjZToicHJlYmlkIixoYlZlcnNpb246IjUuMTEuMCIsc3RyVmVyc2lvbjoiMy40LjEifSxuPWkuZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO24mJihyLmdwaWQ9bikscyhyLGZ1bmN0aW9uKGUpe2lmKCFlLnVzZXJJZClyZXR1cm57fTt2YXIgdD17fSxyPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQudGRpZCIpO3ImJih0LnR0ZHVpZD1yKTt2YXIgbj1pLmRlZXBBY2Nlc3MoZSwidXNlcklkLnB1YmNpZCIpfHxpLmRlZXBBY2Nlc3MoZSwiY3J1bWJzLnB1YmNpZCIpO24mJih0LnB1YmNpZD1uKTt2YXIgYT1pLmRlZXBBY2Nlc3MoZSwidXNlcklkLmlkbF9lbnYiKTthJiYodC5pZGx1aWQ9YSk7dmFyIHM9aS5kZWVwQWNjZXNzKGUsInVzZXJJZC5pZDVpZC51aWQiKTtpZihzKXt0LmlkNXVpZD17aWQ6c307dmFyIG89aS5kZWVwQWNjZXNzKGUsInVzZXJJZC5pZDVpZC5leHQubGlua1R5cGUiKTtvJiYodC5pZDV1aWQubGlua1R5cGU9byl9dmFyIGM9aS5kZWVwQWNjZXNzKGUsInVzZXJJZC5saXBiLmxpcGJpZCIpO2MmJih0LmxpdWlkPWMpO3JldHVybiB0fShlKSk7dmFyIG89ZC5nZXRQcm90b2NvbCgpLmluZGV4T2YoImh0dHAiKTwwO3Iuc2VjdXJlPW98fGQuZ2V0UHJvdG9jb2woKS5pbmRleE9mKCJodHRwcyIpPi0xLHQmJnQuZ2RwckNvbnNlbnQmJnQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHIuY29uc2VudF9zdHJpbmc9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSx0JiZ0LmdkcHJDb25zZW50JiYoci5jb25zZW50X3JlcXVpcmVkPSEhdC5nZHByQ29uc2VudC5nZHByQXBwbGllcyksdCYmdC51c3BDb25zZW50JiYoci51c19wcml2YWN5PXQudXNwQ29uc2VudCksITA9PT1hLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYoci5jb3BwYT0hMCksZS5zY2hhaW4mJihyLnNjaGFpbj1KU09OLnN0cmluZ2lmeShlLnNjaGFpbikpO3ZhciBjPWZ1bmN0aW9uKGUpe2lmKGkuaXNGbihlLmdldEZsb29yKSl7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiJiYW5uZXIiLHNpemU6ZS5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX0pO2lmKGkuaXNQbGFpbk9iamVjdCh0KSYmIWlzTmFOKHQuZmxvb3IpJiYiVVNEIj09PXQuY3VycmVuY3kpcmV0dXJuIHBhcnNlRmxvYXQodC5mbG9vcil9cmV0dXJuIG51bGx9KGUpO3JldHVybiBjJiYoci5iaWRmbG9vcj1jKSxlLnBhcmFtcy5iYWR2JiYoci5iYWR2PWUucGFyYW1zLmJhZHYpLGUucGFyYW1zLmJjYXQmJihyLmJjYXQ9ZS5wYXJhbXMuYmNhdCkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2J0bHIuc2hhcmV0aHJvdWdoLmNvbS9XWXUyQlh2MS92MSIsZGF0YTpyLHN0ckRhdGE6e3NraXBJZnJhbWVCdXN0aW5nOmUucGFyYW1zLmlmcmFtZSxpZnJhbWVTaXplOmUucGFyYW1zLmlmcmFtZVNpemUsc2l6ZXM6ZS5zaXplc319fSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keTtpZighcnx8IXIuY3JlYXRpdmVzfHwhci5jcmVhdGl2ZXMubGVuZ3RoKXJldHVybltdO3ZhciBuPXIuY3JlYXRpdmVzWzBdLGk9YztyZXR1cm4odC5zdHJEYXRhLmlmcmFtZVNpemV8fHQuc3RyRGF0YS5zaXplcy5sZW5ndGgpJiYoaT10LnN0ckRhdGEuaWZyYW1lU2l6ZT90LnN0ckRhdGEuaWZyYW1lU2l6ZTpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybiBlWzBdKmVbMV19cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiB0KHIpPnQoZSk/cjplfSkpfSh0LnN0ckRhdGEuc2l6ZXMpKSxbe3JlcXVlc3RJZDp0LmRhdGEuYmlkSWQsd2lkdGg6aVswXSxoZWlnaHQ6aVsxXSxjcG06bi5jcG0sY3JlYXRpdmVJZDpuLmNyZWF0aXZlLmNyZWF0aXZlX2tleSxkZWFsSWQ6bi5jcmVhdGl2ZS5kZWFsX2lkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM2MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpuLmNyZWF0aXZlJiZuLmNyZWF0aXZlLmFkb21haW4/bi5jcmVhdGl2ZS5hZG9tYWluOltdfSxhZDp1KHIsdCl9XX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPW4/IiZ1c19wcml2YWN5PSIuY29uY2F0KG4pOiIiLGE9W107cmV0dXJuIGUucGl4ZWxFbmFibGVkJiZ0Lmxlbmd0aD4wJiZ0WzBdLmJvZHkmJnRbMF0uYm9keS5jb29raWVTeW5jVXJscyYmdFswXS5ib2R5LmNvb2tpZVN5bmNVcmxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2EucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplK2l9KX0pKSxhfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7fSxvbkJpZFdvbjpmdW5jdGlvbihlKXt9LG9uU2V0VGFyZ2V0aW5nOmZ1bmN0aW9uKGUpe319O2Z1bmN0aW9uIHUoZSx0KXt2YXIgcj0ic3RyX3Jlc3BvbnNlXyIuY29uY2F0KHQuZGF0YS5iaWRJZCksbj0nXG4gICAgPGRpdiBkYXRhLXN0ci1uYXRpdmUta2V5PSInLmNvbmNhdCh0LmRhdGEucGxhY2VtZW50X2tleSwnIiBkYXRhLXN0eC1yZXNwb25zZS1uYW1lPSInKS5jb25jYXQociwnIj5cbiAgICA8L2Rpdj5cbiAgICA8c2NyaXB0PnZhciAnKS5jb25jYXQociwnID0gIicpLmNvbmNhdChsKEpTT04uc3RyaW5naWZ5KGUpKSwnIjxcL3NjcmlwdD5cbiAgJyk7cmV0dXJuIHQuc3RyRGF0YS5za2lwSWZyYW1lQnVzdGluZz9uKz0nPHNjcmlwdCBzcmM9Imh0dHBzOi8vbmF0aXZlLnNoYXJldGhyb3VnaC5jb20vYXNzZXRzL3NmcC5qcyI+PFwvc2NyaXB0Pic6bis9IlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgKCIuY29uY2F0KGQuaXNMb2NrZWRJbkZyYW1lLnRvU3RyaW5nKCksIikoKVxuICAgICAgPFwvc2NyaXB0PlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgKCIpLmNvbmNhdChkLmhhbmRsZUlmcmFtZS50b1N0cmluZygpLCIpKClcbiAgICAgIDxcL3NjcmlwdD4iKSxufWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGJ0b2EoZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoLyUoWzAtOUEtRl17Mn0pL2csKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoIjB4Iit0KX0pKSl9ZnVuY3Rpb24gZigpe3ZhciBlPW5hdmlnYXRvci51c2VyQWdlbnQ7aWYoIWUpcmV0dXJuITE7dmFyIHQ9L0FuZHJvaWQvaS50ZXN0KGUpLHI9L2lQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KGUpLG49cGFyc2VJbnQoKC9DaHJvbWVcLyhbMC05XSspLy5leGVjKGUpfHxbMCwwXSlbMV0pLGk9cGFyc2VJbnQoKC9DcmlPU1wvKFswLTldKykvLmV4ZWMoZSl8fFswLDBdKVsxXSksYT1wYXJzZUludCgoL1ZlcnNpb25cLyhbMC05XSspLy5leGVjKGUpfHxbMCwwXSlbMV0pO3JldHVybiEhKHQmJm4+PTUzfHxyJiYoYT49MTB8fGk+PTUzKXx8IXQmJiFyKX1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikocCl9fSxbNzMzXSk7CnVwYmpzQ2h1bmsoWzE3XSx7MTg6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtyLmI9ZnVuY3Rpb24oZSl7dmFyIHI9W107Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlpZigicHViUHJvdmlkZWRJZCI9PT10KXI9ci5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBhPW4oZVt0XSx0KTthJiZyLnB1c2goYSl9cmV0dXJuIHJ9LHIuYT1mdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmlzUGxhaW5PYmplY3QoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbih0KXthLmRlZXBBY2Nlc3MoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmYS5kZWVwQWNjZXNzKGksdCsiLnNvdXJjZSIpJiZyLnB1c2goe3NvdXJjZTppW3RdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSxyfTt2YXIgYT10KDApLGk9e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgcj1hLnBpY2soZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXMocikubGVuZ3RoKXJldHVybiByfX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfX07ZnVuY3Rpb24gbihlLHIpe3ZhciB0PWlbcl07aWYodCYmZSl7dmFyIG49e307bi5zb3VyY2U9dC5zb3VyY2U7dmFyIG89YS5pc0ZuKHQuZ2V0VmFsdWUpP3QuZ2V0VmFsdWUoZSk6ZTtpZihhLmlzU3RyKG8pKXt2YXIgZD17aWQ6byxhdHlwZTp0LmF0eXBlfTtpZihhLmlzRm4odC5nZXRVaWRFeHQpKXt2YXIgcz10LmdldFVpZEV4dChlKTtzJiYoZC5leHQ9cyl9aWYobi51aWRzPVtkXSxhLmlzRm4odC5nZXRFaWRFeHQpKXt2YXIgYz10LmdldEVpZEV4dChlKTtjJiYobi5leHQ9Yyl9cmV0dXJuIG59fXJldHVybiBudWxsfX0sNzQ1OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg3NDYpfSw3NDY6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciBhPXQoMCksaT10KDIpLG49dCgzKSxvPXQoMTgpLGQ9dCgxKSxzPXtjb2RlOiJzbWFydGFkc2VydmVyIixndmxpZDo0NSxhbGlhc2VzOlsic21hcnQiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMuc2l0ZUlkJiZlLnBhcmFtcy5wYWdlSWQmJmUucGFyYW1zLmZvcm1hdElkKX0sc2VyaWFsaXplU3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLm5vZGVzKXJldHVybiBudWxsO3ZhciByPVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl07cmV0dXJuIiIuY29uY2F0KGUudmVyLCIsIikuY29uY2F0KGUuY29tcGxldGUsIiEiKStlLm5vZGVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIubWFwKChmdW5jdGlvbihyKXtyZXR1cm4gZVtyXT9lbmNvZGVVUklDb21wb25lbnQoZVtyXSk6IiJ9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKX0sYWRhcHRCYW5uZXJTaXplczpmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX0sZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3Q6ZnVuY3Rpb24oZSxyLHQpe3ZhciBhPXIucGxheWVyU2l6ZVswXTtlLmlzVmlkZW89Imluc3RyZWFtIj09PXIuY29udGV4dCxlLm1lZGlhVHlwZT1pLmQsZS52aWRlb0RhdGE9e3ZpZGVvUHJvdG9jb2w6dGhpcy5nZXRQcm90b2NvbEZvclZpZGVvQmlkUmVxdWVzdChyLHQpLHBsYXllcldpZHRoOmFbMF0scGxheWVySGVpZ2h0OmFbMV0sYWRCcmVhazp0aGlzLmdldFN0YXJ0RGVsYXlGb3JWaWRlb0JpZFJlcXVlc3Qocix0KX19LGdldFByb3RvY29sRm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUscil7cmV0dXJuIHZvaWQgMCE9PXImJnIucHJvdG9jb2w/ci5wcm90b2NvbDp2b2lkIDAhPT1lJiZBcnJheS5pc0FycmF5KGUucHJvdG9jb2xzKT9NYXRoLm1heC5hcHBseShNYXRoLGUucHJvdG9jb2xzKTpudWxsfSxnZXRTdGFydERlbGF5Rm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUscil7aWYodm9pZCAwIT09ciYmci5zdGFydERlbGF5KXJldHVybiByLnN0YXJ0RGVsYXk7aWYodm9pZCAwIT09ZSl7aWYoMD09ZS5zdGFydGRlbGF5KXJldHVybiAxO2lmKC0xPT1lLnN0YXJ0ZGVsYXkpcmV0dXJuIDI7aWYoLTI9PWUuc3RhcnRkZWxheSlyZXR1cm4gM31yZXR1cm4gMn0sY3JlYXRlU2VydmVyUmVxdWVzdDpmdW5jdGlvbihlLHIpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoodm9pZCAwIT09cj9yOiJodHRwczovL3ByZy5zbWFydGFkc2VydmVyLmNvbSIpKyIvcHJlYmlkL3YxIixkYXRhOkpTT04uc3RyaW5naWZ5KGUpfX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PW4uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKTtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSl7dmFyIGQ9e3NpdGVpZDppLnBhcmFtcy5zaXRlSWQscGFnZWlkOmkucGFyYW1zLnBhZ2VJZCxmb3JtYXRpZDppLnBhcmFtcy5mb3JtYXRJZCxjdXJyZW5jeUNvZGU6dCxiaWRmbG9vcjppLnBhcmFtcy5iaWRmbG9vcnx8cy5nZXRCaWRGbG9vcihpLHQpLHRhcmdldGluZzppLnBhcmFtcy50YXJnZXQmJiIiIT09aS5wYXJhbXMudGFyZ2V0P2kucGFyYW1zLnRhcmdldDp2b2lkIDAsYnVpZDppLnBhcmFtcy5idUlkJiYiIiE9PWkucGFyYW1zLmJ1SWQ/aS5wYXJhbXMuYnVJZDp2b2lkIDAsYXBwbmFtZTppLnBhcmFtcy5hcHBOYW1lJiYiIiE9PWkucGFyYW1zLmFwcE5hbWU/aS5wYXJhbXMuYXBwTmFtZTp2b2lkIDAsY2tpZDppLnBhcmFtcy5ja0lkfHwwLHRhZ0lkOmkuYWRVbml0Q29kZSxwYWdlRG9tYWluOnImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8ucmVmZXJlcj9yLnJlZmVyZXJJbmZvLnJlZmVyZXI6dm9pZCAwLHRyYW5zYWN0aW9uSWQ6aS50cmFuc2FjdGlvbklkLHRpbWVvdXQ6bi5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGJpZElkOmkuYmlkSWQscHJlYmlkVmVyc2lvbjoiNS4xMS4wIixzY2hhaW46cy5zZXJpYWxpemVTdXBwbHlDaGFpbihpLnNjaGFpbil9O3ImJnIuZ2RwckNvbnNlbnQmJihkLmFkZHRsX2NvbnNlbnQ9ci5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQsZC5nZHByX2NvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGQuZ2Rwcj1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxpJiZpLnVzZXJJZCYmKGQuZWlkcz1PYmplY3Qoby5iKShpLnVzZXJJZCkpLHImJnIudXNwQ29uc2VudCYmKGQudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpO3ZhciBjPWEuZGVlcEFjY2VzcyhpLCJtZWRpYVR5cGVzLnZpZGVvIiksdT1hLmRlZXBBY2Nlc3MoaSwibWVkaWFUeXBlcy5iYW5uZXIiKSxwPWMmJigiaW5zdHJlYW0iPT09Yy5jb250ZXh0fHwib3V0c3RyZWFtIj09PWMuY29udGV4dCk7aWYoIXAmJnUpZC5zaXplcz1zLmFkYXB0QmFubmVyU2l6ZXModS5zaXplcyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChkLGkucGFyYW1zLmRvbWFpbikpO2Vsc2UgaWYocCYmIXUpcy5maWxsUGF5bG9hZEZvclZpZGVvQmlkUmVxdWVzdChkLGMsaS5wYXJhbXMudmlkZW8pLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QoZCxpLnBhcmFtcy5kb21haW4pKTtlbHNlIGlmKHAmJnUpe3ZhciBsPWEuZGVlcENsb25lKGQpO3MuZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3QobCxjLGkucGFyYW1zLnZpZGVvKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGwsaS5wYXJhbXMuZG9tYWluKSksZC5zaXplcz1zLmFkYXB0QmFubmVyU2l6ZXModS5zaXplcyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChkLGkucGFyYW1zLmRvbWFpbikpfWVsc2UgZS5wdXNoKHt9KTtyZXR1cm4gZX0pLFtdKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPWUuYm9keTt0cnl7aWYobiYmIW4uaXNOb0FkKXt2YXIgbz1KU09OLnBhcnNlKHIuZGF0YSksZD17cmVxdWVzdElkOm8uYmlkSWQsY3BtOm4uY3BtLHdpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0LGNyZWF0aXZlSWQ6bi5jcmVhdGl2ZUlkLGRlYWxJZDpuLmRlYWxJZCxjdXJyZW5jeTpuLmN1cnJlbmN5LG5ldFJldmVudWU6bi5pc05ldENwbSx0dGw6bi50dGwsZHNwUGl4ZWxzOm4uZHNwUGl4ZWxzLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOm4uYWRvbWFpbj9uLmFkb21haW46W119fTtvLm1lZGlhVHlwZT09PWkuZD8oZC5tZWRpYVR5cGU9aS5kLGQudmFzdFVybD1uLmFkVXJsLGQudmFzdFhtbD1uLmFkLGQuY29udGVudD1uLmFkKTooZC5hZFVybD1uLmFkVXJsLGQuYWQ9bi5hZCksdC5wdXNoKGQpfX1jYXRjaChlKXthLmxvZ0Vycm9yKCJFcnJvciB3aGlsZSBwYXJzaW5nIHNtYXJ0IHNlcnZlciByZXNwb25zZSIsZSl9cmV0dXJuIHR9LGdldEJpZEZsb29yOmZ1bmN0aW9uKGUscil7aWYoIWEuaXNGbihlLmdldEZsb29yKSlyZXR1cm4gMDt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeTpyfHwiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7cmV0dXJuIGEuaXNQbGFpbk9iamVjdCh0KSYmIWlzTmFOKHQuZmxvb3IpP3QuZmxvb3I6MH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscil7dmFyIHQ9W107cmV0dXJuIGUuaWZyYW1lRW5hYmxlZCYmci5sZW5ndGg+MCYmbnVsbCE9clswXS5ib2R5LmNTeW5jVXJsP3QucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6clswXS5ib2R5LmNTeW5jVXJsfSk6ZS5waXhlbEVuYWJsZWQmJnIubGVuZ3RoPjAmJnZvaWQgMCE9PXJbMF0uYm9keS5kc3BQaXhlbHMmJnJbMF0uYm9keS5kc3BQaXhlbHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmV9KX0pKSx0fX07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKHMpfX0sWzc0NV0pOwp1cGJqc0NodW5rKFsxMTJdLHs3NTc6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc1OCl9LDc1ODpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksci5kKHQsIl9pc0luYm91bmRzIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSx0Ll9nZXRQbGF0Zm9ybT1fO3ZhciBuPXIoMSksaT1yKDApLHM9cigyKSxhPXIoMyksbz1yKDEzKSxjPXIoNTYpO2Z1bmN0aW9uIGQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLHM9W10sYT0hMCxvPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShhPShuPXIubmV4dCgpKS5kb25lKSYmKHMucHVzaChuLnZhbHVlKSwhdHx8cy5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7bz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiBzfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHUoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIHUoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBsKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgYj0ic29ub2JpIixmPU9iamVjdChpLmdlbmVyYXRlVVVJRCkoKSxtPSJodHRwczovL210cnguZ28uc29ub2JpLmNvbS9zYmlfb3V0c3RyZWFtX3JlbmRlcmVyLmpzIix2PXtjb2RlOmIsc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5iLHMuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWUucGFyYW1zKXJldHVybiExO2lmKCFlLnBhcmFtcy5hZF91bml0JiYhZS5wYXJhbXMucGxhY2VtZW50X2lkKXJldHVybiExO2lmKCFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiYhT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpKXJldHVybiExO2lmKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikpe2lmKCFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpJiYhZS5wYXJhbXMuc2l6ZXMpcmV0dXJuITF9ZWxzZSBpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikpe2lmKCJvdXRzdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJiFlLnBhcmFtcy5zaXplcylyZXR1cm4hMTtpZigiaW5zdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJiFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSlyZXR1cm4hMX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPWUubWFwKChmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlLnBhcmFtcy5hZF91bml0KXJldHVybiBlLnBhcmFtcy5hZF91bml0O3JldHVybiBlLnBhcmFtcy5wbGFjZW1lbnRfaWR9KGUpO3JldHVybi9eW1wvXT9bXGRdK1tbXC9dLitbXC9dP10/JC8udGVzdCh0KT8odD0iLyI9PT10LmNoYXJBdCgwKT90OiIvIit0LGwoe30sIiIuY29uY2F0KHQsInwiKS5jb25jYXQoZS5iaWRJZCksIiIuY29uY2F0KHkoZSkpLmNvbmNhdChnKGUpKS5jb25jYXQoaChlKSkpKTovXlswLTlhLWZBLUZdezIwfSQvLnRlc3QodCkmJjIwPT09dC5sZW5ndGg/bCh7fSxlLmJpZElkLCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KHkoZSkpLmNvbmNhdChnKGUpKS5jb25jYXQoaChlKSkpOnZvaWQgT2JqZWN0KGkubG9nRXJyb3IpKCJUaGUgYWQgdW5pdCBjb2RlIG9yIFNvbm9iaSBQbGFjZW1lbnQgaWQgZm9yIHNsb3QgIi5jb25jYXQoZS5iaWRJZCwiIGlzIGludmFsaWQiKSl9KSksbj17fTtyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3AobixlKX0pKTt2YXIgcz17a2V5X21ha2VyOkpTT04uc3RyaW5naWZ5KG4pLHJlZjp0LnJlZmVyZXJJbmZvLnJlZmVyZXIsczpPYmplY3QoaS5nZW5lcmF0ZVVVSUQpKCkscHY6Zix2cDpfKCksbGliX25hbWU6InByZWJpZCIsbGliX3Y6IjUuMTEuMCIsdXM6MH07aWYoYS5iLmdldENvbmZpZygidXNlclN5bmMiKSYmYS5iLmdldENvbmZpZygidXNlclN5bmMiKS5zeW5jc1BlckJpZGRlciYmKHMudXM9YS5iLmdldENvbmZpZygidXNlclN5bmMiKS5zeW5jc1BlckJpZGRlciksYy5hLmNhbkJpZGRlclJlZ2lzdGVyU3luYygiaWZyYW1lIixiKT9zLml1cz0xOnMuaXVzPTAsT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmhmYSIpJiYocy5oZmE9T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmhmYSIpKSxlWzBdLnBhcmFtcy5yZWZlcnJlciYmKHMucmVmPWVbMF0ucGFyYW1zLnJlZmVycmVyKSx0JiZ0LmdkcHJDb25zZW50JiYocy5nZHByPXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/InRydWUiOiJmYWxzZSIsdC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYocy5jb25zZW50X3N0cmluZz10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxlWzBdLnNjaGFpbiYmKHMuc2NoYWluPUpTT04uc3RyaW5naWZ5KGVbMF0uc2NoYWluKSksT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwidXNlcklkIikmJk9iamVjdC5rZXlzKGVbMF0udXNlcklkKS5sZW5ndGg+MCl7dmFyIG89T2JqZWN0KGkuZGVlcENsb25lKShlWzBdLnVzZXJJZCk7by5pZDVpZCYmKG8uaWQ1aWQ9T2JqZWN0KGkuZGVlcEFjY2VzcykobywiaWQ1aWQudWlkIikpLHMudXNlcmlkPUpTT04uc3RyaW5naWZ5KG8pfXZhciBkPU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZEFzRWlkcyIpO0FycmF5LmlzQXJyYXkoZCkmJmQubGVuZ3RoPjAmJihzLmVpZHM9SlNPTi5zdHJpbmdpZnkoZCkpO3ZhciB1PWVbMF0ucGFyYW1zLmtleXdvcmRzO2lmKHUmJihzLmt3PXUpLHQmJnQudXNwQ29uc2VudCYmKHMudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLCEwPT09YS5iLmdldENvbmZpZygiY29wcGEiKT9zLmNvcHBhPTE6cy5jb3BwYT0wLE9iamVjdChpLmlzRW1wdHkpKG4pKXJldHVybiBudWxsO3ZhciBtPSJodHRwczovL2FwZXguZ28uc29ub2JpLmNvbS90cmluaXR5Lmpzb24iO3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuYmlkX3JlcXVlc3RfdXJsIikmJihtPU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5iaWRfcmVxdWVzdF91cmwiKSkse21ldGhvZDoiR0VUIix1cmw6bSx3aXRoQ3JlZGVudGlhbHM6ITAsZGF0YTpzLGJpZGRlclJlcXVlc3RzOmV9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keSxuPVtdLHM9dC5kYXRhLnJlZjtyZXR1cm4gMD09PU9iamVjdC5rZXlzKHIuc2xvdHMpLmxlbmd0aHx8T2JqZWN0LmtleXMoci5zbG90cykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGE9ci5zbG90c1tlXSxjPWUuc3BsaXQoInwiKS5zbGljZSgtMSlbMF0sdT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uYmlkSWQ9PT10KXJldHVybiBlW3JdfSh0LmJpZGRlclJlcXVlc3RzLGMpLHA9bnVsbDsidmlkZW8iPT09YS5zYmlfY3QmJihwPSJ2aWRlbyIsIm91dHN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKSh1LCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKHA9Im91dHN0cmVhbSIpKTt2YXIgbD1qKHAscyk7aWYoYS5zYmlfYWlkJiZhLnNiaV9tb3VzZSYmYS5zYmlfc2l6ZSl7dmFyIGI9ZChhLnNiaV9zaXplLnNwbGl0KCJ4IiksMiksZj1iWzBdLHY9dm9pZCAwPT09Zj8xOmYseT1iWzFdLGc9dm9pZCAwPT09eT8xOnksaD1bXTthLnNiaV9hZG9tYWluJiYoaD1bYS5zYmlfYWRvbWFpbl0pO3ZhciBPPXtyZXF1ZXN0SWQ6YyxjcG06TnVtYmVyKGEuc2JpX21vdXNlKSx3aWR0aDpOdW1iZXIodiksaGVpZ2h0Ok51bWJlcihnKSxhZDpsKHIuc2JpX2RjLGEuc2JpX2FpZCksdHRsOjUwMCxjcmVhdGl2ZUlkOmEuc2JpX2NyaWR8fGEuc2JpX2FpZCxhaWQ6YS5zYmlfYWlkLG5ldFJldmVudWU6ITAsY3VycmVuY3k6IlVTRCIsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6aH19O2lmKGEuc2JpX2RvemVyJiYoTy5kZWFsSWQ9YS5zYmlfZG96ZXIpLCJ2aWRlbyI9PT1wKU8ubWVkaWFUeXBlPSJ2aWRlbyIsTy52YXN0VXJsPWwoci5zYmlfZGMsYS5zYmlfYWlkKSxkZWxldGUgTy5hZCxkZWxldGUgTy53aWR0aCxkZWxldGUgTy5oZWlnaHQ7ZWxzZSBpZigib3V0c3RyZWFtIj09PXAmJnUpe08ubWVkaWFUeXBlPSJ2aWRlbyIsTy52YXN0VXJsPWwoci5zYmlfZGMsYS5zYmlfYWlkKSxPLnJlbmRlcmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49by5hLmluc3RhbGwoe2lkOnQuYWlkLHVybDptLGNvbmZpZzpyLGxvYWRlZDohMSxhZFVuaXRDb2RlOmV9KTt0cnl7bi5zZXRSZW5kZXIoQSl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIG4uc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpfX0pLG59KHUuYWRVbml0Q29kZSxPLE9iamVjdChpLmRlZXBBY2Nlc3MpKHUsInJlbmRlcmVyLm9wdGlvbnMiKSk7dmFyIF89T2JqZWN0KGkuZGVlcEFjY2VzcykodSwicGFyYW1zLnNpemVzIik7QXJyYXkuaXNBcnJheShfKSYmQXJyYXkuaXNBcnJheShfWzBdKSYmKF89X1swXSksXyYmKE8ud2lkdGg9X1swXSxPLmhlaWdodD1fWzFdKX1uLnB1c2goTyl9fSkpLG59LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgaT1bXTt0cnl7ZS5waXhlbEVuYWJsZWQmJnRbMF0uYm9keS5zYmlfcHguZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5wdXNoKHt0eXBlOmUudHlwZSx1cmw6ZS51cmx9KX0pKX1jYXRjaChlKXt9cmV0dXJuIGl9fTtmdW5jdGlvbiB5KGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIik/IiI6ZS5wYXJhbXMuc2l6ZXM/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShlLnBhcmFtcy5zaXplcykuam9pbigiLCIpOk9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpKS5qb2luKCIsIik6ZS5zaXplcz9PYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKGUuc2l6ZXMpLmpvaW4oIiwiKTp2b2lkIDB9ZnVuY3Rpb24gZyhlKXt2YXIgdD1mdW5jdGlvbihlKXtpZighT2JqZWN0KGkuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLmZsb29yP2UucGFyYW1zLmZsb29yOm51bGw7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKE9iamVjdChpLmlzUGxhaW5PYmplY3QpKHQpJiYhaXNOYU4odC5mbG9vcikmJiJVU0QiPT09dC5jdXJyZW5jeSlyZXR1cm4gdC5mbG9vcjtyZXR1cm4iIn0oZSk7cmV0dXJuIHQ/InxmPSIuY29uY2F0KHQpOiIifWZ1bmN0aW9uIGgoZSl7dmFyIHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKXx8T2JqZWN0KGkuZGVlcEFjY2VzcykoT2JqZWN0KGkuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShlLmFkVW5pdENvZGUpLCJncHRTbG90Iil8fGUucGFyYW1zLmFkX3VuaXQ7cmV0dXJuIHQ/InxncGlkPSIuY29uY2F0KHQpOiIifXZhciBqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuInZpZGVvIj09PWV8fCJvdXRzdHJlYW0iPT09ZT9mdW5jdGlvbihlLHQscil7cmV0dXJuImh0dHBzOi8vIi5jb25jYXQoZSwiYXBleC5nby5zb25vYmkuY29tL3Zhc3QueG1sP3ZpZD0iKS5jb25jYXQodCwiJnJlZj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHIpKX0ocixuLHQpOic8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSInKyJodHRwczovLyIuY29uY2F0KHIsImFwZXguZ28uc29ub2JpLmNvbS9zYmkuanM/YWlkPSIpLmNvbmNhdChuLCImYXM9bnVsbCZyZWY9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkrJyI+PFwvc2NyaXB0Pid9fTt2YXIgTz1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3c7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7cmV0dXJuIGUuaW5uZXJXaWR0aD49dCYmZS5pbm5lcldpZHRoPHJ9fTtmdW5jdGlvbiBfKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOndpbmRvdyx0PU8oZSkscj17bHQ6NzY4fSxuPXtsdDo5OTIsZ2U6NzY4fTtyZXR1cm4gdCgwLHIubHQpPyJtb2JpbGUiOnQobi5nZSxuLmx0KT8idGFibGV0IjoiZGVza3RvcCJ9ZnVuY3Rpb24gQShlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHQ9ZChlLmdldFNpemUoKS5zcGxpdCgieCIpLDIpLHI9dFswXSxuPXRbMV0saT1uZXcgd2luZG93LlNiaU91dHN0cmVhbVJlbmRlcmVyO2kuaW5pdCh7dmFzdFVybDplLnZhc3RVcmwsaGVpZ2h0Om4sd2lkdGg6cn0pLGkuc2V0Um9vdEVsZW1lbnQoZS5hZFVuaXRDb2RlKX0pKX1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikodil9fSxbNzU3XSk7CnVwYmpzQ2h1bmsoWzE0XSx7MTg6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBhPWkoZVtyXSxyKTthJiZ0LnB1c2goYSl9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmlzUGxhaW5PYmplY3QoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXthLmRlZXBBY2Nlc3MoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmYS5kZWVwQWNjZXNzKG4scisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpuW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgYT1yKDApLG49e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1hLnBpY2soZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfX07ZnVuY3Rpb24gaShlLHQpe3ZhciByPW5bdF07aWYociYmZSl7dmFyIGk9e307aS5zb3VyY2U9ci5zb3VyY2U7dmFyIG89YS5pc0ZuKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihhLmlzU3RyKG8pKXt2YXIgcz17aWQ6byxhdHlwZTpyLmF0eXBlfTtpZihhLmlzRm4oci5nZXRVaWRFeHQpKXt2YXIgYz1yLmdldFVpZEV4dChlKTtjJiYocy5leHQ9Yyl9aWYoaS51aWRzPVtzXSxhLmlzRm4oci5nZXRFaWRFeHQpKXt2YXIgZD1yLmdldEVpZEV4dChlKTtkJiYoaS5leHQ9ZCl9cmV0dXJuIGl9fXJldHVybiBudWxsfX0sNzYxOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3NjIpfSw3NjI6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciBhPXIoMCksbj1yKDEpLGk9cigzKSxvPXIoMikscz1yKDE4KTtmdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIGEsbixpPVtdLG89ITAscz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEobz0oYT1yLm5leHQoKSkuZG9uZSkmJihpLnB1c2goYS52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7bz0hMCk7fWNhdGNoKGUpe3M9ITAsbj1lfWZpbmFsbHl7dHJ5e298fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBufX1yZXR1cm4gaX0oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBkKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiBkKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBkKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsYT1uZXcgQXJyYXkodCk7cjx0O3IrKylhW3JdPWVbcl07cmV0dXJuIGF9dmFyIHU9InNvcnRhYmxlIixwPSJodHRwczovL2MuZGVwbG95YWRzLmNvbSI7ZnVuY3Rpb24gbChlLHQpe3JldHVybiBlLnJlcXVpcmVkJiYodC5yZXF1aXJlZD0xKSx0fWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGUud3x8ZS5oP3t1cmw6ZS51cmwsd2lkdGg6ZS53LGhlaWdodDplLmh9OmUudXJsfWZ1bmN0aW9uIHkoZSx0LHIpe2EuX2VhY2goZSwoZnVuY3Rpb24oZSl7ZS5ib2R5JiZlLmJvZHkuZXh0JiZlLmJvZHkuZXh0LnN5bmNfZHNwcyYmZS5ib2R5LmV4dC5zeW5jX2RzcHMubGVuZ3RoJiZhLl9lYWNoKGUuYm9keS5leHQuc3luY19kc3BzLChmdW5jdGlvbihlKXtlWzBdPT09dCYmZVsxXSYmci5wdXNoKHt0eXBlOnQsdXJsOmVbMV19KX0pKX0pKX1mdW5jdGlvbiBmKGUpe2lmKCFhLmlzRm4oZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLmZsb29yP2UucGFyYW1zLmZsb29yOm51bGw7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO3JldHVybiBhLmlzUGxhaW5PYmplY3QodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5P3QuZmxvb3I6bnVsbH12YXIgYj17Y29kZTp1LHN1cHBvcnRlZE1lZGlhVHlwZXM6W28uYixvLmMsby5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1pLmIuZ2V0Q29uZmlnKCJzb3J0YWJsZSIpLHI9dCYmISF0LnNpdGVJZHx8ZS5wYXJhbXMuc2l0ZUlkLG49ZihlKSxzPSFufHxhLmlzTnVtYmVyKG4pLGM9IWUucGFyYW1zLmtleXdvcmRzfHxhLmlzUGxhaW5PYmplY3QoZS5wYXJhbXMua2V5d29yZHMpJiZPYmplY3Qua2V5cyhlLnBhcmFtcy5rZXl3b3JkcykuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBhLmlzU3RyKHQpJiZhLmlzU3RyKGUucGFyYW1zLmtleXdvcmRzW3RdKX0pKSxkPSFlLm1lZGlhVHlwZXN8fGUubWVkaWFUeXBlc1tvLmJdfHwhKGUubWVkaWFUeXBlc1tvLmNdfHxlLm1lZGlhVHlwZXNbby5kXSksdT1kP2EuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGUuIi5jb25jYXQoby5iLCIuc2l6ZXMiKSl8fGUuc2l6ZXM6bnVsbDtyZXR1cm4hIShlLnBhcmFtcy50YWdJZCYmciYmcyYmYyYmKCFkfHx1JiZ1Lmxlbmd0aD4wJiZ1LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gMj09ZS5sZW5ndGgmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmlzTnVtYmVyKGUpfSkpfSkpKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj0oaS5iLmdldENvbmZpZygic29ydGFibGUiKXx8e30pLnNpdGVJZCxuPWEucGFyc2VVcmwodC5yZWZlcmVySW5mby5yZWZlcmVyKSxkPWEuX21hcChlLChmdW5jdGlvbihlKXt2YXIgdD17aWQ6ZS5iaWRJZCx0YWdpZDplLnBhcmFtcy50YWdJZCxleHQ6e319LHI9YS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoby5iKSksbj1hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChvLmMpKSxpPWEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLiIuY29uY2F0KG8uZCkpO2lmKHJ8fCFuJiYhaSl7dmFyIHM9ciYmci5zaXplc3x8ZS5zaXplczt0LmJhbm5lcj17Zm9ybWF0OmEuX21hcChzLChmdW5jdGlvbihlKXt2YXIgdD1jKGUsMik7cmV0dXJue3c6dFswXSxoOnRbMV19fSkpfX1pZihuJiYodC5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9W10scj1lLnRpdGxlO3ImJnQucHVzaChsKHIse3RpdGxlOntsZW46ci5sZW59fSkpO3ZhciBuPWUuaW1hZ2U7biYmdC5wdXNoKGwobix7aW1nOnt0eXBlOjMsd21pbjoxLGhtaW46MX19KSk7dmFyIGk9ZS5pY29uO2kmJnQucHVzaChsKGkse2ltZzp7dHlwZToxLHdtaW46MSxobWluOjF9fSkpO3ZhciBvPWUuYm9keTtvJiZ0LnB1c2gobChvLHtkYXRhOnt0eXBlOjJ9fSkpO3ZhciBzPWUuY3RhO3MmJnQucHVzaChsKHMse2RhdGE6e3R5cGU6MTJ9fSkpO3ZhciBjPWUuc3BvbnNvcmVkQnk7cmV0dXJuIGMmJnQucHVzaChsKGMse2RhdGE6e3R5cGU6MX19KSksYS5fZWFjaCh0LChmdW5jdGlvbihlLHQpe3JldHVybiBlLmlkPXR9KSkse3ZlcjoiMSIscmVxdWVzdDpKU09OLnN0cmluZ2lmeSh7dmVyOiIxIixhc3NldHM6dH0pfX0obikpLGkmJiJpbnN0cmVhbSI9PT1pLmNvbnRleHQpe3ZhciBkPXtwbGFjZW1lbnQ6MX07ZC5taW1lcz1pLm1pbWVzfHxbXSxkLm1pbmR1cmF0aW9uPWEuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8ubWluZHVyYXRpb24iKXx8MTAsZC5tYXhkdXJhdGlvbj1hLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLm1heGR1cmF0aW9uIil8fDYwO3ZhciB1PWEuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8uc3RhcnRkZWxheSIpO2lmKG51bGwhPXUmJihkLnN0YXJ0ZGVsYXk9dSksaS5wbGF5ZXJTaXplJiZpLnBsYXllclNpemUubGVuZ3RoKXt2YXIgcD1pLnBsYXllclNpemVbMF07ZC53PXBbMF0sZC5oPXBbMV19aS5hcGkmJihkLmFwaT1pLmFwaSksaS5wcm90b2NvbHMmJihkLnByb3RvY29scz1pLnByb3RvY29scyksaS5wbGF5YmFja21ldGhvZCYmKGQucGxheWJhY2ttZXRob2Q9aS5wbGF5YmFja21ldGhvZCksdC52aWRlbz1kfXZhciBtPWYoZSk7cmV0dXJuIG0mJih0LmZsb29yPW0pLGUucGFyYW1zLmtleXdvcmRzJiYodC5leHQua2V5d29yZHM9ZS5wYXJhbXMua2V5d29yZHMpLGUucGFyYW1zLmJpZGRlclBhcmFtcyYmYS5fZWFjaChlLnBhcmFtcy5iaWRkZXJQYXJhbXMsKGZ1bmN0aW9uKGUscil7dC5leHRbcl09ZX0pKSx0fSkpLHU9dCYmdC5nZHByQ29uc2VudCxtPWVbMF0udXNlcklkLHk9T2JqZWN0KHMuYikobSksYj17aWQ6YS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksaW1wOmQsc291cmNlOntleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19LHJlZ3M6e2V4dDp7fX0sc2l0ZTp7ZG9tYWluOm4uaG9zdG5hbWUscGFnZTpuLmhyZWYscmVmOm4uaHJlZixwdWJsaXNoZXI6e2lkOnJ8fGVbMF0ucGFyYW1zLnNpdGVJZH0sZGV2aWNlOnt3OnNjcmVlbi53aWR0aCxoOnNjcmVlbi5oZWlnaHR9fSx1c2VyOntleHQ6e319fTtyZXR1cm4gdCYmdC50aW1lb3V0PjAmJihiLnRtYXg9dC50aW1lb3V0KSx1JiYoYi51c2VyPXtleHQ6e2NvbnNlbnQ6dS5jb25zZW50U3RyaW5nfX0sImJvb2xlYW4iPT10eXBlb2YgdS5nZHByQXBwbGllcyYmKGIucmVncy5leHQuZ2Rwcj11LmdkcHJBcHBsaWVzPzE6MCkpLHkubGVuZ3RoJiYoYi51c2VyLmV4dC5laWRzPXkpLHQudXNwQ29uc2VudCYmKGIucmVncy5leHQudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLHttZXRob2Q6IlBPU1QiLHVybDoiIi5jb25jYXQocCwiL29wZW5ydGIyL2F1Y3Rpb24/c3JjPXByZWJpZF9wcmViaWRfNS4xMS4wJmhvc3Q9IikuY29uY2F0KG4uaG9zdG5hbWUpLGRhdGE6SlNPTi5zdHJpbmdpZnkoYiksb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4ifX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keSxyPXQuaWQsbj10LnNlYXRiaWQsaT1bXTtyZXR1cm4gciYmbiYmYS5fZWFjaChuLChmdW5jdGlvbihlKXthLl9lYWNoKGUuYmlkLChmdW5jdGlvbihlKXt2YXIgdD17cmVxdWVzdElkOmUuaW1waWQsY3BtOnBhcnNlRmxvYXQoZS5wcmljZSksd2lkdGg6cGFyc2VJbnQoZS53KSxoZWlnaHQ6cGFyc2VJbnQoZS5oKSxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCxtZWRpYVR5cGU6by5iLHR0bDo2MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW58fFtdfX07aWYoZS5hZG0pe3ZhciByPWEuZGVlcEFjY2VzcyhlLCJleHQuYWRfZm9ybWF0Iik7aWYoIm5hdGl2ZSI9PT1yKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3RyeXt0PUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7YS5sb2dFcnJvcigiU29ydGFibGUgYmlkIGFkYXB0ZXIgdW5hYmxlIHRvIHBhcnNlIG5hdGl2ZSBiaWQgcmVzcG9uc2U6XG5cbiIrZSl9cmV0dXJuIHQmJnQubmF0aXZlfShlLmFkbSk7aWYoIW4pcmV0dXJuO3QubWVkaWFUeXBlPW8uYyx0Lm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5saW5rJiYodC5jbGlja1VybD1lLmxpbmsudXJsKSxhLl9lYWNoKGUuYXNzZXRzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5pZCl7Y2FzZSAxOnQudGl0bGU9ZS50aXRsZS50ZXh0O2JyZWFrO2Nhc2UgMjp0LmltYWdlPW0oZS5pbWcpO2JyZWFrO2Nhc2UgMzp0Lmljb249bShlLmltZyk7YnJlYWs7Y2FzZSA0OnQuYm9keT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA1OnQuY3RhPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDY6dC5zcG9uc29yZWRCeT1lLmRhdGEudmFsdWV9fSkpLHR9KG4pfWVsc2UiaW5zdHJlYW0iPT09cj8odC5tZWRpYVR5cGU9by5kLHQudmFzdFhtbD1lLmFkbSk6KHQubWVkaWFUeXBlPW8uYix0LmFkPWUuYWRtLGUubnVybCYmKHQuYWQrPWEuY3JlYXRlVHJhY2tQaXhlbEh0bWwoZGVjb2RlVVJJQ29tcG9uZW50KGUubnVybCkpKSl9ZWxzZSBlLm51cmwmJih0LmFkVXJsPWUubnVybCk7ZS5leHQmJih0LnNvcnRhYmxlPWUuZXh0KSxpLnB1c2godCl9KSl9KSksaX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGUuaWZyYW1lRW5hYmxlZCYmeSh0LCJpZnJhbWUiLHIpLGUucGl4ZWxFbmFibGVkJiZ5KHQsImltYWdlIixyKSxyfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7ZmV0Y2goIiIuY29uY2F0KHAsIi9wcmViaWQvdGltZW91dCIpLHttZXRob2Q6IlBPU1QiLGJvZHk6SlNPTi5zdHJpbmdpZnkoZSksbW9kZToibm8tY29ycyIsaGVhZGVyczpuZXcgSGVhZGVycyh7IkNvbnRlbnQtVHlwZSI6InRleHQvcGxhaW4ifSl9KX19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShiKX19LFs3NjFdKTsKdXBianNDaHVuayhbMTJdLHsxODpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIGk9YShlW3JdLHIpO2kmJnQucHVzaChpKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuaXNQbGFpbk9iamVjdChlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe2kuZGVlcEFjY2VzcyhlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZpLmRlZXBBY2Nlc3MobixyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm5bcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBpPXIoMCksbj17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PWkucGljayhlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9fTtmdW5jdGlvbiBhKGUsdCl7dmFyIHI9blt0XTtpZihyJiZlKXt2YXIgYT17fTthLnNvdXJjZT1yLnNvdXJjZTt2YXIgbz1pLmlzRm4oci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKGkuaXNTdHIobykpe3ZhciBkPXtpZDpvLGF0eXBlOnIuYXR5cGV9O2lmKGkuaXNGbihyLmdldFVpZEV4dCkpe3ZhciB1PXIuZ2V0VWlkRXh0KGUpO3UmJihkLmV4dD11KX1pZihhLnVpZHM9W2RdLGkuaXNGbihyLmdldEVpZEV4dCkpe3ZhciBjPXIuZ2V0RWlkRXh0KGUpO2MmJihhLmV4dD1jKX1yZXR1cm4gYX19cmV0dXJuIG51bGx9fSw3NjU6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc2Nil9LDc2NjpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIGk9cigwKSxuPXIoMSksYT1yKDIpLG89cigxOCksZD1yKDMpLHU9e2NvZGU6InNvdnJuIixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmJdLGd2bGlkOjEzLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zLnRhZ2lkfHxpc05hTihwYXJzZUZsb2F0KGUucGFyYW1zLnRhZ2lkKSl8fCFpc0Zpbml0ZShlLnBhcmFtcy50YWdpZCkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByLG4sYSx1LGM9W10scz1bXTtpLl9lYWNoKGUsKGZ1bmN0aW9uKGUpeyFhJiZlLnVzZXJJZCYmKGE9T2JqZWN0KG8uYikoZS51c2VySWQpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnVpZHMmJmUudWlkc1swXSYmKCJjcml0ZW8uY29tIj09PWUuc291cmNlJiYodT1lLnVpZHNbMF0uaWQpLHMucHVzaCh7c291cmNlOmUuc291cmNlLHVpZDplLnVpZHNbMF0uaWR9KSl9KSksZS5zY2hhaW4mJihuPW58fGUuc2NoYWluKSxyPXJ8fGkuZ2V0QmlkSWRQYXJhbWV0ZXIoIml2IixlLnBhcmFtcyk7dmFyIHQ9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxlLnNpemVzLGQ9KHQ9KHQ9aS5pc0FycmF5KHQpJiZpLmlzQXJyYXkodFswXSk/dDpbdF0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuaXNBcnJheShlKX0pKSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzpwYXJzZUludChlWzBdLDEwKSxoOnBhcnNlSW50KGVbMV0sMTApfX0pKSxwPWUuZ2V0Rmxvb3ImJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yP2UuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiYmFubmVyIixzaXplOiIqIn0pOnt9O3AuZmxvb3I9cC5mbG9vcnx8aS5nZXRCaWRJZFBhcmFtZXRlcigiYmlkZmxvb3IiLGUucGFyYW1zKTt2YXIgbD17YWR1bml0Y29kZTplLmFkVW5pdENvZGUsaWQ6ZS5iaWRJZCxiYW5uZXI6e2Zvcm1hdDpkLHc6MSxoOjF9LHRhZ2lkOlN0cmluZyhpLmdldEJpZElkUGFyYW1ldGVyKCJ0YWdpZCIsZS5wYXJhbXMpKSxiaWRmbG9vcjpwLmZsb29yfTtsLmV4dD1pLmdldEJpZElkUGFyYW1ldGVyKCJleHQiLGUub3J0YjJJbXApfHx2b2lkIDA7dmFyIG09aS5nZXRCaWRJZFBhcmFtZXRlcigic2VnbWVudHMiLGUucGFyYW1zKTttJiYobC5leHQ9bC5leHR8fHt9LGwuZXh0LmRlYWxzPW0uc3BsaXQoIiwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pKSksYy5wdXNoKGwpfSkpO3ZhciBwPWkuZGVlcENsb25lKGQuYi5nZXRDb25maWcoIm9ydGIyIikpLGw9cC5zaXRlfHx7fTtsLnBhZ2U9dC5yZWZlcmVySW5mby5yZWZlcmVyLGwuZG9tYWluPWkucGFyc2VVcmwobC5wYWdlKS5ob3N0bmFtZTt2YXIgbT17aWQ6aS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksaW1wOmMsc2l0ZTpsLHVzZXI6cC51c2VyfHx7fX07biYmKG0uc291cmNlPXtleHQ6e3NjaGFpbjpufX0pLHQuZ2RwckNvbnNlbnQmJihpLmRlZXBTZXRWYWx1ZShtLCJyZWdzLmV4dC5nZHByIiwrdC5nZHByQ29uc2VudC5nZHByQXBwbGllcyksaS5kZWVwU2V0VmFsdWUobSwidXNlci5leHQuY29uc2VudCIsdC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksdC51c3BDb25zZW50JiZpLmRlZXBTZXRWYWx1ZShtLCJyZWdzLmV4dC51c19wcml2YWN5Iix0LnVzcENvbnNlbnQpLGEmJihpLmRlZXBTZXRWYWx1ZShtLCJ1c2VyLmV4dC5laWRzIixhKSxpLmRlZXBTZXRWYWx1ZShtLCJ1c2VyLmV4dC50cGlkIixzKSx1JiZpLmRlZXBTZXRWYWx1ZShtLCJ1c2VyLmV4dC5wcmViaWRfY3JpdGVvaWQiLHUpKTt2YXIgZj0iaHR0cHM6Ly9hcC5saWppdC5jb20vcnRiL2JpZD9zcmM9cHJlYmlkX3ByZWJpZF81LjExLjAiO3JldHVybiByJiYoZis9IiZpdj0iLmNvbmNhdChyKSkse21ldGhvZDoiUE9TVCIsdXJsOmYsZGF0YTpKU09OLnN0cmluZ2lmeShtKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiJ9fX1jYXRjaChlKXtpLmxvZ0Vycm9yKCJDb3VsZCBub3QgYnVpbGQgYmlkcmVxdWVzdCwgZXJyb3IgZGVhdGlsczoiLGUpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LHI9dC5pZCxuPXQuc2VhdGJpZDt0cnl7dmFyIG89W107cmV0dXJuIHImJm4mJm4ubGVuZ3RoPjAmJm5bMF0uYmlkJiZuWzBdLmJpZC5sZW5ndGg+MCYmblswXS5iaWQubWFwKChmdW5jdGlvbihlKXtvLnB1c2goe3JlcXVlc3RJZDplLmltcGlkLGNwbTpwYXJzZUZsb2F0KGUucHJpY2UpLHdpZHRoOnBhcnNlSW50KGUudyksaGVpZ2h0OnBhcnNlSW50KGUuaCksY3JlYXRpdmVJZDplLmNyaWR8fGUuaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOmEuYixhZDpkZWNvZGVVUklDb21wb25lbnQoIiIuY29uY2F0KGUuYWRtLCc8aW1nIHNyYz0iJykuY29uY2F0KGUubnVybCwnIj4nKSksdHRsOmUuZXh0JiZlLmV4dC50dGx8fDkwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUmJmUuYWRvbWFpbj9lLmFkb21haW46W119fSl9KSksb31jYXRjaChlKXtpLmxvZ0Vycm9yKCJDb3VsZCBub3QgaW50cmVwcmV0IGJpZHJlc3BvbnNlLCBlcnJvciBkZWF0aWxzOiIsZSl9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dHJ5e3ZhciBhPVtdO2lmKHQmJjAhPT10Lmxlbmd0aCl7aWYoZS5pZnJhbWVFbmFibGVkKXt2YXIgbz10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZGVlcEFjY2VzcyhlLCJib2R5LmV4dC5paWQiKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJvZHkuZXh0LmlpZH0pKSxkPVtdO3ImJnIuZ2RwckFwcGxpZXMmJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiZkLnB1c2goWyJnZHByX2NvbnNlbnQiLHIuY29uc2VudFN0cmluZ10pLG4mJmQucHVzaChbInVzX3ByaXZhY3kiLG5dKSxvWzBdJiYoZC5wdXNoKFsiaW5mb3JtZXIiLG9bMF1dKSxhLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2FwLmxpaml0LmNvbS9iZWFjb24/IitkLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuam9pbigiPSIpfSkpLmpvaW4oIiYiKX0pKX1lLnBpeGVsRW5hYmxlZCYmdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmRlZXBBY2Nlc3MoZSwiYm9keS5leHQuc3luYy5waXhlbHMiKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQuYm9keS5leHQuc3luYy5waXhlbHMpfSksW10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXJsfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBhLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSkpfXJldHVybiBhfWNhdGNoKGUpe3JldHVybltdfX19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKSh1KX19LFs3NjVdKTsKdXBianNDaHVuayhbOThdLHs3OTc6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDc5OCl9LDc5ODpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwidHJpcGxlbGlmdEFkYXB0ZXJTcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgbj10KDIpLGk9dCgxKSxvPXQoMCksdT10KDMpO2Z1bmN0aW9uIGEoKXtyZXR1cm4oYT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuKHA9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYobj1uLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSx0LnB1c2guYXBwbHkodCxuKX1yZXR1cm4gdH1mdW5jdGlvbiBkKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP2MoT2JqZWN0KHQpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihyKXtzKGUscix0W3JdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKTpjKE9iamVjdCh0KSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHMoZSxyLHQpe3JldHVybiByIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09dCxlfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGwoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHIpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGwoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIGwoZSxyKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbChlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufXZhciB5PSEwLG09bnVsbCxiPXtndmxpZDoyOCxjb2RlOiJ0cmlwbGVsaWZ0IixzdXBwb3J0ZWRNZWRpYVR5cGVzOltuLmIsbi5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZS5wYXJhbXMuaW52ZW50b3J5Q29kZX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PSJodHRwczovL3RseC4zbGlmdC5jb20vaGVhZGVyL2F1Y3Rpb24/IixuPWZ1bmN0aW9uKGUpe3ZhciByPXt9LHQ9ZVswXS5zY2hhaW4sbj1mdW5jdGlvbigpe3ZhciBlPXt9LHI9e30sdD17fSxuPXUuYi5nZXRMZWdhY3lGcGQodS5iLmdldENvbmZpZygib3J0YjIiKSl8fHt9LGk9YSh7fSxuLmNvbnRleHQpLHA9YSh7fSxuLnVzZXIpO1MocixpKSxTKHQscCksby5pc0VtcHR5KHIpfHwoZS5jb250ZXh0PXIpO28uaXNFbXB0eSh0KXx8KGUudXNlcj10KTtyZXR1cm4gZX0oKTtyLmltcD1lLm1hcCgoZnVuY3Rpb24oZSxyKXt2YXIgdD17aWQ6cix0YWdpZDplLnBhcmFtcy5pbnZlbnRvcnlDb2RlLGZsb29yOnYoZSl9O3JldHVybiBnKGUpP3QudmlkZW89ZnVuY3Rpb24oZSl7dmFyIHI9ZChkKHt9LGUucGFyYW1zLnZpZGVvKSxlLm1lZGlhVHlwZXMudmlkZW8pO3Iud3x8KHIudz1yLnBsYXllclNpemVbMF1bMF0pO3IuaHx8KHIuaD1yLnBsYXllclNpemVbMF1bMV0pOyJpbnN0cmVhbSI9PT1yLmNvbnRleHQmJihyLnBsYWNlbWVudD0xKTtyZXR1cm4gZGVsZXRlIHIucGxheWVyU2l6ZSxyfShlKTplLm1lZGlhVHlwZXMuYmFubmVyJiYodC5iYW5uZXI9e2Zvcm1hdDpPKGUuc2l6ZXMpfSksby5pc0VtcHR5KGUub3J0YjJJbXApfHwodC5mcGQ9ZnVuY3Rpb24oZSl7dmFyIHI9e30sdD17fTtTKHQsZS5leHQpLG8uaXNFbXB0eSh0KXx8KHIuY29udGV4dD10KTtyZXR1cm4gcn0oZS5vcnRiMkltcCkpLHR9KSk7dmFyIGk9W10uY29uY2F0KGYoKHA9W2VbMF1dLGgocCwidGRpZCIsImFkc2VydmVyLm9yZyIsIlRESUQiKSkpLGYoZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSwiaWRsX2VudiIsImxpdmVyYW1wLmNvbSIsImlkbCIpfShbZVswXV0pKSxmKGZ1bmN0aW9uKGUpe3JldHVybiBoKGUsImNyaXRlb0lkIiwiY3JpdGVvLmNvbSIsImNyaXRlb0lkIil9KFtlWzBdXSkpLGYoZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSwicHViY2lkIiwicHViY2lkLm9yZyIsInB1YmNpZCIpfShbZVswXV0pKSk7dmFyIHA7aS5sZW5ndGg+MCYmKHIudXNlcj17ZXh0OntlaWRzOml9fSk7dmFyIGM9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtvLmlzRW1wdHkoZSl8fCh0LnNjaGFpbj1kKHt9LGUpKTtvLmlzRW1wdHkocil8fCh0LmZwZD1kKHt9LHIpKTtyZXR1cm4gdH0odCxuKTtvLmlzRW1wdHkoYyl8fChyLmV4dD1jKTtyZXR1cm4gcn0oZSk7aWYodD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsImxpYiIsInByZWJpZCIpLHQ9by50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJ2IiwiNS4xMS4wIiksciYmci5yZWZlcmVySW5mbyl7dmFyIGk9ci5yZWZlcmVySW5mby5yZWZlcmVyO3Q9by50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJyZWZlcnJlciIsaSl9cmV0dXJuIHImJnIudGltZW91dCYmKHQ9by50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJ0bWF4IixyLnRpbWVvdXQpKSxyJiZyLmdkcHJDb25zZW50JiYodm9pZCAwIT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHk9ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyx0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwiZ2RwciIseS50b1N0cmluZygpKSksdm9pZCAwIT09ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYobT1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsdD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsImNtcF9jcyIsbSkpKSxyJiZyLnVzcENvbnNlbnQmJih0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwidXNfcHJpdmFjeSIsci51c3BDb25zZW50KSksITA9PT11LmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYodD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsImNvcHBhIiwhMCkpLHQubGFzdEluZGV4T2YoIiYiKT09PXQubGVuZ3RoLTEmJih0PXQuc3Vic3RyaW5nKDAsdC5sZW5ndGgtMSkpLG8ubG9nTWVzc2FnZSgidGxDYWxsIHJlcXVlc3QgYnVpbHQ6ICIrdCkse21ldGhvZDoiUE9TVCIsdXJsOnQsZGF0YTpuLGJpZGRlclJlcXVlc3Q6cn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9ci5iaWRkZXJSZXF1ZXN0O3JldHVybihlLmJvZHkuYmlkc3x8W10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIHQ9e30sbj1yLndpZHRofHwxLGk9ci5oZWlnaHR8fDEsbz1yLmRlYWxfaWR8fCIiLHU9ci5jcmlkfHwiIixhPWUuYmlkc1tyLmltcF9pZF07MCE9ci5jcG0mJnIuYWQmJih0PXtyZXF1ZXN0SWQ6YS5iaWRJZCxjcG06ci5jcG0sd2lkdGg6bixoZWlnaHQ6aSxuZXRSZXZlbnVlOiEwLGFkOnIuYWQsY3JlYXRpdmVJZDp1LGRlYWxJZDpvLGN1cnJlbmN5OiJVU0QiLHR0bDozMDAsdGxfc291cmNlOnIudGxfc291cmNlLG1ldGE6e319LGcoYSkmJih0LnZhc3RYbWw9ci5hZCx0Lm1lZGlhVHlwZT0idmlkZW8iKSxyLmFkdmVydGlzZXJfbmFtZSYmKHQubWV0YS5hZHZlcnRpc2VyTmFtZT1yLmFkdmVydGlzZXJfbmFtZSksci5hZG9tYWluJiZyLmFkb21haW4ubGVuZ3RoJiYodC5tZXRhLmFkdmVydGlzZXJEb21haW5zPXIuYWRvbWFpbiksci50bF9zb3VyY2UmJiJoZHgiPT1yLnRsX3NvdXJjZSYmKHQubWV0YS5tZWRpYVR5cGU9ImJhbm5lciIpLHIudGxfc291cmNlJiYidGx4Ij09ci50bF9zb3VyY2UmJih0Lm1ldGEubWVkaWFUeXBlPSJuYXRpdmUiKSk7cmV0dXJuIHR9KHQsZSl9KSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxuKXt2YXIgaT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47aWYoZS5pZnJhbWVFbmFibGVkKXJldHVybiJpZnJhbWUiO2lmKGUucGl4ZWxFbmFibGVkKXJldHVybiJpbWFnZSJ9KGUpO2lmKGkpe3ZhciB1PSJodHRwczovL2ViMi4zbGlmdC5jb20vc3luYz8iO3JldHVybiJpbWFnZSI9PT1pJiYodT1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHUsInB4IiwxKSx1PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodSwic3JjIiwicHJlYmlkIikpLG51bGwhPT1tJiYodT1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHUsImdkcHIiLHkpLHU9by50cnlBcHBlbmRRdWVyeVN0cmluZyh1LCJjbXBfY3MiLG0pKSxuJiYodT1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHUsInVzX3ByaXZhY3kiLG4pKSxbe3R5cGU6aSx1cmw6dX1dfX19O2Z1bmN0aW9uIGcoZSl7cmV0dXJuISFlLm1lZGlhVHlwZXMudmlkZW8mJighIWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYiaW5zdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQudG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gdihlKXt2YXIgcj1udWxsO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yKXt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ZyhlKT8idmlkZW8iOiJiYW5uZXIiLHNpemU6IioifSk7Im9iamVjdCIhPT1wKHQpfHwiVVNEIiE9PXQuY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQodC5mbG9vcikpfHwocj1wYXJzZUZsb2F0KHQuZmxvb3IpKX1yZXR1cm4gbnVsbCE9PXI/cjplLnBhcmFtcy5mbG9vcn1mdW5jdGlvbiBTKGUscil7by5pc0VtcHR5KHIpfHxPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudWxsIT1yW3RdJiYoZVt0XT1yW3RdKX0pKX1mdW5jdGlvbiBoKGUscix0LG4pe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHImJnIudXNlcklkJiZyLnVzZXJJZFtlXX19KHIpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pKS5tYXAoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJue3NvdXJjZTplLHVpZHM6W3tpZDp0LGV4dDp7cnRpUGFydG5lcjpyfX1dfX19KHQsbikpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIGUuZmlsdGVyKEEpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIDI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV19T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGIpfX0sWzc5N10pOwp1cGJqc0NodW5rKFs5Nl0sezgwMTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoODAyKX0sODAyOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKTt2YXIgbj10KDApLGk9dCgxKSxvPXQoMTMpLGE9dCgyKSxzPXQoMyk7ZnVuY3Rpb24gZChlLHIpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSxyKXt2YXIgdD1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXQpcmV0dXJuO3ZhciBuLGksbz1bXSxhPSEwLHM9ITE7dHJ5e2Zvcih0PXQuY2FsbChlKTshKGE9KG49dC5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKG4udmFsdWUpLCFyfHxvLmxlbmd0aCE9PXIpO2E9ITApO31jYXRjaChlKXtzPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT10LnJldHVybnx8dC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgaX19cmV0dXJuIG99KGUscil8fGwoZSxyKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuKHU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBwKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8bChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBsKGUscil7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBwKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXR8fCJTZXQiPT09dD9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCk/cChlLHIpOnZvaWQgMH19ZnVuY3Rpb24gcChlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufXZhciBmPSJCaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYXVpZCBwYXJhbWV0ZXIgLSAiLG09IkJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhZG0gcGFyYW1ldGVyIC0gIix5PSJBcnJheSBvZiBiaWQgb2JqZWN0cyBpcyBlbXB0eSIsZz0iU2VhdGJpZCBhcnJheSBmcm9tIHJlc3BvbnNlIGhhcyBlbXB0eSBpdGVtIixiPSJSZXNwb25zZSBpcyBlbXB0eSIsaD0iUmVzcG9uc2UgaGFzIGVtcHR5IHNlYXRiaWQgYXJyYXkiLHY9IlNlYXRiaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYXJyYXkgb2YgYmlkIG9iamVjdHMgLSAiLFM9e2NvZGU6InRydXN0eCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy51aWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXtpZighZS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHQ9bnVsbCxpPW51bGwsbz1udWxsLGw9bnVsbCxwPW51bGwsZj1udWxsLG09bnVsbCx5PW51bGwsZz1udWxsLGI9cnx8e30saD1iLmJpZGRlclJlcXVlc3RJZCx2PWIuYXVjdGlvbklkLFM9Yi5nZHByQ29uc2VudCx3PWIudXNwQ29uc2VudCxBPWIudGltZW91dCxqPWIucmVmZXJlckluZm8sST1qP2VuY29kZVVSSUNvbXBvbmVudChqLnJlZmVyZXIpOiIiLEU9W10sUj17fTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2h8fChoPWUuYmlkZGVyUmVxdWVzdElkKSx2fHwodj1lLmF1Y3Rpb25JZCkscHx8KHA9ZS5zY2hhaW4pLGZ8fChmPWUudXNlcklkKSxtfHwobT1lLnVzZXJJZEFzRWlkcyk7dmFyIHI9ZS5wYXJhbXMscz1yLnVpZCxjPXIua2V5d29yZHMseT1lLm1lZGlhVHlwZXMsZz1lLmJpZElkLGI9ZS5hZFVuaXRDb2RlLFM9ZS5ydGQ7UltnXT1lO3ZhciB3PWZ1bmN0aW9uKGUscil7dmFyIHQ9ZS52aWRlbz8idmlkZW8iOiJiYW5uZXIiLG49ci5wYXJhbXMuYmlkRmxvb3J8fDA7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHIuZ2V0Rmxvb3Ipe3ZhciBpPXIuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTp0LHNpemU6ci5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWQoZSwyKTtyZXR1cm57dzpyWzBdLGg6clsxXX19KSl9KTsib2JqZWN0IiE9PXUoaSl8fCJVU0QiIT09aS5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdChpLmZsb29yKSl8fChuPU1hdGgubWF4KG4scGFyc2VGbG9hdChpLmZsb29yKSkpfXJldHVybiBufSh5fHx7fSxlKTtpZihTKXt2YXIgQT1TLmp3cGxheWVyJiZTLmp3cGxheWVyLnRhcmdldGluZztBJiYoIWkmJkEuc2VnbWVudHMmJihpPUEuc2VnbWVudHMpLCFsJiZBLmNvbnRlbnQmJihsPUEuY29udGVudCkpO3ZhciBqPVMucF9zdGFuZGFyZCYmUy5wX3N0YW5kYXJkLnRhcmdldGluZzshbyYmaiYmai5zZWdtZW50cyYmKG89ai5zZWdtZW50cyl9dmFyIHg9e2lkOmcsdGFnaWQ6cy50b1N0cmluZygpLGV4dDp7ZGl2aWQ6Yn19O2lmKG4uaXNFbXB0eShjKXx8KHR8fCh0PWMpLHguZXh0LmJpZGRlcj17a2V5d29yZHM6Y30pLHcmJih4LmJpZGZsb29yPXcpLCF5fHx5W2EuYl0pe3ZhciBJPWZ1bmN0aW9uKGUscil7dmFyIHQ9ci5zaXplc3x8ZS5zaXplcztpZighdHx8IXQubGVuZ3RoKXJldHVybjt2YXIgaT10Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4ucGFyc2VHUFRTaW5nbGVTaXplQXJyYXlUb1J0YlNpemUoZSl9KSksbz1uLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKHRbMF0pO2kubGVuZ3RoJiYoby5mb3JtYXQ9aSk7cmV0dXJuIG99KGUseT95W2EuYl06e30pO0kmJih4LmJhbm5lcj1JKX1pZih5JiZ5W2EuZF0pe3ZhciBUPWZ1bmN0aW9uKGUscil7dmFyIHQ9ci5wbGF5ZXJTaXplLGk9ci5taW1lcyxvPXIuZHVyYXRpb25SYW5nZVNlYyxhPXIucHJvdG9jb2xzLHM9KHR8fGUuc2l6ZXN8fFtdKVswXTtpZighcylyZXR1cm47dmFyIGQ9bi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZShzKTtpJiYoZC5taW1lcz1pKTtvJiYyPT09by5sZW5ndGgmJihkLm1pbmR1cmF0aW9uPW9bMF0sZC5tYXhkdXJhdGlvbj1vWzFdKTthJiZhLmxlbmd0aCYmKGQucHJvdG9jb2xzPWEpO3JldHVybiBkfShlLHlbYS5kXSk7VCYmKHgudmlkZW89VCl9KHguYmFubmVyfHx4LnZpZGVvKSYmRS5wdXNoKHgpfSkpO3ZhciBUPXt0aWQ6dixleHQ6e3dyYXBwZXI6IlByZWJpZF9qcyIsd3JhcHBlcl92ZXJzaW9uOiI1LjExLjAifX07cCYmKFQuZXh0LnNjaGFpbj1wKTt2YXIgTz1zLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil8fEEsXz1BP01hdGgubWluKE8sQSk6TyxrPXtpZDpoLHNpdGU6e3BhZ2U6SX0sdG1heDpfLHNvdXJjZTpULGltcDpFfTtsJiYoay5zaXRlLmNvbnRlbnQ9bCk7dmFyIHo9W107eCgiaW93X2xhYnNfcHViX2RhdGEiLCJqd3BzZWciLGkseikseCgicGVybXV0aXZlIiwicF9zdGFuZGFyZCIsbyx6LCJwZXJtdXRpdmUuY29tIiksei5sZW5ndGgmJih5PXtkYXRhOnp9KSxTJiZTLmNvbnNlbnRTdHJpbmcmJihnPXtjb25zZW50OlMuY29uc2VudFN0cmluZ30pLG0mJm0ubGVuZ3RoJiYoKGc9Z3x8e30pLmVpZHM9YyhtKSksZyYmT2JqZWN0LmtleXMoZykubGVuZ3RoJiYoKHk9eXx8e30pLmV4dD1nKSx5JiYoay51c2VyPXkpO3ZhciBDPW4uZGVlcEFjY2VzcyhzLmIuZ2V0Q29uZmlnKCJvcnRiMi51c2VyIiksImtleXdvcmRzIil8fG51bGwsTj1uLmRlZXBBY2Nlc3Mocy5iLmdldENvbmZpZygib3J0YjIuc2l0ZSIpLCJrZXl3b3JkcyIpfHxudWxsO3JldHVybiBDJiYoKHQ9dHx8e30pLnVzZXI9dC51c2VyfHx7fSx0LnVzZXIub3J0YjI9W3tuYW1lOiJrZXl3b3JkcyIsa2V5d29yZHM6Qy5zcGxpdCgiLCIpfV0pLE4mJigodD10fHx7fSkuc2l0ZT10LnNpdGV8fHt9LHQuc2l0ZS5vcnRiMj1be25hbWU6ImtleXdvcmRzIixrZXl3b3JkczpOLnNwbGl0KCIsIil9XSksdCYmKHQ9ZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPWVbdF07aWYobilpZigic2l0ZSI9PT10fHwidXNlciI9PT10KXt2YXIgaT17fTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KG5bZV0pKXt2YXIgcj1bXTtuW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09dShlKSYmZS5uYW1lKXt2YXIgdD17bmFtZTplLm5hbWUsc2VnbWVudHM6W119O09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe0FycmF5LmlzQXJyYXkoZVtyXSkmJmVbcl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmKCJzdHJpbmciPT10eXBlb2YgZT90LnNlZ21lbnRzLnB1c2goe25hbWU6cix2YWx1ZTplfSk6InNlZ21lbnRzIj09PXImJiJzdHJpbmciPT10eXBlb2YgZS5uYW1lJiYic3RyaW5nIj09dHlwZW9mIGUudmFsdWUmJnQuc2VnbWVudHMucHVzaChlKSl9KSl9KSksdC5zZWdtZW50cy5sZW5ndGgmJnIucHVzaCh0KX19KSksci5sZW5ndGgmJihpW2VdPXIpfX0pKSxyW3RdPWl9ZWxzZSByW3RdPW59KSksT2JqZWN0LmtleXMocikubGVuZ3RoJiZyfSh0KSkmJihrLmV4dD17a2V5d29yZHM6dH0pLFMmJlMuZ2RwckFwcGxpZXMmJihrLnJlZ3M9e2V4dDp7Z2RwcjpTLmdkcHJBcHBsaWVzPzE6MH19KSx3JiYoay5yZWdzfHwoay5yZWdzPXtleHQ6e319KSxrLnJlZ3MuZXh0LnVzX3ByaXZhY3k9dykse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2dyaWQuYmlkc3dpdGNoLm5ldC9oYmpzb24/c3A9dHJ1c3R4IixkYXRhOkpTT04uc3RyaW5naWZ5KGspLGJpZHNNYXA6Un19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm8uYTtlPWUmJmUuYm9keTt2YXIgaSxhPVtdO3JldHVybiBlP2Uuc2VhdGJpZCYmIWUuc2VhdGJpZC5sZW5ndGgmJihpPWgpOmk9YiwhaSYmZS5zZWF0YmlkJiZlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7QSh3KGUpLHIsYSx0KX0pKSxpJiZuLmxvZ0Vycm9yKGkpLGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxuKXtpZihlLnBpeGVsRW5hYmxlZCl7dmFyIGk9cy5iLmdldENvbmZpZygidXNlclN5bmMuc3luY3NQZXJCaWRkZXIiKSxvPVtdO3QmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQXBwbGllcz9vLnB1c2goImdkcHI9Ii5jb25jYXQoTnVtYmVyKHQuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpKTpvLnB1c2goImdkcHJfY29uc2VudD0iLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpKSksbiYmby5wdXNoKCJ1c19wcml2YWN5PSIuY29uY2F0KG4pKTt2YXIgYT1vLmpvaW4oIiYiKSxkPVt7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly9zb2ZpYS50cnVzdHgub3JnL3B1c2hfc3luYyIrKGE/Ij8iLmNvbmNhdChhKToiIil9XTtyZXR1cm4gaT4xJiZkLnB1c2goe3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8veC5iaWRzd2l0Y2gubmV0L3N5bmM/c3NwPXRoZW1lZGlhZ3JpZCIrKGE/IiYiLmNvbmNhdChhKToiIil9KSxkfX19O2Z1bmN0aW9uIHcoZSl7cmV0dXJuIGU/ZS5iaWQ/ZS5iaWRbMF18fG4ubG9nRXJyb3IoeSk6bi5sb2dFcnJvcih2K0pTT04uc3RyaW5naWZ5KGUpKTpuLmxvZ0Vycm9yKGcpLGUmJmUuYmlkJiZlLmJpZFswXX1mdW5jdGlvbiBBKGUscix0LGkpe2lmKGUpe3ZhciBvO2lmKGUuYXVpZHx8KG89ZitKU09OLnN0cmluZ2lmeShlKSksZS5hZG0pe3ZhciBzPXIuYmlkc01hcFtlLmltcGlkXTtpZighbyYmcyl7dmFyIGQ9e3JlcXVlc3RJZDpzLmJpZElkLGNwbTplLnByaWNlLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGNyZWF0aXZlSWQ6ZS5hdWlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITEsdHRsOjM2MCxkZWFsSWQ6ZS5kZWFsaWQsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWluP2UuYWRvbWFpbjpbXX19OyJ2aWRlbyI9PT1lLmNvbnRlbnRfdHlwZT8oZC52YXN0WG1sPWUuYWRtLGQubWVkaWFUeXBlPWEuZCxkLmFkUmVzcG9uc2U9e2NvbnRlbnQ6ZC52YXN0WG1sfSxzLnJlbmRlcmVyfHxzLm1lZGlhVHlwZXMmJnMubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSIhPT1zLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dHx8KGQucmVuZGVyZXI9ZnVuY3Rpb24oZSxyLHQpe3ZhciBpPXQuaW5zdGFsbCh7aWQ6ci5pZCx1cmw6ci51cmwsbG9hZGVkOiExfSk7dHJ5e2kuc2V0UmVuZGVyKGopfWNhdGNoKGUpe24ubG9nV2FybigiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gaX0oMCx7aWQ6cy5iaWRJZCx1cmw6Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vdmlkZW8vb3V0c3RyZWFtL0FOT3V0c3RyZWFtVmlkZW8uanMifSxpKSkpOihkLmFkPWUuYWRtLGQubWVkaWFUeXBlPWEuYiksdC5wdXNoKGQpfX1lbHNlIG89bStKU09OLnN0cmluZ2lmeShlKTtvJiZuLmxvZ0Vycm9yKG8pfX1mdW5jdGlvbiBqKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQU5PdXRzdHJlYW1WaWRlby5yZW5kZXJBZCh7dGFyZ2V0SWQ6ZS5hZFVuaXRDb2RlLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlfSl9KSl9ZnVuY3Rpb24geChlLHIsdCxuLGkpe2lmKHQmJnQubGVuZ3RoKW4ucHVzaCh7bmFtZTplLHNlZ21lbnQ6dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnIsdmFsdWU6ZX19KSl9KTtlbHNlIGlmKGkpe3ZhciBvPXMuYi5nZXRDb25maWcoIm9ydGIyLnVzZXIuZGF0YSIpLGE9bnVsbDtvJiZvLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciByPWUubmFtZSx0PWUuc2VnbWVudDtpZihyPT09aSlyZXR1cm4gYT10LCEwfSkpLGEmJmEubGVuZ3RoJiZuLnB1c2goe25hbWU6ZSxzZWdtZW50OmEubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bmFtZTpyLHZhbHVlOmV9fSkpfSl9fU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShTKX19LFs4MDFdKTsKdXBianNDaHVuayhbOTNdLHs4MDk6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDgxMCl9LDgxMDpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtkPSExfSx0LmQobiwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHM9dCgwKSxpPXQoMykscj10KDEpLGE9IjMuNVYiLGQ9ITE7cy5sb2dNZXNzYWdlKCJJbml0aWFsaXppbmcgVURNIEFkYXB0ZXIuIFBCSlMgVmVyc2lvbjogIi5jb25jYXQoIjUuMTEuMCIsIiB3aXRoIGFkYXB0ZXIgdmVyc2lvbjogIikuY29uY2F0KGEsIiAgVXBkYXRlZCAyMDE5MTAyOCIpKTt2YXIgbz17Y29kZToidW5kZXJkb2dtZWRpYSIsYmlkUGFyYW1zOltdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciBuPWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXM7cmV0dXJuISEoZS5wYXJhbXMmJmUucGFyYW1zLnNpdGVJZCYmbiYmbi5sZW5ndGg+MCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXSxpPTA7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzO3Q9cy5mbGF0dGVuKHQscy5wYXJzZVNpemVzSW5wdXQobikpLGk9ZS5wYXJhbXMuc2l0ZUlkfSkpO3ZhciByPXt0aWQ6MSxkdDoxMCxzaWQ6aSxzaXplczp0LmpvaW4oIiwiKSx2ZXJzaW9uOmF9O2lmKG4mJm4uZ2RwckNvbnNlbnQmJih2b2lkIDAhPT1uLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoci5nZHByQXBwbGllcz0hIW4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLG4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YSYmbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzJiZ2b2lkIDAhPT1uLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHNbMTU5XSYmKHIuY29uc2VudEdpdmVuPSEhbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzWzE1OV0pLHZvaWQgMCE9PW4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHIuY29uc2VudERhdGE9bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksbi51c3BDb25zZW50JiYoci51c3BDb25zZW50PW4udXNwQ29uc2VudCksIXIuZ2RwckFwcGxpZXN8fHIuY29uc2VudEdpdmVuKXJldHVybnttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovL3VkbXNlcnZlLm5ldC91ZG0vaW1nLmZldGNoIixkYXRhOnIsYmlkUGFyYW1zOmV9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxuKXtpZighZCYmbi5sZW5ndGg+MCYmblswXS5ib2R5JiZuWzBdLmJvZHkudXNlclN5bmNzJiZuWzBdLmJvZHkudXNlclN5bmNzLmxlbmd0aD4wKXJldHVybiBkPSEwLG5bMF0uYm9keS51c2VyU3luY3MuZmlsdGVyKChmdW5jdGlvbihuKXt2YXIgdD1uLnR5cGU7cmV0dXJuISghZS5pZnJhbWVFbmFibGVkfHwiaWZyYW1lIiE9PXQpfHwoISghZS5waXhlbEVuYWJsZWR8fCJpbWFnZSIhPT10KXx8dm9pZCAwKX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXTtyZXR1cm4gbi5iaWRQYXJhbXMuZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5ib2R5Lm1pZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIShlLnVzZUNvdW50PjApKXtlLnVzZUNvdW50fHwoZS51c2VDb3VudD0wKTt2YXIgcj0hMCxkPW4ubWVkaWFUeXBlcyYmbi5tZWRpYVR5cGVzLmJhbm5lciYmbi5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9uLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOm4uc2l6ZXM7aWYocy5wYXJzZVNpemVzSW5wdXQoZCkuZm9yRWFjaCgoZnVuY3Rpb24obil7bj09PWUud2lkdGgrIngiK2UuaGVpZ2h0JiYocj0hMSl9KSksIXIpe3ZhciBwPXtyZXF1ZXN0SWQ6bi5iaWRJZCxiaWRkZXJDb2RlOm8uY29kZSxjcG06cGFyc2VGbG9hdChlLmNwbSksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsYWQ6ZS5hZF9jb2RlX2h0bWwsY3JlYXRpdmVJZDplLm1pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiExLHR0bDplLnR0bHx8NjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZHZlcnRpc2VyX2RvbWFpbnN8fFtdfX07cC5jcG08PTB8fHAuYWQubGVuZ3RoPD0wfHwoZS51c2VDb3VudCsrLHAuYWQrPWZ1bmN0aW9uKGUsbix0KXt2YXIgcz1uLm5vdGlmaWNhdGlvbl91cmwscj1zLmluZGV4T2YoIjt2ZXJzaW9uPSIpO3IrMSYmKHM9cy5zdWJzdHJpbmcoMCxyKSk7cys9Ijt2ZXJzaW9uPSIuY29uY2F0KGEpLHMrPSI7Y2I9IitNYXRoLnJhbmRvbSgpLHMrPSI7cXFxPSIrMS9lLmNwbSxzKz0iO2hidD0iK2kuYi5nZXRDb25maWcoIl9iaWRkZXJUaW1lb3V0Iikscys9IjtzdHlsZT1hZGFwdGVyIixzKz0iO3Zpcz0iK2VuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpLHMrPSI7dHJhZmZpY19pbmZvPSIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGZ1bmN0aW9uKCl7Zm9yKHZhciBlLG49e30sdD13aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCI/IikrMSkuc3BsaXQoIiYiKSxzPTA7czx0Lmxlbmd0aDtzKyspKGU9dFtzXS5zcGxpdCgiPSIpKVswXS5tYXRjaCgvXnV0bV8vKSYmKG5bZVswXV09ZVsxXS5zdWJzdHIoMCwxNTApKTtyZXR1cm4gbn0oKSkpLHQucGFyYW1zLnN1YklkJiYocys9IjtzdWJpZD0iK2VuY29kZVVSSUNvbXBvbmVudCh0LnBhcmFtcy5zdWJJZCkpO3JldHVybic8c2NyaXB0IGFzeW5jIHNyYz0iJytzKyciPjxcL3NjcmlwdD4nfShwLGUsbiksdC5wdXNoKHApKX19fSkpfSkpLHR9fTtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikobyl9fSxbODA5XSk7CnVwYmpzQ2h1bmsoWzhdLHsxODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG4pKWlmKCJwdWJQcm92aWRlZElkIj09PW4pdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIHI9YShlW25dLG4pO3ImJnQucHVzaChyKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaXNQbGFpbk9iamVjdChlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKG4pe3IuZGVlcEFjY2VzcyhlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZyLmRlZXBBY2Nlc3MobyxuKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm9bbl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciByPW4oMCksbz17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PXIucGljayhlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9fTtmdW5jdGlvbiBhKGUsdCl7dmFyIG49b1t0XTtpZihuJiZlKXt2YXIgYT17fTthLnNvdXJjZT1uLnNvdXJjZTt2YXIgaT1yLmlzRm4obi5nZXRWYWx1ZSk/bi5nZXRWYWx1ZShlKTplO2lmKHIuaXNTdHIoaSkpe3ZhciBjPXtpZDppLGF0eXBlOm4uYXR5cGV9O2lmKHIuaXNGbihuLmdldFVpZEV4dCkpe3ZhciB1PW4uZ2V0VWlkRXh0KGUpO3UmJihjLmV4dD11KX1pZihhLnVpZHM9W2NdLHIuaXNGbihuLmdldEVpZEV4dCkpe3ZhciBzPW4uZ2V0RWlkRXh0KGUpO3MmJihhLmV4dD1zKX1yZXR1cm4gYX19cmV0dXJuIG51bGx9fSw4MTk6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDgyMCl9LDgyMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiUEJKU19VU0VSX0lEX09QVE9VVF9OQU1FIiwoZnVuY3Rpb24oKXtyZXR1cm4gd30pKSxuLmQodCwiY29yZVN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZCh0LCJzeW5jRGVsYXkiLChmdW5jdGlvbigpe3JldHVybiBqfSkpLG4uZCh0LCJhdWN0aW9uRGVsYXkiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLHQuc2V0U3VibW9kdWxlUmVnaXN0cnk9ZnVuY3Rpb24oZSl7Vj1lfSx0LnNldFN0b3JlZFZhbHVlPUwsdC5zZXRTdG9yZWRDb25zZW50RGF0YT1NLHQuZmluZFJvb3REb21haW49Six0LnJlcXVlc3RCaWRzSG9vaz0kLG4uZCh0LCJ2YWxpZGF0ZUdkcHJFbmZvcmNlbWVudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksdC5hdHRhY2hJZFN5c3RlbT1uZSx0LmluaXQ9cmU7dmFyIHI9bigxMSksbz1uLm4ociksYT1uKDMpLGk9big5KSxjPW4ubihpKSx1PW4oMCkscz1uKDE0KSxkPW4oOCksbD1uKDUpLGY9bi5uKGwpLGc9bigxMCkscD1uKDE4KSxtPW4oNyksYj1uKDEyKSx5PW4ubihiKTtmdW5jdGlvbiB2KGUsdCl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGgoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIGgoZSx0KX0oZSkpfHx0JiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgYSxpPSEwLGM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBpPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e2l8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBhfX19fWZ1bmN0aW9uIGgoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgSSxPLGosayxEPSJVc2VyIElEIixFPSJjb29raWUiLFM9Imh0bWw1Iix4PSJfcGJqc191c2VyaWRfY29uc2VudF9kYXRhIixBPTMwLHc9Il9wYmpzX2lkX29wdG91dCIsQz1PYmplY3QobS5hKSgidXNlcmlkIiksVT1bXSxfPSExLFA9W10sVD1bXSxWPVtdO2Z1bmN0aW9uIEwoZSx0KXt2YXIgbj1lLmNvbmZpZy5zdG9yYWdlLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGUuc3VibW9kdWxlLmRvbWFpbk92ZXJyaWRlP2Uuc3VibW9kdWxlLmRvbWFpbk92ZXJyaWRlKCk6bnVsbDt0cnl7dmFyIG89dS5pc1BsYWluT2JqZWN0KHQpP0pTT04uc3RyaW5naWZ5KHQpOnQsYT1uZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1Km4uZXhwaXJlcykudG9VVENTdHJpbmcoKTtuLnR5cGU9PT1FPyhDLnNldENvb2tpZShuLm5hbWUsbyxhLCJMYXgiLHIpLCJudW1iZXIiPT10eXBlb2Ygbi5yZWZyZXNoSW5TZWNvbmRzJiZDLnNldENvb2tpZSgiIi5jb25jYXQobi5uYW1lLCJfbGFzdCIpLChuZXcgRGF0ZSkudG9VVENTdHJpbmcoKSxhLCJMYXgiLHIpKTpuLnR5cGU9PT1TJiYoQy5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KG4ubmFtZSwiX2V4cCIpLGEpLEMuc2V0RGF0YUluTG9jYWxTdG9yYWdlKG4ubmFtZSxlbmNvZGVVUklDb21wb25lbnQobykpLCJudW1iZXIiPT10eXBlb2Ygbi5yZWZyZXNoSW5TZWNvbmRzJiZDLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQobi5uYW1lLCJfbGFzdCIpLChuZXcgRGF0ZSkudG9VVENTdHJpbmcoKSkpfWNhdGNoKGUpe3UubG9nRXJyb3IoZSl9fWZ1bmN0aW9uIE4oZSl7dmFyIHQ9T2JqZWN0KHUuZ2V0UHJlYmlkSW50ZXJuYWwpKCkuc2V0RWlkUGVybWlzc2lvbnM7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnUuaXNBcnJheShlKSYmdChPYmplY3QocC5hKShlKSl9ZnVuY3Rpb24gcShlKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp2b2lkIDAscj1uPyIiLmNvbmNhdChlLm5hbWUsIl8iKS5jb25jYXQobik6ZS5uYW1lO3RyeXtpZihlLnR5cGU9PT1FKXQ9Qy5nZXRDb29raWUocik7ZWxzZSBpZihlLnR5cGU9PT1TKXt2YXIgbz1DLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLm5hbWUsIl9leHAiKSk7IiI9PT1vP3Q9Qy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShyKTpvJiZuZXcgRGF0ZShvKS5nZXRUaW1lKCktRGF0ZS5ub3coKT4wJiYodD1kZWNvZGVVUklDb21wb25lbnQoQy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShyKSkpfSJzdHJpbmciPT10eXBlb2YgdCYmInsiPT09dC50cmltKCkuY2hhckF0KDApJiYodD1KU09OLnBhcnNlKHQpKX1jYXRjaChlKXt1LmxvZ0Vycm9yKGUpfXJldHVybiB0fWZ1bmN0aW9uIEYoZSl7dmFyIHQ9e2NvbnNlbnRTdHJpbmc6IiIsZ2RwckFwcGxpZXM6ITEsYXBpVmVyc2lvbjowfTtyZXR1cm4gZSYmKHQuY29uc2VudFN0cmluZz1lLmNvbnNlbnRTdHJpbmcsdC5nZHByQXBwbGllcz1lLmdkcHJBcHBsaWVzLHQuYXBpVmVyc2lvbj1lLmFwaVZlcnNpb24pLHUuY3lyYjUzSGFzaChKU09OLnN0cmluZ2lmeSh0KSl9ZnVuY3Rpb24gTShlKXt0cnl7dmFyIHQ9bmV3IERhdGUoRGF0ZS5ub3coKSs4NjRlNSpBKS50b1VUQ1N0cmluZygpO0Muc2V0Q29va2llKHgsRihlKSx0LCJMYXgiKX1jYXRjaChlKXt1LmxvZ0Vycm9yKGUpfX1mdW5jdGlvbiBCKCl7dHJ5e3JldHVybiBDLmdldENvb2tpZSh4KX1jYXRjaChlKXt1LmxvZ0Vycm9yKGUpfX1mdW5jdGlvbiBSKGUpe2lmKGUmJiJib29sZWFuIj09dHlwZW9mIGUuZ2RwckFwcGxpZXMmJmUuZ2RwckFwcGxpZXMpe2lmKCFlLmNvbnNlbnRTdHJpbmcpcmV0dXJuITE7aWYoMT09PWUuYXBpVmVyc2lvbiYmITE9PT11LmRlZXBBY2Nlc3MoZSwidmVuZG9yRGF0YS5wdXJwb3NlQ29uc2VudHMuMSIpKXJldHVybiExO2lmKDI9PT1lLmFwaVZlcnNpb24mJiExPT09dS5kZWVwQWNjZXNzKGUsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gSigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7aWYoIUMuY29va2llc0FyZUVuYWJsZWQoKSlyZXR1cm4gZTt2YXIgdCxuLHI9ZS5zcGxpdCgiLiIpO2lmKDI9PXIubGVuZ3RoKXJldHVybiBlO3ZhciBvPS0yLGE9Il9yZGMiLmNvbmNhdChEYXRlLm5vdygpKSxpPSJ3cml0ZWFibGUiO2Rve3Q9ci5zbGljZShvKS5qb2luKCIuIik7dmFyIGM9bmV3IERhdGUodS50aW1lc3RhbXAoKSsxZTQpLnRvVVRDU3RyaW5nKCk7Qy5zZXRDb29raWUoYSxpLGMsIkxheCIsdCx2b2lkIDApO3ZhciBzPUMuZ2V0Q29va2llKGEsdm9pZCAwKTtzPT09aT8obj0hMSxDLnNldENvb2tpZShhLCIiLCJUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVCIsdm9pZCAwLHQsdm9pZCAwKSk6KG8rPS0xLG49TWF0aC5hYnMobyk8PXIubGVuZ3RoKX13aGlsZShuKTtyZXR1cm4gdH1mdW5jdGlvbiBIKGUsdCl7dmFyIG49ZnVuY3Rpb24oKXt9O3QmJihuPXUuZGVsYXlFeGVjdXRpb24oKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KE8pLHQoKX0pLGUubGVuZ3RoKSksZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmNhbGxiYWNrKChmdW5jdGlvbih0KXt0PyhlLmNvbmZpZy5zdG9yYWdlJiZMKGUsdCksZS5pZE9iaj1lLnN1Ym1vZHVsZS5kZWNvZGUodCxlLmNvbmZpZykpOnUubG9nSW5mbygiIi5jb25jYXQoRCwiOiAiKS5jb25jYXQoZS5zdWJtb2R1bGUubmFtZSwiIC0gcmVxdWVzdCBpZCByZXNwb25kZWQgd2l0aCBhbiBlbXB0eSB2YWx1ZSIpKSxuKCl9KSksZS5jYWxsYmFjaz12b2lkIDB9KSl9ZnVuY3Rpb24geihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg/ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1LmlzUGxhaW5PYmplY3QoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKHQuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09dC5pZE9ialtuXX0pKSxlfSkse30pOnt9fWZ1bmN0aW9uIEcoZSx0KXtbZV0uc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIUFycmF5LmlzQXJyYXkoZSl8fCFlLmxlbmd0aH0pKXx8ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZHMmJnUuaXNBcnJheShlLmJpZHMpJiYoIWUuYmlkcy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJ9KSkmJnUuZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQucHJlYmlkLnN0b3JlZHJlcXVlc3QiKSYmZS5iaWRzLnB1c2goe2JpZGRlcjoiczJzQmlkZGVyUGxhY2Vob2xkZXIifSksZS5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoJiZ0P2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5jb25maWcuYmlkZGVyc3x8IXUuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKXx8eSgpKGUuY29uZmlnLmJpZGRlcnMsdCl8fCJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT10fSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHUuaXNQbGFpbk9iamVjdChlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmtleXModC5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24obil7ZVtuXT10LmlkT2JqW25dfSkpLGV9KSx7fSk6e319KHQsZS5iaWRkZXIpO09iamVjdC5rZXlzKG4pLmxlbmd0aCYmKGUudXNlcklkPW4sZS51c2VySWRBc0VpZHM9T2JqZWN0KHAuYikobikpfSkpKX0pKX1mdW5jdGlvbiBXKGUpe3ZhciB0PSExO2lmKHZvaWQgMD09PUkmJihJPWZ1bmN0aW9uKGUsdCl7dmFyIG49WShlLHQpLHI9bi51c2VySWRNb2R1bGVzO2lmKCFuLmhhc1ZhbGlkYXRlZCYmIVIodCkpcmV0dXJuIHUubG9nV2FybigiIi5jb25jYXQoRCwiIC0gZ2RwciBwZXJtaXNzaW9uIG5vdCB2YWxpZCBmb3IgbG9jYWwgc3RvcmFnZSBvciBjb29raWVzLCBleGl0IG1vZHVsZSIpKSxbXTt2YXIgbz1CKCk7cmV0dXJuIE0odCksci5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIFoobix0LG8sITEpLGUucHVzaChuKSxlfSksW10pfShQLGQuZ2RwckRhdGFIYW5kbGVyLmdldENvbnNlbnREYXRhKCkpKS5sZW5ndGgpe04oSSk7dmFyIG49SS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1LmlzRm4oZS5jYWxsYmFjayl9KSk7aWYobi5sZW5ndGgpaWYoZSYmaz4wKXt0PSEwO3ZhciByPSExLG89ZnVuY3Rpb24oKXtyfHwocj0hMCxlKCkpfTt1LmxvZ0luZm8oIiIuY29uY2F0KEQsIiAtIGF1Y3Rpb24gZGVsYXllZCBieSAiKS5jb25jYXQoaywiIGF0IG1vc3QgdG8gZmV0Y2ggaWRzIikpLE89c2V0VGltZW91dChvLGspLEgobixvKX1lbHNlIGMuYS5vbihmLmEuRVZFTlRTLkFVQ1RJT05fRU5ELChmdW5jdGlvbiBlKCl7Yy5hLm9mZihmLmEuRVZFTlRTLkFVQ1RJT05fRU5ELGUpLGo+MD9zZXRUaW1lb3V0KChmdW5jdGlvbigpe0gobil9KSxqKTpIKG4pfSkpfWUmJiF0JiZlKCl9ZnVuY3Rpb24gJChlLHQpe1coKGZ1bmN0aW9uKCl7Ryh0LmFkVW5pdHN8fE9iamVjdChzLmEpKCkuYWRVbml0cyxJKSxlLmNhbGwodGhpcyx0KX0pKX1mdW5jdGlvbiBLKCl7cmV0dXJuIFcoKSx6KEkpfWZ1bmN0aW9uIFEoKXtyZXR1cm4gVygpLE9iamVjdChwLmIpKHooSSkpfWZ1bmN0aW9uIFgoZSx0KXt2YXIgbj1lP2Uuc3VibW9kdWxlTmFtZXM6bnVsbDtufHwobj1bXSksVygoZnVuY3Rpb24oKXt2YXIgZT1kLmdkcHJEYXRhSGFuZGxlci5nZXRDb25zZW50RGF0YSgpLHI9WShQLGUpLG89ci51c2VySWRNb2R1bGVzO2lmKHIuaGFzVmFsaWRhdGVkfHxSKGUpKXt2YXIgYT1CKCk7TShlKTt2YXIgaSxjPVtdLHM9dihvKTt0cnl7Zm9yKHMucygpOyEoaT1zLm4oKSkuZG9uZTspe3ZhciBsPWkudmFsdWU7bi5sZW5ndGg+MCYmLTE9PT1uLmluZGV4T2YobC5zdWJtb2R1bGUubmFtZSl8fCh1LmxvZ0luZm8oIiIuY29uY2F0KEQsIiAtIHJlZnJlc2hpbmcgIikuY29uY2F0KGwuc3VibW9kdWxlLm5hbWUpKSxaKGwsZSxhLCEwKSxlZShsKSxJLmxlbmd0aCYmTihJKSx1LmlzRm4obC5jYWxsYmFjaykmJmMucHVzaChsKSl9fWNhdGNoKGUpe3MuZShlKX1maW5hbGx5e3MuZigpfWMubGVuZ3RoPjAmJkgoYyksdCYmdCgpfWVsc2UgdS5sb2dXYXJuKCIiLmNvbmNhdChELCIgLSBnZHByIHBlcm1pc3Npb24gbm90IHZhbGlkIGZvciBsb2NhbCBzdG9yYWdlIG9yIGNvb2tpZXMsIGV4aXQgbW9kdWxlIikpfSkpfXZhciBZPU9iamVjdChnLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm57dXNlcklkTW9kdWxlczplLGhhc1ZhbGlkYXRlZDp0JiZ0Lmhhc1ZhbGlkYXRlZH19KSwidmFsaWRhdGVHZHByRW5mb3JjZW1lbnQiKTtmdW5jdGlvbiBaKGUsdCxuLHIpe2lmKGUuY29uZmlnLnN0b3JhZ2Upe3ZhciBvLGE9cShlLmNvbmZpZy5zdG9yYWdlKSxpPSExO2lmKCJudW1iZXIiPT10eXBlb2YgZS5jb25maWcuc3RvcmFnZS5yZWZyZXNoSW5TZWNvbmRzKXt2YXIgYz1uZXcgRGF0ZShxKGUuY29uZmlnLnN0b3JhZ2UsImxhc3QiKSk7aT1jJiZEYXRlLm5vdygpLWMuZ2V0VGltZSgpPjFlMyplLmNvbmZpZy5zdG9yYWdlLnJlZnJlc2hJblNlY29uZHN9IWF8fGl8fHJ8fCFmdW5jdGlvbihlLHQpe3JldHVybiBudWxsIT1lJiZlPT09Rih0KX0obix0KT9vPWUuc3VibW9kdWxlLmdldElkKGUuY29uZmlnLHQsYSk6ImZ1bmN0aW9uIj09dHlwZW9mIGUuc3VibW9kdWxlLmV4dGVuZElkJiYobz1lLnN1Ym1vZHVsZS5leHRlbmRJZChlLmNvbmZpZyx0LGEpKSx1LmlzUGxhaW5PYmplY3QobykmJihvLmlkJiYoTChlLG8uaWQpLGE9by5pZCksImZ1bmN0aW9uIj09dHlwZW9mIG8uY2FsbGJhY2smJihlLmNhbGxiYWNrPW8uY2FsbGJhY2spKSxhJiYoZS5pZE9iaj1lLnN1Ym1vZHVsZS5kZWNvZGUoYSxlLmNvbmZpZykpfWVsc2UgaWYoZS5jb25maWcudmFsdWUpZS5pZE9iaj1lLmNvbmZpZy52YWx1ZTtlbHNle3ZhciBzPWUuc3VibW9kdWxlLmdldElkKGUuY29uZmlnLHQsdm9pZCAwKTt1LmlzUGxhaW5PYmplY3QocykmJigiZnVuY3Rpb24iPT10eXBlb2Ygcy5jYWxsYmFjayYmKGUuY2FsbGJhY2s9cy5jYWxsYmFjaykscy5pZCYmKGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKHMuaWQsZS5jb25maWcpKSl9fWZ1bmN0aW9uIGVlKGUpe2Zvcih2YXIgdD0hMSxuPTA7bjxJLmxlbmd0aDtuKyspaWYoZS5jb25maWcubmFtZS50b0xvd2VyQ2FzZSgpPT09SVtuXS5jb25maWcubmFtZS50b0xvd2VyQ2FzZSgpKXt0PSEwLElbbl09ZTticmVha310fHxJLnB1c2goZSl9ZnVuY3Rpb24gdGUoKXt2YXIgZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIXR8fHUuaXNFbXB0eVN0cih0Lm5hbWUpfHwoIXQuc3RvcmFnZXx8dS5pc0VtcHR5U3RyKHQuc3RvcmFnZS50eXBlKXx8dS5pc0VtcHR5U3RyKHQuc3RvcmFnZS5uYW1lKXx8LTE9PT1uLmluZGV4T2YodC5zdG9yYWdlLnR5cGUpP3UuaXNQbGFpbk9iamVjdCh0LnZhbHVlKT9lLnB1c2godCk6dC5zdG9yYWdlfHx0LnZhbHVlfHxlLnB1c2godCk6ZS5wdXNoKHQpKSxlfSksW10pOltdfShULDAsVSk7aWYoZS5sZW5ndGgpe3ZhciB0PVYuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hbygpKFAsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLm5hbWV9KSl9KSk7UD10Lm1hcCgoZnVuY3Rpb24odCl7dmFyIG49bygpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWUmJihlLm5hbWUudG9Mb3dlckNhc2UoKT09PXQubmFtZS50b0xvd2VyQ2FzZSgpfHx0LmFsaWFzTmFtZSYmZS5uYW1lLnRvTG93ZXJDYXNlKCk9PT10LmFsaWFzTmFtZS50b0xvd2VyQ2FzZSgpKX0pKTtyZXR1cm4gbiYmdC5uYW1lIT09bi5uYW1lJiYobi5uYW1lPXQubmFtZSksdC5maW5kUm9vdERvbWFpbj1KLG4/e3N1Ym1vZHVsZTp0LGNvbmZpZzpuLGNhbGxiYWNrOnZvaWQgMCxpZE9iajp2b2lkIDB9Om51bGx9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWV9KSksIV8mJlAubGVuZ3RoJiYoT2JqZWN0KHMuYSkoKS5yZXF1ZXN0Qmlkcy5iZWZvcmUoJCw0MCksdS5sb2dJbmZvKCIiLmNvbmNhdChELCIgLSB1c2Vyc3luYyBjb25maWcgdXBkYXRlZCBmb3IgIikuY29uY2F0KFAubGVuZ3RoLCIgc3VibW9kdWxlczogIiksUC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN1Ym1vZHVsZS5uYW1lfSkpKSxfPSEwKX19ZnVuY3Rpb24gbmUoZSl7bygpKFYsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLm5hbWV9KSl8fChWLnB1c2goZSksdGUoKSl9ZnVuY3Rpb24gcmUoZSl7UD1bXSxUPVtdLF89ITEsST12b2lkIDAsLTEhPT0oVT1bQy5sb2NhbFN0b3JhZ2VJc0VuYWJsZWQoKT9TOm51bGwsQy5jb29raWVzQXJlRW5hYmxlZCgpP0U6bnVsbF0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWV9KSkpLmluZGV4T2YoRSkmJkMuZ2V0Q29va2llKHcpP3UubG9nSW5mbygiIi5jb25jYXQoRCwiIC0gb3B0LW91dCBjb29raWUgZm91bmQsIGV4aXQgbW9kdWxlIikpOi0xIT09VS5pbmRleE9mKFMpJiZDLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKHcpP3UubG9nSW5mbygiIi5jb25jYXQoRCwiIC0gb3B0LW91dCBsb2NhbFN0b3JhZ2UgZm91bmQsIGV4aXQgbW9kdWxlIikpOihlLmdldENvbmZpZygoZnVuY3Rpb24oZSl7dmFyIHQ9ZS51c2VyU3luYzt0JiZ0LnVzZXJJZHMmJihUPXQudXNlcklkcyxqPXUuaXNOdW1iZXIodC5zeW5jRGVsYXkpP3Quc3luY0RlbGF5OjUwMCxrPXUuaXNOdW1iZXIodC5hdWN0aW9uRGVsYXkpP3QuYXVjdGlvbkRlbGF5OjAsdGUoKSl9KSksT2JqZWN0KHMuYSkoKS5nZXRVc2VySWRzPUssT2JqZWN0KHMuYSkoKS5nZXRVc2VySWRzQXNFaWRzPVEsT2JqZWN0KHMuYSkoKS5yZWZyZXNoVXNlcklkcz1YKX1yZShhLmIpLE9iamVjdChnLmMpKCJ1c2VySWQiLG5lKX19LFs4MTldKTsKdXBianNDaHVuayhbNzFdLHs4NTg6ZnVuY3Rpb24oZSxhLHIpe2UuZXhwb3J0cz1yKDg1OSl9LDg1OTpmdW5jdGlvbihlLGEscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQoYSwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIG49cigwKSx0PXIoMSksaT1yKDExKSxzPXIubihpKSxkPXIoMiksbz1yKDEzKSxjPSJodHRwczovL2FkLnlpZWxkbGFiLm5ldCIscD17Y29kZToieWllbGRsYWIiLGd2bGlkOjcwLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2QuZCxkLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiZlLnBhcmFtcy5hZHNsb3RJZCYmZS5wYXJhbXMuc3VwcGx5SWQpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsYSl7dmFyIHI9W10sdD17dHM6RGF0ZS5ub3coKSxqc29uOiEwfTtuLl9lYWNoKGUsKGZ1bmN0aW9uKGUpe2lmKHIucHVzaChlLnBhcmFtcy5hZHNsb3RJZCksZS5wYXJhbXMudGFyZ2V0aW5nJiYodC50PWZ1bmN0aW9uKGUpe3ZhciBhPVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpe3ZhciBuPXIsdD1lW3JdO2EucHVzaChuKyI9Iit0KX1yZXR1cm4gYS5qb2luKCImIil9KGUucGFyYW1zLnRhcmdldGluZykpLGUudXNlcklkQXNFaWRzJiZBcnJheS5pc0FycmF5KGUudXNlcklkQXNFaWRzKSYmKHQuaWRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgYT1bXSxyPTA7cjxlLmxlbmd0aDtyKyspYS5wdXNoKGVbcl0uc291cmNlKyI6IitlW3JdLnVpZHNbMF0uaWQpO3JldHVybiBhLmpvaW4oIiwiKX0oZS51c2VySWRBc0VpZHMpKSxlLnBhcmFtcy5jdXN0b21QYXJhbXMmJm4uaXNQbGFpbk9iamVjdChlLnBhcmFtcy5jdXN0b21QYXJhbXMpKWZvcih2YXIgYSBpbiBlLnBhcmFtcy5jdXN0b21QYXJhbXMpdFthXT1lLnBhcmFtcy5jdXN0b21QYXJhbXNbYV07dmFyIGkscyxkLG8sYztlLnNjaGFpbiYmbi5pc1BsYWluT2JqZWN0KGUuc2NoYWluKSYmQXJyYXkuaXNBcnJheShlLnNjaGFpbi5ub2RlcykmJih0LnNjaGFpbj0oaT1lLnNjaGFpbixzPWkudmVyfHwiIixkPTE9PT1pLmNvbXBsZXRlfHwwPT09aS5jb21wbGV0ZT9pLmNvbXBsZXRlOiIiLG89WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iLCJleHQiXSxjPWkubm9kZXMucmVkdWNlKChmdW5jdGlvbihlLGEpe3JldHVybiBlKyIhIi5jb25jYXQoby5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBhW2VdPyhyPWFbZV0sZW5jb2RlVVJJQ29tcG9uZW50KHIpLnJlcGxhY2UoLyEvZywiJTIxIikpOiIiO3ZhciByfSkpLmpvaW4oIiwiKSl9KSwiIiksIiIuY29uY2F0KHMsIiwiKS5jb25jYXQoZCkuY29uY2F0KGMpKSl9KSksYSYmKGEucmVmZXJlckluZm8mJmEucmVmZXJlckluZm8ucmVmZXJlciYmKHQucHVicmVmPWEucmVmZXJlckluZm8ucmVmZXJlciksYS5nZHByQ29uc2VudCYmKHQuZ2Rwcj0iYm9vbGVhbiIhPXR5cGVvZiBhLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfHxhLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzLHQuZ2RwciYmKHQuY29uc2VudD1hLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSk7dmFyIGk9ci5qb2luKCIsIikscz1mdW5jdGlvbihlKXt2YXIgYT1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKXt2YXIgbj1lW3JdOyJzY2hhaW4iIT09cj9hLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHIpKyI9IitlbmNvZGVVUklDb21wb25lbnQobikpOmEucHVzaChyKyI9IituKX1yZXR1cm4gYS5qb2luKCImIil9KHQpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOiIiLmNvbmNhdChjLCIveXAvIikuY29uY2F0KGksIj8iKS5jb25jYXQocyksdmFsaWRCaWRSZXF1ZXN0czplLHF1ZXJ5UGFyYW1zOnR9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLGEpe3ZhciByPVtdLHQ9RGF0ZS5ub3coKSxpPWEucXVlcnlQYXJhbXM7cmV0dXJuIGEudmFsaWRCaWRSZXF1ZXN0cy5mb3JFYWNoKChmdW5jdGlvbihhKXtpZihlLmJvZHkpe3ZhciBwLHYsZj1zKCkoZS5ib2R5LChmdW5jdGlvbihlKXtyZXR1cm4gYS5wYXJhbXMuYWRzbG90SWQ9PWUuaWR9KSk7aWYoZil7dmFyIGw9MiE9PWEuc2l6ZXMubGVuZ3RofHxuLmlzQXJyYXkoYS5zaXplc1swXSk/YS5zaXplc1swXTphLnNpemVzLGg9dm9pZCAwIT09YS5wYXJhbXMuYWRTaXplP3UoYS5wYXJhbXMuYWRTaXplKTp2b2lkIDAhPT1mLmFkc2l6ZT91KGYuYWRzaXplKTpsLHk9dm9pZCAwIT09YS5wYXJhbXMuZXh0SWQ/IiZpZD0iK2EucGFyYW1zLmV4dElkOiIiLGc9dm9pZCAwIT09Zi5hZHR5cGU/Zi5hZHR5cGU6IiIsST1pLmdkcHI/IiZnZHByPSIraS5nZHByOiIiLHc9aS5jb25zZW50PyImY29uc2VudD0iK2kuY29uc2VudDoiIixiPXZvaWQgMCE9PWYucHZpZD8iJnB2aWQ9IitmLnB2aWQ6IiIsQT17cmVxdWVzdElkOmEuYmlkSWQsY3BtOmYucHJpY2UvMTAwLHdpZHRoOmhbMF0saGVpZ2h0OmhbMV0sY3JlYXRpdmVJZDoiIitmLmlkLGRlYWxJZDpmWyJjLmRlYWxpZCJdP2ZbImMuZGVhbGlkIl06Zi5waWQsY3VycmVuY3k6IkVVUiIsbmV0UmV2ZW51ZTohMSx0dGw6MzAwLHJlZmVycmVyOiIiLGFkOic8c2NyaXB0IHNyYz0iJy5jb25jYXQoYywiL2QvIikuY29uY2F0KGYuaWQsIi8iKS5jb25jYXQoYS5wYXJhbXMuc3VwcGx5SWQsIi8/dHM9IikuY29uY2F0KHQpLmNvbmNhdCh5KS5jb25jYXQoSSkuY29uY2F0KHcpLmNvbmNhdChiLCciPjxcL3NjcmlwdD4nKSxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpmLmFkdmVydGlzZXI/Zi5hZHZlcnRpc2VyOiJuL2EifX07aWYocD1hLHY9ZyxuLmRlZXBBY2Nlc3MocCwibWVkaWFUeXBlcy52aWRlbyIpJiYidmlkZW8iPT09di50b0xvd2VyQ2FzZSgpKXt2YXIgaj1mdW5jdGlvbihlKXt2YXIgYT1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIik7cmV0dXJuIGEmJm4uaXNBcnJheShhWzBdKT9hWzBdOmF9KGEpO2lmKGomJihBLndpZHRoPWpbMF0sQS5oZWlnaHQ9alsxXSksQS5tZWRpYVR5cGU9ZC5kLEEudmFzdFVybD0iIi5jb25jYXQoYywiL2QvIikuY29uY2F0KGYuaWQsIi8iKS5jb25jYXQoYS5wYXJhbXMuc3VwcGx5SWQsIi8/dHM9IikuY29uY2F0KHQpLmNvbmNhdCh5KS5jb25jYXQoSSkuY29uY2F0KHcpLmNvbmNhdChiKSxmdW5jdGlvbihlKXtyZXR1cm4ib3V0c3RyZWFtIj09PW4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKX0oYSkpe3ZhciBQPW8uYS5pbnN0YWxsKHtpZDphLmJpZElkLHVybDoiaHR0cHM6Ly9hZC5hZGl0aW9uLmNvbS9keW5hbWljLmFkP2E9bzE5MzA5MiZtYV9sb2FkRXZlbnQ9bWEtc3RhcnQtZXZlbnQiLGxvYWRlZDohMX0pO1Auc2V0UmVuZGVyKG0pLEEucmVuZGVyZXI9UH19ci5wdXNoKEEpfX19KSkscn19O2Z1bmN0aW9uIHUoZSl7cmV0dXJuIGUuc3BsaXQoIngiKS5tYXAoTnVtYmVyKX1mdW5jdGlvbiBtKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cubWFfd2lkdGg9ZS53aWR0aCx3aW5kb3cubWFfaGVpZ2h0PWUuaGVpZ2h0LHdpbmRvdy5tYV92YXN0VXJsPWUudmFzdFVybCx3aW5kb3cubWFfY29udGFpbmVyPWUuYWRVbml0Q29kZSx3aW5kb3cuZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoIm1hLXN0YXJ0LWV2ZW50IikpfSkpfU9iamVjdCh0LnJlZ2lzdGVyQmlkZGVyKShwKX19LFs4NThdKTsKdXBianMucHJvY2Vzc1F1ZXVlKCk7";try{var decodedCode=atob(prebidjsCode);eval(decodedCode)}catch(e){}_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs=window.upbjs};this.load=function(){_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs||(initPbjs(),subscriptionLayer.invokeEventCallbacks("postset"))}}},246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=function(e,t,n){for(var i=[],r=0;r<e.length;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i},r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};const o={map:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e));return n},filter:i,reject:function(e,t,n){for(var i=[],r=0;r<e.length;r++)t.call(n,e[r],r,e)||i.push(e[r]);return i},forEach:function(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n],n,e)},find:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i,n,e))return i}},flat:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(r(i))for(var o=0;o<i.length;o++){var a=i[o];t.push(a)}else t.push(i)}return t},isArray:r,distinct:function(e){return i(e,(function(e,t,n){return n.indexOf(e)===t}))},reduce:function(e,t){if(null===e)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i=Object(e),r=i.length>>>0,o=0;if(arguments.length>=3)n=arguments[2];else{for(;o<r&&!(o in i);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");n=i[o++]}for(;o<r;)o in i&&(n=t(n,i[o],o,i)),o++;return n},addClass:function(e,t){if(t&&e){var n=t.className;-1==n.indexOf(e)&&(""!=n&&(e=" "+e),t.className=n+e)}},removeClass:function(e,t){if(t&&e){var n=t.className,i=new RegExp("\\b"+e+"\\b","g");n=n.replace(i,""),t.className=n}},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},objectAssign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},CDefer:function(){var e,t,n=this;this.fate="unresolved",this.state="pending",this.promise=new Promise((function(n,i){e=n,t=i})),this.promise.then((function(e){return n.state="fulfilled",e}),(function(e){return n.state="rejected",e})),this.resolve=function(t){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",e(t)},this.reject=function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",t(e)},this.isResolved=function(){return"resolved"===this.fate},this.isPending=function(){return"pending"===this.state},this.isFulfilled=function(){return"fulfilled"===this.state},this.isRejected=function(){return"rejected"===this.state}}}},616:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deepClone:()=>d,isNumber:()=>c,isNil:()=>l,debounce:()=>u,escapeSelector:()=>g,getElementWithSelector:()=>p,isElementInBody:()=>m,isFirstViewPortElement:()=>w,extractQueryParamFromUrl:()=>b,getTopmostAccessibleWindow:()=>v,extractVariableFromString:()=>M,getRandomInt:()=>N,getTrueByProbability:()=>D,truncateString:()=>y,matchStringsOnString:()=>X});var i=n(2),r=n(552),o=n(246),a=n(836),s=new r.Z({prefix:"commonUtils: "}),d=function e(t){if(!t)return t;var n,r=[Number,String,Boolean];try{if(o.Z.forEach(r,(function(e){t instanceof e&&(n=e(t))})),void 0===n)if("[object Array]"===Object.prototype.toString.call(t))n=[],o.Z.forEach(t,(function(t,i,r){n[i]=e(t)}));else if("object"==(0,i.Z)(t))if(t.nodeType&&"function"==typeof t.cloneNode)n=t.cloneNode(!0);else if(t.prototype)n=t;else if(t instanceof Date)n=new Date(t);else for(var a in n={},t)n[a]=e(t[a]);else n=t}catch(e){n=t}return n};function c(e){return!isNaN(e)&&"number"==typeof e}function l(e){return null==e}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var d=function(){t=null,i||e.apply(r,a)},c=i&&!t;clearTimeout(t),t=setTimeout(d,n),c&&e.apply(r,a)}}var h=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function f(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function g(e){var t=e.charAt(0);return"#"===t||"."===t?t+e.substring(1).replace(h,f):e}function p(e){try{return document.querySelector(e)}catch(t){s.errorf(null,"document.querySelector:%o - error:%o",[e,t])}}function m(e){return e&&(document.documentElement||document.body).contains(e)}var w=function(e){try{if(!e)return;var t,n,i=!1;"none"===window.getComputedStyle(e).display&&(t=e.style.getPropertyValue("display"),n=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),i=!0);var r=e.getBoundingClientRect().top+window.scrollY;return i&&e.style.setProperty("display",t,n),r<=a.Z.consts.acceptableStandardScreenSize.height}catch(e){s.errorf(null,"isFirstViewPortElement - error: %o",e)}},b=function(e,t){e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},v=function(){var e=window;try{for(;e!==e.parent;)e.parent.document,e=e.parent}catch(e){s.errorf(null,"getTopmostAccessibleWindow - error: %o",e)}return e},M=function(e,t){if(e){for(var n=t.split("."),i=e,r=0;r<n.length;r++){var o=n[r];if(!i[o])return;i=i[o]}return i}};function N(e){return Math.floor(Math.random()*Math.floor(e))}function D(e){return N(100)<e}function y(e,t){return e.length>t?e.substring(0,t):e}function X(e,t){return e.every((function(e){return t.includes(e)}))}},614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var i={};n.r(i),n.d(i,{getSizeType:()=>m,isUnacceptable:()=>M,isUnacceptableFirstViewPortSize:()=>w});var r=n(836),o=n(616),a=new function(){this.insertElement=function(e,t,n){switch(n){case"appendChild":t.appendChild(e);break;case"insertBefore":t.parentElement.insertBefore(e,t);break;case"insertAfter":t.nextElementSibling?this.insertElement(e,t.nextElementSibling,"insertBefore"):this.insertElement(e,t.parentElement,"appendChild")}}},s=n(246),d=n(302),c=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}],l=function(e,t){var n=function(e,t){return s.Z.filter(e,(function(e){return N.sizeValidation.getSizeType(e)===t}))}(c,e);return n=s.Z.filter(n,(function(e){return!N.sizeValidation.isUnacceptableFirstViewPortSize(e)||!t}))},u=function(e,t,n){for(var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i];r&&r.width&&r.height&&(r.width>t&&(t=r.width),r.height>n&&(n=r.height))}return{width:t,height:n}}(e),r=N.sizeValidation.getSizeType(t),o=l(r,n),a=0;a<o.length;a++){var s=o[a];if(s.width<=i.width&&s.height<=i.height){for(var d=!0,c=0;c<e.length;c++){var u=e[c];if(u&&u.width===s.width&&u.height===s.height){d=!1;break}}if(d)return s}}},h=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t},f=function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++){for(var i=e[n],r=!0,o=0;o<i.length;o++){var a=i[o];if(t[a.type].indexOf(a.string)<0){r=!1;break}}if(r)return!0}};var g=1,p=2,m=function(e){return e.width>350?g:p},w=function(e){var t=m(e),n=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,i=e.height,o=e.width,a=o*i/n*100>=16;return t==p?a||o>350:a||e.height>200},b=function e(t,n){var i,o,a=m(n),s=!1,d=!0,c=!1,l=n.height,u=n.width;if(t){"none"===window.getComputedStyle(t).display&&(i=t.style.getPropertyValue("display"),o=t.style.getPropertyPriority("display"),t.style.setProperty("display","block","important"),s=!0);var h=t.getBoundingClientRect().top;l=(c=h+n.height>r.Z.consts.acceptableStandardScreenSize.height)?r.Z.consts.acceptableStandardScreenSize.height-h:n.height}return d=a==p&&c?e(t,{width:u,height:l})&&v(n):w(n),s&&t.style.setProperty("display",i,o),d},v=function(e){var t=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,n=m(e);return e.width*e.height/t*100>=26||n==g&&e.height>400},M=function(e,t){return!e||N.commonUtils.isFirstViewPortElement(e)?b(e,t):v(t)};const N={addAcceptableParam:function(e){return e.indexOf(r.Z.upoSettings.acceptableURLParam)>-1?e:e=(e=e.indexOf("?")>-1?e+"&"+r.Z.upoSettings.acceptableURLParam:e+"?"+r.Z.upoSettings.acceptableURLParam).replace("&&upapi=true","&upapi=true")},commonUtils:o,ElementInsertion:a,sizesRemover:function(e,t){var n=[],i=d.Y.fireEvent("enableLegacySizesReplacer");s.Z.forEach(t,(function(e){e.width&&e.height&&n.push({width:e.width,height:e.height})}));for(var r=0;r<n.length;r++){var o=n[r];if(N.sizeValidation.isUnacceptable(e,o))if(i){var a=N.commonUtils.isFirstViewPortElement(e);n[r]=u(n,o,a)}else n.splice(r,1),r--}return n},SubscriptionLayer:function(){var e={};this.subscribeForEvent=function(t,n){e[t]=e[t]||[],e[t].indexOf(n)<0&&e[t].push(n)},this.invokeEventCallbacks=function(t,n){var i=e[t]||[];s.Z.forEach(i,(function(e){e.call(void 0,n)}))}},urlValidations:{isSyncUrl:function(e,t){if("IMG"!==t)return!1;for(var n=h(e),i=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]],r=0;r<i.length;r++){for(var o=i[r],a=!0,s=0;s<o.length;s++){var d=o[s];if(n[d.type].indexOf(d.string)<0){a=!1;break}}if(a)return!0}return!1},isWhitelistURL:function(e,t){var n=h(e);return!f({SCRIPT:[[{string:"3lift.com",type:"hostname"},{string:"/header",type:"href"}]]}[t],n)&&!!f({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[t],n)}},sizeValidation:i}},96:(e,t,n)=>{var i="Expected a function",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),h=Object.prototype.toString,f=Math.max,g=Math.min,p=function(){return u.Date.now()};function m(e,t,n){var r,o,a,s,d,c,l=0,u=!1,h=!1,m=!0;if("function"!=typeof e)throw new TypeError(i);function v(t){var n=r,i=o;return r=o=void 0,l=t,s=e.apply(i,n)}function M(e){return l=e,d=setTimeout(D,t),u?v(e):s}function N(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=a}function D(){var e=p();if(N(e))return y(e);d=setTimeout(D,function(e){var n=t-(e-c);return h?g(n,a-(e-l)):n}(e))}function y(e){return d=void 0,m&&r?v(e):(r=o=void 0,s)}function X(){var e=p(),n=N(e);if(r=arguments,o=this,c=e,n){if(void 0===d)return M(c);if(h)return d=setTimeout(D,t),v(c)}return void 0===d&&(d=setTimeout(D,t)),s}return t=b(t)||0,w(n)&&(u=!!n.leading,a=(h="maxWait"in n)?f(b(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),X.cancel=function(){void 0!==d&&clearTimeout(d),l=0,r=c=o=d=void 0},X.flush=function(){return void 0===d?s:y(p())},X}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||s.test(e)?d(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(i);return w(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),m(e,t,{leading:r,maxWait:t,trailing:o})}},942:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i})},2:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>i})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{getSpaceElement:()=>Zn,refreshTypeDecoder:()=>xn});var t={};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}__webpack_require__.r(t),__webpack_require__.d(t,{createWhitelistingIFrame:()=>kn,setupWhitelistingIFrameSettings:()=>On});var o=__webpack_require__(2),a=__webpack_require__(836),s=__webpack_require__(246),d=__webpack_require__(302),c=__webpack_require__(942),l=__webpack_require__(614),u=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)t[n[i].toLowerCase()]=e[n[i]];return t},h=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){t[n]=[];for(var i=0;i<e[n].length;i++){var r=e[n][i];t[n].push(r)}}return t},f=function(e,t,n){if((n=n||{}).merge&&n.override)throw new TypeError;this.tr=e,this.headers=u(t),this.merge=n.merge||!1,this.override=n.override||!1};f.prototype.$fetch=function(e,t,n){if(n=n||{},"object"!==(0,o.Z)(t)||"string"!=typeof t.url)throw new TypeError;t=this.addHeaders(t),this.tr.$fetch(e,t,n)},f.prototype.addHeaders=function(e){e=function(e){return{url:e.url,headers:u(h(e.headers||{})),body:e.body,method:e.method}}(e);var t=this.headers,n=e.headers;for(var i in t)if(t.hasOwnProperty(i)){if(this.override)n[i]=[];else if(!this.merge&&n[i])continue;n[i]||(n[i]=[]);for(var r=0;r<t[i].length;r++){var o=t[i][r];n[i].push(o)}}return e};var g=function(e,t){return e.substr(0,t.length)===t},p=function(e){if(e=e.toLowerCase(),g(e,"proxy-"))return!1;if(g(e,"sec-"))return!1;switch(e){case"accept-charset":case"accept-encoding":case"access-control-request-headers":case"access-control-request-method":case"connection":case"content-length":case"cookie":case"cookie2":case"date":case"dnt":case"expect":case"host":case"keep-alive":case"origin":case"te":case"trailer":case"transfer-encoding":case"upgrade":case"via":case"x-client-version":case"x-cookie":case"x-referer":return!1}return!0},m=new function(){this.init=function(e,t){if(t=t||{},!e||"string"!=typeof e)throw new TypeError;this.host=e;var n=void 0===t.secure||t.secure;this.protocol=n?"https":"http",this.suffix=void 0!==t.suffix?t.suffix:""},this.$fetch=function(e){return new Promise(function(t,n){if("object"!==(0,o.Z)(e)||"string"!=typeof e.url)throw new TypeError;var i=!1,r=e.url||"";(r.length<1||"/"!=r[0])&&(r="/"+r);var a=this.protocol+"://"+this.host+r;a+=this.suffix?"#"+this.suffix:"";var s=e.method||"GET",d=e.headers||{},c=e.body?e.body:null,l=new XMLHttpRequest;for(var h in l.onreadystatechange=function(e){if(4==l.readyState){if(0==l.status){if(i)return;return i=!0,void n("status -> "+l.status)}var r=u(function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),i=0;i<n.length;i++){var r=n[i],o=r.indexOf(": ");if(o>0){var a=r.substring(0,o),s=r.substring(o+2);t[a]||(t[a]=[]),t[a].push(s)}}return t}(l.getAllResponseHeaders()));if(r["x-content-type"]&&(r["content-type"]=r["x-content-type"],delete r["x-content-type"]),l.status>=200&&l.status<300){var o={status:l.status,headers:r,body:l.response};t(o)}else n("status -> "+l.status)}},l.onerror=function(e){i||(i=!0,n(e))},l.open(s,a,!0),l.responseType="arraybuffer",d)d.hasOwnProperty(h)&&0!=d[h].length&&(p(h)||l.setRequestHeader(h,d[h][0]));l.send(c)}.bind(this))}},w=function(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n||t<=0||n<=0||t>n)throw new TypeError;for(var i=Math.floor(Math.random()*(n+1-t))+t,r="",o=0;o<i;o++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},b=function(e,t){return w("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e,t)};const v=b;function M(e){for(var t=e.length;--t>=0;)e[t]=0}var N=256,D=286,y=30,X=15,z=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),V=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),_=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=new Array(576);M(x);var Z=new Array(60);M(Z);var H=new Array(512);M(H);var I=new Array(256);M(I);var Y=new Array(29);M(Y);var S,T,B,O=new Array(y);function F(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}M(O);var W=function(e){return e<256?H[e]:H[256+(e>>>7)]},R=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},G=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,R(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},C=function(e,t,n){G(e,n[2*t],n[2*t+1])},L=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},j=function(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=X;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=L(o[s]++,s))}},A=function(e){var t;for(t=0;t<D;t++)e.dyn_ltree[2*t]=0;for(t=0;t<y;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},J=function(e){e.bi_valid>8?R(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},K=function(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},P=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&K(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!K(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},U=function(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?C(e,r,t):(o=I[r],C(e,o+N+1,t),0!==(a=z[o])&&(r-=Y[o],G(e,r,a)),i--,o=W(i),C(e,o,n),0!==(a=V[o])&&(i-=O[o],G(e,i,a)))}while(s<e.last_lit);C(e,256,t)},Q=function(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,d=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<d;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)P(e,o,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],P(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,P(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,d=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,g=t.stat_desc.max_length,p=0;for(o=0;o<=X;o++)e.bl_count[o]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=d[2*d[2*(i=e.heap[n])+1]+1]+1)>g&&(o=g,p++),d[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=f&&(a=h[i-f]),s=d[2*i],e.opt_len+=s*(o+a),u&&(e.static_len+=s*(l[2*i+1]+a)));if(0!==p){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,p-=2}while(p>0);for(o=g;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(d[2*r+1]!==o&&(e.opt_len+=(o-d[2*r+1])*d[2*r],d[2*r+1]=o),i--)}}(e,t),j(o,c,e.bl_count)},q=function(e,t,n){var i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<d&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4))},$=function(e,t,n){var i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<d&&r===a)){if(s<c)do{C(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(C(e,r,e.bl_tree),s--),C(e,16,e.bl_tree),G(e,s-3,2)):s<=10?(C(e,17,e.bl_tree),G(e,s-3,3)):(C(e,18,e.bl_tree),G(e,s-11,7));s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4)}},ee=!1,te=function(e,t,n,i){G(e,0+(i?1:0),3),function(e,t,n,i){J(e),i&&(R(e,n),R(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},ne=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<N;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Q(e,e.l_desc),Q(e,e.d_desc),a=function(e){var t;for(q(e,e.dyn_ltree,e.l_desc.max_code),q(e,e.dyn_dtree,e.d_desc.max_code),Q(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*E[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?te(e,t,n,i):4===e.strategy||o===r?(G(e,2+(i?1:0),3),U(e,x,Z)):(G(e,4+(i?1:0),3),function(e,t,n,i){var r;for(G(e,t-257,5),G(e,n-1,5),G(e,i-4,4),r=0;r<i;r++)G(e,e.bl_tree[2*E[r]+1],3);$(e,e.dyn_ltree,t-1),$(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),U(e,e.dyn_ltree,e.dyn_dtree)),A(e),i&&J(e)},ie={_tr_init:function(e){ee||(!function(){var e,t,n,i,r,o=new Array(16);for(n=0,i=0;i<28;i++)for(Y[i]=n,e=0;e<1<<z[i];e++)I[n++]=i;for(I[n-1]=i,r=0,i=0;i<16;i++)for(O[i]=r,e=0;e<1<<V[i];e++)H[r++]=i;for(r>>=7;i<y;i++)for(O[i]=r<<7,e=0;e<1<<V[i]-7;e++)H[256+r++]=i;for(t=0;t<=X;t++)o[t]=0;for(e=0;e<=143;)x[2*e+1]=8,e++,o[8]++;for(;e<=255;)x[2*e+1]=9,e++,o[9]++;for(;e<=279;)x[2*e+1]=7,e++,o[7]++;for(;e<=287;)x[2*e+1]=8,e++,o[8]++;for(j(x,287,o),e=0;e<y;e++)Z[2*e+1]=5,Z[2*e]=L(e,5);S=new F(x,z,257,D,X),T=new F(Z,V,0,y,X),B=new F(new Array(0),_,0,19,7)}(),ee=!0),e.l_desc=new k(e.dyn_ltree,S),e.d_desc=new k(e.dyn_dtree,T),e.bl_desc=new k(e.bl_tree,B),e.bi_buf=0,e.bi_valid=0,A(e)},_tr_stored_block:te,_tr_flush_block:ne,_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(I[n]+N+1)]++,e.dyn_dtree[2*W(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){G(e,2,3),C(e,256,x),function(e){16===e.bi_valid?(R(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},re=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0},oe=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),ae=function(e,t,n,i){var r=oe,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^r[255&(e^t[a])];return-1^e},se={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},de={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ce=ie._tr_init,le=ie._tr_stored_block,ue=ie._tr_flush_block,he=ie._tr_tally,fe=ie._tr_align,ge=de.Z_NO_FLUSH,pe=de.Z_PARTIAL_FLUSH,me=de.Z_FULL_FLUSH,we=de.Z_FINISH,be=de.Z_BLOCK,ve=de.Z_OK,Me=de.Z_STREAM_END,Ne=de.Z_STREAM_ERROR,De=de.Z_DATA_ERROR,ye=de.Z_BUF_ERROR,Xe=de.Z_DEFAULT_COMPRESSION,ze=de.Z_FILTERED,Ve=de.Z_HUFFMAN_ONLY,_e=de.Z_RLE,Ee=de.Z_FIXED,xe=de.Z_DEFAULT_STRATEGY,Ze=de.Z_UNKNOWN,He=de.Z_DEFLATED,Ie=258,Ye=262,Se=103,Te=113,Be=666,Oe=function(e,t){return e.msg=se[t],t},Fe=function(e){return(e<<1)-(e>4?9:0)},ke=function(e){for(var t=e.length;--t>=0;)e[t]=0},We=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Re=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ge=function(e,t){ue(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Re(e.strm)},Ce=function(e,t){e.pending_buf[e.pending++]=t},Le=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},je=function(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-Ye?e.strstart-(e.w_size-Ye):0,c=e.window,l=e.w_mask,u=e.prev,h=e.strstart+Ie,f=c[o+a-1],g=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===g&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(i=Ie-(h-o),o=h-Ie,i>a){if(e.match_start=t,a=i,i>=s)break;f=c[o+a-1],g=c[o+a]}}}while((t=u[t&l])>d&&0!=--r);return a<=e.lookahead?a:e.lookahead},Ae=function(e){var t,n,i,r,o,a,s,d,c,l,u=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-Ye)){e.window.set(e.window.subarray(u,u+u),0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=u?i-u:0}while(--n);t=n=u;do{i=e.prev[--t],e.prev[t]=i>=u?i-u:0}while(--n);r+=u}if(0===e.strm.avail_in)break;if(a=e.strm,s=e.window,d=e.strstart+e.lookahead,c=r,l=void 0,(l=a.avail_in)>c&&(l=c),n=0===l?0:(a.avail_in-=l,s.set(a.input.subarray(a.next_in,a.next_in+l),d),1===a.state.wrap?a.adler=re(a.adler,s,l,d):2===a.state.wrap&&(a.adler=ae(a.adler,s,l,d)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=We(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=We(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Ye&&0!==e.strm.avail_in)},Je=function(e,t){for(var n,i;;){if(e.lookahead<Ye){if(Ae(e),e.lookahead<Ye&&t===ge)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ye&&(e.match_length=je(e,n)),e.match_length>=3)if(i=he(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=We(e,e.ins_h,e.window[e.strstart+1]);else i=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===we?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2},Ke=function(e,t){for(var n,i,r;;){if(e.lookahead<Ye){if(Ae(e),e.lookahead<Ye&&t===ge)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ye&&(e.match_length=je(e,n),e.match_length<=5&&(e.strategy===ze||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=he(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(Ge(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=he(e,0,e.window[e.strstart-1]))&&Ge(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=he(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===we?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2};function Pe(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}var Ue=[new Pe(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ae(e),0===e.lookahead&&t===ge)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Ge(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Ye&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===we?(Ge(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ge(e,!1),e.strm.avail_out),1)})),new Pe(4,4,8,4,Je),new Pe(4,5,16,8,Je),new Pe(4,6,32,32,Je),new Pe(4,4,16,16,Ke),new Pe(8,16,32,32,Ke),new Pe(8,16,128,128,Ke),new Pe(8,32,128,256,Ke),new Pe(32,128,258,1024,Ke),new Pe(32,258,258,4096,Ke)];function Qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=He,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var qe=function(e){if(!e||!e.state)return Oe(e,Ne);e.total_in=e.total_out=0,e.data_type=Ze;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Te,e.adler=2===t.wrap?0:1,t.last_flush=ge,ce(t),ve},$e=function(e){var t,n=qe(e);return n===ve&&((t=e.state).window_size=2*t.w_size,ke(t.head),t.max_lazy_match=Ue[t.level].max_lazy,t.good_match=Ue[t.level].good_length,t.nice_match=Ue[t.level].nice_length,t.max_chain_length=Ue[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},et=function(e,t,n,i,r,o){if(!e)return Ne;var a=1;if(t===Xe&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==He||i<8||i>15||t<0||t>9||o<0||o>Ee)return Oe(e,Ne);8===i&&(i=9);var s=new Qe;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,$e(e)},tt={deflateInit:function(e,t){return et(e,t,He,15,8,xe)},deflateInit2:et,deflateReset:$e,deflateResetKeep:qe,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?Ne:(e.state.gzhead=t,ve):Ne},deflate:function(e,t){var n,i;if(!e||!e.state||t>be||t<0)return e?Oe(e,Ne):Ne;var r=e.state;if(!e.output||!e.input&&0!==e.avail_in||r.status===Be&&t!==we)return Oe(e,0===e.avail_out?ye:Ne);r.strm=e;var o=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,Ce(r,31),Ce(r,139),Ce(r,8),r.gzhead?(Ce(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ce(r,255&r.gzhead.time),Ce(r,r.gzhead.time>>8&255),Ce(r,r.gzhead.time>>16&255),Ce(r,r.gzhead.time>>24&255),Ce(r,9===r.level?2:r.strategy>=Ve||r.level<2?4:0),Ce(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Ce(r,255&r.gzhead.extra.length),Ce(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ae(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Ce(r,0),Ce(r,0),Ce(r,0),Ce(r,0),Ce(r,0),Ce(r,9===r.level?2:r.strategy>=Ve||r.level<2?4:0),Ce(r,3),r.status=Te);else{var a=He+(r.w_bits-8<<4)<<8;a|=(r.strategy>=Ve||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=Te,Le(r,a),0!==r.strstart&&(Le(r,e.adler>>>16),Le(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),Re(e),n=r.pending,r.pending!==r.pending_buf_size));)Ce(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),Re(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Ce(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),Re(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Ce(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=Se)}else r.status=Se;if(r.status===Se&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Re(e),r.pending+2<=r.pending_buf_size&&(Ce(r,255&e.adler),Ce(r,e.adler>>8&255),e.adler=0,r.status=Te)):r.status=Te),0!==r.pending){if(Re(e),0===e.avail_out)return r.last_flush=-1,ve}else if(0===e.avail_in&&Fe(t)<=Fe(o)&&t!==we)return Oe(e,ye);if(r.status===Be&&0!==e.avail_in)return Oe(e,ye);if(0!==e.avail_in||0!==r.lookahead||t!==ge&&r.status!==Be){var s=r.strategy===Ve?function(e,t){for(var n;;){if(0===e.lookahead&&(Ae(e),0===e.lookahead)){if(t===ge)return 1;break}if(e.match_length=0,n=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===we?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===_e?function(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=Ie){if(Ae(e),e.lookahead<=Ie&&t===ge)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=e.strstart+Ie;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=Ie-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=he(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===we?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2}(r,t):Ue[r.level].func(r,t);if(3!==s&&4!==s||(r.status=Be),1===s||3===s)return 0===e.avail_out&&(r.last_flush=-1),ve;if(2===s&&(t===pe?fe(r):t!==be&&(le(r,0,0,!1),t===me&&(ke(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Re(e),0===e.avail_out))return r.last_flush=-1,ve}return t!==we?ve:r.wrap<=0?Me:(2===r.wrap?(Ce(r,255&e.adler),Ce(r,e.adler>>8&255),Ce(r,e.adler>>16&255),Ce(r,e.adler>>24&255),Ce(r,255&e.total_in),Ce(r,e.total_in>>8&255),Ce(r,e.total_in>>16&255),Ce(r,e.total_in>>24&255)):(Le(r,e.adler>>>16),Le(r,65535&e.adler)),Re(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?ve:Me)},deflateEnd:function(e){if(!e||!e.state)return Ne;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Se&&t!==Te&&t!==Be?Oe(e,Ne):(e.state=null,t===Te?Oe(e,De):ve)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return Ne;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return Ne;if(1===r&&(e.adler=re(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(ke(i.head),i.strstart=0,i.block_start=0,i.insert=0);var o=new Uint8Array(i.w_size);o.set(t.subarray(n-i.w_size,n),0),t=o,n=i.w_size}var a=e.avail_in,s=e.next_in,d=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ae(i);i.lookahead>=3;){var c=i.strstart,l=i.lookahead-2;do{i.ins_h=We(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++}while(--l);i.strstart=c,i.lookahead=2,Ae(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=d,e.avail_in=a,i.wrap=r,ve},deflateInfo:"pako deflate (from Nodeca project)"},nt=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},it=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==(0,o.Z)(n))throw new TypeError(n+"must be non-object");for(var i in n)nt(n,i)&&(e[i]=n[i])}}return e},rt=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;for(var r=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var d=e[o];r.set(d,a),a+=d.length}return r},ot=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ot=!1}for(var at=new Uint8Array(256),st=0;st<256;st++)at[st]=st>=252?6:st>=248?5:st>=240?4:st>=224?3:st>=192?2:1;at[254]=at[254]=1;var dt=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i,r,o,a=e.length,s=0;for(r=0;r<a;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,r=0;o<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},ct=function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var o=new Array(2*r);for(i=0,n=0;n<r;){var a=e[n++];if(a<128)o[i++]=a;else{var s=at[a];if(s>4)o[i++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<r;)a=a<<6|63&e[n++],s--;s>1?o[i++]=65533:a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&ot)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}(o,i)},lt=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+at[e[n]]>t?n:t};var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ht=Object.prototype.toString,ft=de.Z_NO_FLUSH,gt=de.Z_SYNC_FLUSH,pt=de.Z_FULL_FLUSH,mt=de.Z_FINISH,wt=de.Z_OK,bt=de.Z_STREAM_END,vt=de.Z_DEFAULT_COMPRESSION,Mt=de.Z_DEFAULT_STRATEGY,Nt=de.Z_DEFLATED;function Dt(e){this.options=it({level:vt,method:Nt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Mt},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var n=tt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==wt)throw new Error(se[n]);if(t.header&&tt.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?dt(t.dictionary):"[object ArrayBuffer]"===ht.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=tt.deflateSetDictionary(this.strm,i))!==wt)throw new Error(se[n]);this._dict_set=!0}}function yt(e,t){var n=new Dt(t);if(n.push(e,!0),n.err)throw n.msg||se[n.err];return n.result}Dt.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?mt:ft,"string"==typeof e?r.input=dt(e):"[object ArrayBuffer]"===ht.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),(i===gt||i===pt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=tt.deflate(r,i))===bt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=tt.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===wt;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Dt.prototype.onData=function(e){this.chunks.push(e)},Dt.prototype.onEnd=function(e){e===wt&&(this.result=rt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Xt={Deflate:Dt,deflate:yt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,yt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,yt(e,t)},constants:de},zt=function(e,t){var n,i,r,o,a,s,d,c,l,u,h,f,g,p,m,w,b,v,M,N,D,y,X,z,V=e.state;n=e.next_in,X=e.input,i=n+(e.avail_in-5),r=e.next_out,z=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),s=V.dmax,d=V.wsize,c=V.whave,l=V.wnext,u=V.window,h=V.hold,f=V.bits,g=V.lencode,p=V.distcode,m=(1<<V.lenbits)-1,w=(1<<V.distbits)-1;e:do{f<15&&(h+=X[n++]<<f,f+=8,h+=X[n++]<<f,f+=8),b=g[h&m];t:for(;;){if(h>>>=v=b>>>24,f-=v,0===(v=b>>>16&255))z[r++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=g[(65535&b)+(h&(1<<v)-1)];continue t}if(32&v){V.mode=12;break e}e.msg="invalid literal/length code",V.mode=30;break e}M=65535&b,(v&=15)&&(f<v&&(h+=X[n++]<<f,f+=8),M+=h&(1<<v)-1,h>>>=v,f-=v),f<15&&(h+=X[n++]<<f,f+=8,h+=X[n++]<<f,f+=8),b=p[h&w];n:for(;;){if(h>>>=v=b>>>24,f-=v,!(16&(v=b>>>16&255))){if(0==(64&v)){b=p[(65535&b)+(h&(1<<v)-1)];continue n}e.msg="invalid distance code",V.mode=30;break e}if(N=65535&b,f<(v&=15)&&(h+=X[n++]<<f,(f+=8)<v&&(h+=X[n++]<<f,f+=8)),(N+=h&(1<<v)-1)>s){e.msg="invalid distance too far back",V.mode=30;break e}if(h>>>=v,f-=v,N>(v=r-o)){if((v=N-v)>c&&V.sane){e.msg="invalid distance too far back",V.mode=30;break e}if(D=0,y=u,0===l){if(D+=d-v,v<M){M-=v;do{z[r++]=u[D++]}while(--v);D=r-N,y=z}}else if(l<v){if(D+=d+l-v,(v-=l)<M){M-=v;do{z[r++]=u[D++]}while(--v);if(D=0,l<M){M-=v=l;do{z[r++]=u[D++]}while(--v);D=r-N,y=z}}}else if(D+=l-v,v<M){M-=v;do{z[r++]=u[D++]}while(--v);D=r-N,y=z}for(;M>2;)z[r++]=y[D++],z[r++]=y[D++],z[r++]=y[D++],M-=3;M&&(z[r++]=y[D++],M>1&&(z[r++]=y[D++]))}else{D=r-N;do{z[r++]=z[D++],z[r++]=z[D++],z[r++]=z[D++],M-=3}while(M>2);M&&(z[r++]=z[D++],M>1&&(z[r++]=z[D++]))}break}}break}}while(n<i&&r<a);n-=M=f>>3,h&=(1<<(f-=M<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<a?a-r+257:257-(r-a),V.hold=h,V.bits=f},Vt=15,_t=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Et=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ht=function(e,t,n,i,r,o,a,s){var d,c,l,u,h,f,g,p,m,w=s.bits,b=0,v=0,M=0,N=0,D=0,y=0,X=0,z=0,V=0,_=0,E=null,x=0,Z=new Uint16Array(16),H=new Uint16Array(16),I=null,Y=0;for(b=0;b<=Vt;b++)Z[b]=0;for(v=0;v<i;v++)Z[t[n+v]]++;for(D=w,N=Vt;N>=1&&0===Z[N];N--);if(D>N&&(D=N),0===N)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(M=1;M<N&&0===Z[M];M++);for(D<M&&(D=M),z=1,b=1;b<=Vt;b++)if(z<<=1,(z-=Z[b])<0)return-1;if(z>0&&(0===e||1!==N))return-1;for(H[1]=0,b=1;b<Vt;b++)H[b+1]=H[b]+Z[b];for(v=0;v<i;v++)0!==t[n+v]&&(a[H[t[n+v]]++]=v);if(0===e?(E=I=a,f=19):1===e?(E=_t,x-=257,I=Et,Y-=257,f=256):(E=xt,I=Zt,f=-1),_=0,v=0,b=M,h=o,y=D,X=0,l=-1,u=(V=1<<D)-1,1===e&&V>852||2===e&&V>592)return 1;for(;;){g=b-X,a[v]<f?(p=0,m=a[v]):a[v]>f?(p=I[Y+a[v]],m=E[x+a[v]]):(p=96,m=0),d=1<<b-X,M=c=1<<y;do{r[h+(_>>X)+(c-=d)]=g<<24|p<<16|m|0}while(0!==c);for(d=1<<b-1;_&d;)d>>=1;if(0!==d?(_&=d-1,_+=d):_=0,v++,0==--Z[b]){if(b===N)break;b=t[n+a[v]]}if(b>D&&(_&u)!==l){for(0===X&&(X=D),h+=M,z=1<<(y=b-X);y+X<N&&!((z-=Z[y+X])<=0);)y++,z<<=1;if(V+=1<<y,1===e&&V>852||2===e&&V>592)return 1;r[l=_&u]=D<<24|y<<16|h-o|0}}return 0!==_&&(r[h+_]=b-X<<24|64<<16|0),s.bits=D,0},It=de.Z_FINISH,Yt=de.Z_BLOCK,St=de.Z_TREES,Tt=de.Z_OK,Bt=de.Z_STREAM_END,Ot=de.Z_NEED_DICT,Ft=de.Z_STREAM_ERROR,kt=de.Z_DATA_ERROR,Wt=de.Z_MEM_ERROR,Rt=de.Z_BUF_ERROR,Gt=de.Z_DEFLATED,Ct=12,Lt=30,jt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function At(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Jt,Kt,Pt=function(e){if(!e||!e.state)return Ft;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Tt},Ut=function(e){if(!e||!e.state)return Ft;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Pt(e)},Qt=function(e,t){var n;if(!e||!e.state)return Ft;var i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Ft:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Ut(e))},qt=function(e,t){if(!e)return Ft;var n=new At;e.state=n,n.window=null;var i=Qt(e,t);return i!==Tt&&(e.state=null),i},$t=!0,en=function(e){if($t){Jt=new Int32Array(512),Kt=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ht(1,e.lens,0,288,Jt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ht(2,e.lens,0,32,Kt,0,e.work,{bits:5}),$t=!1}e.lencode=Jt,e.lenbits=9,e.distcode=Kt,e.distbits=5},tn=function(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),o.window.set(t.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},nn={inflateReset:Ut,inflateReset2:Qt,inflateResetKeep:Pt,inflateInit:function(e){return qt(e,15)},inflateInit2:qt,inflate:function(e,t){var n,i,r,o,a,s,d,c,l,u,h,f,g,p,m,w,b,v,M,N,D,y,X,z,V=0,_=new Uint8Array(4),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Ft;(n=e.state).mode===Ct&&(n.mode=13),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,u=s,h=d,y=Tt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,_[0]=255&c,_[1]=c>>>8&255,n.check=ae(n.check,_,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Lt;break}if((15&c)!==Gt){e.msg="unknown compression method",n.mode=Lt;break}if(l-=4,D=8+(15&(c>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=Lt;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Ct,c=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Gt){e.msg="unknown compression method",n.mode=Lt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Lt;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,n.check=ae(n.check,_,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,_[2]=c>>>16&255,_[3]=c>>>24&255,n.check=ae(n.check,_,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,n.check=ae(n.check,_,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,n.check=ae(n.check,_,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=n.length)>s&&(f=s),f&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+f),D)),512&n.flags&&(n.check=ae(n.check,i,f,o)),s-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;f=0;do{D=i[o+f++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D))}while(D&&f<s);if(512&n.flags&&(n.check=ae(n.check,i,f,o)),s-=f,o+=f,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;f=0;do{D=i[o+f++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D))}while(D&&f<s);if(512&n.flags&&(n.check=ae(n.check,i,f,o)),s-=f,o+=f,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Lt;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ct;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}e.adler=n.check=jt(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,Ot;e.adler=n.check=1,n.mode=Ct;case Ct:if(t===Yt||t===St)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(en(n),n.mode=20,t===St){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Lt}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Lt;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===St)break e;case 15:n.mode=16;case 16:if(f=n.length){if(f>s&&(f=s),f>d&&(f=d),0===f)break e;r.set(i.subarray(o,o+f),a),s-=f,o+=f,d-=f,a+=f,n.length-=f;break}n.mode=Ct;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Lt;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.lens[E[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,X={bits:n.lenbits},y=Ht(0,n.lens,0,19,n.lencode,0,n.work,X),n.lenbits=X.bits,y){e.msg="invalid code lengths set",n.mode=Lt;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;w=(V=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&V,!((m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(b<16)c>>>=m,l-=m,n.lens[n.have++]=b;else{if(16===b){for(z=m+2;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Lt;break}D=n.lens[n.have-1],f=3+(3&c),c>>>=2,l-=2}else if(17===b){for(z=m+3;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}l-=m,D=0,f=3+(7&(c>>>=m)),c>>>=3,l-=3}else{for(z=m+7;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}l-=m,D=0,f=11+(127&(c>>>=m)),c>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Lt;break}for(;f--;)n.lens[n.have++]=D}}if(n.mode===Lt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Lt;break}if(n.lenbits=9,X={bits:n.lenbits},y=Ht(1,n.lens,0,n.nlen,n.lencode,0,n.work,X),n.lenbits=X.bits,y){e.msg="invalid literal/lengths set",n.mode=Lt;break}if(n.distbits=6,n.distcode=n.distdyn,X={bits:n.distbits},y=Ht(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,X),n.distbits=X.bits,y){e.msg="invalid distances set",n.mode=Lt;break}if(n.mode=20,t===St)break e;case 20:n.mode=21;case 21:if(s>=6&&d>=258){e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,zt(e,h),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,n.mode===Ct&&(n.back=-1);break}for(n.back=0;w=(V=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&V,!((m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(w&&0==(240&w)){for(v=m,M=w,N=b;w=(V=n.lencode[N+((c&(1<<v+M)-1)>>v)])>>>16&255,b=65535&V,!(v+(m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=v,l-=v,n.back+=v}if(c>>>=m,l-=m,n.back+=m,n.length=b,0===w){n.mode=26;break}if(32&w){n.back=-1,n.mode=Ct;break}if(64&w){e.msg="invalid literal/length code",n.mode=Lt;break}n.extra=15&w,n.mode=22;case 22:if(n.extra){for(z=n.extra;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;w=(V=n.distcode[c&(1<<n.distbits)-1])>>>16&255,b=65535&V,!((m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(0==(240&w)){for(v=m,M=w,N=b;w=(V=n.distcode[N+((c&(1<<v+M)-1)>>v)])>>>16&255,b=65535&V,!(v+(m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=v,l-=v,n.back+=v}if(c>>>=m,l-=m,n.back+=m,64&w){e.msg="invalid distance code",n.mode=Lt;break}n.offset=b,n.extra=15&w,n.mode=24;case 24:if(n.extra){for(z=n.extra;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Lt;break}n.mode=25;case 25:if(0===d)break e;if(f=h-d,n.offset>f){if((f=n.offset-f)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Lt;break}f>n.wnext?(f-=n.wnext,g=n.wsize-f):g=n.wnext-f,f>n.length&&(f=n.length),p=n.window}else p=r,g=a-n.offset,f=n.length;f>d&&(f=d),d-=f,n.length-=f;do{r[a++]=p[g++]}while(--f);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;r[a++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=i[o++]<<l,l+=8}if(h-=d,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?ae(n.check,r,h,a-h):re(n.check,r,h,a-h)),h=d,(n.flags?c:jt(c))!==n.check){e.msg="incorrect data check",n.mode=Lt;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Lt;break}c=0,l=0}n.mode=29;case 29:y=Bt;break e;case Lt:y=kt;break e;case 31:return Wt;default:return Ft}return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||h!==e.avail_out&&n.mode<Lt&&(n.mode<27||t!==It))&&tn(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?ae(n.check,r,h,e.next_out-h):re(n.check,r,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ct?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===h||t===It)&&y===Tt&&(y=Rt),y},inflateEnd:function(e){if(!e||!e.state)return Ft;var t=e.state;return t.window&&(t.window=null),e.state=null,Tt},inflateGetHeader:function(e,t){if(!e||!e.state)return Ft;var n=e.state;return 0==(2&n.wrap)?Ft:(n.head=t,t.done=!1,Tt)},inflateSetDictionary:function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Ft:11===n.mode&&re(1,t,i,0)!==n.check?kt:tn(e,t,i,i)?(n.mode=31,Wt):(n.havedict=1,Tt):Ft},inflateInfo:"pako inflate (from Nodeca project)"};var rn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},on=Object.prototype.toString,an=de.Z_NO_FLUSH,sn=de.Z_FINISH,dn=de.Z_OK,cn=de.Z_STREAM_END,ln=de.Z_NEED_DICT,un=de.Z_STREAM_ERROR,hn=de.Z_DATA_ERROR,fn=de.Z_MEM_ERROR;function gn(e){this.options=it({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var n=nn.inflateInit2(this.strm,t.windowBits);if(n!==dn)throw new Error(se[n]);if(this.header=new rn,nn.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=dt(t.dictionary):"[object ArrayBuffer]"===on.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=nn.inflateSetDictionary(this.strm,t.dictionary))!==dn))throw new Error(se[n])}function pn(e,t){var n=new gn(t);if(n.push(e),n.err)throw n.msg||se[n.err];return n.result}gn.prototype.push=function(e,t){var n,i,r,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?sn:an,"[object ArrayBuffer]"===on.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=nn.inflate(o,i))===ln&&s&&((n=nn.inflateSetDictionary(o,s))===dn?n=nn.inflate(o,i):n===hn&&(n=ln));o.avail_in>0&&n===cn&&o.state.wrap>0&&0!==e[o.next_in];)nn.inflateReset(o),n=nn.inflate(o,i);switch(n){case un:case hn:case ln:case fn:return this.onEnd(n),this.ended=!0,!1}if(r=o.avail_out,o.next_out&&(0===o.avail_out||n===cn))if("string"===this.options.to){var d=lt(o.output,o.next_out),c=o.next_out-d,l=ct(o.output,d);o.next_out=c,o.avail_out=a-c,c&&o.output.set(o.output.subarray(d,d+c),0),this.onData(l)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==dn||0!==r){if(n===cn)return n=nn.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},gn.prototype.onData=function(e){this.chunks.push(e)},gn.prototype.onEnd=function(e){e===dn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=rt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var mn={Inflate:gn,inflate:pn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,pn(e,t)},ungzip:pn,constants:de},wn={Deflate:Xt.Deflate,deflate:Xt.deflate,deflateRaw:Xt.deflateRaw,gzip:Xt.gzip,Inflate:mn.Inflate,inflate:mn.inflate,inflateRaw:mn.inflateRaw,ungzip:mn.ungzip,constants:de},bn=__webpack_require__(552),vn=new bn.Z({prefix:"utf8: "});const Mn=function(e){try{if(window.TextEncoder)return new window.TextEncoder("utf-8").encode(e).buffer}catch(e){vn.debugf(null,"TextEncoder %o",e)}for(var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},Nn=function(e){try{if(window.TextDecoder)return new window.TextDecoder("utf-8").decode(new Uint8Array(e))}catch(e){vn.debugf(null,"TextDecoder %o",e)}for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return decodeURIComponent(escape(t))};function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xn=new function(){var e,t=v(8,10),n=window.location.href,i=a.Z.upoSettings.recoveryScriptVersion;try{e=window.__bt_intrnl.traceID}catch(t){e=""}var r=function(t,n){""==t&&(t="/");var r=t,o="?";(n=n||{}).upapi=["true"],n.tid=[e],n.cv=[i];for(var a=Object.keys(n),s=0;s<a.length;s++)for(var d=a[s],c=n[d],l=0;l<c.length;l++){var u=c[l];r+=o+encodeURIComponent(d)+"="+encodeURIComponent(u),o="&"}return r};this.sendLog=function(e){var t=a.Z.SharedObject.getItem("websiteConfig")||{},i=t.organizationID,o=t.websiteID,s={event:e.event,severity:e.severity,error:e.error&&{name:e.error.name,stack:e.error.stack,sourceFilename:e.error.sourceFilename},message:e.message,columnNumber:e.columnNumber,lineNumber:e.lineNumber,filename:e.filename,module:e.module,orgID:i,websiteID:o,meta:yn(yn({},e.meta||{}),{},{pageURL:n})},d={method:"POST",url:r("/log"),body:Mn(JSON.stringify(s))};return m.$fetch(d)},this.testCompliance=function(e){return new Promise((function(n,i){var o={};o.pid=[t],o.nr=["2"];var a=e,s=r("/tc",o),d=JSON.stringify(e);try{d&&d.length>=2048&&window.localStorage&&!window.localStorage.updebug?(a=wn.deflate(d).buffer,o.z=[1],s=r("/tc",o)):a=Mn(d)}catch(e){a=Mn(d)}var c={method:"POST",url:s,body:a};m.$fetch(c).then((function(e){var t=JSON.parse(Nn(e.body)),i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]={status:t[r].status,id:t[r].id,backup:t[r].backup});n(i)}),(function(e){i(new Error)}))}))},this.reportAuctionStarted=function(e,i,o,a,c,l,u){var h={};h.pid=[t],h.nr=["1"];var f={};f.websiteID=c,f.orgID=l,f.auctionID=e,f.spaceExternalID=i,f.spaceName=o,f.bids=s.Z.map(a,(function(e){return{bidderExternalID:e.bidderId,provider:e.provider}})),f.refreshDepth=u,f.pageURL=n,d.Y.fireEvent("auctionStartChangeRequestData",{query:h,body:f});var g={method:"POST",url:r("/as",h),body:Mn(JSON.stringify(f))};return m.$fetch(g)},this.reportAuctionEnd=function(e,i,o,a,s,c,l,u,h){var f={};f.pid=[t],f.seid=[l],f.nr=["1"],c.websiteID=a,c.orgID=s,c.auctionID=e,c.spaceExternalID=i,c.spaceName=o,c.dfpAdUnit=l,c.adUnitCode=l,c.gamEnabled=u,c.refreshDepth=h,c.pageURL=n,d.Y.fireEvent("auctionEndChangeRequestData",{query:f,body:c});var g={method:"POST",url:r("/ae",f),body:Mn(JSON.stringify(c))};return m.$fetch(g)},this.reportRender=function(e,t,i,o,a,s,d,c,l,u){var h={nr:["1"]},f={};f.websiteID=c,f.orgID=l,f.auctionID=e,f.spaceExternalID=s,f.spaceName=d,f.bidderExternalID=t,f.provider=i,f.refreshDepth=u,f.pageURL=n,f.amount=o,f.currency=a;var g={method:"POST",url:r("/r",h),body:Mn(JSON.stringify(f))};return m.$fetch(g)},this.reportView=function(e,t,i,o,a,s,d,c){var l={nr:["1"]},u={};u.websiteID=s,u.orgID=d,u.auctionID=e,u.spaceExternalID=o,u.spaceName=a,u.bidderExternalID=t,u.provider=i,u.refreshDepth=c,u.pageURL=n;var h={method:"POST",url:r("/v",l),body:Mn(JSON.stringify(u))};return m.$fetch(h)},this.consentData=function(e){var o={},s={},d={consents:{}},c=e.tcData,u=e.error,h=a.Z.SharedObject.getItem("websiteConfig")||{},f=h.organizationID,g=h.websiteID;f&&(o.organizationID=parseInt(f)),g&&(o.websiteID=parseInt(g)),o.pageID=t,o.clientVersion=i,c?(s.cmpVersion=c.cmpVersion,s.gdprApplies=c.gdprApplies,s.tcfPolicyVersion=c.tcfPolicyVersion,s.tcString=c.tcString,c.gdprApplies&&(s.purpose=c.purpose,[10,13,25,28,32,52,69,76,91,755].forEach((function(e){return d.consents[e]=c.vendor.consents[e]})),s.vendor=d)):(s.gdprApplies=null,s.error=l.Z.commonUtils.truncateString(u.message,1024)),o.tcData=s,o.pageURL=n;var p={method:"POST",url:r("/ce"),body:Mn(JSON.stringify(o))};return m.$fetch(p)}},zn=new bn.Z({prefix:"report: "}),Vn=new function(){this.init=function(){var e=a.Z.SharedObject.getItem("websiteConfig");d.Y.addEventListener("FirePublisherEvent",(function(e){var t=e.data,n=t.eventName,i=t.payload||{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{var r=new window.CustomEvent(n,i);return void window.dispatchEvent(r)}catch(e){var o=document.createEvent("CustomEvent");return o.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),void window.dispatchEvent(o)}var a=document.createEvent("CustomEvent");a.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),window.dispatchEvent(a)})),d.Y.addEventListener("sendLog",(function(e){var t=e.data;Xn.sendLog(t).then((function(e){zn.infof(null,"sendLog - %o",e)}),(function(e){zn.errorf(null,"sendLog - %o",e)}))})),d.Y.addEventListener("onAuctionStarted",(function(t){var n=t.data.auction,i=n.auctionId,r=n.unit.space.id,o=n.unit.space.name,a=[],d=n.unit.space.preBiddingSettings&&n.unit.space.preBiddingSettings.biddingSettings,c=n.unit.space.postBiddingSettings;if(d)for(var l in d)if(l=parseInt(l),d.hasOwnProperty(l)){var u=d[l];s.Z.forEach(u,(function(e){a.push({bidderId:e.id,provider:e.name})}))}c&&(c.adxId&&a.push({bidderId:c.adxId,provider:"gad"}),c.directId&&a.push({bidderId:c.directId,provider:"direct"})),Xn.reportAuctionStarted(i,r,o,a,e.websiteID,e.organizationID,n.unit.countOfDispatches-1).then((function(e){zn.infof(null,"onAuctionStarted - %o",e)}),(function(e){zn.errorf(null,"onAuctionStarted - %o",e)}))})),d.Y.addEventListener("onAuctionEnded",(function(t){var n=t.data,i=n.auction,r=n.bid,o=i.bids,s=i.unit.space.name,c=d.Y.fireEvent("getDefaultCreative",{auction:i}),l="default-creative"===r.bidder&&c.disableAuctionEventLogging;try{if(e.dfpEnabled)for(var u=window.googletag.pubads().getSlots(),h=0;h<u.length;h++){var f=u[h],g=f.getSlotElementId();if(document.getElementById(g)==i.unit.element){s=f.getAdUnitPath().split("/")[f.getAdUnitPath().split("/").length-1];break}}}catch(e){zn.errorf(null,"onAuctionEnded: %o",e)}for(var p={bids:[],aliens:[],win:void 0},m=0;m<o.length;m++){var w=o[m],b={bid:{cpm:w.cpm,bidderCode:w.bidderCode,complianceStatus:w.complianceStatus}},v=d.Y.fireEvent("bidCpmAdjustment",b)||1,M=w.cpm/1e3*v,N=d.Y.fireEvent("prebidTimeout")||3e3,D={bidderExternalID:w.bidderId,provider:w.bidderCode,amount:M,complianceStatus:w.complianceStatus,timeout:N,latency:w.timeToRespond,requestStatus:"OK",creativeID:w.contentIdHash,adUnit:s,adSize:String(w.width)+"x"+String(w.height),adID:w.adId,currency:w.currency};if(w!=r)switch(D.complianceStatus){case a.Z.consts.complianceStatus.COMPLIANT:case a.Z.consts.complianceStatus.INCOMPLIANT:p.bids.push(D);break;default:p.aliens.push(D)}else p.win=D}if(l){p.win.provider=c.providerName||"default-creative";var y={sendToServer:!0,event:"adRecover Backfill",meta:{adUnitCode:s,aliens:p.aliens,auctionID:i.auctionId,bids:p.bids,dfpAdUnit:s,gamEnabled:e.dfpEnabled,orgID:e.organizationID,pageURL:window.location.href,refreshDepth:i.unit.countOfDispatches-1,spaceExternalID:i.unit.space.id,spaceName:i.unit.space.name,websiteID:e.websiteID,win:p.win}};zn.infof(null,"adRecover Backfill, auction ID -> ",i.auctionId||"N/A",y)}else Xn.reportAuctionEnd(i.auctionId,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,p,s,e.dfpEnabled,i.unit.countOfDispatches-1).then((function(e){zn.infof(null,"onAuctionEnded - %o",e)}),(function(e){zn.errorf(null,"onAuctionEnded - %o",e)}))})),d.Y.addEventListener("onAuctionRendered",(function(t){var n=t.data,i=n.auction,r=n.bid,o=d.Y.fireEvent("getDefaultCreative",{auction:i});if(!("default-creative"===r.bidder&&o.disableAuctionEventLogging)){var a={bid:{cpm:r.cpm,bidderCode:r.bidderCode,complianceStatus:r.complianceStatus}},s=d.Y.fireEvent("bidCpmAdjustment",a)||1,c=r.cpm/1e3*s;Xn.reportRender(i.auctionId,r.bidderId,r.bidderCode,c,r.currency,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,i.unit.countOfDispatches-1).then((function(e){zn.infof(null,"onAuctionRendered - %o",e)}),(function(e){zn.errorf(null,"onAuctionRendered - %o",e)}))}})),d.Y.addEventListener("onAdViewed",(function(t){var n=t.data,i=n.auction,r=n.bid,o=d.Y.fireEvent("getDefaultCreative",{auction:i});"default-creative"===r.bidder&&o.disableAuctionEventLogging||Xn.reportView(i.auctionId,r.bidderId,r.bidderCode,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,i.unit.countOfDispatches-1).then((function(e){zn.infof(null,"onAdViewed - %o",e)}),(function(e){zn.errorf(null,"onAdViewed - %o",e)}))}))},d.Y.addEventListener("consentData",(function(e){var t=e.data;Xn.consentData(t).then((function(e){zn.infof(null,"consentData - %o",e)}),(function(e){zn.errorf(null,"consentData - %o",e)}))}))},_n=new bn.Z({prefix:"verifications: "});const En={Report:Vn,Verifications:new function(){this.run=function(){n(),e()};var e=function(){d.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var t=d.Y.fireEvent("acceptableAbTest");if(t){var n="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";t&&(n=t.src);var i=new Image;i.addEventListener("load",(function(){t.callback(!0)}),!1),i.addEventListener("error",(function(){t.callback(!1)}),!1),i.src=n}}))},t=!1,n=function(){d.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var n=e.data;n.contentRestriction&&n.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push((function(){window.pbjs.onEvent("bidResponse",(function(e){if(!t&&e&&e.length>0)for(var n=0;n<e.length;n++)if(e[n].cpm>0&&"emx_digital"!==e[n].bidder&&"districtmDMX"!==e[n].bidder){t=!0,d.Y.fireEvent("disableStopFlag")||(window.__bt_intrnl.stopFlag=!0);var i=a.Z.SharedObject.getItem("renderedUnits"),r={adBlockDetectionType:a.Z.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!i||0==i.length},o={sendToServer:!0,event:"pbjsDetected",meta:r};_n.noticef(null,"pub's pbjs was detected -> ",r,o)}if(e){var s={cpm:e.cpm?e.cpm:0,creativeLength:e.ad?e.ad.length:0,bidderCode:e.bidderCode||"",adUnitCode:e.adUnitCode||""},c={sendToServer:!0,event:"pbjsBidReceived",meta:s};_n.noticef(null,"pub's pbjs bid was received -> ",s,c)}}))})))}))}}};var xn=function(e){switch(e){case"ALL":return a.Z.consts.refreshType.ALL;case"VISIBLE":return a.Z.consts.refreshType.VISIBLE;case"HIDDEN":return a.Z.consts.refreshType.HIDDEN;default:return a.Z.consts.refreshType.UNKNOWN}};function Zn(e){return e&&e.selector?l.Z.commonUtils.getElementWithSelector(e.selector.value):null}var Hn=new bn.Z({prefix:"moveElementPosition: "}),In=new function(){var e=[],t=[];this.setMovePositionRules=function(t){e=t||[]},this.dispatch=function(i){try{if(!e||e.length<=0)return;if(!(i=s.Z.filter(i,(function(e){return t.indexOf(e)<0})))||i.length<=0)return;!function r(o,a){if(!(o>a)){for(var d=0;d<i.length;d++){for(var c=i[d],l=[],u=0;u<e.length;u++){var h=e[u];n(h,{space:c})&&(t.push(c),h.stayLive||l.push(h))}e=l.length>0?s.Z.filter(e,(function(e){return l.indexOf(e)<0})):e}e.length>0&&setTimeout((function(){r(o+1,a)}),100)}}(0,20)}catch(e){Hn.errorf(null,"error in `movePositionService` `dispatch` function: %o",e)}};var n=function(e,t){var n=e.elementToMove(t),i=e.relativeElement(t);return!(!n||!i||n.__upo_moved)&&(l.Z.ElementInsertion.insertElement(n,i,e.htmlElementInsertionType),n.__upo_moved=!0,!0)}},Yn=__webpack_require__(17),Sn=__webpack_require__(143),Tn=new bn.Z({prefix:"whitelistingIFrame: "});var Bn="BT_WHITELISTING_IFRAME_ACCESS";function On(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn.Im.whitelistingIFrameSettings.publisherDomainWhitelistingIFrameCandidatesSrcs,n=d.Y.fireEvent("customWhitelistingIFrameURL"),i=d.Y.fireEvent("keepBTDomainWhitelistingIFrame");return(e=n?Promise.resolve(n):i?Promise.resolve(null):Fn(t,0)).then((function(e){Sn.Im.whitelistingIFrameSettings.url=e||Sn.Im.whitelistingIFrameSettings.url,Sn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame=!e})),e}function Fn(e,t){return e[t]?new Promise((function(n){var i=l.Z.addAcceptableParam(e[t]),r=new window.XMLHttpRequest;r.open("GET",i),r.addEventListener("load",(function(o){try{if(!r.status.toString().startsWith("4")&&r.responseURL==="".concat(window.location.origin).concat(i)&&function(e){var t=e.getResponseHeader("x-frame-options");if(t&&"deny"===t.toLowerCase())return!1;var n=e.getResponseHeader("content-security-policy"),i=n&&n.split(","),r=i&&i.find((function(e){return e.startsWith("frame-ancestors")}))&&r.split(" ");return!(r&&!r.some((function(e){return e===window.location.origin})))}(r))return void function(e){try{var t=localStorage.getItem(Bn);if((t=t&&JSON.parse(t))&&void 0!==t.canAccess&&t.expiration&&t.url&&t.version&&Date.now()<t.expiration&&t.url===e&&"1"===t.version)return Promise.resolve(t.canAccess)}catch(e){Tn.noticef(null,"whitelisting flawed cached value structure")}return new Promise((function(t){var n=document.createElement("iframe");n.src=e,n.addEventListener("load",(function i(){n.removeEventListener("load",i);var r=!1;n.contentDocument&&(r=!0),t(r);var o={canAccess:r,url:e,expiration:Date.now()+6048e5,version:"1"};localStorage.setItem(Bn,JSON.stringify(o)),n.parentElement.removeChild(n)})),n.style.setProperty("visibility","hidden"),document.body.appendChild(n)}))}(i).then((function(e){n(e?i:null)}));Fn(e,t+1).then((function(e){return n(e)}))}catch(i){Fn(e,t+1).then((function(e){return n(e)}))}})),r.addEventListener("error",(function(i){Fn(e,t+1).then((function(e){return n(e)}))})),r.send()})):Promise.resolve(null)}var kn=function(){var e=Sn.Im.whitelistingIFrameSettings.url,t=document.createElement("iframe");return t.addEventListener("load",(function t(){if(this.removeEventListener("load",t),Sn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame||this.contentDocument||(Sn.Im.whitelistingIFrameSettings.url=Sn.VP,Sn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame=Sn.k$,localStorage.removeItem(Bn),this.src=Sn.Im.whitelistingIFrameSettings.url),e.includes("about:blank"))try{!function(e){var t=e.contentWindow,n=function(e){return 0===e.indexOf("//")&&(e=l.Z.commonUtils.getTopmostAccessibleWindow().location.protocol+e),e},i=function(e,t){if(e&&""===e.src&&e.outerHTML){var i=new RegExp(t+'="([^"]+)"',"g").exec(e.outerHTML);i&&i[1]&&(e[t]=n(i[1]))}},r=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(){try{var e=Array.prototype.slice.call(arguments);e[1]=n(e[1])}catch(e){Tn.errorf(null,"error in XHRHttpRequest.open hook: %o",e)}return r.apply(this,e)};var o=t.open;t.open=function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Tn.errorf(null,"error in `window.open` hook: %o",e)}return o.apply(this,e)};var a=function(e){try{var t=Array.prototype.slice.call(arguments),n=e.apply(this,t);["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&i(t[0],"src"),"LINK"===t[0].tagName&&i(t[0],"href")}catch(e){Tn.errorf(null,"error in `hookOnFunc`: %o",e)}return n},s=t.HTMLElement.prototype.insertBefore;t.HTMLElement.prototype.insertBefore=a(s);var d=t.HTMLElement.prototype.appendChild;t.HTMLElement.prototype.appendChild=a(d);var c=t.HTMLElement.prototype.__lookupGetter__("innerHTML"),u=t.HTMLElement.prototype.__lookupSetter__("innerHTML");t.HTMLElement.prototype.__defineSetter__("innerHTML",(function(){try{var e=Array.prototype.slice.call(arguments),t=u.apply(this,e),n=this.firstChild;i(n,"src")}catch(e){Tn.errorf(null,'error in HTMLElement "innerHTML" property setter hook: %o',e)}return t})),t.HTMLElement.prototype.__defineGetter__("innerHTML",(function(){try{return c.apply(this)}catch(e){Tn.errorf(null,'error in HTMLElement "innerHTML" property getter hook: %o',e)}}));for(var h=Yn.v.htmlElements,f=0;f<h.length;f++)t[h[f]]&&function(e){var t=e.prototype,i="src",r=t.__lookupGetter__(i),o=t.__lookupSetter__(i);r&&(t.__defineSetter__(i,(function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Tn.errorf(null,'error in <html> "src" attribute setter hook: %o',e)}return o.apply(this,e)})),t.__defineGetter__(i,(function(){try{return r.apply(this)}catch(e){Tn.errorf(null,'error in <html> "src" attribute getter hook: %o',e)}})))}(t[h[f]])}(this)}catch(e){Tn.errorf(null,"error calling `addAboutBlankHooks` in `createWhitelistingIFrame`: %o",e)}})),t.src=e,t};const Wn={commonBLUtils:e,movePositionService:In,whitelistingIFrame:t};var Rn=new bn.Z({prefix:"auction: "}),Gn=function e(t){var n=!1,i=new l.Z.SubscriptionLayer;this.auctionId=v(8,9),this.unit=t.unit,this.state=e.States.UNOFFERED,this.creationTime=new Date,this.lastUpdate=this.creationTime,this.bids=[],this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.cancelAuction=function(){n=!0,r(this)},this.getWinningBid=function(){for(var e=void 0,t=0;t<this.bids.length;t++){var n=this.bids[t];(!e||n.cpm>e.cpm)&&n.complianceStatus===a.Z.consts.complianceStatus.COMPLIANT&&(e=n)}return e},this.addBids=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.bids.push(n)}};this.getComplianceBids=function(){for(var e=[],t=0;t<this.bids.length;t++){var n=this.bids[t];n.complianceStatus===a.Z.consts.complianceStatus.COMPLIANT&&e.push(n)}return e},this.renderWinningBid=function(){var e=this.getWinningBid();this.renderBid(e)};var r=function(e){e.bids.forEach((function(e){e.cancelBid()}))};function o(e){return new Promise((function(t,n){window.setTimeout((function(){try{e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","block","important"),t()}catch(e){n(e)}}),1e3)}))}this.renderBid=function(t){try{if(d.Y.fireEvent("renderBidInElementStarted",{element:this.unit&&this.unit.element}),this.state=e.States.DONE,function(){if(!document.getElementById("bt-render-styles")){var e=document.createElement("style");e.id="bt-render-styles",e.type="text/css",e.textContent=".up-hide { display: none !important; }",e.textContent+='.ahover + [id^="google_ads_iframe_"] { width: 1px !important; height:1px !important; display: grid !important; }',(document.head||document.body||document.documentElement).appendChild(e)}}(),function(e,t){for(var n=0;n<e.bids.length;n++){var i=e.bids[n];i!==t&&i.cancelBid()}}(this,t),!t||n||!l.Z.commonUtils.isElementInBody(this.unit.element))return this.unit.currentBid||(h=this.unit,s.Z.addClass("up-hide",h.element),s.Z.removeClass("up-show",h.element)),t&&t.cancelBid(),void i.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});this.unit.cleanup(),c(this.unit.element),function(e,t){s.Z.addClass("up-show",e.element),s.Z.removeClass("up-hide",e.element)}(this.unit),this.unit.element._adData_=t,t.onRenderedEvent(function(){var e=this;!function(e,t,n){var i=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');i.style.position||i.style.setProperty("position","relative");if(i.style.setProperty("width","max-content","important"),["sharethrough","triplelift"].indexOf(t.bidderCode)>=0){var r=t.width,o=function(e){var t=e.sizes,n=0;return s.Z.forEach(t,(function(e){var t=e.split("x")[0];(t=parseInt(t))>n&&(n=t)})),n}(n);(r>o||r<120)&&(r=o),i.style.setProperty("max-width",r+"px","important")}i.style.setProperty("z-index",0),i.style.setProperty("margin","0 auto"),i.style.setProperty("display","block")}(this.unit.element,t,this.unit.space),function(e){if(d.Y.fireEvent("omitBTAdLabel",{unit:e}))return;var t=e.element,n=t.querySelector(".default-creative-container")||t.querySelector(".ahover")||t.querySelector('[id^="google_ads_iframe_"]'),i="upo-label",r=!(!n||!n.querySelector(".".concat(i)));if(!n||r)return;var o=function(e){var t=document.createElement("div");return t.className=e,t.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;"),window.setTimeout((function(){t.style.opacity="1"}),2e3),t.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>',t}(i);n.appendChild(o),e.adLabelElement=o}(this.unit),function(e){return new Promise((function(t,n){try{if(d.Y.fireEvent("skipEnsureElementVisibility",{unit:e}))t();else{var i=e.element;i.classList.contains("up-show")||i.classList.add("up-show"),Promise.all([o(i),o(i.parentElement),o(i.parentElement.parentElement)]).then(t).catch(n)}}catch(e){n(e)}}))}(this.unit).then((function(){!function(e){if(0===e.offsetWidth&&0===e.offsetHeight){var t={sendToServer:!0,sendPercentage:1,event:"ad-unit-hidden-by-css",meta:{elementId:e.id||"N/A"}};Rn.infof(null,"detectAndLogHiddenAdUnit, element ID -> ",e.id||"N/A",t)}}(e.unit.element)})).catch((function(e){Rn.errorf(null,"bid.onRenderedEvent: ensureElementVisibility/detectAndLogHiddenAdUnit: %o",e)})),i.invokeEventCallbacks("auctionRendered",t),this.unit.rendered(t),a.Z.SharedObject.getItem("renderedUnits")||a.Z.SharedObject.setItem("renderedUnits",[]),a.Z.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var r={placement:this.unit.element},u=t.additionalBidsToRender&&t.additionalBidsToRender.length>0&&t.additionalBidsToRender[0];u?(u.onRenderedEvent((function(){return t.renderBid(r)})),u.renderBid()):t.renderBid(r),i.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!0})}catch(e){Rn.errorf(null,"renderBid err:%o",e)}var h};var c=function(e){e.style.removeProperty("background-image"),e.style.removeProperty("background-repeat")}};Gn.States={UNOFFERED:0,DISPATCHED:1,DONE:3};var Cn=function e(t,n,i,r,o,a,s,d){this.bidId=v(16,24),this.ad=t.ad,this.adId=t.adId,this.adUrl=t.adUrl,this.bidderId=t.bidderId,this.bidder=t.bidder,this.bidderCode=t.bidderCode,this.contentIdHash=t.contentIdHash,this.currency=t.currency,this.creativeId=t.creativeId,this.c=t.c,this.cpm=t.cpm,this.complianceStatus=t.complianceStatus||0,this.height=t.height,this.isBackupCreative=t.isBackupCreative,this.timeToRespond=t.timeToRespond,this.size=t.size,this.width=t.width,this.rawBid=n,this.type=i,this.status=e.Status.LIVE,this.additionalBidsToRender=[],this.renderBid=o,this.cancelBid=function(){this.status!==e.Status.CANCELED&&(this.status=e.Status.CANCELED,a&&a(),this.additionalBidsToRender.forEach((function(e){return e.cancelBid()})))},this.getGPTTargeting=function(e){return r&&r.call(this,e)},this.onRenderedEvent=s||function(){},this.makeEntryForTestCompliance=d||function(){}};Cn.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,ADX_TEXT:4,DFP_PREBID:5,ADSENSE:6,DIRECT:7,SMART_AS:8,DEFAULT_CREATIVE:9},Cn.Status={LIVE:0,CANCELED:1};var Ln=function e(t){this.unitID=v(16,24),this.element=t.element,this.space=t.space,this.state=t.state||e.States.PENDING,this.currentBid,this.countOfDispatches=0,this.countOfRenders=0,this.lastInvokeTime,this.cleanup=function(){for(var e=this.element.children,t=[],i=0;i<e.length;i++)t.push(n(e[i]));for(var r=0;r<t.length;r++)t[r]()},this.rendered=function(e){this.currentBid=e};var n=function(e){return function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}};Ln.States={PENDING:0,CHECKING:1,DISPATCHED:2};const jn={Auction:Gn,Bid:Cn,Space:function(e){if(this.id=e.id,this.name=e.name,this.staging=e.staging,this.deviceType=e.deviceType,this.selector={position:e.selector.position,value:e.selector.value},this.sizes=e.sizes,this.preBiddingSettings={enabled:!1},e.preBiddingSettings&&(this.preBiddingSettings={enabled:e.preBiddingSettings.enabled,biddingSettings:{}},e.preBiddingSettings.enabled&&e.preBiddingSettings.biddingSettings))for(var t in e.preBiddingSettings.biddingSettings)if(e.preBiddingSettings.biddingSettings.hasOwnProperty(t)){var n=e.preBiddingSettings.biddingSettings[t];this.preBiddingSettings.biddingSettings[t]=[];for(var i=0;i<n.length;i++){var r=n[i];if(r.id&&r.name&&r.params){var o={id:r.id,name:r.name,params:r.params};this.preBiddingSettings.biddingSettings[t].push(o)}}}if(this.postBiddingSettings={enabled:!1},e.postBiddingSettings&&e.postBiddingSettings.enabled){this.postBiddingSettings={adxId:e.postBiddingSettings.adxId,directId:e.postBiddingSettings.directId,enabled:e.postBiddingSettings.enabled,type:e.postBiddingSettings.type,order:[]};for(var a=0;a<e.postBiddingSettings.order.length;a++){var s=e.postBiddingSettings.order[a];d.Y.fireEvent("removeAdServerRequestIteration",{iterationConfig:s})||this.postBiddingSettings.order.push({params:{keyValues:s.params.keyValues||{},queryParams:s.params.queryParams||{}},adx:{bidderID:s.adx.bidderID,testCompliance:s.adx.testCompliance},direct:{bidderID:s.direct.bidderID}})}}},Unit:Ln};function An(e){for(var t=e.length,n=5381,i=52711;t--;){var r=e.charCodeAt(t);n=33*n^r,i=33*i^r}return 4096*(n>>>0)+(i>>>0)}var Jn=new bn.Z({prefix:"adUnitParser: "}),Kn=function(e){try{var t,n=function(e){return 2===e.length&&e.every((function(e){return!Array.isArray(e)&&!isNaN(e)}))},i=function(e){return"".concat(e[0],"x").concat(e[1])},r={},o=e.selector||l.Z.commonUtils.escapeSelector("#"+e.code),s=e.sizes;if(s||e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(s=e.mediaTypes.banner.sizes),!s)return;if(t=n(s)?[i(s)]:s.filter(n).map(i),r.id=e.id,r.id||(r.id="space_"+An(e.code+"_"+o)),r.id=r.id.substr(0,500),r.name=e.code,r.deviceType=e.deviceType,r.sizes=t,r.selector={position:0,value:o},e.bids){r.preBiddingSettings={enabled:!0,biddingSettings:[]},r.preBiddingSettings.biddingSettings[1]=[];for(var d=0;d<e.bids.length;d++){var c=e.bids[d];c.params=c.params||{};var u="bidder_"+An(r.id+"_"+c.bidder+"_"+JSON.stringify(c.params).trim());u=u.substr(0,500),r.preBiddingSettings.biddingSettings[1].push({id:u,name:c.bidder,params:c.params})}}else r.preBiddingSettings={enabled:!1};return a.Z.SharedObject.getItem("websiteConfig").dfpEnabled?r.postBiddingSettings={adxId:r.name+"_adx",directId:r.name+"_direct",enabled:!0,type:1,order:[{params:{},adx:{bidderID:r.name+"_adx",testCompliance:!0},direct:{bidderID:r.name+"_direct"}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:r.name+"_adx",testCompliance:!1},direct:{bidderID:r.name+"_direct"}}]}:r.postBiddingSettings={enabled:!1},r}catch(e){Jn.errorf(null,"error in parsing prebid ad unit - err: %o",e)}};function Pn(e,t,n){var i=window.googletag.defineSlot(e,t,n);return i&&i.addService(window.googletag.pubads()),i}function Un(e){if(e){var t=d.Y.fireEvent("rewriteGAMSlots")||d.Y.fireEvent("GAMSpecialAdUnit");if(t&&t.parseSlotAdUnitPath&&!e._is_rewritten_slot){var n=e.getSlotElementId(),i=e.getSizes();i=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&i.getWidth&&i.getHeight?t.push([i.getWidth(),i.getHeight()]):i&&"fluid"===i&&t.push("fluid")}return t}(i);try{var r=t.parseSlotAdUnitPath(e);if(t.shouldSkipDestroySlot&&t.shouldSkipDestroySlot(e,r)||function(e){var t=e.getSlotElementId();window.googletag.destroySlots([e]);var n=document.getElementById(t),i=n&&n.querySelector("div[id^='google_ads_iframe_']");n&&i&&n.removeChild(i)}(e),!r)return;var o=Pn(r,i,n);return o&&(o._is_rewritten_slot=!0,t.shouldCopyTargeting&&function(e,t){var n=e.getTargetingMap();for(var i in n)if(n.hasOwnProperty(i)){var r=n[i][0];t.setTargeting(i,r)}}(e,o),t.postSlotCreation&&t.postSlotCreation(o)),o}catch(e){Jn.errorf(null,"error redefining GAM slot (e.g. for SAU or BT AdX unit)",e)}}}}function Qn(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qn=__webpack_require__(905);function $n(e){var t=qn.tq();switch(e){case"mobile":return t;case"desktop":return!t;default:return!0}}function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ni={hookName:"prebidDoneInit",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;return e.websiteOverridesOrg?r:ti(ti({},n),r)},handler:function(e,t){var n=e,i=t.data.cpbjs;i.que.push((function(){i.setConfig(n)}))}};function ii(e,t,n,i){switch(e){case"equals":return i===t;case"startsWith":case"endsWith":case"includes":return i[e](t);case"equalsOneOf":return n.includes(i);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var r=e.split("OneOf")[0];return n.some((function(e){return i[r](e)}))}}const ri={hideDOMElementsViaCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat(Qn(n),Qn(r))},handler:function(e){var t=[];if(e.forEach((function(e){var n=e.whenDevice,i=e.selectors;$n(n)&&t.push.apply(t,Qn(i))})),t.length>0){var n=document.createElement("style");n.textContent="".concat(t.join(", ")," { display: none !important; }"),(document.head||document.body||document.documentElement).appendChild(n)}}},insertCustomCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat(Qn(n),Qn(r))},handler:function(e){var t="";if(e.forEach((function(e){var n=e.whenDevice,i=e.customCSS,r=void 0===i?"":i;$n(n)&&(t="".concat(t,"\n").concat(r))})),""!==t){var n=document.createElement("style");n.textContent=t,(document.head||document.body||document.documentElement).appendChild(n)}}},prebidConfig:ni,removeSizes:{hookName:"sizesToRemoveBySpace",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i,o=e.websiteOverridesOrg,a=n.forAllSpaces,s=void 0===a?[]:a,d=n.forSpaces,c=void 0===d?[]:d,l=r.forAllSpaces,u=void 0===l?[]:l,h=r.forSpaces,f=void 0===h?[]:h;return{forAllSpaces:o?u:[].concat(Qn(s),Qn(u)),forSpaces:o?f:[].concat(Qn(c),Qn(f))}},handler:function(e,t){var n=e.forAllSpaces,i=e.forSpaces,a=t.data.spaceName,s=t.hookFileData||[],d=new Set(s);return n.forEach((function(e){var t=e.whenDevice,n=e.sizes,i=void 0===n?[]:n;$n(t)&&i.forEach((function(e){d.add(e)}))})),i.forEach((function(e){var t=e.name,n=e.nameList,i=e.whenName,r=e.whenDevice,o=e.sizes,s=void 0===o?[]:o;$n(r)&&function(e,t,n,i){switch(e){case"equals":return i===t;case"startsWith":case"endsWith":case"includes":return i[e](t);case"equalsOneOf":return n.includes(i);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var r=e.split("OneOf")[0];return n.some((function(e){return i[r](e)}))}}(i,t,n,a)&&s.forEach((function(e){d.add(e)}))})),Qn(d).map((function(e){if("fluid"===e)return"fluid";var t,n;if("string"==typeof e){var i=r(e.split("x").map((function(e){return parseInt(e,10)})),2);t=i[0],n=i[1]}else"object"===(0,o.Z)(e)&&(t=e.width,n=e.height);return isNaN(t)||isNaN(n)?null:{width:t,height:n}})).filter((function(e){return null!==e}))}},rewriteGAMSlots:{hookName:"rewriteGAMSlots",handler:function(e,t){var n,i=e.rewritePathMethod,r=e.rewritePathData;if("insertBTAdUnit"===i){var o=r||{},a=o.btUnitName,s=o.insertionDepth,d=o.maxDepth;s&&(n=function(e){var t=e.getAdUnitPath();"/"!==t[0]&&(t="/".concat(t));var n=a||"Blockthrough",i=t.split("/");return i.splice(s,0,n),d&&d>0&&(i=i.slice(0,d+1)),i.join("/")})}if(n)return{parseSlotAdUnitPath:n,shouldCopyTargeting:!0}}},scrapeGAMSlots:{hookName:"scrapeGoogletagSlots",handler:function(e){return e}},scrapePrebid:{hookName:"scrapePrebidAdUnits",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;if(e.websiteOverridesOrg)return r;var o={};o.adUnitsVar=n.adUnitsVar||r.adUnitsVar;var a=(n.parse||{}).removeBidders,s=(r.parse||{}).removeBidders;(a||s)&&(o.parse={},o.parse.removeBidders=a&&s?{forAllAdUnits:[].concat(Qn(a.forAllAdUnits||[]),Qn(s.forAllAdUnits||[])),forAdUnits:[].concat(Qn(a.forAdUnits||[]),Qn(s.forAdUnits||[]))}:a||s);var d=(n.filterOut||{}).adUnits,c=(r.filterOut||{}).adUnits;return(d||c)&&(o.filterOut={},o.filterOut.adUnits=d&&c?[].concat(Qn(d),Qn(c)):d||c),o},handler:function(e,t){var n,i,r=e.dontScrape,o=e.adUnitsVar,a=e.parse,s=e.filterOut;if(r)n=!1;else{if(n=t.hookFileData||{},o&&(n.getAdUnits=function(){return l.Z.commonUtils.extractVariableFromString(window,o)}),a){var d=a.removeBidders?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forAllAdUnits,n=void 0===t?[]:t,i=e.forAdUnits,r=void 0===i?[]:i;if(n.length>0||r.length>0)return function(e){var t=[];return n.forEach((function(e){var n=e.whenDevice,i=e.bidders,r=void 0===i?[]:i;$n(n)&&t.push.apply(t,r)})),r.forEach((function(n){var i=n.code,r=n.codeList,o=n.whenCode,a=n.whenDevice,s=n.bidders,d=void 0===s?[]:s;$n(a)&&ii(o,i,r,e.code)&&t.push.apply(t,d)})),e.bids=e.bids.filter((function(e){var n=e.bidder;return!t.includes(n)})),e}}(a.removeBidders):null,c=n.parseAdUnit;d&&(n.parseAdUnit=c?function(e){return d(c(e))}:d)}if(s){var u=s.adUnits?(i=s.adUnits,function(e){return i.some((function(t){var n=t.code,i=t.codeList,r=t.whenCode;if($n(t.whenDevice))return ii(r,n,i,e.code)}))}):null,h=n.filterOutAdUnit;u&&(n.filterOutAdUnit=h?function(e){return h(e)||u(e)}:u)}}return n}},enableLegacySizesReplacer:{hookName:"enableLegacySizesReplacer",handler:function(e){return e}}};var oi=new bn.Z({prefix:"scriptsettings: "}),ai=ri,si={"prebidConfig__org":{"_enabled":true,"value":{"enableSendAllBids":false,"syncsPerBidder":20}},"removeSizes__org":{"_enabled":true,"value":{"forAllSpaces":[{"sizes":["970x250"],"whenDevice":"any"}],"forSpaces":[]}},"scrapePrebid__org":{"_enabled":true,"value":{"adUnitsVar":"fsprebid.adUnits","filterOut":{},"parse":{"removeBidders":{"forAdUnits":[{"bidders":["gumgum"],"codeList":["_adhesion","_sticky"],"whenCode":"endsWithOneOf","whenDevice":"any"}]}}}}},di=Object.entries(si).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];if(o._enabled)if(i.endsWith("__org")){var a=i.split("__org")[0];e[a]=e[a]||{},e[a].org=o.value}else if(i.endsWith("__website")){var s=i.split("__website")[0];e[s]=e[s]||{},e[s].websiteOverridesOrg=!!o._overrides_org,e[s].website=o.value}else e[i]=o.value;return e}),{});var ci={rawSettings:si,parsed:di},li=function(e){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)e();else{var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}),!1),window.addEventListener("load",(function(){t||(t=!0,e())}))}},ui=function(e){window.addEventListener("scroll",(function(t){e()}))},hi=new bn.Z({prefix:"Hooks: "}),fi=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};var e=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(t,n,i,r,o){var a=t[n];a&&(t[n]=function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return a.apply(this,t);if(i)try{var n=d.Y.fireEvent(i,t,this);if(null!=n)return n}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}var s=a.apply(this,t);if(r)try{d.Y.fireEvent(r,s,this)}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}return s})},this.hookPropertySetter=function(t,n,i,r,o){var a=t.__lookupGetter__(n),s=t.__lookupSetter__(n);a&&(t.__defineSetter__(n,(function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return s.apply(this,t);if(i)try{var n=d.Y.fireEvent(i,t,this);if(null!=n)return n}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}var a=s.apply(this,t);if(r)try{d.Y.fireEvent(r,a,this)}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}return a})),t.__defineGetter__(n,(function(){try{return a.apply(this)}catch(e){hi.errorf(null,"error in `hookPropertySetter` object getter hook: %o",e)}})))},this.addEventListener=function(e,t){d.Y.addEventListener(e,t)}},gi=new bn.Z({prefix:"testCompliance: "}),pi=new function(){this.init=function(){d.Y.addEventListener("onAuctionGroupStarted",(function(e){gi.infof(null,"onAuctionGroupStarted: %o",e)})),d.Y.addEventListener("onAuctionGroupEnded",(function(e){gi.infof(null,"onAuctionGroupEnded: %o",e)})),d.Y.addEventListener("onAuctionStarted",(function(e){gi.infof(null,"onAuctionStarted: %o",e)})),d.Y.addEventListener("onAuctionEnded",(function(e){gi.infof(null,"onAuctionEnded: %o",e)})),d.Y.addEventListener("onPrebiddingStarted",(function(e){gi.infof(null,"onPrebiddingStarted: %o",e)})),d.Y.addEventListener("onPrebiddingEnded",(function(e){gi.infof(null,"onPrebiddingEnded: %o",e)})),d.Y.addEventListener("onPostbiddingStarted",(function(e){gi.infof(null,"onPostbiddingStarted: %o",e)})),d.Y.addEventListener("onPostbiddingEnded",(function(e){gi.infof(null,"onPostbiddingEnded: %o",e)})),d.Y.addEventListener("onAuctionBidResponse",(function(e){gi.infof(null,"onAuctionBidResponse: %o",e)})),d.Y.addEventListener("onNewUnitFound",(function(e){gi.infof(null,"onNewUnitFound: %o",e)}))}};function mi(e,t,n,i,r,o,a){try{var s=e[o](a),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(i,r)}function wi(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){mi(o,i,r,a,s,"next",e)}function s(e){mi(o,i,r,a,s,"throw",e)}a(void 0)}))}}var bi=__webpack_require__(757),vi=__webpack_require__.n(bi),Mi=__webpack_require__(96),Ni=__webpack_require__.n(Mi),Di=new function(){var e=[],t={},n={};this.set=function(i){var r=i;Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var a=r[o],s=!a.deviceType||a.deviceType===qn.yC||a.deviceType===qn.l7();a&&s&&(e.push(a),t[a.name]=t[a.name]||[],t[a.name].push(a),n[a.id]=n[a.id]||[],n[a.id].push(a))}return e},this.getSpacesByName=function(e){return t[e]||[]},this.getSpacesByID=function(e){return n[e]||[]},this.getAll=function(){return e},this.remove=function(i){e=s.Z.filter(e,(function(e){return e!=i}));var r=n[i.id].indexOf(i);r>=0&&n[i.id].splice(r,1);var o=t[i.name].indexOf(i);o>=0&&t[i.name].splice(o,1)}};function yi(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Vi=new bn.Z({prefix:"visibility: "}),_i=new Map,Ei=new Map;function xi(e){var t=e.getBoundingClientRect(),n=function(){var e,t,n=window,i=[];for(;n!==window.top;){var r,o=Xi((e=n.parent).document.getElementsByTagName("iframe"));try{for(o.s();!(r=o.n()).done;){var a=r.value;a.contentWindow===n&&(t=a.getBoundingClientRect(),i.push({x:t.x,y:t.y}))}}catch(e){o.e(e)}finally{o.f()}n=e}return i.reduce((function(e,t){return{x:e.x+t.x,y:e.y+t.y}}),{x:0,y:0})}();try{return window.top.document.hasFocus()&&t.top+t.height/2+n.y>0&&t.left+t.width/2+n.x>0&&t.top+t.height/2+n.y<(window.top.innerHeight||window.top.document.documentElement.clientHeight)&&t.left+t.width/2+n.x<(window.top.innerWidth||window.top.document.documentElement.clientWidth)}catch(e){Bi(e)}}function Zi(e,t,n){return Hi.apply(this,arguments)}function Hi(){return(Hi=wi(vi().mark((function e(t,n,i){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ii((function(){return xi(t)?{stopIterations:!1}:{stopIterations:!0}}),10,100);case 2:r=e.sent,l.Z.commonUtils.isElementInBody(t)||i(),r&&n();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ii(e,t,n){return Yi.apply(this,arguments)}function Yi(){return(Yi=wi(vi().mark((function e(t,n,i){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!0);case 2:if(r=t(),!r.stopIterations){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(Ii(t,n-1,i))}),i)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Si(){_i.forEach((function(e,t){var n=r(e,2);Zi(t,n[0],n[1])}))}try{window.top.addEventListener("scroll",(function(){Si()})),window.top.addEventListener("focus",(function(){Si()}))}catch(Oe){Bi(Oe)}function Ti(e){var t,n,i,r=e.selector,o=e.id,s=e.element;if(!s)try{if(r)s=document.querySelector(r);else{if(!o)throw new Error("No selector, id, or element provided.");s=document.getElementById(o)}if(!s)throw new Error("Could not find element on page with id/selector provided.")}catch(e){return Vi.warningf(null,"getElementVisibility - selector: `%o`, id: `%o` - error: %o",[r,o,e]),a.Z.consts.elementVisibility.NOT_FOUND}"none"===window.getComputedStyle(s).display&&(n=s.style.getPropertyValue("display"),i=s.style.getPropertyPriority("display"),s.style.setProperty("display","block","important"),t=!0);var d,c=function(e){var t,n;if(e)return(n=e.getBoundingClientRect()).width||n.height?(t=document.documentElement,{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}):n}(s),l=document.documentElement.scrollLeft||window.scrollX,u=document.documentElement.scrollTop||window.scrollY,h=window.innerHeight,f=window.innerWidth,g=s.offsetHeight,p=s.offsetWidth;return d=c.left>=l&&c.top>=u&&p+c.left<=l+f&&g+c.top<=u+h||(c.left<=l&&c.left+p>l||c.left>=l&&c.left<=l+f)&&(c.top<=u&&c.top+g>u||c.top>=u&&c.top<=u+h)?a.Z.consts.elementVisibility.VISIBLE:a.Z.consts.elementVisibility.HIDDEN,t&&s.style.setProperty("display",n,i),d}function Bi(e){var t={sendToServer:!0,event:"noViewabilityFromCrossDomainIframe",sendPercentage:1,meta:{error:e}};Vi.warningf(null,"noViewabilityFromCrossDomainIframe","N/A",t)}var Oi="dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==",Fi=new bn.Z({prefix:"prebidAdapter: "}),ki=new function(){var e=!1,t={},n={},i=new l.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.dispatch=function(n){try{e||(e=!0,t=a.Z.cpbjs,b(),d.Y.fireEvent("wrapPrebidRequestBids")&&M());var o={};s.Z.forEach(n,(function(e){o[e.spaceName]={hbAdUnit:e,deferred:new s.Z.CDefer}}));var l=function(e){return e.map((function(e){var t=d.Y.fireEvent("snigelAdapterConfiguration",{spaceName:e.spaceName})||{},n=t.websiteStoredRequestId,i=t.adUnitStoredRequestId,r=c(e),o=[];e.biddersSettings.forEach((function(e){var t={bidder:e.name,params:e.params};o.push(t)}));var a={code:e.spaceName,bids:o,sizes:r,mediaTypes:{banner:{sizes:r}}};return n&&i&&(a.ortb2Imp={ext:{prebid:{storedrequest:{id:i}}}}),a}))}(n),u=d.Y.fireEvent("prebidTimeout")||3e3;r(),function(e,t){for(var n=function(n){var i=t.find((function(t){return t.code===e[n].spaceName})),r=[];i.bids.forEach((function(e){r.push(e.bidder)}));var o={sendToServer:!0,sendPercentage:5,event:"prebid-size-filtering",meta:{spaceName:e[n].spaceName,auctionId:e[n].auctionId,sizesBeforeFiltering:e[n].sizes,sizesAfterFiltering:i.sizes,biddersNames:r}};Fi.infof(null,"logAdUnitSizesPrebid, spaceName -> ",e[n].spaceName,o)},i=0;i<e.length;i++)n(i)}(n,l),t.requestBids({timeout:u,adUnits:l,bidsBackHandler:function(e){try{for(var t in o)if(o.hasOwnProperty(t)){var n=o[t],r=n.hbAdUnit;if(e){var a=e[t],d=[];if(a){var c=s.Z.find(l,(function(e){return e.code===t})).sizes;a.bids=f(a.bids,c),d=g(a.bids,n.hbAdUnit)}var u={auctionId:r.auctionId,bids:d};n.deferred.resolve(u),s.Z.forEach(d,(function(e){var t={auctionId:r.auctionId,bid:e};i.invokeEventCallbacks("bidReceived",t)}))}else{var h={auctionId:r.auctionId,bids:[]};n.deferred.resolve(h)}}}catch(e){Fi.errorf(null,"dispatch: bidsBackHandler: - %o",e)}}});var h=[];for(var p in o)if(o.hasOwnProperty(p)){var m=o[p];h.push(m.deferred.promise)}return h}catch(e){Fi.errorf(null,"dispatch: - %o",e)}};var r=function(){if(t.bidderSettings&&t.bidderSettings.standard&&t.bidderSettings.standard.adserverTargeting){var e=!!s.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb_org"===e.key})),n=!!s.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb"===e.key}));!e&&n&&t.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(e){var n=t.getConfig().priceGranularity;return"auto"===n?e.pbAg:"dense"===n?e.pbDg:"low"===n?e.pbLg:"medium"===n?e.pbMg:"high"===n?e.pbHg:"custom"===n?e.pbCg:e.pbHg}})}},o=function(e){var t=e.split("x");if(2!==t.length)throw new Error;var n=parseInt(t[0]),i=parseInt(t[1]);if(isNaN(n)||isNaN(i))throw new Error;return{width:n,height:i}},c=function(e){for(var t=[],n=0;n<e.sizes.length;n++){var i=o(e.sizes[n]),r=i.width,a=i.height;t.push({width:r,height:a})}var c=d.Y.fireEvent("sizesToReplaceBySpace",{spaceName:e.spaceName});c&&(t=s.Z.map(t,(function(e){var t=s.Z.find(c,(function(t){return t.size.width===e.width&&t.size.height===e.height}));return t?{width:t.replacement.width,height:t.replacement.height}:e})));var u=googletag&&googletag.pubads&&googletag.pubads().getSlots()||[],h=e.element&&e.element.getAttribute("id")||e.spaceName,f=u.find((function(e){return e.getSlotElementId()===h})),g=d.Y.fireEvent("sizesToRemoveBySpace",{spaceName:e.spaceName,slot:f});g&&(t=s.Z.filter(t,(function(e){return!s.Z.find(g,(function(t){return t.width===e.width&&t.height===e.height}))})));var p=l.Z.sizesRemover(e.element,t);return p=s.Z.filter(p,(function(e){return!!e})),p=s.Z.map(p,(function(e){return[e.width,e.height]}))};var u=function(e,t){if(e.ad&&e.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))>-1&&e.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))>-1){var n=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");e.ad.indexOf("<body>")>-1?e.ad=e.ad.replace("<body>",n):e.ad=n+e.ad}"amazon"===e.bidder&&(e=function(e){try{var t=JSON.parse(e.adTargeting);for(var n in t.amzniid=e.adId,t)e.adserverTargeting[n]=t[n];e.ad=e.adHtml;try{!a.Z.upoSettings.amazonBidderConfiguration.keepHbPb&&delete e.adserverTargeting.hb_pb}catch(e){Fi.errorf(null,"changeAmazonBid - deleting hb_pb - %o",e)}delete e.adUrl}catch(e){Fi.errorf(null,"changeAmazonBid - %o",e)}return e}(e)),e.bidder&&"smartadserver"===e.bidder&&(e.bidder="smart"),e.bidder&&("triplelift"===e.bidder&&e.ad.indexOf("render_options_bm")>-1||"sharethrough"===e.bidder)&&(e.width=h(t))},h=function(e){for(var t=c(e),n=0,i=0;i<t.length;i++){var r=t[i][0];r>n&&(n=r)}return n};function f(e,t){return s.Z.filter(e,(function(e){return s.Z.find(t,(function(t){return e.width===t[0]&&e.height===t[1]}))}))}var g=function(e,i){var r=s.Z.map(e,(function(e){if(e.bidderId=p(e,i),e.bidderId){u(e,i),n[e.adId]=new s.Z.CDefer;var r={ad:e.ad,adId:e.adId,adUrl:e.adUrl,bidderId:e.bidderId,bidder:e.bidder,bidderCode:e.bidderCode,currency:e.currency,creativeId:w(e),cpm:e.cpm,complianceStatus:0,height:e.height,timeToRespond:e.timeToRespond,size:e.size,width:e.width},o=new jn.Bid(r,e,jn.Bid.Types.PREBID,(function(n){var i=n.complianceBidsInAuction.length>0?s.Z.map(n.complianceBidsInAuction,(function(e){return e.rawBid&&e.rawBid})):void 0,r=e.adUnitCode,o=t.getAdserverTargeting(r,i)[r];return""===o.hb_pb&&o.hb_pb_org&&(o.hb_pb=o.hb_pb_org),o=d.Y.fireEvent("customAdserverTargeting",{adServerTargeting:o})||o}),(function(e){try{v(this);var t=e.placement;N(t,this)}catch(e){Fi.errorf(null,"renderBid - %o",e)}}),void 0,function(e){this.renderedDeferred.promise.then((function(){e()}))}.bind({renderedDeferred:n[e.adId]}),(function(){return m(this)}));return o}Fi.errorf(null,"dispatch: bidsBackHandler: - No corresponding bidderSettings found in ad unit: %o for Prebid auction response bid: %o",[i,e])}));return s.Z.reject(r,l.Z.commonUtils.isNil)},p=function(e,t){var n=s.Z.find(t.biddersSettings,(function(t){return t.name===e.bidderCode}));return n?n.id:"s2s"===e.source?"s2s-".concat(e.bidderCode,"-").concat(e.adUnitCode):void 0},m=function(e){var t={bidderExternalID:e.bidderId,markup:e.ad,url:e.adUrl,hint:{provider:e.bidderCode,uid:e.creativeId},width:parseInt(e.width),height:parseInt(e.height)};if("152media"!==e.bidderCode&&"brealtime"!==e.bidderCode&&"districtm"!==e.bidderCode&&"defymedia"!==e.bidderCode&&"appnexusAst"!==e.bidderCode||(t.provider="appnexus"),"ix"===e.bidderCode&&(t.provider="indexExchange"),"underdogmedia"===e.bidderCode&&(t.hintID=t.hintID+"_"+e.width+"_"+e.height),"gumgum"===e.bidderCode&&e.creative&&(t.markup=e.creative),"komoona"===e.bidderCode)try{var n=0,i=JSON.parse(unescape(e.ad.split('"creative_data":"')[1].split('","')[0]));for(var r in i.hdbd_data.hbbids){var o=i.hdbd_data.hbbids[r];o.cpm>n&&(n=o.cpm,t.markup=o.creative_data.creative)}}catch(e){Fi.errorf(null,'innerMakeEntryForTestCompliance - handling "komoona" bid - %o',e)}return e.ad&&e.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")>-1&&(t.url="https://googleads.g.doubleclick.net/pagead/adfetch"+e.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],t.markup=""),t},w=function(e){return"komoona"===e.bidder||"criteo"===e.bidder||"consumable"===e.bidder?null:e.c?String(e.c):e.adid&&"0"!==e.adid?String(e.adid):e.crid&&"0"!==e.crid?String(e.crid):e.creativeId&&"0"!==e.creativeId?String(e.creativeId):e.creative_id&&"0"!==e.creative_id?String(e.creative_id):null},b=function(){t.onEvent("bidWon",(function(e){n[e.adId].resolve()}))},v=function(e){var t=e.rawBid;t&&t.bidder&&(d.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:t}}),d.Y.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:t}}))},M=function(){var e=window.pbjs||window.jitaJS;if(e&&e.requestBids){var t=e.requestBids;e.requestBids=function(e){for(var n=[],r=e&&e.adUnits,o=0;o<r.length;o++)n.push(r[o].code);if(i.invokeEventCallbacks("refresh",n),!d.Y.fireEvent("skipOriginalRequestBidsFunction"))return t.apply(this,arguments)}}},N=function(e,n){var i=y(),r=i.container,o=i.iframe;o.addEventListener("load",(function e(){try{o.removeEventListener("load",e);var i=a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame;o.style.setProperty("visibility",""),i||(o.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var r=!i&&o.contentWindow.document,s=qn.Xh();"sharethrough"===n.bidder&&window.setTimeout((function(){for(var e=document.querySelectorAll(".str-thumbnail"),t=0;t<e.length;t++){var n=e[t].style.backgroundImage;!n||-1!==n.indexOf("upapi")||-1!==n.indexOf("criteo.net")||-1!==n.indexOf("imgix.net")&&-1!==n.indexOf(".gif")?n.indexOf("imgix.net")>-1&&n.indexOf(".gif")>-1&&(n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&adunit=true")'):e[t].style.backgroundImage=n.replace('")','?adunit=true")')):n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&upapi=true")'):e[t].style.backgroundImage=n.replace('")','?upapi=true")')}}),3e3),"edge"===s&&(n.rawBid.ad=n.rawBid.ad.replace(/\.html[?#]/,".html?upapi=true&"),n.rawBid.ad=n.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout((function(){if(i){o.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*")}else try{for(var e=r.styleSheets,t=0;t<e.length;t++)e[t].cssText&&e[t].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")>-1&&(e[t].cssText="")}catch(e){Fi.errorf(null,"innerRenderBid - `onLoad` Edge browser patch - %o",e)}}),3e3)),window.setTimeout((function(){var e="edge"===s||"ie"===s;if(e||D(n,o,i),i){var a='window.parent.postMessage(JSON.stringify({ adId: "'+n.adId+'", message: "Prebid Request" }), "*");';o.contentWindow.postMessage({type:"eval",code:a},"*")}else t.renderAd(r,n.adId);e&&D(n,o,i)}),0),o.style.width=n.width+"px",o.style.height=n.height+"px"}catch(e){Fi.errorf(null,"renderBid - %o",e)}})),e.insertBefore(r,e.children[0])};function D(e,t,n){if(!1!==e.isBackupCreative)if(n)t.contentWindow.postMessage({type:"eval",code:"try { eval(atob('dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==')) } catch (err) {}"},"*");else try{t.contentWindow.eval(atob(Oi))}catch(e){Fi.errorf(null,"evalBackupCreativeScript: - %o",e)}}var y=function(){var e=document.createElement("div");e.className="ahover";var t=Wn.whitelistingIFrame.createWhitelistingIFrame();return t.style.width="1px",t.style.height="1px",t.style.border="0px",t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.scrolling="no",e.appendChild(t),{container:e,iframe:t}}},Wi=new function(){var e=!1,t=new l.Z.SubscriptionLayer;function n(e,t){if(e===Wi.Types.PREBID)return ki.dispatch(t)}this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.dispatch=function(i){e&&(e=!1),e=!0,ki.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),ki.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)}));var r=[],o={};for(var a in s.Z.forEach(i,(function(e){var t={hbAdUnit:e,promises:[]};r.push(t);var n=e.biddingSettings;for(var i in n)if(i=parseInt(i),n.hasOwnProperty(i)){var a=n[i];if(a&&a.length>0){o[i]=o[i]||[];var s={biddersSettings:a,auctionId:e.auctionId,spaceName:e.spaceName,sizes:e.sizes,selector:e.selector,element:e.element};o[i].push(s)}}})),o)if(a=parseInt(a),o.hasOwnProperty(a)){var d=o[a],c=n(a,d);s.Z.forEach(c,(function(e,t){s.Z.find(r,(function(e){return e.hbAdUnit.auctionId==d[t].auctionId})).promises.push(e)}))}return s.Z.map(r,(function(e){return Promise.all(e.promises).then((function(t){var n=s.Z.map(t,(function(e){return e.bids}));return{auctionId:e.hbAdUnit.auctionId,bids:s.Z.flat(n)}}))}))}};Wi.Types={UNKNOWN:0,PREBID:1,RTK:2};var Ri=new bn.Z({prefix:"dfpAdapter: "}),Gi=new function(){var e=!1,t={},n={},i={},r=[],o=[],a=new l.Z.SubscriptionLayer,c={_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_creative_ids_:14,_adgroup2_ids_:15};this.init=function(){e||(e=!0,F())},this.dispatch=function(e){try{this.init();var r=[];return d.Y.fireEvent("onBeforeDfpRefreshDispatch"),d.Y.fireEvent("tryDisableGoogletagLazyLoad")&&u(),s.Z.forEach(e,(function(e){var i=new s.Z.CDefer;r.push(i.promise),t[e.slotElementId]={asAdUnit:e,deferred:i};var o=new s.Z.CDefer;n[e.slotElementId]=o})),window.googletag.cmd.push((function(){try{Ri.debugf(null,"onAdsRequestPrepareStarted");var t=window.googletag.pubads().getSlots(),n=[];s.Z.forEach(t,(function(t){s.Z.forEach(e,(function(e,r){var o=t.getSlotElementId();if(o===e.slotElementId){n.push(t);var a=v(16,24);if(i[a]=o,t.setTargeting("uponitSlotIterationId",a),d.Y.fireEvent("preTargetingSetting",{dfpSlot:t,ASAdUnit:e}),p(t,e.params.keyValuesParams.toRemove),t.__up_display||(t.__up_display=!0,window.googletag.display(e.slotElementId)),m(t,e.params.keyValuesParams.toAdd),window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&window.uponit.modifiers.dfpTargeting.length>0)try{for(var s=window.uponit.modifiers.dfpTargeting,c=0;c<s.length;c++){var l=t.getTargetingMap(),u={};for(var h in l)u[h]=l[h];var f=null;!e||null==e.floorPrice&&null==e.floorPrice||(f=e.floorPrice);var g=s[c](u,t,f);if(g)for(var w in g)l[w]&&l[w]===g[w]||t.setTargeting(w,g[w])}}catch(e){Ri.errorf(null,"dispatch: uponit-modifiers: %o",e)}t.setForceSafeFrame(!0),t.setCollapseEmptyDiv(!1)}}))})),Ri.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",g(n)),h(n);var r=googletag.pubads().isSRA()&&(c=0,n.forEach((function(e){var t=e.getTargetingMap();Object.entries(t).forEach((function(e){var t=e[0]?e[0].length:0,n=e[1]&&e[1][0]?e[1][0].length:0;c+=t+n}))})),c>=6e3);if(d.Y.fireEvent("forceNotSingleRequestRefresh")||r)for(var o=function(){var e=n[a];setTimeout((function(){window.googletag.pubads().refresh([e],void 0,!0)}),0)},a=0;a<n.length;a++)o();else setTimeout((function(){window.googletag.pubads().refresh(n,void 0,!0)}),0)}catch(e){Ri.errorf(null,"dispatch: %o",e)}var c})),r}catch(e){Ri.criticalf(null,"google cmd function failed: %o",e)}};var u=function(){window.googletag.cmd.push((function(){window.googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:-1})}))},h=function(e){s.Z.forEach(e,(function(e){e.setTargeting("upstdfp",!0)}))},f=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];"fluid"===i?t.push(i):t.push([i.getWidth(),i.getHeight()])}}catch(e){Ri.errorf(null,"getNormalizedDfpSizes errored - %o",e)}return t},g=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];t.push({elementId:i.getSlotElementId(),dfpAdUnitPath:i.getAdUnitPath(),sizes:f(i.getSizes()),targetingMap:i.getTargetingMap()})}}catch(e){Ri.errorf(null,"getNormalizedDFPAdSlots errored - %o",e)}return t},p=function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=e.getTargetingKeys(),o=0;o<r.length;o++){var a=r[o];i.test(a)&&e.clearTargeting(a)}},m=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e.setTargeting(n,i)}},w=function(e){if(!e)return!1;var t=d.Y.fireEvent("isPrebidResponse",{str:e});if(null!=t)return t;if(/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(e))return!0;if(/apstag\.renderImp\(document,/gm.test(e))return!0;if(/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(e))return!0;return!!/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(e)||e.indexOf("districtm_adslot = ")>-1},b=function(e,t,n,i){e&&e._html_&&e._html_.indexOf("googletag.pubads().definePassback(")>-1&&(e._html_=e._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),e._html_=e._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("')),e&&e._html_&&-1===e._html_.indexOf("ca-pub-15988")&&(e._html_=e._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));var r=d.Y.fireEvent("dfpResponseCustomReplace",{googleReponse:e,googleFrame:i,googleSlot:t});if(r&&(e=r),!(e._fluid_||e._height_&&e._width_)&&n.length>0)for(var o=0;o<n.length;o++){var a=n[o];if("fluid"!=a&&a.getWidth()>=120){e._width_=parseInt(a.getWidth()),e._height_=parseInt(a.getHeight());break}}};function M(e){switch(e){case jn.Bid.Types.ADX:return"gad";case jn.Bid.Types.ADX_TEXT:return"gad_text";case jn.Bid.Types.DIRECT:return"gad_dfp_direct"}}var N=function(e,t){switch(e){case jn.Bid.Types.ADSENSE:case jn.Bid.Types.ADX:case jn.Bid.Types.ADX_TEXT:return t.adxBidderId;case jn.Bid.Types.DIRECT:return t.directBidderId}},D=function(e,t){try{try{if(t._adgroup2_ids_&&Array.isArray(t._adgroup2_ids_)&&t._adgroup2_ids_.length>1||t._creative_ids_&&Array.isArray(t._creative_ids_)&&t._creative_ids_.length>1){var n={sendToServer:!0,sendPercentage:5,event:"multiple-creative-and-line-item-ids",meta:{creativeId:t._creative_ids_,lineItemID:t._adgroup2_ids_,provider:M(e),width:t._width_,height:t._height_}};Ri.infof(null,"multiple creative and line item IDs -> ",n,n)}}catch(e){Ri.errorf(null,"log multiple-creative-and-line-item-ids: %o",e)}if(e==jn.Bid.Types.DIRECT&&t._adgroup2_ids_&&t._adgroup2_ids_[0]&&t._creative_ids_&&t._creative_ids_[0])return t._adgroup2_ids_[0].toString()+"_"+t._creative_ids_[0].toString()}catch(e){Ri.errorf(null,"getCreativeId: %o",e)}};function y(e){var n=t[e],i={auctionId:n.asAdUnit.auctionId,bids:[]};n.deferred.resolve(i)}var X=function(e,t){r.push(t),e._html_=d.Y.fireEvent("CustomPrebidHTMLModification",e._html_)||e._html_.replace(/w=w.parent/gm,"w=window").replace(/w = w.parent/gm,"w = window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},z=function(e){var t=e.getSlotElementId(),n=l.Z.commonUtils.escapeSelector("#"+t),i=document.querySelector(n+' [id^="google_ads_iframe_"]');return i=d.Y.fireEvent("customInnerContainer",{googleSlot:e})||i},V=function(e,t,n){var i=new RegExp("([?&]"+t+"=)([^&#]*)([&#$].*)","g");return e.replace(i,"$1".concat(encodeURIComponent(n),"$3"))},_=function(e,t){var n=new RegExp("(^|[&])"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[3]?decodeURIComponent(n[3].replace(/\+/g," ")):"":null},E=function(e){try{for(var n={},i=0;i<e.length;i++){var r=e[i],o=t[r.getSlotElementId()].asAdUnit;if(o&&o.params&&o.params.queryParams)for(var a in o.params.queryParams)if(o.params.queryParams.hasOwnProperty(a)){var s=o.params.queryParams[a];n[a]=s}}return n}catch(e){Ri.errorf(null,"getSlotsQueryParams: %o",e)}};var x=function(e,i,r,d){try{var c=s.Z.map(i,(function(e,t){if(r.indexOf(t)>-1)return i[t]}));return function(e,i){try{if(e){for(var r={},d=[],c=0;c<e.length;c++){var l=e[c].response.parsedData,u=e[c].response.rawResponse,h=e[c].slot;if(h){var f=i[c],g=h.getSlotElementId(),p=new s.Z.CDefer;r[g]=p,d.push(p.promise);var m=t[g],v=z(h);if(!l||l&&!l._html_||l&&l._empty_)r[g].resolve({injectToDom:!1}),y(g);else{b(l,h,f,v),w(l._html_)&&X(l,g);var V=(Y=h,S=void 0,S=(I=l)._html_,I._empty_?jn.Bid.Types.EMPTY:w(S)?jn.Bid.Types.DFP_PREBID:I._is_afc_?"text"===E([Y]).ad_type?jn.Bid.Types.ADX_TEXT:jn.Bid.Types.ADX:S.indexOf("js/adsbygoogle.js")>-1||S.indexOf("pagead/show_ads.js")>-1?jn.Bid.Types.ADSENSE:jn.Bid.Types.DIRECT),_={ad:l._html_,adId:null,bidder:M(V),bidderId:N(V,m.asAdUnit.params),bidderCode:M(V),creativeId:D(V,l),width:l._width_,height:l._height_,cpm:m.asAdUnit.floorPrice+.01},x=new jn.Bid(_,u,V,void 0,function(e){return function(){var t=r[e];"unresolved"==t.fate&&t.resolve({injectToDom:!0,injectBackupCreative:this.isBackupCreative})}}(g),function(e){return function(){var t=r[e];"unresolved"==t.fate&&t.resolve({injectToDom:!1})}}(g),function(e){return function(t){n[e].promise.then((function(){t()}))}}(g),function(e){return function(){return{bidderExternalID:this.bidderId,url:this.adUrl,hint:{provider:this.bidderCode,uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height),lineItemID:e._adgroup2_ids_&&e._adgroup2_ids_[0],creativeID:e._creative_ids_&&e._creative_ids_[0],markup:this.ad.replace(/\\(n|r|\\)/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"\\"}))}}}(l)),Z={auctionId:m.asAdUnit.auctionId,bids:[x]};m.deferred.resolve(Z);var H={auctionId:m.asAdUnit.auctionId,bid:x};a.invokeEventCallbacks("bidReceived",H)}}else d.push(Promise.resolve({injectToDom:!1}))}return Promise.all(d).then(function(e){try{for(var t=[],n=0;n<this.responsesWithSlots.length;n++){var i=e[n],r=this.responsesWithSlots[n].response,a=r.parsedData,s=this.responsesWithSlots[n].slot,d=s&&s.getSlotElementId();i&&!i.injectToDom&&(d&&o.push(d),a._html_="",a._empty_=!0,a._width_=1,a._height_=1),r.injectBackupCreative=i.injectBackupCreative,t.push(r)}return t}catch(e){Ri.errorf(null,"handleDfpBidResponses: Promise.all: %o",e)}}.bind({responsesWithSlots:e,deferredsPromises:d}))}}catch(e){Ri.errorf(null,"handleDfpBidResponses: %o",e)}var I,Y,S}(s.Z.map(e,(function(e,t){return{slot:c[t],response:e}})),d)}catch(e){Ri.errorf(null,"invokeMiddleware: %o",e)}},Z=function(e,t,n,i){return Ri.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",[g(t),n]),new Promise((function(r,o){try{if(""===e.responseText)return t.forEach((function(e){return y(e.getSlotElementId())})),void r();var a=function(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;i++){var r=t[i];if(i%2==0&&""!=r){try{var o=window.JSON.parse(r)}catch(e){Ri.errorf(null,"parseGoogleExpandableResponse: 1 %o",e)}var a=Object.keys(o)[0],s=o[a],d={adUnitPath:a,rawResponse:s,parsedData:{}};try{for(var l in c)if(c.hasOwnProperty(l)){var u=c[l];void 0!==s[u]&&null!==s[u]&&(d.parsedData[l]=s[u])}}catch(e){Ri.errorf(null,"parseGoogleExpandableResponse: 2 %o",e)}n.push(d)}else i%2!=0&&(n[n.length-1].parsedData._html_=r)}return n}(e.responseText);x(a,t,n,i).then((function(t){!function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.injectBackupCreative){var i=n.parsedData,r=i._html_,o="<\/script>";i._html_=r.substr(0,r.indexOf(o)+o.length)+atob("PHNjcmlwdD5mdW5jdGlvbiBfMHgxZDJkKF8weDQyMDc4YSxfMHgzMWI5ZjQpe3ZhciBfMHgyYzJlMDY9XzB4MmMyZSgpO3JldHVybiBfMHgxZDJkPWZ1bmN0aW9uKF8weDFkMmRjZCxfMHgxNjIxMDQpe18weDFkMmRjZD1fMHgxZDJkY2QtMHg2ODt2YXIgXzB4NDg4NzMwPV8weDJjMmUwNltfMHgxZDJkY2RdO3JldHVybiBfMHg0ODg3MzA7fSxfMHgxZDJkKF8weDQyMDc4YSxfMHgzMWI5ZjQpO30oZnVuY3Rpb24oXzB4ZGRlN2EyLF8weDE1ZTM3Nyl7dmFyIF8weDE1NzA0Zj1fMHgxZDJkLF8weDE1MGU4Mz1fMHhkZGU3YTIoKTt3aGlsZSghIVtdKXt0cnl7dmFyIF8weDdjNWEyZj1wYXJzZUludChfMHgxNTcwNGYoMHg3OSkpLzB4MSstcGFyc2VJbnQoXzB4MTU3MDRmKDB4OGMpKS8weDIqKHBhcnNlSW50KF8weDE1NzA0ZigweDk5KSkvMHgzKSstcGFyc2VJbnQoXzB4MTU3MDRmKDB4NzcpKS8weDQrLXBhcnNlSW50KF8weDE1NzA0ZigweDg4KSkvMHg1KigtcGFyc2VJbnQoXzB4MTU3MDRmKDB4YTYpKS8weDYpK3BhcnNlSW50KF8weDE1NzA0ZigweDczKSkvMHg3Ky1wYXJzZUludChfMHgxNTcwNGYoMHg3NCkpLzB4OCstcGFyc2VJbnQoXzB4MTU3MDRmKDB4OTIpKS8weDkqKHBhcnNlSW50KF8weDE1NzA0ZigweDljKSkvMHhhKTtpZihfMHg3YzVhMmY9PT1fMHgxNWUzNzcpYnJlYWs7ZWxzZSBfMHgxNTBlODNbJ3B1c2gnXShfMHgxNTBlODNbJ3NoaWZ0J10oKSk7fWNhdGNoKF8weDI3NTEyMSl7XzB4MTUwZTgzWydwdXNoJ10oXzB4MTUwZTgzWydzaGlmdCddKCkpO319fShfMHgyYzJlLDB4NmI3NWQpLChmdW5jdGlvbigpe3ZhciBfMHgyNTc1Njc9ZnVuY3Rpb24oXzB4NGE1YzA2KXt2YXIgXzB4NDA3ZTEwPV8weDFkMmQ7aWYoXzB4NGE1YzA2WydhbHJlYWR5SW5qZWN0ZWQnXSlyZXR1cm47XzB4NGE1YzA2W18weDQwN2UxMCgweDc2KV09ISFbXTt0cnl7dmFyIF8weDRiNzMxYj1fMHg0YTVjMDZbXzB4NDA3ZTEwKDB4YTgpXVsnY3JlYXRlRWxlbWVudCddKCdzdHlsZScpOyhfMHg0YTVjMDZbXzB4NDA3ZTEwKDB4YTgpXVtfMHg0MDdlMTAoMHg5NyldfHxfMHg0YTVjMDZbXzB4NDA3ZTEwKDB4YTgpXVtfMHg0MDdlMTAoMHg3NSldfHxfMHg0YTVjMDZbXzB4NDA3ZTEwKDB4YTgpXVtfMHg0MDdlMTAoMHhhMCldKVtfMHg0MDdlMTAoMHg4YildKF8weDRiNzMxYiksXzB4NGE1YzA2Wydkb2N1bWVudCddW18weDQwN2UxMCgweDgwKV1bMHgwXVtfMHg0MDdlMTAoMHg4YSldKCdpbWdbY2xhc3NePVx4MjdwbC1sb2FkZXItXHgyN117ZGlzcGxheTpub25lXHgyMCFpbXBvcnRhbnR9JywweDApO31jYXRjaChfMHgxMjUzZDEpe31fMHg0YTVjMDZbXzB4NDA3ZTEwKDB4YTgpXVsnZ2V0RWxlbWVudEJ5SWRPJ109ZG9jdW1lbnRbXzB4NDA3ZTEwKDB4N2EpXSxfMHg0YTVjMDZbJ2RvY3VtZW50J11bXzB4NDA3ZTEwKDB4N2EpXT1mdW5jdGlvbihfMHg0MjA5ZGUpe3ZhciBfMHgyYzY3NDE9XzB4NDA3ZTEwO3RyeXtpZihfMHg0MjA5ZGU9PT1fMHgyYzY3NDEoMHg2YikpcmV0dXJuIF8weDRhNWMwNltfMHgyYzY3NDEoMHhhOCldW18weDJjNjc0MSgweDZlKV0oJ2InKTt9Y2F0Y2goXzB4NWE2YzU0KXt9cmV0dXJuIF8weDRhNWMwNlsnZG9jdW1lbnQnXVtfMHgyYzY3NDEoMHhhNyldW18weDJjNjc0MSgweDlmKV0odGhpcyxfMHg0MjA5ZGUpO30sXzB4NGE1YzA2W18weDQwN2UxMCgweGE4KV1bXzB4NDA3ZTEwKDB4YTEpXT1kb2N1bWVudFtfMHg0MDdlMTAoMHg2ZSldLF8weDRhNWMwNltfMHg0MDdlMTAoMHhhOCldW18weDQwN2UxMCgweDZlKV09ZnVuY3Rpb24oXzB4NWFkMzczKXt2YXIgXzB4NDNmODllPV8weDQwN2UxMDt0cnl7aWYoXzB4NWFkMzczW18weDQzZjg5ZSgweGEzKV0oKT09PV8weDQzZjg5ZSgweDhmKSl7dmFyIF8weDM2N2QyNT1fMHg0YTVjMDZbXzB4NDNmODllKDB4YTgpXVtfMHg0M2Y4OWUoMHhhMSldW18weDQzZjg5ZSgweDlmKV0odGhpcyxfMHg1YWQzNzMpO3JldHVybiBfMHgzNjdkMjVbJ2FkZEV2ZW50TGlzdGVuZXInXShfMHg0M2Y4OWUoMHg4NSksZnVuY3Rpb24oKXt2YXIgXzB4MTU2MGY1PV8weDQzZjg5ZTt0cnl7dGhpc1tfMHgxNTYwZjUoMHg4OSldWyd3cmFwSWZyYW1lJ109XzB4MjU3NTY3LHRoaXNbXzB4MTU2MGY1KDB4ODkpXVtfMHgxNTYwZjUoMHg3MCldW18weDE1NjBmNSgweDlmKV0odGhpc1tfMHgxNTYwZjUoMHg4OSldLHRoaXNbXzB4MTU2MGY1KDB4ODkpXSk7fWNhdGNoKF8weDMwMzkyNil7fX0pLF8weDM2N2QyNTt9fWNhdGNoKF8weDNlZDFjOSl7fXJldHVybiBfMHg0YTVjMDZbXzB4NDNmODllKDB4YTgpXVtfMHg0M2Y4OWUoMHhhMSldWydjYWxsJ10odGhpcyxfMHg1YWQzNzMpO30sXzB4NGE1YzA2W18weDQwN2UxMCgweDdiKV1bXzB4NDA3ZTEwKDB4OTQpXVtfMHg0MDdlMTAoMHg2YyldPV8weDRhNWMwNltfMHg0MDdlMTAoMHg3YildW18weDQwN2UxMCgweDk0KV1bJ2FwcGVuZENoaWxkJ10sXzB4NGE1YzA2W18weDQwN2UxMCgweDdiKV1bXzB4NDA3ZTEwKDB4OTQpXVsnYXBwZW5kQ2hpbGQnXT1mdW5jdGlvbihfMHgzNzE4M2Upe3ZhciBfMHgzZWZlZTE9XzB4NDA3ZTEwLF8weDViMGY2Mz1fMHg0YTVjMDZbXzB4M2VmZWUxKDB4N2IpXVtfMHgzZWZlZTEoMHg5NCldW18weDNlZmVlMSgweDZjKV1bXzB4M2VmZWUxKDB4OWYpXSh0aGlzLF8weDM3MTgzZSk7dHJ5e2Zvcih2YXIgXzB4NGMwNjBjPTB4MDtfMHg0YzA2MGM8XzB4MzcxODNlWydjaGlsZHJlbiddW18weDNlZmVlMSgweDY4KV07XzB4NGMwNjBjKyspe18weDM3MTgzZVtfMHgzZWZlZTEoMHg4NyldW18weDRjMDYwY11bJ3RhZ05hbWUnXT09PV8weDNlZmVlMSgweDhlKSYmKCFfMHgzNzE4M2VbXzB4M2VmZWUxKDB4ODcpXVtfMHg0YzA2MGNdW18weDNlZmVlMSgweDg5KV0mJl8weDM3MTgzZVtfMHgzZWZlZTEoMHg4NyldW18weDRjMDYwY11bXzB4M2VmZWUxKDB4OWQpXShfMHgzZWZlZTEoMHg4NSksZnVuY3Rpb24oKXt2YXIgXzB4Y2M5MDllPV8weDNlZmVlMTt0aGlzW18weGNjOTA5ZSgweDg5KV1bXzB4Y2M5MDllKDB4NzApXT1fMHgyNTc1NjcsdGhpc1tfMHhjYzkwOWUoMHg4OSldW18weGNjOTA5ZSgweDcwKV1bXzB4Y2M5MDllKDB4OWYpXSh0aGlzW18weGNjOTA5ZSgweDg5KV0sdGhpc1tfMHhjYzkwOWUoMHg4OSldKTt9KSxfMHgzNzE4M2VbXzB4M2VmZWUxKDB4ODcpXVtfMHg0YzA2MGNdW18weDNlZmVlMSgweDg5KV1bXzB4M2VmZWUxKDB4NzApXT1fMHgyNTc1NjcsXzB4MzcxODNlWydjaGlsZHJlbiddW18weDRjMDYwY11bJ2NvbnRlbnRXaW5kb3cnXVtfMHgzZWZlZTEoMHg3MCldW18weDNlZmVlMSgweDlmKV0odGhpcyxfMHgzNzE4M2VbJ2NoaWxkcmVuJ11bXzB4NGMwNjBjXVtfMHgzZWZlZTEoMHg4OSldKSk7fV8weDM3MTgzZVtfMHgzZWZlZTEoMHg5YSldPT09XzB4M2VmZWUxKDB4OGUpJiYoIV8weDM3MTgzZVtfMHgzZWZlZTEoMHg4OSldJiZfMHgzNzE4M2VbXzB4M2VmZWUxKDB4OWQpXShfMHgzZWZlZTEoMHg4NSksZnVuY3Rpb24oKXt2YXIgXzB4M2VlNzJjPV8weDNlZmVlMTt0aGlzW18weDNlZTcyYygweDg5KV1bXzB4M2VlNzJjKDB4NzApXT1fMHgyNTc1NjcsdGhpc1snY29udGVudFdpbmRvdyddW18weDNlZTcyYygweDcwKV1bXzB4M2VlNzJjKDB4OWYpXSh0aGlzW18weDNlZTcyYygweDg5KV0sdGhpc1tfMHgzZWU3MmMoMHg4OSldKTt9KSxfMHgzNzE4M2VbXzB4M2VmZWUxKDB4ODkpXVtfMHgzZWZlZTEoMHg3MCldPV8weDI1NzU2NyxfMHgzNzE4M2VbXzB4M2VmZWUxKDB4ODkpXVsnd3JhcElmcmFtZSddW18weDNlZmVlMSgweDlmKV0odGhpcyxfMHgzNzE4M2VbXzB4M2VmZWUxKDB4ODkpXSkpO31jYXRjaChfMHg1YjQxMmQpe31yZXR1cm4gXzB4NWIwZjYzO30sXzB4NGE1YzA2W18weDQwN2UxMCgweDdiKV1bJ3Byb3RvdHlwZSddW18weDQwN2UxMCgweDZkKV09XzB4NGE1YzA2WydIVE1MRWxlbWVudCddWydwcm90b3R5cGUnXVtfMHg0MDdlMTAoMHg3YyldLF8weDRhNWMwNlsnSFRNTEVsZW1lbnQnXVtfMHg0MDdlMTAoMHg5NCldW18weDQwN2UxMCgweDdjKV09ZnVuY3Rpb24oXzB4NTA3OTgwLF8weDM3ZThmYyl7dmFyIF8weDNlMDllYz1fMHg0MDdlMTAsXzB4MjQ2MTI5PV8weDRhNWMwNltfMHgzZTA5ZWMoMHg3YildW18weDNlMDllYygweDk0KV1bXzB4M2UwOWVjKDB4NmQpXVsnY2FsbCddKHRoaXMsXzB4NTA3OTgwLF8weDM3ZThmYyk7dHJ5e2Zvcih2YXIgXzB4YmFmOTA0PTB4MDtfMHhiYWY5MDQ8XzB4NTA3OTgwW18weDNlMDllYygweDg3KV1bJ2xlbmd0aCddO18weGJhZjkwNCsrKXtfMHg1MDc5ODBbXzB4M2UwOWVjKDB4ODcpXVtfMHhiYWY5MDRdWyd0YWdOYW1lJ109PT1fMHgzZTA5ZWMoMHg4ZSkmJighXzB4NTA3OTgwW18weDNlMDllYygweDg3KV1bXzB4YmFmOTA0XVsnY29udGVudFdpbmRvdyddJiZfMHg1MDc5ODBbXzB4M2UwOWVjKDB4ODcpXVtfMHhiYWY5MDRdW18weDNlMDllYygweDlkKV0oJ2xvYWQnLGZ1bmN0aW9uKCl7dmFyIF8weDJiMzgzMD1fMHgzZTA5ZWM7dGhpc1tfMHgyYjM4MzAoMHg4OSldW18weDJiMzgzMCgweDcwKV09XzB4MjU3NTY3LHRoaXNbXzB4MmIzODMwKDB4ODkpXVtfMHgyYjM4MzAoMHg3MCldW18weDJiMzgzMCgweDlmKV0odGhpc1tfMHgyYjM4MzAoMHg4OSldLHRoaXNbXzB4MmIzODMwKDB4ODkpXSk7fSksXzB4NTA3OTgwWydjaGlsZHJlbiddW18weGJhZjkwNF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgzZTA5ZWMoMHg3MCldPV8weDI1NzU2NyxfMHg1MDc5ODBbJ2NoaWxkcmVuJ11bXzB4YmFmOTA0XVtfMHgzZTA5ZWMoMHg4OSldWyd3cmFwSWZyYW1lJ11bXzB4M2UwOWVjKDB4OWYpXSh0aGlzLF8weDUwNzk4MFtfMHgzZTA5ZWMoMHg4NyldW18weGJhZjkwNF1bXzB4M2UwOWVjKDB4ODkpXSkpO31fMHg1MDc5ODBbJ3RhZ05hbWUnXT09PSdJRlJBTUUnJiYoIV8weDUwNzk4MFtfMHgzZTA5ZWMoMHg4OSldJiZfMHg1MDc5ODBbJ2FkZEV2ZW50TGlzdGVuZXInXSgnbG9hZCcsZnVuY3Rpb24oKXt2YXIgXzB4ZjI1OTJlPV8weDNlMDllYzt0aGlzW18weGYyNTkyZSgweDg5KV1bXzB4ZjI1OTJlKDB4NzApXT1fMHgyNTc1NjcsdGhpc1tfMHhmMjU5MmUoMHg4OSldW18weGYyNTkyZSgweDcwKV1bJ2NhbGwnXSh0aGlzW18weGYyNTkyZSgweDg5KV0sdGhpc1tfMHhmMjU5MmUoMHg4OSldKTt9KSxfMHg1MDc5ODBbXzB4M2UwOWVjKDB4ODkpXVtfMHgzZTA5ZWMoMHg3MCldPV8weDI1NzU2NyxfMHg1MDc5ODBbXzB4M2UwOWVjKDB4ODkpXVsnd3JhcElmcmFtZSddW18weDNlMDllYygweDlmKV0odGhpcyxfMHg1MDc5ODBbXzB4M2UwOWVjKDB4ODkpXSkpO31jYXRjaChfMHgyNjE4MjMpe31yZXR1cm4gXzB4MjQ2MTI5O30sXzB4NGE1YzA2W18weDQwN2UxMCgweGE4KV1bJ3dyaXRlTyddPV8weDRhNWMwNltfMHg0MDdlMTAoMHhhOCldW18weDQwN2UxMCgweDkxKV0sXzB4NGE1YzA2W18weDQwN2UxMCgweGE4KV1bXzB4NDA3ZTEwKDB4OTEpXT1mdW5jdGlvbihfMHg1OTJlNmIpe3ZhciBfMHhjNTMzNzE9XzB4NDA3ZTEwO3RyeXtpZihfMHg1OTJlNmImJi9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzP1w9XHM/WyciXWlmcmFtZVsnIl0vW18weGM1MzM3MSgweDllKV0oXzB4NTkyZTZiKSl7dmFyIF8weDI2M2QyND1fMHg1OTJlNmJbXzB4YzUzMzcxKDB4NzgpXShuZXcgUmVnRXhwKF8weGM1MzM3MSgweDk2KSkpLF8weDQ4N2Y3Mj1fMHgyNjNkMjRbMHgwXVtfMHhjNTMzNzEoMHg4NildKF8weGM1MzM3MSgweDhmKSxfMHhjNTMzNzEoMHg3ZSkpO18weDU5MmU2Yj1fMHg1OTJlNmJbJ3JlcGxhY2UnXShfMHgyNjNkMjQsXzB4NDg3ZjcyKTt9XzB4NTkyZTZiJiZfMHg1OTJlNmJbXzB4YzUzMzcxKDB4YTQpXShfMHhjNTMzNzEoMHg4NCkpPi0weDEmJihfMHg1OTJlNmI9XzB4NTkyZTZiWydyZXBsYWNlJ10oXzB4YzUzMzcxKDB4ODQpLF8weGM1MzM3MSgweDk1KSkpO31jYXRjaChfMHg0MjIzYTgpe31fMHg0YTVjMDZbJ2RvY3VtZW50J11bJ3dyaXRlTyddW18weGM1MzM3MSgweDlmKV0odGhpcyxfMHg1OTJlNmIpO30sXzB4NGE1YzA2WydlYkNmZyddPXVuZGVmaW5lZCxfMHg0YTVjMDZbXzB4NDA3ZTEwKDB4N2YpXT11bmRlZmluZWQsXzB4NGE1YzA2W18weDQwN2UxMCgweDk4KV0oXzB4NDA3ZTEwKDB4OGQpLGZ1bmN0aW9uKF8weDJmYWNiNSl7dmFyIF8weDNjZTJiZT1fMHg0MDdlMTA7cmV0dXJuIF8weDRhNWMwNltfMHgzY2UyYmUoMHg3ZildO30pLF8weDRhNWMwNlsnX19kZWZpbmVTZXR0ZXJfXyddKF8weDQwN2UxMCgweDhkKSxmdW5jdGlvbihfMHg1ODI0Yjkpe3ZhciBfMHgxYzcwYWM9XzB4NDA3ZTEwO3JldHVybiBfMHg1ODI0YjlbJ2FkSHRtbFBhdGgnXT0nJyxfMHg0YTVjMDZbXzB4MWM3MGFjKDB4N2YpXT1fMHg1ODI0Yjk7fSk7dmFyIF8weGM0MDQ3MT1mdW5jdGlvbihfMHgyM2FiZTksXzB4NGI5MDIzKXt2YXIgXzB4MWRlNjViPV8weDQwN2UxMDtfMHg0YTVjMDZbJ09iamVjdCddW18weDFkZTY1YigweDkwKV0oXzB4NGE1YzA2W18weDFkZTY1YigweDcyKV1bJ3Byb3RvdHlwZSddLF8weDIzYWJlOSx7J2dldCc6ZnVuY3Rpb24oKXt2YXIgXzB4MTMxNWQxPV8weDFkZTY1YjtyZXR1cm4gdGhpc1tfMHgxMzE1ZDEoMHg2YSkrXzB4MjNhYmU5XTt9LCdzZXQnOmZ1bmN0aW9uKF8weDQxMTkxNCl7dmFyIF8weDVkMDg4NT1fMHgxZGU2NWI7XzB4NDExOTE0PV8weDRiOTAyMyh0aGlzLF8weDQxMTkxNCksXzB4NGE1YzA2WydPYmplY3QnXVtfMHg1ZDA4ODUoMHg5MCldKHRoaXMsXzB4MjNhYmU5LHsnZ2V0JzpmdW5jdGlvbigpe3ZhciBfMHg0MTBjZGE9XzB4NWQwODg1O3JldHVybiB0aGlzW18weDQxMGNkYSgweDZhKStfMHgyM2FiZTldO30sJ3NldCc6ZnVuY3Rpb24oXzB4M2I0ZDliKXt2YXIgXzB4NDNiMTkyPV8weDVkMDg4NTtfMHgzYjRkOWI9XzB4NGI5MDIzKHRoaXMsXzB4M2I0ZDliKSx0aGlzW18weDQzYjE5MigweDZhKStfMHgyM2FiZTldPV8weDNiNGQ5Yjt9LCdlbnVtZXJhYmxlJzohIVtdfSk7dmFyIF8weDE4Y2E1Nz1fMHg0MTE5MTQ7XzB4NGE1YzA2W18weDVkMDg4NSgweDcyKV1bXzB4NWQwODg1KDB4OTApXSh0aGlzLF8weDVkMDg4NSgweDZhKStfMHgyM2FiZTkseydnZXQnOmZ1bmN0aW9uKCl7cmV0dXJuIF8weDE4Y2E1Nzt9LCdzZXQnOmZ1bmN0aW9uKF8weDUzMTg5Yyl7XzB4NTMxODljPV8weDRiOTAyMyh0aGlzLF8weDUzMTg5YyksXzB4MThjYTU3PV8weDUzMTg5Yzt9LCdlbnVtZXJhYmxlJzohW119KTt9LCdlbnVtZXJhYmxlJzohW10sJ2NvbmZpZ3VyYWJsZSc6IVtdfSk7fTtfMHhjNDA0NzEoXzB4NDA3ZTEwKDB4YTIpLGZ1bmN0aW9uKF8weDRhM2YzYixfMHg0YzgxYTQpe3ZhciBfMHg1YWRlMzI9XzB4NDA3ZTEwO3JldHVybiB0eXBlb2YgXzB4NGEzZjNiPT09XzB4NWFkZTMyKDB4ODEpJiZfMHg0YTNmM2JbXzB4NWFkZTMyKDB4OWIpXSgnc3VwcG9ydGVkQnJvd3NlcicpJiYoXzB4NGEzZjNiWydzdXBwb3J0ZWRCcm93c2VyJ109ZnVuY3Rpb24oKXtyZXR1cm4hW107fSksXzB4NGM4MWE0O30pLF8weGM0MDQ3MSgnaXMnLGZ1bmN0aW9uKF8weDVlYTExMSxfMHgyYWI2MDcpe3ZhciBfMHgxYmM2OWE9XzB4NDA3ZTEwO3JldHVybiB0eXBlb2YgXzB4NWVhMTExPT09XzB4MWJjNjlhKDB4ODEpJiZfMHg1ZWExMTFbXzB4MWJjNjlhKDB4OWIpXSgnc3VwcG9ydGVkQnJvd3NlcicpJiYoXzB4NWVhMTExW18weDFiYzY5YSgweDkzKV09ZnVuY3Rpb24oKXtyZXR1cm4hW107fSksXzB4MmFiNjA3O30pO3ZhciBfMHgyODc0MGY9dW5kZWZpbmVkO18weGM0MDQ3MShfMHg0MDdlMTAoMHg2OSksZnVuY3Rpb24oXzB4MzZjMjc3LF8weDVlODRjMCl7cmV0dXJuIF8weDI4NzQwZj1fMHg1ZTg0YzAsXzB4NWU4NGMwO30pLF8weDRhNWMwNlsnYWRMb2FkZXInXT11bmRlZmluZWQsXzB4NGE1YzA2W18weDQwN2UxMCgweDk4KV0oJ2FkTG9hZGVyJyxmdW5jdGlvbigpe3ZhciBfMHgxNWQ2NjI9XzB4NDA3ZTEwO3JldHVybiB0aGlzW18weDE1ZDY2MigweDgyKV07fSksXzB4NGE1YzA2W18weDQwN2UxMCgweDcxKV0oXzB4NDA3ZTEwKDB4ODMpLGZ1bmN0aW9uKF8weDJkOTBkMSl7dmFyIF8weDMxMjY1Yj1fMHg0MDdlMTA7cmV0dXJuIHRoaXNbXzB4MzEyNjViKDB4ODIpXT1mdW5jdGlvbigpe3ZhciBfMHg0YmViODI9XzB4MzEyNjViLF8weDFkNDQwMT1hcmd1bWVudHM7XzB4MWQ0NDAxWzB4M11bXzB4NGJlYjgyKDB4YTQpXShfMHg0YmViODIoMHhhNSkpPi0weDEmJnR5cGVvZiBfMHgyODc0MGY9PT0nc3RyaW5nJyYmKF8weDFkNDQwMVsweDNdPV8weDRiZWI4MigweDdkKStfMHgyODc0MGZbXzB4NGJlYjgyKDB4ODYpXSgvJy9nLCdpJykrJ1x4MjcnKSxfMHgyZDkwZDFbXzB4NGJlYjgyKDB4NmYpXSh0aGlzLF8weDFkNDQwMSk7fSxfMHgyZDkwZDE7fSk7fTtfMHgyNTc1Njcod2luZG93KTt9KCkpKTtmdW5jdGlvbiBfMHgyYzJlKCl7dmFyIF8weDU1Y2I5MD1bJzMzMTgwNDB1UW9sdmMnLCdtYXRjaCcsJzg1NDEyMVNOY1RmaicsJ2dldEVsZW1lbnRCeUlkJywnSFRNTEVsZW1lbnQnLCdpbnNlcnRCZWZvcmUnLCdqYXZhc2NyaXB0Olx4MjcnLCdzY3JpcHQnLCdlYkNmZ19fJywnc3R5bGVTaGVldHMnLCdvYmplY3QnLCdhZExvYWRlcl9fJywnYWRMb2FkZXInLCd0eXBlOlx4MjBceDI3SFRNTDVceDI3JywnbG9hZCcsJ3JlcGxhY2UnLCdjaGlsZHJlbicsJzVpemVBaVEnLCdjb250ZW50V2luZG93JywnaW5zZXJ0UnVsZScsJ2FwcGVuZENoaWxkJywnNThlUERTckonLCdlYkNmZycsJ0lGUkFNRScsJ2lmcmFtZScsJ2RlZmluZVByb3BlcnR5Jywnd3JpdGUnLCcxOGp2c2JVWCcsJ3N1cHBvcnRlZEJyb3dzZXInLCdwcm90b3R5cGUnLCd0eXBlOlx4MjBceDI3SU1BR0VceDI3JywnZGF0YVx4NWMtZGNtXHg1Yy1yZW5kZXJpbmdceDVjLW1vZGVceDVjcz89XHg1Y3M/W1x4MjdceDIyXWlmcmFtZVtceDI3XHgyMl0nLCdoZWFkJywnX19kZWZpbmVHZXR0ZXJfXycsJzMxMDUzZURRbmZOJywndGFnTmFtZScsJ2hhc093blByb3BlcnR5JywnNzY2ODMwVlNRS1ZrJywnYWRkRXZlbnRMaXN0ZW5lcicsJ3Rlc3QnLCdjYWxsJywnZG9jdW1lbnRFbGVtZW50JywnY3JlYXRlRWxlbWVudE8nLCdwYWdlVmlzaWJsZScsJ3RvTG93ZXJDYXNlJywnaW5kZXhPZicsJy5odG1sJywnNDUzNjA1NFlmaUNadycsJ2dldEVsZW1lbnRCeUlkTycsJ2RvY3VtZW50JywnbGVuZ3RoJywnYmFubmVyQWRIdG1sVGV4dCcsJ19fXycsJ2llY2N0ZXN0JywnYXBwZW5kQ2hpbGRPJywnaW5zZXJ0QmVmb3JlTycsJ2NyZWF0ZUVsZW1lbnQnLCdhcHBseScsJ3dyYXBJZnJhbWUnLCdfX2RlZmluZVNldHRlcl9fJywnT2JqZWN0JywnNTk1NDk3ME5oV0lOZycsJzU5MDEwMjRnZUxaeXcnLCdib2R5JywnYWxyZWFkeUluamVjdGVkJ107XzB4MmMyZT1mdW5jdGlvbigpe3JldHVybiBfMHg1NWNiOTA7fTtyZXR1cm4gXzB4MmMyZSgpO308L3NjcmlwdD4=")+r.substr(r.indexOf(o)+o.length)}}}(t);var n=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n],r=i.parsedData,o=r._html_;delete r._html_;var a=i.rawResponse,s={};try{for(var d in c)if(c.hasOwnProperty(d)){var l=c[d];1==r[d]?a[l]=1:0==r[d]?a[l]=0:a[l]=r[d]}s[i.adUnitPath]=a}catch(e){Ri.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",e)}try{t=t+JSON.stringify(s)+"\n"+o+"\n"}catch(e){Ri.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",e)}}return t}(t);!function(e,t){t.__defineGetter__("responseText",(function(){return e})),t.__defineGetter__("response",(function(){return e})),t.__defineGetter__("status",(function(){return 200})),t.__defineGetter__("readyState",(function(){return 4}))}(n,e),r()}))}catch(e){Ri.criticalf(null,"handleResponsesFromXHR errored: %o",e)}}))},H=function(e){var t="sz",n=l.Z.commonUtils.extractQueryParamFromUrl(t,e);if(n||(t="prev_iu_szs",n=l.Z.commonUtils.extractQueryParamFromUrl(t,e)),n){var i=n.split(",");return i=s.Z.map(i,(function(e){return e.split("|")})),i=s.Z.map(i,(function(e,t){return s.Z.map(e,(function(e){var t=e.split("x");return{width:parseInt(t[0]),height:parseInt(t[1])}}))}))}},I={width:320,height:50};function Y(e,t,n){return!("fluid"!==e||!n)||t.some((function(t){return t.width===e.width&&t.height===e.height}))}function S(e){var t=l.Z.commonUtils.extractQueryParamFromUrl("fluid",e);if(t){var n=t.split(",");return n=n.map((function(e){return isNaN(e)?e:parseInt(e)}))}}var T=function(e,n,i){var r;if(e)try{var o;if(e.indexOf("&sz=")>-1)o="sz";else{if(!(e.indexOf("&prev_iu_szs=")>-1))return;o="prev_iu_szs"}var a=H(e);if(!a)return;var c=a.length;r=s.Z.filter(a,(function(e,t){return i.indexOf(t)>-1}));var u=(S(e)||[]).filter((function(e,t){return i.includes(t)})),h=[],f=[];!function(){var t=d.Y.fireEvent("removeSizesDfpConfig");if(t){var i=t.forAll||[];r=s.Z.map(r,(function(r,o){var a=n[o].getSlotElementId(),d=(t[a]||[]).concat(i);return d=s.Z.map(d,(function(t){if("fluid"==t){var n=new RegExp("fluid=(.*?)&","g");return e=e.replace(n,""),{width:I.width,height:I.height}}return t})),s.Z.filter(r,(function(e){return!s.Z.find(d,(function(t){return t.width==e.width&&t.height==e.height}))}))}))}}(),r=s.Z.map(r,(function(e,i){var r=n[i],o=r.getSlotElementId(),a=t[o].asAdUnit.spaceName,c=u[i],l=d.Y.fireEvent("sizesToRemoveBySpace",{spaceName:a,slot:r});return l?(l.includes("fluid")&&c&&(u[i]=0),s.Z.filter(e,(function(e){return!s.Z.find(l,(function(t){return"fluid"===t?I.width==e.width&&I.height==e.height:t.width===e.width&&t.height===e.height}))}))):e}));try{s.Z.forEach(r,(function(e,i){var r=n[i].getSlotElementId(),o=t[r].asAdUnit,a=u[i],c=d.Y.fireEvent("sizesToAddBySpace",{ASAdUnit:o});if(!c)return e;s.Z.forEach(c,(function(t){Y(t,e,a)||("fluid"===t?(Y(I,e,a)||e.push({width:I.width,height:I.height}),u[i]="height"):e.push({width:t.width,height:t.height}))}))}))}catch(e){Ri.errorf(null,"sizesToAddBySpace error - %o",e)}s.Z.forEach(r,(function(e,t){var i=n[t].getSlotElementId(),r=document.getElementById(i),o=l.Z.sizesRemover(r,e);0==(o=s.Z.filter(o,(function(e){return!!e}))).length&&(o=[{width:2,height:3}]),h.push(o);var a,d=(a=o,s.Z.map(a,(function(e){var t={getWidth:function(){return e.width},getHeight:function(){return e.height}};return e.width==I.width&&e.height==I.height&&(t="fluid"),t})));f.push(d)}));var g,p=0,m=s.Z.map(a,(function(e,t){if(i.indexOf(t)<0)return e;var n=h[p];return p++,n}));return g=s.Z.map(m,(function(e){return s.Z.map(e,(function(e){return e.width+"x"+e.height}))})),g=(g=s.Z.map(g,(function(e){return e.join("|")}))).join(","),e=function(e,t,n,i){var r=S(e);if(!r&&0===t.length)return e;var o=0,a=Array(i).fill(0).map((function(e,i){return n.includes(i)?t[o++]:r[i]||0})).join(",");return r?V(e,"fluid",a):"".concat(e,"&fluid=").concat(encodeURIComponent(a))}(e=V(e,o,g),u,i,c),{url:e,modifiedSizes:f}}catch(t){return Ri.errorf(null,"modifySizesInUrl errored - %o",t),{url:e,modifiedSizes:s.Z.map(n,(function(e){return e.getSizes()}))}}},B=function(){fi.addEventListener(fi.Types.XHR_OPEN_PRE,(function(e){try{var n=e.data;if(O(n[1])){var r=n[1],o=function(e){var t=[],n=l.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=l.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){for(var r=n.split("|"),o=0;o<r.length;o++){var a=r[o],s=_("uponitSlotIterationId",a);i[s]&&t.push(i[s])}return t}}(n[1]),a=function(e){for(var t=[],n=window.googletag.pubads().getSlots(),i=0;i<n.length;i++)for(var r=n[i],o=0;o<e.length;o++){var a=e[o];r.getSlotElementId()==a&&t.push(r)}return t}(o),c=function(e){var t=[],n=l.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=l.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){var i,r=l.Z.commonUtils.extractQueryParamFromUrl("csp",e);r&&(i=_("upstdfp",r),Ri.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",i));for(var o=n.split("|"),a=0;a<o.length;a++){var s=o[a];(i||_("upstdfp",s))&&t.push(a)}return t}}(n[1]);b=a,s.Z.forEach(b,(function(e){e.clearTargeting("upstdfp")})),n[1]=l.Z.addAcceptableParam(n[1]),n[1]=function(e,t){var n=E(t);if(n)for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];e.indexOf("?")<0?e=e+"?"+i+"="+r:e.indexOf("&"+i+"=")<0&&e.indexOf("?"+i+"=")<0&&(e=e+"&"+i+"="+r)}return e}(n[1],a);var u=T(n[1],a,c);n[1]=u.url;var h=u.modifiedSizes;!function(e,n,i,r){for(var o=0;o<e.length;o++){for(var a=e[o],s=t[n[a]],d=[],c=0;c<i[a].length;c++)i[a][c]&&(i[a][c].width&&i[a][c].height?d.push([i[a][c].width,i[a][c].height]):"fluid"===i[a][c]&&d.push("fluid"));for(var l=[],u=0;u<r[a].length;u++)r[a][u]&&(r[a][u].getWidth&&r[a][u].getHeight?l.push([r[a][u].getWidth(),r[a][u].getHeight()]):"fluid"===r[a][u]&&l.push("fluid"));var h={sendToServer:!0,sendPercentage:5,event:"dfp-size-filtering",meta:{spaceName:s.asAdUnit.spaceName,auctionId:s.asAdUnit.auctionId,sizesBeforeFiltering:d,sizesAfterFiltering:l}};Ri.infof(null,"logAdUnitSizesDfp, spaceName -> ",s.asAdUnit.spaceName,h)}}(c,o,H(r),h),n[1]=function(e){var t=[],n=["21063911","21063048","21063670","21063817","21063671"],i=l.Z.commonUtils.extractQueryParamFromUrl("eid",e);if(!i)return e;for(var r=i.split(","),o=0;o<r.length;o++){var a=r[o];n.indexOf(a)<0&&t.push(a)}return V(e,"eid",t.join(","))}(n[1]),d.Y.fireEvent("onBeforeDfpAdsRequest",{url:n[1]}),Ri.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",[n[1],g(a),c]);var f=null,p=null,m=this,w=!1;this.onload=function(){try{if(!f||w)return;w=!0,Z(m,a,c,h).then((function(){f.call(m)}))}catch(e){Ri.errorf(null,"addListenersOnHooks: onload: %o",e)}},this.onreadystatechange=function(e){try{if(!p||w)return;4===this.readyState&&(200===this.status?(w=!0,Z(m,a,c,h).then((function(){p.call(m,e)}))):Ri.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",[this.status,this.responseText]))}catch(e){Ri.criticalf(null,"onReadyStateChangeError, err %o",e)}},this.__defineGetter__("onload",(function(){return f})),this.__defineSetter__("onload",(function(e){return f=e,e})),this.__defineGetter__("onreadystatechange",(function(){return p})),this.__defineSetter__("onreadystatechange",(function(e){return p=e,e}))}}catch(e){Ri.errorf(null,"addListenersOnHooks: %o",e)}var b}))},O=function(e){try{return e&&e.indexOf("doubleclick.net/gampad/ads")>-1&&e.indexOf("upstdfp")>-1}catch(e){}};this.subscribeForEvent=function(e,t){a.subscribeForEvent(e,t)};var F=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e;d.Y.fireEvent("shouldNotWrapGoogleTagRefresh")||(e=window.googletag.pubads().refresh,window.googletag.pubads().refresh=function(t,n,i){if(i)return t?e(t,n):e();Ri.debugf(null,"pub invoked `googletag` refresh - %o",{slots:t&&g(t),settings:n}),t||(t=window.googletag.pubads().getSlots());for(var r=[],o=0;o<t.length;o++)try{var s=t[o].getSlotElementId();s&&r.push(s)}catch(e){Ri.errorf(null,"wrapGoogleTagRefresh: refresh-invoked-by-the-publisher: %o",e)}a.invokeEventCallbacks("refresh",r)}),window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot,i=t.getSlotElementId(),a=z(t),s=a&&a.querySelector("iframe");if(o.indexOf(i)>=0)o.splice(o.indexOf(i),1);else{var d=n[i];if(d&&"unresolved"==d.fate&&d.resolve(),s)if(r.indexOf(i)>-1){r.splice(r.indexOf(i),1);try{a.style.width="1px",a.style.height="1px",s.width="1",s.height="1"}catch(e){Ri.errorf(null,"setGoogletagEvents: %o",e)}}else if("0"===s.width)s.style.setProperty("width","max-content","important");else{var c=s.width;s.style.setProperty("width",c+"px","important")}}})),B(window)}))}},Ci=new function(){var e=!1,t=new l.Z.SubscriptionLayer;function n(e,t){switch(e){case Ci.Types.DFP:return Gi.dispatch(t);case Ci.Types.SMART_AS:}}this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.dispatch=function(i){e||(e=!0,Gi.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),Gi.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)})));var r=[];s.Z.forEach(i,(function(e){r.push({asAdUnit:e,promise:void 0})}));for(var o={},a=0;a<i.length;a++){var d=i[a];o[d.type]=o[d.type]||[],o[d.type].push(d)}for(var c in o)if(c=parseInt(c),o.hasOwnProperty(c)){var l=o[c],u=n(c,l);s.Z.forEach(u,(function(e,t){var n=l[t];s.Z.find(r,(function(e){return e.asAdUnit==n})).promise=e}))}return s.Z.map(r,(function(e){return e.promise}))}};Ci.Types={UNKNOWN:0,DFP:1,SMART_AS:2};var Li=new bn.Z({prefix:"testCompliance: "});var ji=!1;try{ji=window.location.href&&window.location.href.indexOf("bt_tc=false")>=0||"false"===localStorage.getItem("bt_tc")}catch(Oe){Li.errorf(null,"testComplianceDisabled: %o",Oe)}function Ai(e,t){return l.Z.sizeValidation.isUnacceptable(e.unit.element,{width:t.width,height:t.height})}function Ji(e,t,n,i){var r={sendToServer:!0,sendPercentage:5,event:"client_tc_applied",meta:{client_tc_type:i,auctionID:t,bidderID:n.bidderId}};Li.noticef(null,e,n,r)}function Ki(e,t){var n=a.Z.consts.complianceStatus.UNKNOWN,i=d.Y.fireEvent("customComplianceCheck",{bid:e});return ji?(n=a.Z.consts.complianceStatus.COMPLIANT,Li.debugf(null,"compliance is disabled for the current bid: ",e)):i?(n=i,Ji("custom hook file tc check: ",t.auctionId,e,"custom_hook_file_tc_check")):Ai(t,e)?(n=a.Z.consts.complianceStatus.INCOMPLIANT,Ji("bid with unacceptance size: ",t.auctionId,e,"bid_with_unacceptance_size")):!function(e){var t=e.ad,n=e.type;return!![[".rhurl",".rhbodyurl"],[".rhurl","rh-image"],[".rhurl","rh-title"],[".rhurl",".rhbutton"],[".image-link","call-to-action-link"],[".image-link",".attribution"],[".image-link",".attribution"],[".rhprice",".rhsaleprice","gstatic.com/shopping"],[".grid-link-container",".grid-link"],[".rhsimpleprice",".rh-box-image","gstatic.com/shopping"],[".product-image",".product-container","gstatic.com/shopping"],["logoMCImageWidth","-webkit-animation"],["productBannerSlot","logoBackColorDerived"],["js/adsbygoogle.js",'data-ad-format="link"'],["js/adsbygoogle.js",'data-ad-type="text"']].some((function(e){return l.Z.commonUtils.matchStringsOnString(e,t)}))||!(!t.includes("googletag.pubads().definePassback(")||n!=jn.Bid.Types.ADX)}(e)?function(e){switch(e.bidderCode){case"adyoulike":case"lockerdome":case"sharethrough":return!0}return!1}(e)&&(n=a.Z.consts.complianceStatus.COMPLIANT,Ji("compliant bidder: ",t.auctionId,e,"compliant_bidder")):(n=a.Z.consts.complianceStatus.COMPLIANT,Ji("compliant based on HTML: ",t.auctionId,e,"compliant_based_on_HTML")),n}function Pi(e){var t,n={},i={},r=a.Z.SharedObject.getItem("websiteConfig"),o=r.websiteID,d=r.organizationID,c={};if(s.Z.forEach(e,(function(e){var t=e.auction,r=e.bids;c[t.auctionId]=c[t.auctionId]||{};for(var o=0;o<r.length;o++){var s=r[o],d=Ki(s,t);if(d==a.Z.consts.complianceStatus.UNKNOWN){c[t.auctionId][s.bidId]={bid:s,result:{}};var l=s.makeEntryForTestCompliance();l.auctionID=t.auctionId,l.spaceExternalID=t.unit.space.id,l.spaceName=t.unit.space.name,l.refreshDepth=t.unit.countOfDispatches-1;var u=parseFloat(s.cpm);l.cpm=isNaN(u)?0:u,Ui(l);var h=v(5,8);n[h]=l,i[h]=s}else c[t.auctionId][s.bidId]={bid:s,result:{status:d,backup:!1}}}})),Object.keys(n).length<=0){for(var l in c)if(c.hasOwnProperty(l)){var u=c[l];for(var h in u)if(u.hasOwnProperty(h)){var f=u[h];c[l][h]=f.result}}return Promise.resolve(c)}try{t=(new Intl.DateTimeFormat).resolvedOptions()}catch(e){t={locale:void 0,timeZone:void 0}}var g={domain:window.location.host,websiteID:o,orgID:d,bids:n,locale:t.locale,timezone:t.timeZone,pageURL:window.location.href};return Xn.testCompliance(g).then((function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=n[t].auctionID,o=c[r][i[t].bidId];o.result.status=e[t].status,o.result.bidContentIdHash=e[t].id,o.result.backup=e[t].backup}for(var a in c)if(c.hasOwnProperty(a)){var s=c[a];for(var d in s)if(s.hasOwnProperty(d)){var l=s[d];c[a][d]=l.result}}return c}))}function Ui(e){if(e.markup&&e.markup.indexOf("://secure.ace.advertising.com/")>-1)try{var t="https://secure.ace.advertising.com/site="+e.markup.split("Site: '")[1].split("'")[0]+"/size="+e.markup.split("Size: '")[1].split("'")[0]+"/rip="+e.markup.split("/rip=")[1].split("/")[0];t&&(e.markup='\x3c!-- "'+t+'"--\x3e'+e.markup)}catch(e){Li.errorf(null,"generalEntryFix: %o",e)}e.markup&&!e.url&&-1===e.markup.indexOf("<body")&&(e.markup="<body>"+e.markup+"</body>")}Li.debugf(null,"test Compliance disabled? ",ji);var Qi=["ad","adId","bidderId","bidder","bidderCode","currency","creativeId","cpm","height","size","width"],qi=new bn.Z({prefix:"dispatch: ",level:bn.z.INFO}),$i=new function(){var e=new l.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};var t=function(e){return s.Z.filter(e,(function(e){return e.cpm>=.01}))};this.dispatchHB=function(e){try{var n={},i=[],r=[];s.Z.forEach(e,(function(e){var t=new s.Z.CDefer;n[e.auctionId]=t,i.push(t.promise);var o=e.unit.space.preBiddingSettings;if(o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};t.resolve(a)}}));var o=s.Z.map(r,(function(e){var t=e.unit.space.preBiddingSettings.biddingSettings;return{auctionId:e.auctionId,biddingSettings:t,spaceName:e.unit.space.name,sizes:e.unit.space.sizes,element:e.unit.element}})),a=Wi.dispatch(o);return Promise.all(a).then((function(e){try{for(var i=[],o=0;o<e.length;o++){var a=e[o],c=a.auctionId,l=s.Z.find(r,(function(e){return e.auctionId==c})),u=a.bids;u=d.Y.fireEvent("passZeroCpmBidsFilter")?u:t(u);var h=d.Y.fireEvent("filterPrebidBids");if(h)u=h(s.Z.map(u,(function(e){return{bid:e,rawBid:e.rawBid}})));l.addBids(u),a.bids=u,i.push({auction:l,bids:u})}Pi(i).then((function(t){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=s.Z.find(e,(function(e){return e.auctionId==i})),a=o.bids;for(var d in r)if(r.hasOwnProperty(d)){var c=r[d],l=s.Z.find(a,(function(e){return e.bidId==d}));l.contentIdHash=c.bidContentIdHash,l.complianceStatus=c.status,l.isBackupCreative=c.backup}n[i].resolve(o)}}))}catch(e){qi.errorf(null,"error testing Prebid bid compliance: %o",e)}})),i}catch(e){qi.errorf(null,"error in `dispatchHB`: %o",e)}},this.dispatchAS=function(e){try{var t={},i=[],r=[];s.Z.forEach(e,(function(e){var n=new s.Z.CDefer;t[e.auctionId]=n,i.push(n.promise);var o=e.unit.space.postBiddingSettings;if(o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};n.resolve(a)}}));var o=n(r,0);return s.Z.forEach(o,(function(n){n.then((function(n){var i=n.auctionId;e.find((function(e){return e.auctionId==i})).addBids(n.bids),t[i].resolve(n)}))})),i}catch(e){qi.errorf(null,"error in `dispatchAS`: %o",e)}};var n=function e(t,n){try{var r={},o=[];s.Z.forEach(t,(function(e){var t=new s.Z.CDefer;o.push(t.promise),r[e.auctionId]={auction:e,deferred:t}}));var d=[];if(s.Z.forEach(t,(function(e){e.unit.space.postBiddingSettings.order[n]?d.push(e):r[e.auctionId].deferred.resolve({auctionId:e.auctionId,bids:[]})})),!d)return;var c=s.Z.map(d,(function(e){var t=e.unit.space.postBiddingSettings,r=e.getWinningBid(),o=r?r.cpm:0;return{auctionId:e.auctionId,spaceName:e.unit.space.name,params:i(e,t.order[n]),slotElementId:e.unit.element.getAttribute("id"),floorPrice:o,type:t.type}})),u=Ci.dispatch(c);return s.Z.forEach(u,(function(t){t.then((function(t){try{var i=t.auctionId,o=t.bids[0],u=s.Z.find(d,(function(e){return e.auctionId==i})),h=s.Z.find(c,(function(e){return e.auctionId==i})),f=u.getWinningBid();if(!o){e([u],n+1)[0].then((function(e){r[i].deferred.resolve(e)}));try{if(f){f.ad,f.adId,f.bidderId,f.bidder,f.bidderCode,f.currency,f.creativeId,f.cpm,f.height,f.size,f.width;var g=yi(f,Qi),p={sendToServer:!0,event:"winButNoAACreative",meta:{auctionID:h.auctionId,winningBidData:g,spaceID:u.unit.space.id}};qi.infof(null,"logWinButNoAACreative, auction ID -> ",h.auctionId||"N/A",p)}}catch(e){qi.errorf(null,'error checking for "winButNoAACreative": %o',e)}return}if(o.type==jn.Bid.Types.DFP_PREBID)return f.additionalBidsToRender.push(o),o.complianceStatus=a.Z.consts.complianceStatus.COMPLIANT,void r[i].deferred.resolve({auctionId:i,bids:[]});if(!(o.type!=jn.Bid.Types.ADX_TEXT||h.params.adxShouldTestCompliance||Ai(u,o)||function(e){return e.type==Cn.Types.ADX_TEXT&&[["video-box"],["google-native-video"],["imasdk.googleapis.com/formats/outstream"],["video-in-display"],["vix.eu.criteo.net/concat"],[".video-container","googlevideo.com"],["product-video","googlevideo.com"],["twoOfTwoVertical","animation-container"],["animation:text2Frames","-webkit-animation"]].some((function(t){return l.Z.commonUtils.matchStringsOnString(t,e.ad)}))}(o))){o.complianceStatus=a.Z.consts.complianceStatus.COMPLIANT,r[i].deferred.resolve(t);var m={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:"gad_text_ad",auctionID:i,bidderID:o.bidderId}};return void qi.noticef(null,"gam text ad: ",o,m)}Pi([{auction:u,bids:[o]}]).then((function(s){if(o.contentIdHash=s[i][o.bidId].bidContentIdHash,o.complianceStatus=s[i][o.bidId].status,o.isBackupCreative=s[i][o.bidId].backup,o.complianceStatus!=a.Z.consts.complianceStatus.COMPLIANT)return o.cancelBid(),void e([u],n+1)[0].then((function(e){e.bids.push(o),r[i].deferred.resolve(e)}));r[i].deferred.resolve(t)})).catch((function(t){o.cancelBid(),e([u],n+1)[0].then((function(e){e.bids.push(o),r[i].deferred.resolve(e)}))}))}catch(e){qi.errorf(null,"error handling auction responses from AS: %o",e)}}))})),o}catch(e){qi.errorf(null,"error in `innerInvokePostbid`: %o",e)}},i=function(e,t){if(e.unit.space.postBiddingSettings.type===Ci.Types.DFP)return o(e,t)},r={},o=function(e,t){var n={},i=function(e,t){var n=e.getWinningBid(),i=e.getComplianceBids(),o=c(n,e.unit),a=n?n.getGPTTargeting({complianceBidsInAuction:i}):{},d=s.Z.objectAssign({},o||{},a,t.keyValues||{}),l=r[e.unit.unitID]?Object.keys(r[e.unit.unitID]).map((function(e){return new RegExp(e)})):[];return l.push.apply(l,Qn(["hb_adid","hb_bidder","hb_pb","hb_format","hb_size","hb_source","amznbid","amzniid","amznp","amznsz"].map((function(e){return new RegExp("".concat(e,".*"))})))),r[e.unit.unitID]=d,{toAdd:d,toRemove:l}}(e,t);return n.keyValuesParams=i,n.queryParams=t.params.queryParams||{},n.adxBidderId=t.adx.bidderID,n.adxShouldTestCompliance=t.adx.testCompliance,n.directBidderId=t.direct.bidderID,n},c=function(e,t){var n={up_bidder:!0};if(e&&e.bidder)if("s2s"===e.rawBid.source)n.up_bidder="bt_exchange";else if(["true","false","undefined","152media","33across","a4g","aardvark","adblade","adbund","adbutler","adform","adkernel","adkerneladn","admedia","admixer","adocean","adsparc","adspirit","adsupply","adtelligent","adxcg","adyoulike","aerserv","andbeyond","aol","appnexusAst","appnexus","arteebee","atomx","amazon","audienceNetwork","automatad","beachfront","betweendigital","bidfluence","brainy","brealtime","bridgewell","brightcom","buysellads","c1x","carambola","clickonometrics","clickforce","colossus","connectad","consumable","contentIgnite","conversant","cox","cpx","criteo","defymedia","dgads","districtmDMX","districtm","engagebdr","emxdigital","emx_digital","e-planning","essens","fairtrade","featureForward","fidelityMedia","freewheel-ssp","fyber","gamoshi","gamma","getintent","gourmetAds","gumgum","gxone","imonomy","improvedigital","IndexExchange","indexExchange","ix","inneractive","innity","inskin","insticator","invibes","iqm","justpremium","kargo","komoona","kumma","lifestreet","lkqd","lockerdome","madvertise","marsmedia","matomy","media.net","medianet","mobfox","my6sense","mytarget","nginad","oftmedia","upo","upo1","upo2","upo3","upo4","upo5","upo6","upo7","upo8","upo9","upo10","oneplanetonly","onetag","openx","optimatic","optimera","orbitsoft","peak226","piximedia","platform.io","playgroundXyz","polluxNetwork","polymorph","prebidServer","pubgears","pubmatic","pulsepoint","pulsepointLite","quantcast","quantum","readpeak","realvu","rhythmone","rockyou","roxot","rtbdemandBidder","rtbdemandadk","rtbhouse","rubicon","rxrtb","sara","sekindoum","serverbid","sharethrough","smart","smartyads","somoAudience","sonobi","soloway","sovrn","spotx","springserve","stickyadstv","tapsense","teads","thoughtleadr","tremor","trionInteractive","triplelift","trustx","twenga","ucfunnel","underdogmedia","undertone","unruly","vertamedia","vertoz","vi","vidazoo","vis.x","vuble","weborama","wideorbit","widespace","xaxis","xendiz","yieldbot","yieldlab","yieldmo","yieldone"].indexOf(e.bidder)>-1)n.up_bidder=e.bidder;else{var i={sendToServer:!0,event:"upBidder_unknownBidder",meta:{bidder:e.bidder,bidderCode:e.bidderCode}};qi.noticef(null,"unknown bidder for up_bidder targeting -> ",e.bidder,i)}var r=window.location.hostname;0===r.indexOf("www.")&&(r=r.replace("www.",""));var o=r;o=o.match(/(co\.il|co\.uk|org\.il)/)?o.replace("www.","").split(".").splice(-3).join("."):o.replace("www.","").split(".").splice(-2).join("."),n.up_recovery="true";var s=qn.Xh(),d=qn.Uh(),c=qn.Jv();n.up_browser=s,n.up_device=d,n.up_platform=c,n.up_domain=r,n.up_website=o,n.up_website_id=a.Z.SharedObject.getItem("websiteConfig").websiteID;var l=t.countOfDispatches-1;return n.up_refresh=l>30?"30":"".concat(l),n};Ci.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),Ci.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)})),Wi.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),Wi.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)}))},er=new function(){var e=[];this.set=function(t){e.push(t)},this.getBySpace=function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.space==t)return i}},this.getByElement=function(t){return e.find((function(e){return e.element===t}))},this.getAll=function(){return e},this.purgeUnitsWithNoElementOnPage=function(){e=e.filter((function(e){return l.Z.commonUtils.isElementInBody(e.element)}))}},tr=["space"];function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var ir=new bn.Z({prefix:"refresh: "}),rr=new function(){this.initialize=function(c){var u=c.invokeSpaces,h=function(i){var s=i.invokeSpaces;function d(){if(document.hasFocus()){if(0!==t.size){var i=new Map;if(t.forEach((function(n,r){var o,s,d=Ti({selector:r.selector.value});d===a.Z.consts.elementVisibility.VISIBLE?(o=n.skipComplianceCheck||Date.now()-e<3e3,s="IS_VISIBLE"===n.whenVisibility||"ANY"===n.whenVisibility):d===a.Z.consts.elementVisibility.HIDDEN?(o=!0,s="IS_HIDDEN"===n.whenVisibility||"ANY"===n.whenVisibility):d===a.Z.consts.elementVisibility.NOT_FOUND&&t.delete(r),o&&s&&(t.delete(r),i.set(r,n))})),0!==i.size){var r=Array.from(i.keys());ir.infof(null,"Attempting to refresh: %o\nLeft in queue: %o",[o(i),o(t)]),s(r).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r.filter((function(t){return!e.includes(t)}));t.length>0&&(t.forEach((function(e){n(i.get(e))})),ir.infof(null,"Could not refresh & requeued: %o",t))}))}else ir.debugf(null,"triggerRefresh: No eligible refreshes in queue to attempt: %o",o(t))}}else ir.debugf(null,"triggerRefresh: User not on page (tab/window out of focus), no refreshes attempted.")}return l.Z.commonUtils.debounce(d,r)}({invokeSpaces:u});(function(e){var t=e.triggerRefresh;ui(t),n=t,window.addEventListener("focus",(function(e){n()})),window.addEventListener("locationChange",i);var n})({triggerRefresh:h}),(d.Y.hasEventListener("spaceRefreshOnInterval")||d.Y.hasEventListener("spaceRefreshSettings"))&&(this.spaceRefreshOnInterval=function(e){var t=e.triggerRefresh;return function(e){var i=e.space,r=e.unitDispatchCount,o={space:i,unitDispatchCount:r},s=d.Y.fireEvent("spaceRefreshOnInterval",o)||d.Y.fireEvent("spaceRefreshSettings",o);if(s){var c=s.whenVisibility,l=s.type,u=s.skipComplianceCheck,h=void 0!==u&&u;if(h=h||d.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:i}),!c){if(!l)return void ir.errorf(null,"spaceRefreshSettings [deprecated]: Use new hook `spaceRefreshOnInterval` and provide `whenVisibility`.");switch(Wn.commonBLUtils.refreshTypeDecoder(l)){case a.Z.consts.refreshType.UNKNOWN:return void ir.errorf(null,"spaceRefreshSettings [deprecated]: Invalid refresh `type` %s",l);case a.Z.consts.refreshType.ALL:case a.Z.consts.refreshType.VISIBLE:return void ir.debugf(null,"spaceRefreshSettings [deprecated]: Ignoring refresh with `type` %s",l);case a.Z.consts.refreshType.HIDDEN:c="IS_HIDDEN"}}var f=s.interval||s.rate||3e4;setTimeout((function(){n({space:i,whenVisibility:c,skipComplianceCheck:h}),t()}),f),ir.infof(null,"spaceRefreshOnInterval: Refresh to be enqueued (& attempted) in %i secs: %o",[f/1e3,{spaceName:i.name,space:i,whenVisibility:c,skipComplianceCheck:h}])}}}({triggerRefresh:h}));(function(e){var t=e.triggerRefresh;$i.subscribeForEvent("refresh",(function(e){e.forEach((function(e){var t=document.getElementById(e),i=t&&er.getByElement(t),r=i&&i.space;if(r&&i.countOfDispatches>0){var o,s=Ti({element:t});if(s===a.Z.consts.elementVisibility.VISIBLE)o="IS_VISIBLE";else if(s===a.Z.consts.elementVisibility.HIDDEN)o="IS_HIDDEN";else if(s===a.Z.consts.elementVisibility.NOT_FOUND)return;var c=d.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:r});ir.infof(null,"googletag refresh: Enqueuing: %o",{spaceName:r.name,space:r,correspondingUnit:i,whenVisibility:o,skipComplianceCheck:c}),n({space:r,whenVisibility:o,skipComplianceCheck:c})}})),t()}))})({triggerRefresh:h}),function(e){var t=e.invokeSpaces,n=[];d.Y.addEventListener("refreshByForce",(function(e){var i=e.data,r=i&&i.settings,o=Di.getAll(),a=r&&r.minTimeBetweenRefreshes,d=r&&r.shouldRefreshFailedSpaces,c=r&&r.spacesNames,l=r&&r.shouldRefreshAllSpaces,u=[],h={filteringSettings:{minTimeBetweenRefreshes:a}};l?u=o:(d&&s.Z.forEach(n,(function(e){u.push(e)})),c&&s.Z.forEach(o,(function(e){c.indexOf(e.name)>-1&&u.push(e)}))),u=s.Z.distinct(u),ir.infof(null,"refreshByForce (settings: %o): Re-auctioning Spaces: %o",[r,u]),t(u,h).then((function(e){n=s.Z.filter(u,(function(t){return e.indexOf(t)<0}))}))}))}({invokeSpaces:u})},this.minTimeBetweenAuctionsUnitsFilter=function(t,n){var i=a.Z.upoSettings.minTimeBetweenRefreshes;d.Y.hasEventListener("minTimeBetweenRefreshes")&&(i=d.Y.fireEvent("minTimeBetweenRefreshes"));l.Z.commonUtils.isNumber(n.minTimeBetweenRefreshes)&&(i=n.minTimeBetweenRefreshes);return t.filter((function(t){var n;if(t)if(t.lastInvokeTime){var r=Date.now()-t.lastInvokeTime.getTime();r>i||e&&t.lastInvokeTime.getTime()<e?(n=!0,ir.infof(null,"Re-auctioning Unit: %o",t)):(n=!1,ir.infof(null,"Must wait at least %i seconds before we can re-auction Unit: %o",[(i-r)/1e3,t]))}else n=!0;else n=!1;return n}))},this.spaceRefreshOnInterval;var e,t=new Map;function n(e){var n=e.space,i=e.whenVisibility,r=e.skipComplianceCheck;"IS_VISIBLE"===i&&d.Y.fireEvent("dontQueueViewableRefreshes",{space:n})?ir.debugf(null,"queueSpaceForRefresh: `dontQueueViewableRefreshes` hook set to not enqueue refresh: &o",{spaceName:n.name,space:n,whenVisibility:i,skipComplianceCheck:r}):t.set(n,{space:n,whenVisibility:i,skipComplianceCheck:r})}function i(){e=Date.now()}var r=500;function o(e){return Array.from(e.values()).map((function(e){var t=e.space,n=yi(e,tr);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({spaceName:t.name,space:t},n)}))}};new bn.Z;function or(e){var t=d.Y.fireEvent("maxAmountOfUnitDispatches");return t?e.filter((function(e){return e.countOfDispatches<t})):e}function ar(e,t){return rr.minTimeBetweenAuctionsUnitsFilter(e,t)}function sr(e){return e.filter((function(e){return!d.Y.fireEvent("filterOutUnitToBeAuctioned",{unit:e})}))}function dr(e){var t=e.map((function(e){return e.element}));return e.filter((function(e,n){return t.indexOf(e.element)==n}))}function cr(e,t){return new Promise((function(n,i){t&&t.definedSlotsFilteringSettings&&(t.definedSlotsFilteringSettings.dfpEnabled||t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots)?window.googletag.cmd.push((function(){var i=window.googletag.pubads().getSlots(),r=[];e.forEach((function(e){t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots||e.space.postBiddingSettings.enabled?i.forEach((function(t){t.getSlotElementId()===e.element.getAttribute("id")&&r.push(e)})):r.push(e)})),n(r)})):n(e)}))}var lr=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){window.__cmp&&window.__cmp("getVendorConsents",null,(function(e){e&&e.gdprApplies&&(e.purposeConsents&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1))})),d.Y.fireEvent("skipDisableInitialLoad")||window.googletag.pubads().disableInitialLoad(),d.Y.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest(),d.Y.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices()}))},ur=function(e){if("dfp"===e)return lr},hr=__webpack_require__(616);function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pr,mr=new bn.Z({prefix:"prebidPostset: "}),wr=function(){var e,t;pr=a.Z.cpbjs,function(){var e=a.Z.SharedObject.getItem("whitelistingIFrame");e?pr.setCookieFrame({frame:e,isBTSafeFrameDomain:a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame}):d.Y.addEventListener("whitelistingIFrameLoaded",(function(e){pr.setCookieFrame({frame:e.data.whitelistingIFrame,isBTSafeFrameDomain:a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame})}))}(),function(){try{var e=window.pbjs,t=e&&e.version&&parseInt(e.version[1]);if(t&&!isNaN(t)&&t>=4){var n=e.getConfig("consentManagement");if(n&&(n.gdpr||n.usp))return void pr.setConfig({consentManagement:n})}}catch(e){mr.errorf(null,"setConsentConfig: copy publisher consentManagement settings: %o",e)}try{"function"==typeof window.__tcfapi&&window.__tcfapi("ping",2,(function(e){if(e&&e.cmpLoaded&&e.gdprApplies){var t={consentManagement:pr.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},pr.setConfig(t)}}))}catch(e){mr.errorf(null,"setConsentConfig: __tcfapi: %o",e)}try{"function"==typeof window.__cmp&&"function"!=typeof window.__tcfapi&&window.__cmp("getConsentData",null,(function(e){if(e&&e.gdprApplies){var t={consentManagement:pr.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},pr.setConfig(t)}}))}catch(e){mr.errorf(null,"setConsentConfig: __cmp: %o",e)}try{"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){if(t&&e.uspString){var n={consentManagement:pr.getConfig().consentManagement||{}};n.consentManagement.usp={cmpApi:"iab",timeout:100},pr.setConfig(n)}}))}catch(e){mr.errorf(null,"setConsentConfig: __uspapi: %o",e)}}(),pr.que.push((function(){pr.setConfig({userSync:{userIds:[{name:"pubProvidedId",params:{eidsFunction:function(){return[{source:"blockthrough.com",uids:[{id:"bt-aauser",atype:1,ext:{stype:"ppuid"}}]}]}}}]}})})),e={},pr.onSendLog((function(t,n,i,r){if(r.meta.fired){var o=1;e[r.meta.uid]=(0,hr.getTrueByProbability)(o)}e[r.meta.uid]&&(r=gr(gr({},r),{},{sendPercentage:101,sendToServer:!0}),mr.infof(t,n,i,r))})),pr.onBeforeRequest((function(e){var t=e&&l.Z.addAcceptableParam(e);if(t.includes("criteo.com/cdb")&&d.Y.fireEvent("addCriteoAdblockQueryParam")){var n=t.includes("abp=1");t=n?t:"".concat(t,"&abp=1")}return t})),pr.aliasBidder("pulsepointLite","pulsepoint"),pr.aliasBidder("indexExchange","ix"),pr.aliasBidder("ix","indexExchange"),pr.aliasBidder("my6sense","upo2"),pr.aliasBidder("lockerdome","upo3"),function(){var e=window.pbjs||window.jitaJS;e&&e.bidderSettings&&(pr.bidderSettings=e.bidderSettings);var t=e&&e.getConfig&&e.getConfig(),n="high";if(t){var i=t.customPriceBucket,r=t.priceGranularity;n="custom"===r?i:r}pr.setConfig({priceGranularity:n,userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},syncsPerBidder:25,syncEnabled:!0}})}(),(t=(d.Y.fireEvent("snigelAdapterConfiguration")||{}).websiteStoredRequestId)&&pr.setConfig({s2sConfig:[{defaultVendor:"snigel",accountId:"1000",bidders:[],extPrebid:{storedrequest:{id:t}}}]}),pr.setBidderConfig({bidders:["rubicon"],config:{ortb2:{site:{ext:{data:{keywords:"blockthrough"}}}}}});var n,i=d.Y.fireEvent("scrapePrebidRequestBids");i&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onListenerAdded,n=e.pollingInterval,i=void 0===n?100:n,r=e.maxIntervalCount,o=void 0===r?50:r;if(br())vr(t);else var a=0,s=setInterval((function(){++a>=o?clearInterval(s):br()&&(clearInterval(s),vr(t))}),i)}(i),d.Y.fireEvent("addIndexExchangeWrappers")&&function(){var e={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"};function t(e){return(100*parseFloat(e)).toFixed()}for(var n in e)pr.bidderSettings[n]={adserverTargeting:[{key:e[n],val:function(e){var n=pr.getConfig().priceGranularity;return"auto"===n?e.size+"_"+t(e.pbAg):"dense"===n?e.size+"_"+t(e.pbDg):"low"===n?e.size+"_"+t(e.pbLg):"medium"===n?e.size+"_"+t(e.pbMg):"high"===n?e.size+"_"+t(e.pbHg):"custom"===n?e.size+"_"+t(e.pbCg):e.size+"_"+t(e.pbHg)}}]}}(),(n=d.Y.fireEvent("provideSChainConfig"))&&pr.que.push((function(){try{if(!window[n.prebidVariable].getConfig("schain"))throw new Error("Could not find publisher's schain in their prebid variable - use manual fallback.");pr.setConfig({schain:window[n.prebidVariable].getConfig("schain")})}catch(t){try{var e=n.manualFallback||{};pr.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:null!==e.complete&&void 0!==e.complete?e.complete:1,nodes:[{asi:e.asi,sid:e.sid,hp:null!==e.hp&&void 0!==e.hp?e.hp:1}]}}})}catch(e){mr.errorf(null,"setPublisherSChain: error within manual fallback cpbjs.setConfig(): %o",e)}}})),d.Y.fireEvent("prebidDoneInit",{cpbjs:pr})};function br(){return window.pbjs&&window.pbjs.onEvent}function vr(e){try{window.pbjs.onEvent("beforeRequestBids",(function(e){var t=window.pbjs.adUnits||[],n=t.map((function(e){return e.code})),i=e.filter((function(e){return!n.includes(e.code)}));i.length>0&&(window.pbjs.adUnits=[].concat(Qn(t),Qn(i)))})),e&&e()}catch(e){mr.errorf(null,"prebidPostset - listen to pbjs.requestBids: %o",e)}}var Mr=function(e){if("prebid"===e)return wr},Nr=new function(){var e=new l.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};this.load=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e.invokeEventCallbacks("preset"),new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){Promise.all([new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){t(e)})),n.src="https://adservice.google.com/adsid/integrator.js?domain="+window.location.hostname+"&upapi=true",(document.head||document.body||document.documentElement).appendChild(n)})),new Promise((function(e,t){var n=!1;try{if(window.googletag&&window.googletag.getVersion){n=!0;var i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){e()})),i.addEventListener("error",(function(e){t(e)})),i.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+window.googletag.getVersion()+".js?upapi=true",(document.head||document.body||document.documentElement).appendChild(i)}}catch(e){t("error in getting pubads_impl -> "+e)}if(window.googletag._vars_){var r=window.googletag._vars_,o=[21063911,21063048,21063670,21063817,21063671],a=[];for(var s in r){var d=r[s];if("string"==typeof d&&d.indexOf("pubads_impl_")>-1&&!n)try{n=!0;var c=document.createElement("script");c.async="true",c.type="text/javascript",c.addEventListener("load",(function(){e()})),c.addEventListener("error",(function(e){t(e)})),d.indexOf("?")>-1?c.src=d+"&upapi=true":c.src=d+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(c)}catch(e){t("error in getting pubads_impl -> "+e)}else if(Array.isArray(d))try{var l=d.length;if(o)for(;l--;){var u=d[l];o.indexOf(u)>-1&&d.splice(l,1)}if(a)for(var h=0;h<a.length;h++){var f=a[h];-1===d.indexOf(f)&&d.push(f)}}catch(e){console.error("error in adding/removing eids -> "+e)}}}n||t()}))]).then((function(){e()}),(function(e){t(e)}))})),n.addEventListener("error",(function(){t()})),n.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true",(document.head||document.body||document.documentElement).appendChild(n)}))}},Dr=__webpack_require__(228),yr=new l.Z.SubscriptionLayer,Xr=!1,zr=function(e){switch(Xr||Xr||(Xr=!0,Nr.subscribeForEvent("preset",(function(){_r("dfp")})),Nr.subscribeForEvent("postset",(function(){xr("dfp")})),Dr.k.subscribeForEvent("preset",(function(){_r("prebid")})),Dr.k.subscribeForEvent("postset",(function(){xr("prebid")}))),e){case"dfp":Nr.load();break;case"prebid":Dr.k.load()}},Vr=function(e,t){yr.subscribeForEvent(e,t)},_r=function(e){yr.invokeEventCallbacks(e)},Er=function(e,t){yr.subscribeForEvent(e,t)},xr=function(e){yr.invokeEventCallbacks(e)},Zr=new bn.Z({prefix:"defaultCreativeBid: "});function Hr(e,t){var n=[],i=!1;var r={ad:e.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+t.unit.space.name,bidderCode:"default-creative",width:e.width,height:e.height},o=new jn.Bid(r,r,jn.Bid.Types.DEFAULT_CREATIVE,void 0,(function(t){!function(t){var r=e.height+"px",o=e.width+"px",d=e.creativeHTML,c=document.createElement("div");c.className="default-creative-container",c.style.height=r,c.style.width=o;var l=Wn.whitelistingIFrame.createWhitelistingIFrame();l.className="default-creative-iframe",l.setAttribute("scrolling","no"),l.setAttribute("marginwidth","0"),l.setAttribute("marginheight","0"),l.setAttribute("height",r),l.setAttribute("width",o),c.appendChild(l),l.addEventListener("load",(function e(){try{if(l.removeEventListener("load",e),a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame)l.contentWindow.postMessage(JSON.stringify({message:"Render Secure Creative",ad:d}),"*");else{var t=l.contentWindow.document;if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var r=navigator.userAgent.toLowerCase().match(/firefox\/([\d.]+)/)[1];r&&parseInt(r,10)<67&&t.open("text/html","replace")}t.write(d),t.close()}i=!0,s.Z.forEach(n,(function(e){e()}))}catch(e){Zr.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",e)}})),t.appendChild(c)}(t.placement)}),void 0,(function(e){i?e():n.push(e)}),void 0);return o}function Ir(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Br=new bn.Z,Or=new function(){var e,t=!1,n=[],i=[],r=!1;function o(){return window.pbjs&&window.pbjs.adUnits}function c(e){return u(v(e))}function u(t,i){var r=function(){var e=[],t=d.Y.fireEvent("auctionBlockerHook");return t&&e.push(t),e}();return Promise.all(r).then((function(){return function(e){var t=[],n=[];return s.Z.forEach(e,(function(e){var i,r,o=Wn.commonBLUtils.getSpaceElement(e);o&&((i=er.getByElement(o))||((r=o).alreadyWraped||(fi.hookFunction(r,"setAttribute",fi.Types.SET_ATTRIBUTE_PRE,void 0,!0),r.alreadyWraped=!0),i=new jn.Unit({element:o,space:e}),d.Y.fireEvent("onNewUnitFound",i),er.set(i),n.push(i)),i&&i.space==e&&t.push(i))})),function(e){var t=d.Y.fireEvent("newGAMSlotsOnUnitCreation")||{},n=t.AD_UNIT_PATH_PREFIX,i=t.deriveDataFromUnitForSpaces,r=t.slotDataBySpaceName;e.length>0&&(i||r)&&window.googletag.cmd.push((function(){try{e.forEach((function(e){var t,o,a,s=e.unitID,d=e.element,c=e.space,l=i&&i.includes(c.name)&&n,u=r&&r[c.name];if(l||u){if(u){var h=r[c.name]||{};t=h.adUnitPath,o=h.sizes,a=h.slotElementId}!t&&n&&(t="".concat(n).concat(c.name)),o||(o=c.sizes.map((function(e){return e.split("x").map((function(e){return parseInt(e,10)}))})).filter((function(e){return 2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}))),a||(d.id||d.setAttribute("id","bt-unit-".concat(s)),a=d.id),t&&o&&o.length>0&&a&&Pn(t,o,a)}}))}catch(e){Jn.errorf(null,"error defining new GAM slots on Unit creation",e)}}))}(n),t}(t)})).then((function(t){return function(t,i){return new Promise((function(r,o){if(0!==t.length){d.Y.fireEvent("onBeforeInvokeDispatch",{spaces:s.Z.map(t,(function(e){return e.space}))}),function(e){e.forEach((function(e){var t=e.space;d.Y.fireEvent("modifySpacesOnBeforeFetching",{space:t})}))}(t);var c={};i&&(c=i.filteringSettings||{}),function(e,t){return b.apply(this,arguments)}(t,c).then((function(t){try{if(function(e,t){e&&0!==e.length&&t&&a.Z.upoSettings.amazonBidderConfiguration.enabled&&e.forEach((function(e){var t=e.space;if(t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid]=t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid]||[],!t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid].some((function(e){return"amazon"===e.name}))){var n=e.element,i=googletag.pubads().getSlots().find((function(e){return document.getElementById(e.getSlotElementId())===n})).getAdUnitPath();t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid].push({id:i+"_amazon_bidder",name:"amazon",params:{pubID:a.Z.upoSettings.amazonBidderConfiguration.pubID,adUnitGPTPath:i}})}}))}(t,e.dfp),r(t||[]),!t||0===t.length)return;var i=s.Z.map(t,(function(e){return e.space}));Wn.movePositionService.dispatch(i);var o=s.Z.map(t,(function(e){return new jn.Auction({unit:e})}));if(d.Y.fireEvent("onAuctionGroupStarted",o),function(e){s.Z.forEach(e,(function(e){e.state=jn.Auction.States.DISPATCHED,e.unit.state=jn.Unit.States.DISPATCHED,n.push(e),e.unit.countOfDispatches++,e.unit.lastInvokeTime=new Date,d.Y.fireEvent("onAuctionStarted",{auction:e})}))}(o),window.__bt_intrnl.stopFlag)return;d.Y.fireEvent("onPrebiddingStarted",o);var c=$i.dispatchHB(o);Promise.all(c).then((function(t){if(d.Y.fireEvent("onPrebiddingEnded",o),!window.__bt_intrnl.stopFlag){var n=$i.dispatchAS(o);s.Z.forEach(n,(function(t,n){t.then((function(t){var n=s.Z.find(o,(function(e){return e.auctionId==t.auctionId})),i=n.getWinningBid();if(i&&i.type===jn.Bid.Types.PREBID&&0===i.additionalBidsToRender.length&&e.dfp&&n.unit.space.postBiddingSettings.enabled&&n.cancelAuction(),!window.__bt_intrnl.stopFlag){if(localStorage.getItem("forceDefaultCreative")&&(i=void 0),!i){var r=d.Y.fireEvent("getDefaultCreative",{auction:n});r&&(r={width:r.width,height:r.height,creativeHTML:r.creativeHTML},i=Hr(r,n),n.addBids([i]))}n.subscribeForEvent("auctionRendered",(function(){n.unit.countOfRenders++,d.Y.fireEvent("onAuctionRendered",{auction:n,bid:i}),d.Y.fireEvent("onAuctionRenderedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:i});var e=n.unit.countOfRenders;!function(e,t){var n,i;if(_i.has(e))Ei.get(e).push(t);else{var r=new Promise((function(e,t){n=e,i=t}));_i.set(e,[n,i]),Ei.set(e,[t]),r.then((function(){Ei.get(e).forEach((function(e){return e()}))})).finally((function(){_i.delete(e),Ei.delete(e)})),Zi(e,n,i)}}(n.unit.element,(function(){e==n.unit.countOfRenders&&(d.Y.fireEvent("onAdViewed",{auction:n,bid:i}),d.Y.fireEvent("onAdViewedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:i}))}))})),n.subscribeForEvent("renderBidDone",(function(e){d.Y.fireEvent("onAuctionEnded",{auction:n,bid:e.successfulyRenderedBid&&i}),d.Y.fireEvent("onAuctionEndedWebsiteHook",{element:n.unit.element,bid:e.successfulyRenderedBid&&i})})),n.renderBid(i),n.unit.state=jn.Unit.States.PENDING,rr.spaceRefreshOnInterval&&rr.spaceRefreshOnInterval({space:n.unit.space,unitDispatchCount:n.unit.countOfDispatches})}}))}))}}))}catch(e){Br.errorf(null,"recovery: filterUnits %o",e)}}))}else r([])}))}(t,i)})).then((function(e){return e.map((function(e){return e.space}))}))}this.invoke=function(a){if(!window.__bt_intrnl.stopFlag&&!t){t=!0,e=a.settings||{};var l,h,f=Di.set(a.spaces);r=d.Y.fireEvent("alwaysFilterByGoogletagSlots"),function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var n=[],i=[],r=ur(t),o=Mr(t);r&&n.push(r),o&&i.push(o);var a=d.Y.fireEvent("thirdPartyModulePreset",{type:t}),c=d.Y.fireEvent("thirdPartyModulePostset",{type:t});a&&n.push(a),c&&i.push(c),s.Z.forEach(n,(function(e){Vr(t,e)})),s.Z.forEach(i,(function(e){Er(t,e)})),zr(t)}}(e),(e.dfp||r)&&(l=window.googletag&&window.googletag.cmd.unshift?"unshift":"push",window.googletag.cmd[l]((function(){var e=window.googletag.defineSlot;if(window.googletag.defineSlot=function(t,n,i){var r=e(t,n,i);return setTimeout((function(){if(r){if(Un(r))return;g(r)}}),0),r},d.Y.fireEvent("overrideDefineOutOfPageSlot")){var t=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=function(e,n){var i=t(e,n);return setTimeout((function(){if(i){if(Un(i))return;g(i)}}),0),i}}}))),window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots();s.Z.forEach(e,(function(e){Un(e)}))})),h=Di.getAll(),d.Y.fireEvent("listenToNewSpaces",{spaces:h,callback:function(e){if(e){for(var t=0;t<e.length;t++){var n=e[t],i=n&&new jn.Space(n);i&&Di.set(i)}c()}}}),(i=d.Y.fireEvent("movePositionRules")||[])&&i.length>0&&Wn.movePositionService.setMovePositionRules(i),function(){try{history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationChange")),t}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationChange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationChange"))}))}catch(e){Br.errorf(null,"setupLocationChangeEvent - error: %o",e)}var e}();var w=Ni()((function(){clearTimeout(m),m=setTimeout((function(){try{var e=d.Y.fireEvent("extractPublisherSpacesLaterDefinedUnits");if(!e)return;for(var t=0;t<e.length;t++){var n=Kn(e[t]),i=n&&new jn.Space(n);i&&Di.set(i)}}catch(e){Br.errorf(null,"parseNewUnits - error: %o",e)}}),1e3),c()}),500);ui(w),window.addEventListener("locationChange",(function(){setTimeout(c,1001)})),rr.initialize({invokeSpaces:u,invokeSpacesWithoutUnits:c}),d.Y.addEventListener("websiteHooksGetSpaces",(function(){return Di.getAll()}));var b=d.Y.fireEvent("scrapePrebidAdUnits");b&&("boolean"==typeof b&&(b={}),function(e){var t,n=e.getAdUnits||o,i=e.filterOutAdUnit,r=e.parseAdUnit,a=e.postParsingAdUnits,d=e.parseInterval||1e3,l=[],u=function(){if((t=n()||[]).length>0){for(var e=[],o=[],d=0;d<t.length;d++){var u=t[d];u&&(l.indexOf(u)>=0||(u=JSON.parse(JSON.stringify(u)),u=r?r(u):u,i&&i(u)||(l.push(u),e.push(u))))}if(0===e.length)return;if(e=a?a(e):e,s.Z.forEach(e,(function(e){var t=Kn(e),n=t&&new jn.Space(t);n&&(Di.getSpacesByName(n.name).length>0||o.push(n))})),0===o.length)return;Di.set(o),c(o)}};u(),setInterval((function(){u()}),d)}(b)),d.Y.fireEvent("scrapeGoogletagSlots")&&window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots(),t=s.Z.map(e,(function(e){return p(e)}));s.Z.forEach(t,(function(e){e&&Di.set(e)}))})),(e.dfp||r)&&window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots();e&&s.Z.forEach(e,(function(e){g(e)}))})),window.__upo_d.getSpaces=function(){return Di.getAll()},window.__upo_d.getUnits=function(){return er.getAll()},window.__upo_d.getAuctions=function(){return n},c(f);var v=1,M=setInterval((function(){15===v&&clearInterval(M),v++,c(f)}),100)}};var h,f=[];function g(e){var t=e.getSlotElementId(),n=e.getAdUnitPath(),i=Di.getAll(),r=function(e){var t='[id="'.concat(e,'"]'),n=l.Z.commonUtils.getElementWithSelector(t);if(n){var i=er.getByElement(n);return i?i.space:v().find((function(e){var t=Wn.commonBLUtils.getSpaceElement(e);return t&&t===n}))}}(t);if(!r){if(d.Y.fireEvent("useSlotPath"))r=Di.getSpacesByName(n.split("/")[n.split("/").length-1])[0];else{var o=d.Y.fireEvent("customGetSpace",{spaces:i,divId:t,slot:e});o&&(r=s.Z.find(i,(function(e){return e.name==o.name})))}(r=r&&JSON.parse(JSON.stringify(r)))&&(r.selector.value=l.Z.commonUtils.escapeSelector("#"+t),r.name=t,Di.set(r))}if(!r){var a=d.Y.fireEvent("extractPublisherSpaceLaterDefineSlot",{name:t});if(a){var c=Kn(a);(r=c&&new jn.Space(c))&&Di.set(r)}}r||d.Y.fireEvent("scrapeGoogletagSlots")&&(r=p(e))&&Di.set(r),r&&f.indexOf(r)<0&&(f.push(r),clearTimeout(h),h=setTimeout((function(){u(f),f=[]}),100))}function p(t){if(t&&!d.Y.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:t})){var n=t.getSlotElementId(),i=t.getSizes(),r=s.Z.map(i,(function(e){if(e.getWidth)return e.getWidth()+"x"+e.getHeight()}));r=s.Z.filter(r,(function(e){return!!e}));var o="adxId_"+n,c="directId_"+n,u={id:n,name:n,staging:!1,selector:{value:l.Z.commonUtils.escapeSelector("#"+n),position:a.Z.consts.selectorPosition.APPEND_CHILD},sizes:r,preBiddingSettings:{enabled:!0,biddingSettings:{}},postBiddingSettings:{adxId:o,directId:c,enabled:e.dfp,type:1,order:[{params:{},adx:{bidderID:o,testCompliance:!0},direct:{bidderID:c}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:o,testCompliance:!1},direct:{bidderID:c}}]}};return u.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid]=[],new jn.Space(u)}}var m,w=[or,ar,sr,dr,cr];function b(){return(b=wi(vi().mark((function t(n,i){var o,a,s,d,c,l;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o={definedSlotsFilteringSettings:{dfpEnabled:e.dfp,alwaysFilterByGoogletagSlots:r}},i=Tr(Tr({},o),i),!((a=n.filter((function(e){return e.state===jn.Unit.States.PENDING}))).length>0)){t.next=27;break}a.forEach((function(e){e.state=jn.Unit.States.CHECKING})),s=Qn(a),d=Ir(w),t.prev=7,d.s();case 9:if((c=d.n()).done){t.next=19;break}return l=c.value,t.next=13,l(a,i);case 13:if(a=t.sent,s=s.filter((function(e){var t=a.includes(e);return t||(e.state=jn.Unit.States.PENDING),t})),0!==a.length){t.next=17;break}return t.abrupt("break",19);case 17:t.next=9;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),d.e(t.t0);case 24:return t.prev=24,d.f(),t.finish(24);case 27:return t.abrupt("return",a);case 28:case"end":return t.stop()}}),t,null,[[7,21,24,27]])})))).apply(this,arguments)}function v(e){var t=e||Di.getAll();return er.purgeUnitsWithNoElementOnPage(),t.filter((function(e){return!er.getBySpace(e)}))}};function Fr(e){return window.location.hostname.indexOf(e)>-1}var kr={isSite:Fr,isSiteOneOf:function(e){return e.some((function(e){return Fr(e)}))},showElement:function(e){e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","","")},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},removeClass:function(e,t){if(t&&e){var n=new RegExp("\\b"+e+"\\b","g"),i=t.className;i=i.replace(n,""),t.className=i}},addClass:function(e,t){if(t&&e){var n=t.className;n.indexOf(e)>-1||(""!==n&&(e=" "+e),t.className=n+e)}}},Wr=new bn.Z({prefix:"main: "});window.__upo_d=window.__upo_d||{},window.__upo_d.v="v2",window.__bt_intrnl=window.__bt_intrnl||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var Rr,Gr={"contentEnabled":true,"mobileContentEnabled":true,"dfpEnabled":true,"spaces":{}},Cr=Gr.spaces||{},Lr="api.btloader.com",jr=a.Z.upoSettings.staticDomain,Ar=a.Z.upoSettings.recoveryScriptVersion;(window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.getItem("bt_debug"))&&(Gr.dfpEnabled="true"===localStorage.getItem("forceGAM")||Gr.dfpEnabled,Gr.mobileContentEnabled="true"===localStorage.getItem("forceMobileContent")||Gr.mobileContentEnabled,Gr.contentEnabled="true"===localStorage.getItem("forceContent")||Gr.contentEnabled);var Jr,Kr={websiteData:Gr,scriptSettings:ci,apiDomain:Lr,staticDomain:jr,websiteID:"5701411989880832",organizationID:"5714937848528896",dfpEnabled:Gr.dfpEnabled,prebidEnabled:!1,mobileContentEnabled:Gr.mobileContentEnabled,contentEnabled:Gr.contentEnabled,recoveryScriptVersion:Ar};window.__upo_d.websiteConfig=Kr,a.Z.SharedObject.setItem("websiteConfig",Kr);var Pr=function(){return{browser:qn.Xh(),device:qn.Uh(),platform:qn.Jv(),isMobile:qn.tq()}};var Ur=function(){return $r(window),to(),Wn.whitelistingIFrame.setupWhitelistingIFrameSettings().then(qr),d.Y.fireEvent("clearSpaces")&&(Cr=[]),oo().then((function(){Qr()}))},Qr=function(){var e=s.Z.map(Cr,(function(e){return e})),t=d.Y.fireEvent("customSpacesFilter",{spaces:e});t&&(Cr=s.Z.filter(Cr,(function(e){return s.Z.find(t,(function(t){return t.id==e.id}))})))},qr=function(){var e=Wn.whitelistingIFrame.createWhitelistingIFrame();e.addEventListener("load",(function(){Rr=e,a.Z.SharedObject.setItem("whitelistingIFrame",Rr),d.Y.fireEvent("whitelistingIFrameLoaded",{whitelistingIFrame:Rr})})),e.style.width="0px",e.style.height="0px",e.style.display="none",document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))},$r=function(e){e&&function(e,t){if(e.grumi){var n=document.createElement("iframe");n.style="display:none;width:1px;height:1px;",n.addEventListener("load",(function(){n.done||(e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,t())})),li((function(){if(document.body.appendChild(n),n.contentWindow)return n.done=!0,e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,void t()}))}else t()}(e,(function(){try{e.XMLHttpRequest&&fi.hookFunction(e.XMLHttpRequest.prototype,"open",fi.Types.XHR_OPEN_PRE,void 0,!0),fi.hookFunction(e,"fetch",fi.Types.FETCH_PRE,void 0,!0),e.HTMLElement&&fi.hookFunction(e.HTMLElement.prototype,"insertBefore",fi.Types.INSERT_BEFORE_PRE,void 0,!0),e.HTMLElement&&fi.hookFunction(e.HTMLElement.prototype,"appendChild",fi.Types.APPEND_CHILD_PRE,fi.Types.APPEND_CHILD_POST,!0),e.HTMLImageElement&&fi.hookFunction(e.HTMLImageElement.prototype,"setAttribute",fi.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0),fi.hookFunction(e,"open",fi.Types.WIN_OPEN_PRE,void 0,!0),e.HTMLElement&&fi.hookPropertySetter(e.HTMLElement.prototype,"innerHTML",fi.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),e.HTMLElement&&fi.hookFunction(e.HTMLElement.prototype,"hasChildNodes",fi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0),eo(e)}catch(e){Wr.errorf(null,"`createHooksOnWindow` - %o",e)}}))},eo=function(e){for(var t=a.Z.consts.htmlElements,n=0;n<t.length;n++)e[t[n]]&&fi.hookPropertySetter(e[t[n]].prototype,"src",fi.Types.HTML_SRC_PROP_PRE,void 0,!0)},to=function(){fi.addEventListener(fi.Types.HTML_SRC_PROP_PRE,(function(e){var t=e.data;if("object"===(0,o.Z)(t[0])&&t[0].toString&&(t[0]=t[0].toString()),l.Z.urlValidations.isWhitelistURL(t[0],this.tagName))t[0]=l.Z.addAcceptableParam(t[0]);else if(l.Z.urlValidations.isSyncUrl(t[0],this.tagName)&&Rr){if(a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var n="new window.Image().src = '"+t[0]+"'";return Rr.contentWindow.postMessage({type:"eval",code:n},"*"),t[0]}return(new Rr.contentWindow.Image).src=t[0]}})),fi.addEventListener(fi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,(function(e){try{if(s.Z.hasClass(this,"up-show"))return!1;if(this.childNodes&&this.childNodes.length>0){for(var t=!1,n=0;n<this.children.length;n++)if(s.Z.hasClass(this.children[n],"up-show")){t=!0;break}if(t)return!1}}catch(e){Wr.errorf(null,"`hasChildNodes` hook - %o",e)}})),fi.addEventListener(fi.Types.HTML_ELEMENT_INNERHTML_POST,(function(e){if(this&&this.classList&&"adsbygoogle"===this.classList[0]){var t=this.querySelector("iframe"),n=t.contentWindow;"about:blank"!==t.src&&""!==t.src||$r(n);var i=n.document.write;n.document.write=function(e){e&&e.indexOf("show_ads_impl.js")>-1&&(e=l.Z.addAcceptableParam(e)),i.call(this,e)}}})),fi.addEventListener(fi.Types.XHR_OPEN_PRE,(function(e){var t=e.data;l.Z.urlValidations.isWhitelistURL(t[1],"SCRIPT")&&(t[1]=l.Z.addAcceptableParam(t[1]))})),fi.addEventListener(fi.Types.IMG_SET_ATTRIBUTE_PRE,(function(e){var t=e.data;if("srcset"===t[0].toLowerCase()){this.src&&l.Z.urlValidations.isWhitelistURL(this.src,this.tagName)&&(this.src=l.Z.addAcceptableParam(this.src));for(var n=t[1].split(","),i=0;i<n.length;i++){var r=n[i],o=(r=r.trim()).split(" ")[0],a=r.split(" ")[1]||"";l.Z.urlValidations.isWhitelistURL(o,this.tagName)&&(r=l.Z.addAcceptableParam(o)+" "+a,n[i]=r)}t[1]=n.join(",")}else"src"===t[0].toLowerCase()&&l.Z.urlValidations.isWhitelistURL(t[1],this.tagName)&&(t[1]=l.Z.addAcceptableParam(t[1]))})),fi.addEventListener(fi.Types.INSERT_BEFORE_PRE,(function(e){var t=e.data;d.Y.fireEvent("InsertBeforeWebsiteHooksIntercept",{element:t[0]}),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&l.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=l.Z.addAcceptableParam(t[0].src)),"LINK"===t[0].tagName&&t[0].href&&l.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=l.Z.addAcceptableParam(t[0].href))})),fi.addEventListener(fi.Types.APPEND_CHILD_PRE,(function(e){var t=e.data;if(t[0]&&t[0].src&&0===t[0].src.indexOf("blob:"))e.shouldStop=!0;else{if(t[0].children&&t[0].children.length>0)for(var n=0;n<t[0].children.length;n++){var i=t[0].children[n];if(i.src&&l.Z.urlValidations.isWhitelistURL(i.src,i.tagName)&&(i.src=l.Z.addAcceptableParam(i.src)),i.src&&l.Z.urlValidations.isSyncUrl(i.src,i.tagName)&&Rr){if(a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var r="new Image().src = '"+t[0].src+"'";return Rr.contentWindow.postMessage({type:"eval",code:r},"*"),t[0]}return Rr.contentDocument.body.appendChild(t[0])}}if("LINK"===t[0].tagName&&t[0].href&&l.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=l.Z.addAcceptableParam(t[0].href)),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&l.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=l.Z.addAcceptableParam(t[0].src)),l.Z.urlValidations.isSyncUrl(t[0].src,t[0].tagName)&&Rr){if(a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var o="new Image().src = '"+t[0].src+"'";return Rr.contentWindow.postMessage({type:"eval",code:o},"*"),t[0]}return Rr.contentDocument.body.appendChild(t[0])}}})),fi.addEventListener(fi.Types.APPEND_CHILD_POST,(function(e){var t=e.data;"IFRAME"!==t.tagName||"about:blank"!==t.src&&""!==t.src||$r(t.contentWindow)})),fi.addEventListener(fi.Types.WIN_OPEN_PRE,(function(e){if(e.data[0]&&(e.data[0].indexOf("clickout.sharethrough.com")>-1||e.data[0].indexOf("3lift.com/pass")>-1)&&Rr&&!a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame)return Rr.contentWindow.open(e.data[0])})),fi.addEventListener(fi.Types.SET_ATTRIBUTE_PRE,(function(e){var t=e.data[0],n=e.data[1];"class"===t&&this.className.indexOf("up-show")>=0&&n.indexOf("up-show")<0&&(e.data[1]=e.data[1]+" up-show")}))},no=function(){window.uponit=window.uponit||{que:[]},window.uponit.addModifier=function(e,t){window.uponit.modifiers=window.uponit.modifiers||{},window.uponit.modifiers[e]=window.uponit.modifiers[e]||[],window.uponit.modifiers[e].push(t)};for(var e=0;e<window.uponit.que.length;e++){var t=window.uponit.que[e];try{t()}catch(e){Wr.errorf(null,"window.uponit.que - %o",e)}}window.uponit.que.push=function(e){e()}},io=function(e){var t=Object.entries(e).map((function(e){var t=r(e,2),n=t[0],i=t[1],o={};o.id=n,o.name=i.name,o.staging=i.staging,o.deviceType=i.device_type,o.selector={position:i.selector.position,value:i.selector.value},o.sizes=i.sizes;var a=i.prebids&&Object.keys(i.prebids).length>0;return o.preBiddingSettings={enabled:a,biddingSettings:{}},a&&(o.preBiddingSettings.biddingSettings[1]=[],Object.entries(i.prebids).forEach((function(e){var t=r(e,2),n=t[0],i=t[1],a={id:n,name:i.bidder,params:i.params};o.preBiddingSettings.biddingSettings[1].push(a)}))),o.postBiddingSettings={adxId:i.adx,directId:i.direct,enabled:Kr.dfpEnabled&&"0"!=i.adx,type:1,order:[{params:{},adx:{bidderID:i.adx,testCompliance:!0},direct:{bidderID:i.direct}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:i.adx,testCompliance:!1},direct:{bidderID:i.direct}}]},[n,o]}));return Object.fromEntries(t)},ro=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.id=n;var r=new jn.Space(i);t.push(r)}return t},oo=function(){var e=d.Y.fireEvent("extractPublisherSpacesSettings");if(!e)return Promise.resolve();var t=e.timeout||2e3;return new Promise((function(n,i){e.callback((function(e){for(var t=e.adUnits,i=0;i<t.length;i++){var r=t[i],o=Kn(r),a=o&&new jn.Space(o);a&&Cr.push(a)}n()})),setTimeout((function(){n()}),t)}))};!function(){if(!window.uponitAlreadyLoaded){window.uponitAlreadyLoaded=!0,m.init(Lr,{secure:!0});try{pi.init(),En.Verifications.run(),En.Report.init()}catch(e){Wr.errorf(null,"init - initializing log, verification, and report layers - %o",e)}Jr=Pr(),window.__upo_d.isMobile=Jr.isMobile;var e,t={browser:Jr.browser,device:Jr.device,platform:Jr.platform,isMobile:Jr.isMobile};d.Y.addEventListener("getUserEnvDataWebsiteHooks",(function(){return t})),window.__upo_d.userEvnData=t,function(){try{window.__tcfapi("addEventListener",0,(function(e,t){if(!t||"useractioncomplete"!==e.eventStatus&&"tcloaded"!==e.eventStatus){if(!t){var n="Unable to attach event listener. tcfapi does not adhere to IAB spec. ";n+="listenerSuccess: "+t+". ",e&&(n+="eventStatus: "+e.eventStatus+"."),d.Y.fireEvent("consentData",{error:{message:n}})}}else d.Y.fireEvent("consentData",{tcData:e})}))}catch(e){d.Y.fireEvent("consentData",{error:e})}}(),function(){try{var e=new bn.Z({prefix:"hook: "});window.eval.call(window,"(function (CustomEvents, websiteConfig, lg, hookUtils) {\n"+atob("Q3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3NjcmFwZVByZWJpZEFkVW5pdHMnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICBldmVudC5ob29rRmlsZURhdGEgPSB7CiAgICBnZXRBZFVuaXRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB3aW5kb3cuZnNwcmViaWQgJiYgd2luZG93LmZzcHJlYmlkLmFkVW5pdHM7CiAgICB9LAogICAgcGFyc2VBZFVuaXQ6IHBhcnNlQWRVbml0LAogICAgZmlsdGVyT3V0QWRVbml0OiBmaWx0ZXJPdXRBZFVuaXQsCiAgfTsKICAvLyByZXR1cm4gdW5kZWZpbmVkIHNvIHRoYXQgc2NyaXB0IHNldHRpbmdzIGV2ZW50IGxpc3RlbmVyIGlzIGNhbGxlZAp9KTsKCnZhciBwYXJzZUFkVW5pdCA9IGZ1bmN0aW9uIChhZFVuaXQpIHsKICB2YXIgY29kZVBhcnRzID0gYWRVbml0LmNvZGUgJiYgYWRVbml0LmNvZGUuc3BsaXQoJy8nKTsKICBhZFVuaXQuY29kZSA9IGNvZGVQYXJ0c1tjb2RlUGFydHMubGVuZ3RoIC0gMV07CgogIGFkVW5pdC5zZWxlY3RvciA9ICdbaWQ9IicgKyBhZFVuaXQuY29kZSArICciXSc7CgogIC8vIFJlbW92ZSAzbGlmdCBtb2JpbGUgYmlkZGVyIHdoZW4gcnVubmluZyB0aGUgc2NyaXB0IGluIGEgZGVza3RvcCBicm93c2VyCiAgaWYgKGFkVW5pdC5iaWRzICYmICF3aW5kb3dbJ19fdXBvX2QnXVsnaXNNb2JpbGUnXSkgewogICAgYWRVbml0LmJpZHMgPSBhZFVuaXQuYmlkcy5maWx0ZXIoZnVuY3Rpb24gKGJpZFNldHRpbmdzKSB7CiAgICAgIHJldHVybiAhKAogICAgICAgIGJpZFNldHRpbmdzLnBhcmFtcyAmJgogICAgICAgIGJpZFNldHRpbmdzLnBhcmFtcy5pbnZlbnRvcnlDb2RlICYmCiAgICAgICAgYmlkU2V0dGluZ3MucGFyYW1zLmludmVudG9yeUNvZGUuaW5kZXhPZignbW9iaWxlJykgIT09IC0xCiAgICAgICk7CiAgICB9KTsKICB9CgogIC8vIFtBTS01NTFdIC0gUmVtb3ZlIGJpZHMgd2l0aCA5NzB4MjUwIHNpemUgaW5uZXIgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBhZFVuaXQgLSBvbmx5IGZvciBzaGFyZXRocm91Z2ggYW5kIHRyaXBsZWxpZnQgYmlkcwogIGFkVW5pdCA9IHJlbW92ZVNoYXJldGhyb3VnaEFuZFRyaXBsZWxpZnQ5NzB4MjUwQmlkcyhhZFVuaXQpOwoKICByZXR1cm4gYWRVbml0Owp9OwoKLy8gW0FNLTU1MV0gLSBSZW1vdmUgYmlkcyB3aXRoIDk3MHgyNTAgc2l6ZSBpbm5lciBjb25maWd1cmF0aW9uIGZyb20gdGhlIGFkVW5pdCAtIG9ubHkgZm9yIHNoYXJldGhyb3VnaCBhbmQgdHJpcGxlbGlmdCBiaWRzCmZ1bmN0aW9uIHJlbW92ZVNoYXJldGhyb3VnaEFuZFRyaXBsZWxpZnQ5NzB4MjUwQmlkcyhhZFVuaXQpIHsKICB0cnkgewogICAgdmFyIGJpZGRlcnMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRVbml0LmJpZHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGJpZCA9IGFkVW5pdC5iaWRzW2ldOwogICAgICBpZiAoCiAgICAgICAgKGJpZC5iaWRkZXIgPT09ICd0cmlwbGVsaWZ0JyB8fCBiaWQuYmlkZGVyID09PSAnc2hhcmV0aHJvdWdoJykgJiYKICAgICAgICBiaWQuc2l6ZSAmJgogICAgICAgIGJpZC5zaXplWzBdICYmCiAgICAgICAgYmlkLnNpemVbMF1bMF0gPT09IDk3MCAmJgogICAgICAgIGJpZC5zaXplWzBdWzFdID09PSAyNTAKICAgICAgKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgYmlkZGVycy5wdXNoKGJpZCk7CiAgICB9CiAgICBhZFVuaXQuYmlkcyA9IGJpZGRlcnM7CiAgfSBjYXRjaCAoZSkgewogICAgbGcuZXJyb3JmKG51bGwsICdlcnJvciByZW1vdmluZyBiaWQgZnJvbSBhZCB1bml0OiAlbycsIGUpOwogIH0KICByZXR1cm4gYWRVbml0Owp9CgovLyBkZWNsYXJlZCBoZXJlLCBhbmQgZGVmaW5lZCBpbiBhIEZyZWVzdGFyIHdlYnNpdGUgaG9vayBmaWxlIGlmIGRlc2lyZWQKLy8gYXZvaWQgdXNpbmcgYHdlYnNpdGVIb29rRmlsdGVyT3V0QWRVbml0YCBpbiBmYXZvciBvZiBTZXR0aW5ncwp2YXIgd2Vic2l0ZUhvb2tGaWx0ZXJPdXRBZFVuaXQ7CmZ1bmN0aW9uIGZpbHRlck91dEFkVW5pdChhZFVuaXQpIHsKICAvLyBGaWx0ZXIgb3V0IGFkIHVuaXQgaWYgdGhpcyBmdW5jdGlvbiBpcyBkZWZpbmVkIGluIGEgRnJlZXN0YXIgd2Vic2l0ZSBob29rIGZpbGUgKHRvIGF2b2lkIGFkZGluZyB0aGF0IGxvZ2ljIGhlcmUgYW5kIGdyb3dpbmcgdGhlIG9yZyBob29rIGZpbGUpCiAgaWYgKHdlYnNpdGVIb29rRmlsdGVyT3V0QWRVbml0KSB7CiAgICByZXR1cm4gd2Vic2l0ZUhvb2tGaWx0ZXJPdXRBZFVuaXQoYWRVbml0KTsKICB9Cn0KCi8vIEV4dGVuZCB0aGlzIG9yZyBob29rIHdpdGggYGdldFNpemVzVG9SZW1vdmVGb3JTcGFjZU9uV2Vic2l0ZWAgd2hpY2ggY2FuIGJlIGRlZmluZWQgYXMgYSBmdW5jdGlvbiBpbiBhbnkgd2Vic2l0ZSBob29rCi8vIGF2b2lkIHVzaW5nIGBnZXRTaXplc1RvUmVtb3ZlRm9yU3BhY2VPbldlYnNpdGVgIGluIGZhdm9yIG9mIFNldHRpbmdzCnZhciBnZXRTaXplc1RvUmVtb3ZlRm9yU3BhY2VPbldlYnNpdGU7CkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdzaXplc1RvUmVtb3ZlQnlTcGFjZScsIGZ1bmN0aW9uIChldmVudCkgewogIHZhciBzcGFjZU5hbWUgPSBldmVudC5kYXRhLnNwYWNlTmFtZTsKCiAgZXZlbnQuaG9va0ZpbGVEYXRhID0gZ2V0U2l6ZXNUb1JlbW92ZUZvclNwYWNlT25XZWJzaXRlCiAgICA/IGdldFNpemVzVG9SZW1vdmVGb3JTcGFjZU9uV2Vic2l0ZShzcGFjZU5hbWUpCiAgICA6IFtdOwogIC8vIHJldHVybiB1bmRlZmluZWQgc28gdGhhdCBzY3JpcHQgc2V0dGluZ3MgZXZlbnQgbGlzdGVuZXIgaXMgY2FsbGVkCn0pOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb3ZpZGVTQ2hhaW5Db25maWcnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICByZXR1cm4gewogICAgcHJlYmlkVmFyaWFibGU6ICdmc3ByZWJpZCcsCiAgICBtYW51YWxGYWxsYmFjazogewogICAgICBhc2k6ICdmcmVlc3Rhci5pbycsCiAgICAgIHNpZDogd2luZG93LmZyZWVzdGFyLmZzZGF0YS5zaXRlSWQudG9TdHJpbmcoKSwKICAgIH0sCiAgfTsKfSk7CgovLyBSZXNldCBYTUxIdHRwUmVxdWVzdCBiYWNrIHRvIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpZiBwdWIgaGFzIG92ZXJ3cml0dGVuIGl0CmlmIChob29rVXRpbHMuaXNTaXRlT25lT2YoWydpbm5lcnN0cmVuZ3RoLnpvbmUnLCAnYnJvYWRjYXN0dHJpdmlhLmNvbScsICd0aGV0cml2aWFidWZmLmNvbSddKSkgewogIHRyeSB7CiAgICB2YXIgbmF0aXZlWE1MSHR0cFJlcXVlc3RJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdC50b1N0cmluZygpLmluZGV4T2YoJ25hdGl2ZSBjb2RlJykgPT09IC0xKSB7CiAgICAgICAgdmFyIGlmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyKTsKICAgICAgICBpZnIuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpOwogICAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGlmci5jb250ZW50V2luZG93LlhNTEh0dHBSZXF1ZXN0OwogICAgICAgIGNsZWFySW50ZXJ2YWwobmF0aXZlWE1MSHR0cFJlcXVlc3RJbnRlcnZhbCk7CiAgICAgIH0KICAgIH0sIDMwMCk7CiAgfSBjYXRjaCAoZSkgewogICAgbGcuZXJyb3JmKG51bGwsICdlcnJvciByZXNldHRpbmcgaWZyYW1lOiAlbycsIGUpOwogIH0KfQoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2tlZXBCVERvbWFpbldoaXRlbGlzdGluZ0lGcmFtZScsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdHJ1ZTsKfSk7Cgp2YXIgc3R5bGVFbGVtZW50Owp2YXIgc3R5bGVSdWxlcyA9IFsKICAnI2ZzLXN0aWNreS1icmFuZGluZy1lbG0sIC51cC1zaG93ID4gLmZzLWJyYW5kaW5nLWVsbSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsCiAgLy8gQWQgY29udGFpbmVyICguYWhvdmVyIG9yICNnb29nbGVfYWRzX2lmcmFtZV8vLi4uIGRpdikgaGFzIHRoZWlyIHN0eWxlcyB3ZSBzZXQgZXJhc2VkIGZvciBmb290ZXIgdW5pdHMsIG5lZWQgdGhpcyBzdHlsZSB0byBjZW50ZXIgdGhlIGFkIGxhYmVsKQogICcudXAtc2hvdyA+IC5haG92ZXIsIC51cC1zaG93ID4gW2lkXj0iZ29vZ2xlX2Fkc19pZnJhbWVfIl0geyBwb3NpdGlvbjogcmVsYXRpdmU7IH0nLAogIC8vIEVuc3VyZSBpZiBIQiB3aW5zIGFuZCBHQU0gaXMgZW5hYmxlZCwgdGhhdCB0aGUgMXgxIEdBTSBhZCBpZnJhbWUgd2UgcmVuZGVyIHVuZGVybmVhdGggdGhlIEhCIGFkIGNyZWF0aXZlIGRvZXNuJ3QgYWRkIGV4dHJhIHNwYWNlIHRvIHRoZSBmb290ZXIgW0FNLTQ5OV0KICAvLyAoRm9yIGFuIGV4cGxhbmF0aW9uIG9uIHdoeSB3ZSByZW5kZXIgdGhpcyAxeDEgaWZyYW1lIC0gc2VlIGByZWNvdmVyeS5qc2AgbGluZSA4MzEgKHdoZXJlIHdlIHByb2Nlc3MgdGhlIEFkIFNlcnZlciAoR0FNKSBhdWN0aW9uIHJlc3BvbnNlcykpCiAgJyNzbG90LWZvb3Rlci13cmFwcGVyIHsgaGVpZ2h0OiBhdXRvOyBsaW5lLWhlaWdodDogMXB4IH0nLApdLmpvaW4oJyAnKTsKCnN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CnN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IHN0eWxlUnVsZXM7Cihkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2FtYXpvbkJpZGRlckNvbmZpZ3VyYXRpb24nLCBmdW5jdGlvbiAoZXZlbnQpIHsKICByZXR1cm4gewogICAgcHViSUQ6ICcwYWIxOThkZC1iMjY1LTQ2MmEtYWUzNi03NGUxNjNhZDYxNTknLAogIH07Cn0pOwoKd2luZG93LnVwb19hbXpuID0gewogIGFtYXpvbkNQTUNoYXJ0OiB7CiAgICAxNjg3NDAwOiA2LjE1LAogICAgJzFwcHdsNHcnOiAwLjA1LAogICAgJzF1NXEzOWMnOiAwLjA5LAogICAgJzFsYTMzMGcnOiAwLjEzLAogICAgJzF3ZG11YmsnOiAwLjE3LAogICAgJzEzcWFyazAnOiA2LjU1LAogICAgJzF6dHppOCc6IDYuNywKICAgIHRxcGRzMDogNi44LAogICAgZTdjNGNnOiA2LjksCiAgICBpbjVtZ3c6IDcsCiAgICAnMXk5MjNuayc6IDcuMDUsCiAgICB3aWxibHM6IDcuMiwKICAgICcxbjVpY2NnJzogNy4yNSwKICAgIG9xd293MDogNy40LAogICAgJzJqdDY5cyc6IDcuNSwKICAgIHF5dGZ5ODogNy42LAogICAgJzE4MTRnemsnOiA3Ljc1LAogICAgbHUweWRjOiA3LjgsCiAgICAnMWE5MTgxcyc6IDcuOTUsCiAgICBxanUxdms6IDksCiAgICB0YnB6cGM6IDEwLAogICAgbDZheDM0OiAxMSwKICAgIGZ3aW10YzogMTIuNSwKICAgICc3enU3ZW8nOiAxMy41LAogICAgYzVvNDVjOiAxNC41LAogICAgJzN3aTcwZyc6IDE1LjUsCiAgICBkYzRlMHc6IDE2LjUsCiAgICAnNXVmY293JzogMTcuNSwKICAgIGs0dWZ3ZzogMTksCiAgICB3bWM2NGc6IDIwLAogICAgc29tZmk4OiAyMiwKICAgIHhqZmJwYzogMjQsCiAgICBseWU5ejQ6IDI3LAogICAgdmUwZ3prOiAyOCwKICAgIGpocXZwYzogMzEsCiAgICB6YjNxaW86IDMyLAogICAgbDBvbmI0OiAzNSwKICAgIHE3Y2s1YzogMC4wNCwKICAgIHVuNjI5czogMC4wOCwKICAgIGxyajIwdzogMC4xMiwKICAgIHd2MnRjMDogMC4xNiwKICAgIG56ZnQzNDogMC4yLAogICAgJzFuaHp1Mm8nOiAwLjIxLAogICAgc2Y5YjdrOiAwLjI0LAogICAgYW56YXBzOiAwLjI2LAogICAgJzFqMjZieTgnOiAwLjI5LAogICAgeHoxNnY0OiAwLjMyLAogICAgJzFmcWI3Y3cnOiAwLjM1LAogICAgJzFvbHk3bHMnOiAwLjM3LAogICAgdGo3b3FvOiAwLjQsCiAgICBkenVmYjQ6IDAuNSwKICAgICcxMDZ4eHhjJzogMC42MywKICAgIHBuZGRkczogMC42OCwKICAgICcxdGxxd2hzJzogMC43MywKICAgICczZzl1cmsnOiAwLjc4LAogICAgbmZnbWJrOiAwLjg0LAogICAgcnZhNGcwOiAwLjg4LAogICAgaXpuNDc0OiAwLjkyLAogICAgeGYyMDNrOiAwLjk2LAogICAgb2plenVvOiAxLAogICAgJzFvMXowdTgnOiAxLjAxLAogICAgazNsaHE4OiAxLjA4LAogICAgJzFjeWY5ajQnOiAxLjE1LAogICAgcXJicXd3OiAxLjIsCiAgICAnOTAxcWY0JzogMS4yMiwKICAgICc0ZXE2OCc6IDEuMjYsCiAgICAnMWg0OTY5cyc6IDEuMzEsCiAgICAnMTg4bTYwdyc6IDEuMzUsCiAgICAnMWNvZm81Yyc6IDEuMzksCiAgICAnNGE4bXd3JzogMS40MiwKICAgICcxZXdjZjdrJzogMS40NywKICAgIGF4eXczazogMS41NCwKICAgICcxNXFwdGt3JzogMC4yMywKICAgICcxYTZqYnBjJzogMC4yNywKICAgICcxMWF3YmdnJzogMC4zMSwKICAgIGc3cjZkYzogMC4zNCwKICAgICc3YzQ2NGcnOiAwLjM4LAogICAgJzF0MXJwcTgnOiAwLjQxLAogICAga25rb2hzOiAwLjQ0LAogICAgJzJ3YW8wMCc6IDAuNDYsCiAgICB2cjRmc3c6IDAuNDgsCiAgICAnMWRpZWdhbyc6IDAuNTEsCiAgICAnMW1lMWdqayc6IDAuNTMsCiAgICAnMTRtcmcxcyc6IDAuNTUsCiAgICAnMXF0dXlvMCc6IDAuNTcsCiAgICBpZm54Zms6IDAuNiwKICAgIG9kd3hzOiAwLjYyLAogICAgZ3JxZDR3OiAwLjY2LAogICAgJzFwNXhlZGMnOiAwLjY5LAogICAgdTM2dmk4OiAwLjcyLAogICAgbDdqdjljOiAwLjc2LAogICAgd2IzbWtnOiAwLjgsCiAgICBlanRtMm86IDAuODIsCiAgICAnMTU2cW10Yyc6IDAuODcsCiAgICAnMWlpNzU2byc6IDAuOTMsCiAgICBmbnJ6bHM6IDAuOTgsCiAgICAnNnM0emN3JzogMS4wMiwKICAgIGI3eWhoYzogMS4wNiwKICAgICcyY2JoOGcnOiAxLjEsCiAgICAnMXVwcGEwdyc6IDEuMTMsCiAgICAnNGs4OGFvJzogMS4xOCwKICAgIGh2b3FvMDogMS4yNCwKICAgIHpjejVzMDogMS4yOCwKICAgIGhscDVhODogMS4zLAogICAgJzhxMjUxYyc6IDEuMzQsCiAgICAnMXVmcG9uNCc6IDEuMzcsCiAgICAnMWxrMm9lOCc6IDEuNDEsCiAgICAnMXdubWZwYyc6IDEuNDUsCiAgICAnMW5yemZnZyc6IDEuNDksCiAgICBzcDh3bGM6IDEuNTIsCiAgICBqdGx3Y2c6IDEuNTYsCiAgICB5OTBzOHc6IDEuNiwKICAgIGdocXJyNDogMS42MiwKICAgICc3bTNyaTgnOiAxLjY2LAogICAgYzF4OW1vOiAxLjcsCiAgICAnMzZhOWRzJzogMS43NCwKICAgIGU5dTBvdzogMS43OCwKICAgICcxNHdyMWZrJzogMS44MywKICAgICcxOWNramswJzogMS44NywKICAgICcxMGd4amI0JzogMS45MSwKICAgICcxZ2s5emk4JzogMS45NSwKICAgICcxN29tejljJzogMS45OSwKICAgICcxeWxqbGRzJzogMC4wMSwKICAgIGhicGp3ZzogMC4wMiwKICAgICcxZ3U5a3cwJzogMC4wMywKICAgICc4ZzJqbmsnOiAwLjA2LAogICAgJzE3eW1rbjQnOiAwLjA3LAogICAgY3Z3MXMwOiAwLjEsCiAgICAnMWNlZzJyayc6IDAuMTEsCiAgICAnNDA5MWo0JzogMC4xNCwKICAgICcxM2l0MmlvJzogMC4xNSwKICAgIGYzc3N1ODogMC4xOCwKICAgICcxZW1jdHRzJzogMC4xOSwKICAgICc2ODVzbGMnOiAwLjIyLAogICAgJzFyeHRjNzQnOiAwLjI1LAogICAgamptYXlvOiAwLjI4LAogICAgJzFzY2Fndyc6IDAuMywKICAgICcxeGhsN3VvJzogMC4zMywKICAgIHAzZTZtODogMC4zNiwKICAgICcxNnVvNzQwJzogMC4zOSwKICAgICcxM3NzbndnJzogMS40MywKICAgIHg1MmVwczogMS40NCwKICAgIGZkc2U4MDogMS40NiwKICAgIG85ZmVndzogMS40OCwKICAgICc2aTVkejQnOiAxLjUsCiAgICAnMTYwcGV5byc6IDEuNTEsCiAgICAnMXM3c3hrdyc6IDEuNTMsCiAgICAnMWFnaXgzNCc6IDEuNTUsCiAgICAnMWpjNXhjMCc6IDEuNTcsCiAgICAnMjJidnVvJzogMS41OCwKICAgICcxeHJrdDhnJzogMS42MSwKICAgICcxZzBhc3FvJzogMS42MywKICAgICcxb3Z4c3prJzogMS42NSwKICAgICcxNzRuc2hzJzogMS42NywKICAgICcxdGJyYjQwJzogMS42OSwKICAgICcxYmtoYW04JzogMS43MSwKICAgICcxa2c0YXY0JzogMS43MywKICAgICcxMm91YWRjJzogMS43NSwKICAgICcxdmpvMjY4JzogMS43NywKICAgICcxZHNlMW9nJzogMS43OSwKICAgICc1ZTcwZzAnOiAxLjgyLAogICAgcmxhajI4OiAxLjg0LAogICAgJzl1MGlrZyc6IDEuODYsCiAgICBpcG5pdGM6IDEuODgsCiAgICB5ZGliazogMS45LAogICAgeXN6ejBnOiAxLjkyLAogICAgaDFweWlvOiAxLjk0LAogICAgcHhjeXJrOiAxLjk2LAogICAgJzFwZnd6cjQnOiAxLjk3LAogICAgdWQ2Z3cwOiAyLAogICAgY2x3Z2U4OiAyLjAyLAogICAgbGhqZ240OiAyLjA0LAogICAgJzNxOWc1Yyc6IDIuMDYsCiAgICAnMXczbjh4cyc6IDIuMDksCiAgICAnMWVjZDhnMCc6IDIuMTEsCiAgICAnMW44MDhvdyc6IDIuMTMsCiAgICBzNTlwdHM6IDIuMTYsCiAgICBhZHpwYzA6IDIuMTgsCiAgICBqOW1wa3c6IDIuMiwKICAgICcxaXM2cWtnJzogMi4yMSwKICAgICcxMTB3cTJvJzogMi4yMywKICAgICcxeDdsbWd3JzogMi4yNSwKICAgIGZ4cmt6azogMi4yNiwKICAgICcxb2J5bTgwJzogMi4yOSwKICAgICcxYzRnaGRzJzogMi4wMywKICAgICcxMzh0aDR3JzogMi4wNywKICAgIGV0dDdnZzogMi4xLAogICAgJzV5Njc3ayc6IDIuMTQsCiAgICAnMXJudHF0Yyc6IDIuMTcsCiAgICB4cDFsaGM6IDIuMjQsCiAgICAnMWZnYmx6NCc6IDIuMjcsCiAgICAnNzI0a3FvJzogMi4zLAogICAgYmh5MnY0OiAyLjM0LAogICAgJzJtYjJtOCc6IDIuMzgsCiAgICAnMWQ4ZXV3dyc6IDIuNDMsCiAgICAnNHU3dG9nJzogMi40NiwKICAgICc5YTFic3cnOiAyLjUsCiAgICBlZWJrMDogMi41NCwKICAgICcxZ3o5ZGt3JzogMi41OSwKICAgIHVzNXV5bzogMi42NCwKICAgICcxY2pmdmdnJzogMi42NywKICAgICcxM25zdjdrJzogMi43MSwKICAgIGY4c2xqNDogMi43NCwKICAgICc2ZDVsYTgnOiAyLjc4LAogICAgam9tM25rOiAyLjg0LAogICAgeTQwemswOiAyLjg4LAogICAgJzFmdmIwMXMnOiAyLjkxLAogICAgJzE2em56c3cnOiAyLjk1LAogICAgJzFiZmhoeGMnOiAyLjk5LAogICAgJzF2ZW85aGMnOiAzLjA1LAogICAgJzFwYXg3MjgnOiAzLjI1LAogICAgJzFyaXR5NGcnOiAzLjQ1LAogICAgdDQ4YW8wOiAzLjYsCiAgICBpMG9qY3c6IDMuOCwKICAgIHhhMjdlbzogNCwKICAgICcxMXB2cGo0JzogNC4xNSwKICAgICcxZHhkdWRjJzogNC4zNSwKICAgICcxN3Rtcnk4JzogNC41NSwKICAgICcxYTFqajBnJzogNC43NSwKICAgICcxMjl1d2FvJzogNC45NSwKICAgICcxcW92NXo0JzogNS4wNSwKICAgIHVrbzV4YzogNS4yLAogICAgamg0ZW04OiA1LjQsCiAgICB2b21qZ2c6IDUuNiwKICAgICcxMDRnMWt3JzogNS43NSwKICAgICcxZHp2cXBzJzogNS45NSwKICAgICcxaWZwOHU4JzogNi4wNSwKICAgIGsxM2xkczogNi4yLAogICAgemFoOWZrOiA2LjQsCiAgICBvNnhpNGc6IDYuNiwKICAgICcxZnhzd2U4JzogNi43NSwKICAgICcxNHU5NTM0JzogNi45NSwKICAgICcxYzF5bDFjJzogNy4xNSwKICAgICcxMHlldHE4JzogNy4zNSwKICAgICcxZDV3eWtnJzogNy41NSwKICAgIGhlN2c4dzogNy43LAogICAgJzZhbm94cyc6IDcuOSwKICAgICc1Z293c2cnOiA5LjUsCiAgICAnMzVzMDAnOiAxMS41LAogICAgbzM2bmxzOiAxMywKICAgIGpkZGszazogMTUsCiAgICBwOW14aGM6IDE3LAogICAgJzlsOXZjdyc6IDE4LjUsCiAgICBtdXV5Z3c6IDIxLAogICAgcTFxYWRjOiAyNSwKICAgIG5oYzFrdzogMjksCiAgICBvcmo1ejQ6IDMzLAogICAgYnJ4bzh3OiAwLjQyLAogICAgJzFiYWhwOGcnOiAwLjQzLAogICAgJzFrNjRwaGMnOiAwLjQ1LAogICAgJzEyZXVvemsnOiAwLjQ3LAogICAgJzF2OW9nc2cnOiAwLjQ5LAogICAgbXZoZmswOiAwLjUyLAogICAgJzU0N2YyOCc6IDAuNTQsCiAgICByYmF4b2c6IDAuNTYsCiAgICAnOWsweDZvJzogMC41OCwKICAgICcxOTJreTY4JzogMC41OSwKICAgICcxaHk3eWY0JzogMC42MSwKICAgIHlqMGRtbzogMC42NCwKICAgICcxeTFrZW04JzogMC42NSwKICAgICcxZ2FhZTRnJzogMC42NywKICAgICc3dzNjdzAnOiAwLjcsCiAgICAnMTdlbmR2ayc6IDAuNzEsCiAgICBjYnd2MGc6IDAuNzQsCiAgICAnMWJ1Z3cwMCc6IDAuNzUsCiAgICAnMWtxM3c4dyc6IDAuNzcsCiAgICAnMTJ5dHZyNCc6IDAuNzksCiAgICAnMXZ0bm5rMCc6IDAuODEsCiAgICAnMWUyZG4yOCc6IDAuODMsCiAgICAnMW15MG5iNCc6IDAuODUsCiAgICAnNW82bHRzJzogMC44NiwKICAgICcxcmR1NWZrJzogMC44OSwKICAgIGE0MDN5ODogMC45LAogICAgJzE5bWs0eHMnOiAwLjkxLAogICAgJzE4ZDNwYyc6IDAuOTQsCiAgICAnMTBxeDRvdyc6IDAuOTUsCiAgICAnMXd4bTEzNCc6IDAuOTcsCiAgICAnMWY2YzBsYyc6IDAuOTksCiAgICAnMTZhcDBjZyc6IDEuMDMsCiAgICBzejhoejQ6IDEuMDQsCiAgICAnMXNoc2l5byc6IDEuMDUsCiAgICAnMWFxaWlndyc6IDEuMDcsCiAgICAnMWptNWlwcyc6IDEuMDksCiAgICAnMTF1dmk4MCc6IDEuMTEsCiAgICB2NzU5MWM6IDEuMTIsCiAgICBkZnY4ams6IDEuMTQsCiAgICBtYmk4c2c6IDEuMTYsCiAgICAnMWx1MjlzMCc6IDEuMTcsCiAgICAnMTQyczlhOCc6IDEuMTksCiAgICAnMXE5dnJ3Zyc6IDEuMjEsCiAgICAnMThpbHJlbyc6IDEuMjMsCiAgICAnMWhlOHJuayc6IDEuMjUsCiAgICB6bXlyNXM6IDEuMjcsCiAgICAnMXl2ajZyayc6IDEuMjksCiAgICBxaGM1ajQ6IDEuMzIsCiAgICAnMXB6dzZpbyc6IDEuMzMsCiAgICB1eDVubms6IDEuMzYsCiAgICBkNXZuNXM6IDEuMzgsCiAgICBtMWluZW86IDEuNCwKICAgICcxMWt2d3U4JzogMS41OSwKICAgIHBkZHMwMDogMS42NCwKICAgIHR0N2E0ZzogMS42OCwKICAgIGt4azl2azogMS43MiwKICAgIHcxNDE2bzogMS43NiwKICAgIG41aDB4czogMS44LAogICAgJzFtbzExeGMnOiAxLjgxLAogICAgJzFyM3VrMXMnOiAxLjg1LAogICAgJzFpODdqc3cnOiAxLjg5LAogICAgJzF5YmswMDAnOiAxLjkzLAogICAgJzg2Mnk5cyc6IDEuOTgsCiAgICAnMXR2cWh2ayc6IDIuMDEsCiAgICAnMWwwM2htbyc6IDIuMDUsCiAgICB3bDM3eTg6IDIuMDgsCiAgICBucGc3cGM6IDIuMTIsCiAgICAnMTVncTg3NCc6IDIuMTUsCiAgICAnMTl3anFiayc6IDIuMTksCiAgICAnMWljcDM0JzogMi4yMiwKICAgIG90ZWw4ZzogMi4yOCwKICAgIHQ5ODNjdzogMi4zMiwKICAgIGtkbDM0MDogMi4zNiwKICAgIHZoNHVmNDogMi40LAogICAgbWxodTY4OiAyLjQ0LAogICAgJzE0Y3J1bzAnOiAyLjQ3LAogICAgJzE4c2xjc2cnOiAyLjUxLAogICAgend5Y2prOiAyLjU1LAogICAgaGdwY2xjOiAyLjU4LAogICAgJzFwdXdkdHMnOiAyLjYxLAogICAgJzF1YXB2eTgnOiAyLjY1LAogICAgJzFsZjJ2cGMnOiAyLjY5LAogICAgJzF3aW1uMGcnOiAyLjczLAogICAgJzFubXptcmsnOiAyLjc3LAogICAgJzFzMnQ0dzAnOiAyLjgxLAogICAgJzFqNzY0bjQnOiAyLjg1LAogICAgZ2NxejI4OiAyLjksCiAgICAnN2gzeXRjJzogMi45NCwKICAgIGJ3eGd4czogMi45OCwKICAgIHlvMDZiazogMy4yLAogICAgJzEzM3RvZzAnOiAzLjM1LAogICAgJzFmYmJ0YTgnOiAzLjU1LAogICAgJzE0N3MxejQnOiAzLjc1LAogICAgJzFjdGZndTgnOiAzLjk1LAogICAgJzFud3o4NWMnOiA0LjA1LAogICAgJzE2a29scTgnOiAyLjMxLAogICAgJzFzcnM0Y2cnOiAyLjMzLAogICAgJzFiMGkzdW8nOiAyLjM1LAogICAgJzFqdzU0M2snOiAyLjM3LAogICAgJzEyNHYzbHMnOiAyLjM5LAogICAgJzF1em92ZW8nOiAyLjQxLAogICAgZHB1dHhjOiAyLjQyLAogICAgJzFtNDF2NXMnOiAyLjQ1LAogICAgcjFiY2FvOiAyLjQ4LAogICAgJzFxanZkYTgnOiAyLjQ5LAogICAgaTVvYzFzOiAyLjUyLAogICAgJzFobzhkMWMnOiAyLjUzLAogICAgejd6ZDM0OiAyLjU2LAogICAgJzF5cWplMm8nOiAyLjU3LAogICAgcWNjY3U4OiAyLjYsCiAgICAnOGwyY2NnJzogMi42MiwKICAgICcxODNtZGMwJzogMi42MywKICAgIGQwdnVndzogMi42NiwKICAgIGx3aXVwczogMi42OCwKICAgICc0NTh1ODAnOiAyLjcsCiAgICB4MDJtMHc6IDIuNzIsCiAgICAnMWVyY21pbyc6IDIuNzUsCiAgICBvNGZsczA6IDIuNzYsCiAgICAnMTV2cG05cyc6IDIuNzksCiAgICBzazkzd2c6IDIuOCwKICAgIGFzejNlbzogMi44MiwKICAgICcxYWJqNGU4JzogMi44MywKICAgICcxeGMzNXMnOiAyLjg2LAogICAgJzExZnc0NWMnOiAyLjg3LAogICAgJzF4bWwwamsnOiAyLjg5LAogICAgcDhkemI0OiAyLjkyLAogICAgJzFvcXkwYW8nOiAyLjkzLAogICAgdG83aGZrOiAyLjk2LAogICAgJzF0NnJpZjQnOiAyLjk3LAogICAga3NraDZvOiAzLAogICAgJzU5NzdyNCc6IDMuMSwKICAgICcxOTdrcXY0JzogMy4xNSwKICAgIGNnd25wYzogMy4zLAogICAgbmtnZjBnOiAzLjQsCiAgICAnMWRjd2U4JzogMy41LAogICAgJzFqcjViZW8nOiAzLjY1LAogICAgZGt2MThnOiAzLjcsCiAgICAnMXowaXpnZyc6IDMuODUsCiAgICAnOHYxeHE4JzogMy45LAogICAgYjJ5b3NnOiA0LjEsCiAgICBwaWRrb3c6IDQuMiwKICAgICczYmEyMm8nOiA0LjMsCiAgICAnMXRncjNzdyc6IDQuMjUsCiAgICAnMWlkN2Nocyc6IDQuNDUsCiAgICAnMXc4bjFtbyc6IDQuNjUsCiAgICAnMW9neWV3dyc6IDQuODUsCiAgICAnMWdycm9qayc6IDUuMTUsCiAgICAnMTVvN3g4Zyc6IDUuMzUsCiAgICAnNzltOXMwJzogNS41LAogICAgJzloajB1OCc6IDUuNywKICAgICczZHJ5ZjQnOiA1LjksCiAgICAnMXVuN2RvZyc6IDYuMjUsCiAgICAnMXB4ZWE2OCc6IDYuNDUsCiAgICAnMXM1YjE4Zyc6IDYuNjUsCiAgICAnMWtkbWVpbyc6IDYuODUsCiAgICAnODNsMXhjJzogNy4xLAogICAgYWJoc3prOiA3LjMsCiAgICAnMXNwYTgwMCc6IDcuNDUsCiAgICAnMWhscWdvdyc6IDcuNjUsCiAgICAnMXdnNHFvMCc6IDcuODUsCiAgICB5MWozN2s6IDgsCiAgICBlbWJpZjQ6IDguNSwKICAgIGFtcWNqazogMTAuNSwKICAgIHZ6djMwZzogMTIsCiAgICBxdjJsZms6IDE0LAogICAgcnFhYnI0OiA0LjQsCiAgICBoNnByN2s6IDQuNSwKICAgIGxtajljMDogNC42LAogICAgJzYzNXp3Zyc6IDQuNywKICAgIHh1MWU2ODogNC44LAogICAgYm14dmswOiA0LjksCiAgICBtcWhtdjQ6IDUsCiAgICBqZTQ4dzogNS4xLAogICAgJzFsN2w2bzAnOiA1LjI1LAogICAgZjFhd2hzOiA1LjMsCiAgICAnMXhmM2JpOCc6IDUuNDUsCiAgICAnMWI3enN3MCc6IDUuNTUsCiAgICAnMW1iams3NCc6IDUuNjUsCiAgICBwa3ZoMWM6IDUuOCwKICAgICcxdGo5MDVjJzogNS44NSwKICAgIHJzczgzazogNiwKICAgIGZsYTM5YzogNi4xLAogICAgJzRocWJ5OCc6IDYuMywKICAgICcxOGczdjI4JzogNi4zNSwKICAgIGQzZHF0YzogNi41LAogICAgeWY5ajQwOiAxNiwKICAgIHVvZjBnMDogMTgsCiAgICAnMjNrdTB3JzogMTkuNSwKICAgIGk1MXV5bzogMjMsCiAgICB0ZzNiYjQ6IDI2LAogICAgcm41eWJrOiAzMCwKICAgIHU2Yjh4czogMzQsCiAgfSwKfTsKCndlYnNpdGVIb29rRmlsdGVyT3V0QWRVbml0ID0gZnVuY3Rpb24gKGFkVW5pdCkgewogIHJldHVybiBhZFVuaXQuY29kZSA9PT0gJ3RoZXRlY2hnYW1lXzk3MHg5MF83Mjh4OTBfMzIweDUwX1N0aWNreSc7Cn07Cg==")+"\n})")(d.Y,Kr,e,kr)}catch(e){Wr.errorf(null,"failed to pass CustomEvents, websiteConfig, logger and hooks utility functions - %o",e)}}(),Object.entries(di).forEach((function(e){var t=r(e,2),n=t[0],i=t[1];if(ai[n]){var o=ai[n],a=o.hookName,s=o.parseSettingValue,c=o.handler,l=s?s(i):i;a?d.Y.addEventListener(a,(function(e){return c(l,e)})):(c(l),oi.infof(null,"loadSettings: ".concat(n," (no associated hook): Setting applied.")))}else oi.errorf(null,"loadSettings: No setting handler found for %o (setting will not be applied).",n)})),(e=d.Y.fireEvent("amazonBidderConfiguration"))&&e.pubID&&(a.Z.upoSettings.amazonBidderConfiguration.enabled=!0,a.Z.upoSettings.amazonBidderConfiguration=Object.assign(a.Z.upoSettings.amazonBidderConfiguration,e));var n=d.Y.fireEvent("hookDFPEnabledValue");n&&(Kr.dfpEnabled=n);try{Cr=ro(io(Cr))}catch(e){Wr.errorf(null,"init - parsing static spaces - %o",e)}no(),d.Y.fireEvent("shouldDisableUponit")?Wr.noticef(null,"halting: we have been disabled by hooks"):(d.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),d.Y.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),Ur().then((function(){Kr.prebidEnabled=!(!s.Z.find(Cr,(function(e){return e.preBiddingSettings&&e.preBiddingSettings.enabled}))&&!d.Y.fireEvent("scrapePrebidAdUnits"));var e={spaces:Cr,settings:{prebid:d.Y.fireEvent("forcePrebidEnabled")||Kr.prebidEnabled,dfp:Kr.dfpEnabled}};li((function(){d.Y.fireEvent("onDomLoaded"),d.Y.fireEvent("onBeforeRecovery",{spaces:Cr,settings:e.settings}),Or.invoke(e)}))})))}}()})()})();
//# sourceMappingURL=recovery.js.map

})({});
